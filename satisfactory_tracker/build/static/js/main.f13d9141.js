/*! For license information please see main.f13d9141.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},29:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Particle_Accelerator.0f01e9a7ec95a9149182.png"},36:(e,t,n)=>{n(6491),n(2022),n(1698),n(8918),n(262),n(9117),n(8007)},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},172:e=>{const t={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};function n(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}e.exports=AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},useRegExp:{default:!1},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(t)},repetitions:{default:1/0,min:0},timeScale:{default:1},startAt:{default:0}},init:function(){this.model=null,this.mixer=null,this.activeActions=[];const e=this.el.getObject3D("mesh");e?this.load(e):this.el.addEventListener("model-loaded",(e=>{this.load(e.detail.model)}))},load:function(e){const t=this.el;this.model=e,this.mixer=new THREE.AnimationMixer(e),this.mixer.addEventListener("loop",(e=>{t.emit("animation-loop",{action:e.action,loopDelta:e.loopDelta})})),this.mixer.addEventListener("finished",(e=>{t.emit("animation-finished",{action:e.action,direction:e.direction})})),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(e){if(!e)return;const n=this.data,r=AFRAME.utils.diff(n,e);if("clip"in r)return this.stopAction(),void(n.clip&&this.playAction());this.activeActions.forEach((e=>{"duration"in r&&n.duration&&e.setDuration(n.duration),"clampWhenFinished"in r&&(e.clampWhenFinished=n.clampWhenFinished),("loop"in r||"repetitions"in r)&&e.setLoop(t[n.loop],n.repetitions),"timeScale"in r&&e.setEffectiveTimeScale(n.timeScale)}))},stopAction:function(){const e=this.data;for(let t=0;t<this.activeActions.length;t++)e.crossFadeDuration?this.activeActions[t].fadeOut(e.crossFadeDuration):this.activeActions[t].stop();this.activeActions.length=0},playAction:function(){if(!this.mixer)return;const e=this.model,r=this.data,i=e.animations||(e.geometry||{}).animations||[];if(!i.length)return;const o=r.useRegExp?r.clip:(a=r.clip,new RegExp("^"+a.split(/\*+/).map(n).join(".*")+"$"));var a;for(let n,s=0;n=i[s];s++)if(n.name.match(o)){const i=this.mixer.clipAction(n,e);i.enabled=!0,i.clampWhenFinished=r.clampWhenFinished,r.duration&&i.setDuration(r.duration),1!==r.timeScale&&i.setEffectiveTimeScale(r.timeScale),i.startAt(this.mixer.time-r.startAt/1e3),i.setLoop(t[r.loop],r.repetitions).fadeIn(r.crossFadeDuration).play(),this.activeActions.push(i)}},tick:function(e,t){this.mixer&&!isNaN(t)&&this.mixer.update(t/1e3)}})},218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(620)),i=s(n(840)),o=s(n(2322)),a=s(n(3411));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,o.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},224:e=>{var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(s){t=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(o,s,l,c,u){"object"===typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],h=[],p="undefined"!=typeof Buffer;return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),function o(l,f){if(null===l)return null;if(0===f)return l;var m,g;if("object"!=typeof l)return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,r))m=new r((function(e,t){l.then((function(t){e(o(t,f-1))}),(function(e){t(o(e,f-1))}))}));else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):"undefined"==typeof c?(g=Object.getPrototypeOf(l),m=Object.create(g)):(m=Object.create(c),g=c)}if(s){var v=d.indexOf(l);if(-1!=v)return h[v];d.push(l),h.push(m)}for(var y in e(l,t)&&l.forEach((function(e,t){var n=o(t,f-1),r=o(e,f-1);m.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=o(e,f-1);m.add(t)})),l){var b;g&&(b=Object.getOwnPropertyDescriptor(g,y)),b&&null==b.set||(m[y]=o(l[y],f-1))}if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(l);for(y=0;y<A.length;y++){var x=A[y];(!(C=Object.getOwnPropertyDescriptor(l,x))||C.enumerable||u)&&(m[x]=o(l[x],f-1),C.enumerable||Object.defineProperty(m,x,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(l);for(y=0;y<w.length;y++){var C,E=w[y];(C=Object.getOwnPropertyDescriptor(l,E))&&C.enumerable||(m[E]=o(l[E],f-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"===typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"===typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();e.exports&&(e.exports=t)},262:e=>{const t="-controls";e.exports=AFRAME.registerComponent("movement-controls",{dependencies:["rotation"],schema:{enabled:{default:!0},controls:{default:["gamepad","trackpad","keyboard","touch"]},speed:{default:.3,min:0},fly:{default:!1},constrainToNavMesh:{default:!1},camera:{default:"[movement-controls] [camera]",type:"selector"}},init:function(){const e=this.el;this.data.camera||(this.data.camera=e.querySelector("[camera]")),this.velocityCtrl=null,this.velocity=new THREE.Vector3,this.heading=new THREE.Quaternion,this.eventDetail={},this.navGroup=null,this.navNode=null,e.sceneEl.hasLoaded?this.injectControls():e.sceneEl.addEventListener("loaded",this.injectControls.bind(this))},update:function(e){const n=this.el,r=this.data,i=n.sceneEl.systems.nav;if(n.sceneEl.hasLoaded&&this.injectControls(),i&&r.constrainToNavMesh!==e.constrainToNavMesh&&(r.constrainToNavMesh?i.addAgent(this):i.removeAgent(this)),r.enabled!==e.enabled)for(let o=0;o<r.controls.length;o++){const e=r.controls[o]+t;this.el.setAttribute(e,{enabled:this.data.enabled})}},injectControls:function(){const e=this.data;for(let n=0;n<e.controls.length;n++){const r=e.controls[n]+t;this.el.setAttribute(r,{enabled:this.data.enabled})}},updateNavLocation:function(){this.navGroup=null,this.navNode=null},tick:function(){const e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3;return function(r,i){if(!i)return;const o=this.el,a=this.data;if(!a.enabled)return;this.updateVelocityCtrl();const s=this.velocityCtrl,l=this.velocity;if(s)if(i/1e3>.2?l.set(0,0,0):this.updateVelocity(i),a.constrainToNavMesh&&!1!==s.isNavMeshConstrained){if(l.lengthSq()<1e-5)return;e.copy(o.object3D.position),t.copy(l).multiplyScalar(i/1e3).add(e);const r=o.sceneEl.systems.nav;this.navGroup=null===this.navGroup?r.getGroup(e):this.navGroup,this.navNode=this.navNode||r.getNode(e,this.navGroup),this.navNode=r.clampStep(e,t,this.navGroup,this.navNode,n),o.object3D.position.copy(n)}else o.hasAttribute("velocity")?o.setAttribute("velocity",l):(o.object3D.position.x+=l.x*i/1e3,o.object3D.position.y+=l.y*i/1e3,o.object3D.position.z+=l.z*i/1e3)}}(),updateVelocityCtrl:function(){const e=this.data;if(e.enabled){for(let n=0,r=e.controls.length;n<r;n++){const r=this.el.components[e.controls[n]+t];if(r&&r.isVelocityActive())return void(this.velocityCtrl=r)}this.velocityCtrl=null}},updateVelocity:function(){const e=new THREE.Vector2,t=new THREE.Quaternion;return function(n){let r;const i=this.el,o=this.velocityCtrl,a=this.velocity,s=this.data;if(o){if(!o.getVelocityDelta){if(o.getVelocity)return void a.copy(o.getVelocity());if(o.getPositionDelta)return void a.copy(o.getPositionDelta(n).multiplyScalar(1e3/n));throw new Error("Incompatible movement controls: ",o)}r=o.getVelocityDelta(n)}if(i.hasAttribute("velocity")&&!s.constrainToNavMesh&&a.copy(this.el.getAttribute("velocity")),r&&s.enabled){const n=s.camera;t.copy(n.object3D.quaternion),t.premultiply(i.object3D.quaternion),r.applyQuaternion(t);const o=r.length();s.fly?(a.copy(r),a.multiplyScalar(16.66667*this.data.speed)):(e.set(r.x,r.z),e.setLength(o*this.data.speed*16.66667),a.x=e.x,a.y=0,a.z=e.y),0===a.x&&0===a.y&&0===a.z||(this.eventDetail.velocity=a,this.el.emit("moved",this.eventDetail))}}}()})},310:(e,t,n)=>{var r=n(1817),i=n(5990),o=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},344:e=>{"use strict";e.exports=function(){}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},414:e=>{e.exports=AFRAME.registerComponent("sphere-collider",{schema:{enabled:{default:!0},interval:{default:80},objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.prevCheckTime=void 0,this.eventDetail={},this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},play:function(){const e=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(e,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){const e=this.data;let t;t=e.objects?this.el.sceneEl.querySelectorAll(e.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(t)},tick:function(){const e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Box3,o=[],a=new Map;return function(s){if(!this.data.enabled)return;const l=this.prevCheckTime;if(l&&s-l<this.data.interval)return;this.prevCheckTime=s;const c=this.el,u=this.data;let d;var h;c.getObject3D("mesh")&&(o.length=0,a.clear(),c.object3D.getWorldPosition(e),c.object3D.getWorldScale(n),d=u.radius*(h=n,Math.max(h.x,h.y,h.z)),this.els.forEach((function(n){let s,l,c,u;if(!n.isEntity)return;if(l=n.getObject3D("mesh"),!l)return;if(i.setFromObject(l).getSize(r),u=Math.max(r.x,r.y,r.z)/2,s=Math.sqrt(2*u*u),i.getCenter(t),!s)return;c=e.distanceTo(t),c<s+d&&(o.push(n),a.set(n,c))})),o.sort(((e,t)=>a.get(e)>a.get(t)?1:-1)).forEach(this.handleHit),this.collisions.filter((e=>!a.has(e))).forEach(this.handleHitEnd),function(e,t){e.length=0;for(let n=0;n<t.length;n++)e[n]=t[n]}(this.collisions,o))}}(),handleHit:function(e){e.emit("hit"),e.addState(this.data.state),this.eventDetail.el=e,this.el.emit("hit",this.eventDetail)},handleHitEnd:function(e){e.emit("hitend"),e.removeState(this.data.state),this.eventDetail.el=e,this.el.emit("hitend",this.eventDetail)}})},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},449:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},474:(e,t,n)=>{var r=n(3204),i=n(8122),o=n(6571);e.exports=function(e){return o(e)?r(e,!0):i(e)}},510:e=>{function t(e){const t=document.getElementById(e),n=t.parentNode;try{n&&n.removeChild(t)}catch(r){}}function n(e,n,r){return new r((function(r,i){const o=n.timeout||5e3,a="script_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),s=function(e,t){var n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.id=t,n.src=e,n}(e,a),l=setTimeout((function(){i(new Error("Script request to "+e+" timed out")),t(a)}),o),c=function(e){clearTimeout(e)};s.addEventListener("load",(function(e){r({ok:!0}),c(l),t(a)})),s.addEventListener("error",(function(n){i(new Error("Script request to "+e+" failed "+n)),c(l),t(a)})),function(e){const t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(s)}))}e.exports=function(e){return e=e||{},function(t,r){return n(t,r=r||{},e.Promise||Promise)}}},524:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Miner_Mk3.e8f9e36b574221bc060b.png"},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===o||e===u||e===d||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),o=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},690:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAEDmlDQ1BrQ0dDb2xvclNwYWNlR2VuZXJpY1JHQgAAOI2NVV1oHFUUPpu5syskzoPUpqaSDv41lLRsUtGE2uj+ZbNt3CyTbLRBkMns3Z1pJjPj/KRpKT4UQRDBqOCT4P9bwSchaqvtiy2itFCiBIMo+ND6R6HSFwnruTOzu5O4a73L3PnmnO9+595z7t4LkLgsW5beJQIsGq4t5dPis8fmxMQ6dMF90A190C0rjpUqlSYBG+PCv9rt7yDG3tf2t/f/Z+uuUEcBiN2F2Kw4yiLiZQD+FcWyXYAEQfvICddi+AnEO2ycIOISw7UAVxieD/Cyz5mRMohfRSwoqoz+xNuIB+cj9loEB3Pw2448NaitKSLLRck2q5pOI9O9g/t/tkXda8Tbg0+PszB9FN8DuPaXKnKW4YcQn1Xk3HSIry5ps8UQ/2W5aQnxIwBdu7yFcgrxPsRjVXu8HOh0qao30cArp9SZZxDfg3h1wTzKxu5E/LUxX5wKdX5SnAzmDx4A4OIqLbB69yMesE1pKojLjVdoNsfyiPi45hZmAn3uLWdpOtfQOaVmikEs7ovj8hFWpz7EV6mel0L9Xy23FMYlPYZenAx0yDB1/PX6dledmQjikjkXCxqMJS9WtfFCyH9XtSekEF+2dH+P4tzITduTygGfv58a5VCTH5PtXD7EFZiNyUDBhHnsFTBgE0SQIA9pfFtgo6cKGuhooeilaKH41eDs38Ip+f4At1Rq/sjr6NEwQqb/I/DQqsLvaFUjvAx+eWirddAJZnAj1DFJL0mSg/gcIpPkMBkhoyCSJ8lTZIxk0TpKDjXHliJzZPO50dR5ASNSnzeLvIvod0HG/mdkmOC0z8VKnzcQ2M/Yz2vKldduXjp9bleLu0ZWn7vWc+l0JGcaai10yNrUnXLP/8Jf59ewX+c3Wgz+B34Df+vbVrc16zTMVgp9um9bxEfzPU5kPqUtVWxhs6OiWTVW+gIfywB9uXi7CGcGW/zk98k/kmvJ95IfJn/j3uQ+4c5zn3Kfcd+AyF3gLnJfcl9xH3OfR2rUee80a+6vo7EK5mmXUdyfQlrYLTwoZIU9wsPCZEtP6BWGhAlhL3p2N6sTjRdduwbHsG9kq32sgBepc+xurLPW4T9URpYGJ3ym4+8zA05u44QjST8ZIoVtu3qE7fWmdn5LPdqvgcZz8Ww8BWJ8X3w0PhQ/wnCDGd+LvlHs8dRy6bLLDuKMaZ20tZrqisPJ5ONiCq8yKhYM5cCgKOu66Lsc0aYOtZdo5QCwezI4wm9J/v0X23mlZXOfBjj8Jzv3WrY5D+CsA9D7aMs2gGfjve8ArD6mePZSeCfEYt8CONWDw8FXTxrPqx/r9Vt4biXeANh8vV7/+/16ffMD1N8AuKD/A/8leAvFY9bLAAAAOGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAACoAIABAAAAAEAAABBoAMABAAAAAEAAABBAAAAAN9fgnkAABKdSURBVHgBvZt3exRHEod7tavVKq2yEALhXZDAwNmP747gAL7z+fFz/lj6VvbfzgnnDDbhACOCkFBCaMPVWz012zuaXUaA3TDbMx2qq35dobtnlCuPjjVdh9RsplTlGu2tmz3OpTTTRrn2pr4s0T+lSaeinINgkmjO9eSEhwypKYwmZcrlcq6QLIQWFWGuD/FPYkDaBnwZPaMRd4tvEv3j8mw3EWtB42DwoDTtVkFMNKes0JlZJwgneqRRFiKNQGM8PVSDK0v/VKKphVDz2pCs7qSKyXaenySNQrKZPXv5k8SZxd2CxVhJ86bz6p4DhAAcpSumk+vx/ZvaLEnfRvc5bZuNVptcj/Rvto/vH7OZGJTQ1OTEFzrbU4twa6ZbZe3s7n4KVS8eVECIQVIw2gUyKtYehnvykfkgQdDcbsmzc+VHaPgZ0Ac1B1/85/0iUI/MoPoK4bjZEPNpNNzO9kO3U69FjPjxmel8Pq8zVSwWJY/6ReyFatzSDwEhqXEdxTHoWg1wlgV+0pI5uLS6x5WFQ0Hn0aNHrlAouMHBIVcul93wcNkNDJQEnLzLy4XwPai+tH348KHb3Nxy62ur7u69ZbexsSl1+Cd+Iq1I8GzaZXyFYLWpT6KftU+NDlZpeTwI4bBD8ios6iv1zHRdLvJSqaSCk09NTbuhwWE3MjLiSv0lnXWEY/aZTUDY2tp0WwLC1sMxNyCgbWysu7W1dbe6uuJq24DZGzlsoA4mUAeWIop1FsKpkLIuKTc8MuqVYVcfBogGsboQhGD8vmLB1Wo1FZpihBoaHHTT09NufHzcjY2Nud7eXr36+vq0HoEBidTmA6LZpg6t2N7e1nx1ddUtLy+7u3fvClBbfiyhQTJtNqfry2BadEIzL0BPyL/JRCsWS6EHNucTe3woWoeQSAQQVc1GXWexKAJOTE66mZl9bv/+/aLyg2oGGmqFYYRF+G4prKe99aEcs1pZWXG3b992N2/eFO1YVTBE53S+cnljlHGie8uEloKgDLdzoCDERcagIiCqrXlcKzcp5iBEGXt0dNQdPDTnZg8ccGWxeYAzgRg3J7Lbc0iReys3jbB6K+eZOhwsCe24d++egnHjxg33YP2BglEoeLMCE3QMuBnbq4NwL5NoWqPF1PI/uWxWp0KF9oZzmltKgCBtBgYG3IEDs25u7qAbQ/VHx3SgtQdr1knznAHcVuofksKmNPE0okkZFFOjz9ramrtz5467fO2yu3njptvZ2YkItkAIaYn7jQFvledcvr9/cNHULs4jhBSmVmu5EzXjnwCDzeLgnj9+wlWrFdWEcnnYnTv/mpuanHZ//PGHqwUhUDFto9V6iMdNaJ6V0xKh6/W6+phz586pn8E/4GPKI2Xhp66RhDYNZk7NoSEc67Qi0a7kwVdnjuKkXEjKpQkSBgBlTfX6Bw+K+u+fcUNDwxLm8u748ZNufGzazUzPuLmDB119p+ZysuLDFJ4kmYYABo6XVK1W1eEeFPrPPfeclpeHym6+Ou+mJfqof6t7Hv2Ydp+Se7FcvtTfvxjaie8Y/iZMQKpKfSU3f/SoO3LkiMT+QfX2Z8+cdQsLx1xfb8EVe4vC6KSij0c3YUKqWe9NG1hnvPLKK+7kyZM6AUSbiYkJ9RM4S0Invgh/sb6+LmPKxCamP/Go1ZR5ELrOVFiZEwb63ZH5eXf48GHRgCFl4o03/uMqMkO1mrdJGO7r63WTEikQYmlpKavMqe1YY2ACCwsLCriFY1aVU1NTaib379/XSISJYqqr4i8sBBsYLcOIVCCCIV8slRZR793J4waizCRL2F4Z9G8nToofOC4rvR61y3+/8S8RdlrWAH71Bylb/eVl3U+oJBHWCHGAQrJcH7r8sM44e/asO3TokAJuWmX9AXx2dlYBIGKgIUSquvijtfUNmZi6jIVSoNECg9wT9ehvV76v1LeYxoMXXPspRoOy0qtUqu5wtSqzXHTY5D/+8Xd3YPaA6xVV9ECKp42XtlD14LJowoEBBLNIqDMhaJWWcHAssl599VUF0tonQaAceizHMU00gihRGuhXADBHFlER9AqCPdm4AkL/ojcemgVXNPt0IP5Oi9rNL8zrcnff/ll35vRpVXcfu72wwo9f48ea5RdIMAoQmMe1a9eUSYv5xojlJiwagA/Yt29frAGot9VbTj+A4cIUAALB2SkWxT+tra+pj/BAMPuqD8JhS/tFcwXJlAs8vFo3XCFfcKNjMoCsCYZkPf/80QU3IiqHKgJbnISuOqSoIGSUopmZGTcv/oR+NqNxX7mhvQn64osvKmjUW9tOwNGGpTq+Y25uzlUqFZeXMQbEZ42NjfuIIbwV2KFGHAtmQtdf6hgh0pYAQDow+MOth7oQqogjZHZefvlld/To80pQSLR146ENlKAWARGCmYVut6hx/vx5DX/Yd1pKgksbyrgwOzRi59GOW9/Y0O4sqthv1GUtQRvPNbrAnWyltVXyR+qkraScG58Yd7Ni/xDWEh0MBFlbZEvGIK2ZrZdeekmZ/frrr5UA9TCJDzh16pQ6QWY2mWjXLQEumoSm7UikAnTWDizl12U3KjaiZpKkodHB4+Hn1e55guDc3CFlaqB/QFeA1/933RWLJTUHBkny1Z1NPzwC4iNgFmeJIyPmnzlzxlUqFWU+ySjPWUDA8X7++efu4qXfdKYZi7lfffBAzylCupgG/wSE4mKL8dYdIYY4fFzC4fj4mDDG4UdOQw9A9IrTGR+fCCKDJ9+iAJydk5kG6gvYp8XRHpAZM/u3nia45VaelqNN77//vvv5559dTsKz9WFxtyGmsXJ/JaLvTQdNZxYTIdLrAYI0BNGpyQkJiRWHFlCmy19ROcHC3ZK9gXgcXTajDaDtra2lS2mMmpDkXGgAK08WXsZ0Wr/H1SHkRx995K5evaomJ8Q9z0IMh1gTH3H7DiGaBR3StJLII4glLhVJBBweHlaVbTWXGiSWhApfvHjxqVeDIW0DKCzLco9WXblyRTdt5kyNT/qjaex2h+R8w5+dtGvp7o0BvQQAlsc4Q9QV4Iyo5ZgK6L/33nu6t7fByP+qBC/4gC+++MJ99dVXOjE8s9CyRBtAYv1gzp3IR/hXDRbZUkEQTXKDQ4OyNhh1nBaZ8hgA5MwaOeHnnXfecb/88osiDup/VUIbP/nkE/fdd9/pEZyuW5BMkmkVOReTSfTJc/BS5/yTctqJuSgakZg+bgoFoTMmiyHstClCoTwhEDaAgcLO7cMPP9RZqVarapOg/6yTjcf47BSZfUyScsaj3NqkjT0o8rDE39Y9jG8BCD38cNLrT3u92qNO2BDH4SQDwHfzbRjMLhP4woULjtjPAamVWZ9nkZuwDyTcMdalS5dU+xCeCy0kT0uU9/f3iyb06kKKM0h/DolHTCTUhKsgqzVUR1OkYommbY8wiHr+9NNPGqKwzWedEAQN+Oyzz1QDENrAtgkhT0uUl/r6dQsAn2ESEDACVB4U5X2BaEG9WZfNhxyR6+4wbN5+bwNbKQzR/8cff9RFEPWdZsb6ZMltHID99ddfNQxCl3KS1XejRRsOXvKyD0LmMPXEfkBKOTNghdXYqesGRM/x04ENabTd65JVkCZq/P77788EBAbgLOLbb79VJwgAjEMyANJybRD8aBs9lkco1or+X9s6QdtLfUxwlzcIKHa4pS+JfT1Mw/zTJmiy4cIJYgKE56fVMD1YIUwqAgkOMQlFWdDW1K45ida7H01N2S1yIMKG6VkktuEsrXHYmFwIAvd22VhhfVzmZP2gcolQ5NG1O0TKC4oecYh1ObHlws5RmqyJ9hx3wbCd/6UxlJUe7ax/tVrV4zOWx7x9sp2mvOiOk4a7oE9cITcNAa/BslmBkPUMOMg/FCJuF94T+5NeNG6YuDEmKeZMkRMhzh6SM5bo9kSPHOuhYaxhSIwdjt+NKKbEBXhxHwGix9YIlkeUdX+/lzCH3WJGJ06c0PM+6DDgn5EA+qgc+cNfFh4NKFa3tDcQrFy+T9jNKNqyubmpix5s0JxdN4EwgzfffFPPCRCePln6daPZqQ4hOH5js8SiqSYM4+jCSBf2tVlHuwHBeLNyv1gCB7ui3ixK2J9nEQRm3nrrLT0PMDsNmeh2H9I3prq1tzrGfOGFF9zrr78ui6CinhiF5mztyJkgEitZohXP4ViF5GeJgNErak2Iw/ng5QlJaQn1xzZhhJPkJ1F/mAEIY8qe08YLy6wdZxG8drzw5Zf6MYcdyoU0uWdSeXkbjmP00s8YpRaBeJmBNqSBgDs9JO8i/3n6lPoAI26E95rDqDFutHjOko5UD7uC7HPYUGH38G406M89ILDnSEu79g7WCZXhrS+dSTCktu4buGqlqi9fOKggCpgWmDDaqcsPjDEGdvrDDz/EW+EuXdqqQoC456idqIE5Jp0lz4CDZqelVBCsIYcmXIRKmG6KsHW5R/Bjx45pnnGyjGScG6jff/+9++CDD9ytW7e0zuw3FDLu1OUG4TFde69h4Rm+4R8twCekpbyo+mJaBcxACGY4Ge6VQVhcDMmR22uvyasxWcGxqCJJcZyyMg9jnAgBAr4FEGCY94g4Pe6fJNk7S+wfumgoGs3GC3nSUl5OXBbTKsyuCJUsfHj7VC6PuLff/q8crs5iH3E37uwiVHVLMIKJffrpp7rbtLaYBW+vAZEZ3WuUMTqAh5PmOM2+a+LVH1cnmh1BAEW0QTdAQpgoMCCHEhCfnJiUOvPDNrzPEaIbDJgXp1BX5GCUtjBGzlgIQDlAATw8ULeXBA3GYDvPposvZrhH8/YMgqkjqrki4RI/UJaD1zu3l9wjITg9PRUzqYJHzHZjGg3gPBLVN5UP+zImYMA4TDOjetC7BxQI7R9//LGCyT3mxgsexuvEW0dNsHFhTNGVt7sDgwNudGTULd9f1iOqKWGyWJTT6MArpA3EjBJu3333XbVPC7lJABiTMmbs+vXrGjmwcfp3SwBHIgJwjoEZENovX76sF0BC0yY2SatrdLDGLJ42hOjSrSVVtdpOTZm8du26qq4BZe2TOV6ZE2EcFFtrmDawOvWlHUJwMIN5hH2MvoEIDQBg1jEBEiaBJtCPqxMAtH2sJjAQn97yCd6mCMPXJ5zaYql8K1SUI6sxOZrnLN8Eg7AOKn1xrN98842uBUwDqH9cMuYxDWbRvk+yftC38RgDkDn2B3DCIQCiTdaGfuG90SF/LAjaWAYUCq4ue3FedwPKsHwZwgzdvntH6wijJBuIAEdb3gvAULeZ0I4dfohSFjU4n7BZBRjGQmhewBIC8SNMDBoBACTjpwN5Lc4GgjTNy4CY/s4On9be11UZYZOdG/YOICPyPaHN9rKoIuuA336Tt8PRrGVhKI1ZVnx8uQodogZOjqjFuIBM+AMMngEA7aEtgGVJmUGAGAexAGEasLGxLs6ST/h6xP6Wpbyhb3nsvcBlCXc2Y1mYSWsTahBRxdYtLIE5YcIHYP8IDgBEAhLjkkLgQ1paGf3k5KUrmvvYFEdrttwBwJPyVvnowoLbJytIPujm9foj+YOOJVmxcVCTnI1OjHRjwPqQYx4cqjARaAdRAE24IoD77xn92sLG/XNAiLhlZdjgDBKnNT6q3xjOCHO2yGpKfchANyGz1BkQCA9dZhptwAT4HgGNoAyQqLexLU+OYfQoz6wJSSLhMwOxkuREuFKp+BefwhCzYctv2tvsWF8YSWOSck689M2xxCFOwEm0Rbv4Hgnhr4oG3F66oyYS0rS2Vva4PCff/6WaQ4iUEUljmDoTBiGJ70QKDkQtrNGPWeJSAUUQEuVpNClrNOQYTI6BpYM44bo45Jrb3NpwqyurYvdLsua4p8I3GtCKjVXp7vWnIwh7JQQAMI+6knj5yQeWeHMuvg0gctAGMGgfaoaBTk45nws9kki0LV4fVb8nfw+1unpfnOCWrCRbW2LwVIedkWEbJ2yeE+Z2aUJaQzqlzRrltKeOC/W3MoSljHo0BM0ADDZj+oY4AsP6EgrZTdqCB0+P3UMTYCyHvtHVwZ7yJxUEoxkOZIJaXbectlwkaJAQgI8jauJMG432t8LaQFTa2vLMUp0XqHxPzTcS+AJMA83HRRCtfdo1h1aROe++MwnIhAwGxXob/71RXIFA8qAOjRu/VZbJlFf+NGLT5ZOHCKF8O5WSxYheRCAk5r9olHw5FvlI6y45/bIDYZMTEOj8t9LhbIYddt3LUa8JEtYpW9F0teqlbTyDYWsKTRDLqSdKBFXcR+3awHjSvypRejIxacgw691mPurrs0jd28rkoSV4sibtWU6H21Q86K2mldanVZaZV+mSJm+qOaQ1bA3ZfgcG/Onv0yU/+9DxmmLPoVbYCGljpbWz9u15GmD/Bxv3XiCVVK7WAAAAAElFTkSuQmCC"},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},727:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Lift_Mk4.159b3cb74ef4a6f55956.png"},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},840:(e,t,n)=>{var r=n(4664),i=n(5111);e.exports=function(e,t){return e&&r(e,i(t))}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},916:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Manufacturer.2b37b881f049651e3b25.png"},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1104:(e,t,n)=>{var r=n(6614),i=n(8673);e.exports=function(e,t){return e&&r(t,i(t),e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},1295:(e,t,n)=>{var r=n(9812),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1390:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/AWESOME_Sink.876ef9eb8eca63afe89e.png"},1437:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Pipeline_Mk1.be8fd589a5611680a6a8.png"},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1502:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Lift_Mk5.5434392369db69812845.png"},1509:(e,t,n)=>{"use strict";var r=o(n(3662)),i=o(n(9019));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={TransitionGroup:i.default,CSSTransitionGroup:r.default}},1516:(e,t,n)=>{var r=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1575:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Water_Extractor.4b3038488e39def11b81.png"},1587:e=>{e.exports=AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0},updateNavLocation:function(){this.group=null,this.path=[]},tick:function(){const e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3;return function(r,i){const o=this.el,a=this.data,s=this.raycaster,l=a.speed*i/1e3;if(!a.active)return;if(!this.path.length){const t=this.el.object3D.position;this.group=this.group||this.system.getGroup(t),this.path=this.system.getPath(t,e.copy(a.destination),this.group)||[],o.emit("navigation-start")}if(!this.path.length)return console.warn("[nav] Unable to find path to %o.",a.destination),this.el.setAttribute("nav-agent",{active:!1}),void o.emit("navigation-end");const c=o.object3D.position,u=this.path[0];t.subVectors(u,c);let d;if(t.length()<l){if(this.path.shift(),!this.path.length)return this.el.setAttribute("nav-agent",{active:!1}),void o.emit("navigation-end");n.copy(c),d=this.path[0]}else n.copy(t.setLength(l)).add(c),d=u;d.y=c.y,o.object3D.lookAt(d),s.ray.origin.copy(n),s.ray.origin.y+=1.5,s.ray.direction={x:0,y:-1,z:0};const h=s.intersectObject(this.system.getNavMesh());h.length?(t.subVectors(h[0].point,c),c.add(t.setLength(l))):c.copy(n)}}()})},1592:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Belt_Mk4.ec9589aae02703c7a445.png"},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1656:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Smart_Splitter.b7e0456e49b69be960d1.png"},1698:(e,t,n)=>{n(1742);const r=window.KeyboardEvent;e.exports=AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3,this.localKeys={},this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this),onContextMenu:this.onContextMenu.bind(this)}},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){const e=this.data,t=this.getKeys();return this.dVelocity.set(0,0,0),e.enabled&&((t.KeyW||t.ArrowUp)&&(this.dVelocity.z-=1),(t.KeyA||t.ArrowLeft)&&(this.dVelocity.x-=1),(t.KeyS||t.ArrowDown)&&(this.dVelocity.z+=1),(t.KeyD||t.ArrowRight)&&(this.dVelocity.x+=1),t.ShiftLeft&&(this.dVelocity=this.dVelocity.multiplyScalar(2))),this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},attachEventListeners:function(){window.addEventListener("contextmenu",this.listeners.onContextMenu,!1),window.addEventListener("keydown",this.listeners.keydown,!1),window.addEventListener("keyup",this.listeners.keyup,!1),window.addEventListener("blur",this.listeners.blur,!1)},onContextMenu:function(){for(const e in this.localKeys)this.localKeys.hasOwnProperty(e)&&delete this.localKeys[e]},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown),window.removeEventListener("keyup",this.listeners.keyup),window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&&(this.localKeys[e.code]=!0,this.emit(e))},onKeyUp:function(e){AFRAME.utils.shouldCaptureKeyEvent(e)&&(delete this.localKeys[e.code],this.emit(e))},onBlur:function(){for(const e in this.localKeys)this.localKeys.hasOwnProperty(e)&&delete this.localKeys[e]},emit:function(e){"__keyboard-controls-proxy"in e&&this.el.emit(e.type,e),this.el.emit(e.type+":"+e.code,new r(e.type,e)),this.data.debug&&console.log(e.type+":"+e.code)},isPressed:function(e){return e in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){const e=this.el.sceneEl.components["proxy-controls"];return e&&e.isConnected()}})},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1742:()=>{!function(e){var t="KeyboardEvent"in e;t||(e.KeyboardEvent=function(){throw TypeError("Illegal constructor")}),"DOM_KEY_LOCATION_STANDARD"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0),"DOM_KEY_LOCATION_LEFT"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_LEFT=1),"DOM_KEY_LOCATION_RIGHT"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_RIGHT=2),"DOM_KEY_LOCATION_NUMPAD"in e.KeyboardEvent||(e.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD=3);var n=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,r=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,i=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,o=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function a(e,t){return-1!==String(e).indexOf(t)}var s=a(navigator.platform,"Win")?"win":a(navigator.platform,"Mac")?"mac":a(navigator.platform,"CrOS")?"cros":a(navigator.platform,"Linux")?"linux":a(navigator.userAgent,"iPad")||a(navigator.platform,"iPod")||a(navigator.platform,"iPhone")?"ios":"",l=a(navigator.userAgent,"Chrome/")?"chrome":a(navigator.vendor,"Apple")?"safari":a(navigator.userAgent,"MSIE")?"ie":a(navigator.userAgent,"Gecko/")?"moz":a(navigator.userAgent,"Opera/")?"opera":"",c=l+"-"+s;function u(e,t,n){c!==t&&l!==t&&s!==t||Object.keys(n).forEach((function(t){e[t]=n[t]}))}var d={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"HangulMode"},23:{code:"JunjaMode"},24:{code:"FinalMode"},25:{code:"KanjiMode"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"OSLeft",location:r},92:{code:"OSRight",location:i},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:o},97:{code:"Numpad1",keyCap:"1",location:o},98:{code:"Numpad2",keyCap:"2",location:o},99:{code:"Numpad3",keyCap:"3",location:o},100:{code:"Numpad4",keyCap:"4",location:o},101:{code:"Numpad5",keyCap:"5",location:o},102:{code:"Numpad6",keyCap:"6",location:o},103:{code:"Numpad7",keyCap:"7",location:o},104:{code:"Numpad8",keyCap:"8",location:o},105:{code:"Numpad9",keyCap:"9",location:o},106:{code:"NumpadMultiply",keyCap:"*",location:o},107:{code:"NumpadAdd",keyCap:"+",location:o},108:{code:"NumpadComma",keyCap:",",location:o},109:{code:"NumpadSubtract",keyCap:"-",location:o},110:{code:"NumpadDecimal",keyCap:".",location:o},111:{code:"NumpadDivide",keyCap:"/",location:o},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:o},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:r},161:{code:"ShiftRight",location:i},162:{code:"ControlLeft",location:r},163:{code:"ControlRight",location:i},164:{code:"AltLeft",location:r},165:{code:"AltRight",location:i},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"VolumeMute"},174:{code:"VolumeDown"},175:{code:"VolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};u(d,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:o},189:{code:"NumpadSubtract",keyCap:"-",location:o}}),u(d,"moz-mac",{12:{code:"NumLock",location:o},173:{code:"Minus",keyCap:"-"}}),u(d,"moz-win",{173:{code:"Minus",keyCap:"-"}}),u(d,"chrome-mac",{93:{code:"OSRight",location:i}}),u(d,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),u(d,"ios",{10:{code:"Enter",location:n}}),u(d,"safari-mac",{91:{code:"OSLeft",location:r},93:{code:"OSRight",location:i},229:{code:"KeyQ",keyCap:"Q"}});var h={};"cros"===s&&(h["U+00A0"]={code:"ShiftLeft",location:r},h["U+00A1"]={code:"ShiftRight",location:i},h["U+00A2"]={code:"ControlLeft",location:r},h["U+00A3"]={code:"ControlRight",location:i},h["U+00A4"]={code:"AltLeft",location:r},h["U+00A5"]={code:"AltRight",location:i}),"chrome-mac"===c&&(h["U+0010"]={code:"ContextMenu"}),"safari-mac"===c&&(h["U+0010"]={code:"ContextMenu"}),"ios"===s&&(h["U+0010"]={code:"Function"},h["U+001C"]={code:"ArrowLeft"},h["U+001D"]={code:"ArrowRight"},h["U+001E"]={code:"ArrowUp"},h["U+001F"]={code:"ArrowDown"},h["U+0001"]={code:"Home"},h["U+0004"]={code:"End"},h["U+000B"]={code:"PageUp"},h["U+000C"]={code:"PageDown"});var p=[];p[r]={16:{code:"ShiftLeft",location:r},17:{code:"ControlLeft",location:r},18:{code:"AltLeft",location:r}},p[i]={16:{code:"ShiftRight",location:i},17:{code:"ControlRight",location:i},18:{code:"AltRight",location:i}},p[o]={13:{code:"NumpadEnter",location:o}},u(p[o],"moz",{109:{code:"NumpadSubtract",location:o},107:{code:"NumpadAdd",location:o}}),u(p[r],"moz-mac",{224:{code:"OSLeft",location:r}}),u(p[i],"moz-mac",{224:{code:"OSRight",location:i}}),u(p[i],"moz-win",{91:{code:"OSRight",location:i}}),u(p[i],"mac",{93:{code:"OSRight",location:i}}),u(p[o],"chrome-mac",{12:{code:"NumLock",location:o}}),u(p[o],"safari-mac",{12:{code:"NumLock",location:o},187:{code:"NumpadAdd",location:o},189:{code:"NumpadSubtract",location:o},190:{code:"NumpadDecimal",location:o},191:{code:"NumpadDivide",location:o}});var f={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},OSLeft:{key:"OS"},OSRight:{key:"OS"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};u(f,"mac",{OSLeft:{key:"Meta"},OSRight:{key:"Meta"}});var m={Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},g=function(e,t){var n={};return Object.keys(e).forEach((function(r){var i=e[r];t in i&&(n[i[t]]=i)})),n}(d,"code");try{var v=t&&"location"in new KeyboardEvent("")}catch(b){}function y(e){var t="keyCode"in e?e.keyCode:"which"in e?e.which:0,n=function(){if(v||"keyLocation"in e){var n=v?e.location:e.keyLocation;if(n&&t in p[n])return p[n][t]}return"keyIdentifier"in e&&e.keyIdentifier in h?h[e.keyIdentifier]:t in d?d[t]:null}();if(!n)return null;var r=function(){var t=f[n.code];return t?e.shiftKey&&"shiftKey"in t?t.shiftKey:t.key:n.code}();return{code:n.code,key:r,location:n.location,keyCap:n.keyCap}}"KeyboardEvent"in e&&"defineProperty"in Object&&function(){function e(e,t,n){t in e||Object.defineProperty(e,t,n)}if(e(KeyboardEvent.prototype,"code",{get:function(){var e=y(this);return e?e.code:""}}),"key"in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var e=t.get.call(this);return m.hasOwnProperty(e)?m[e]:e}})}e(KeyboardEvent.prototype,"key",{get:function(){var e=y(this);return e&&"key"in e?e.key:"Unidentified"}}),e(KeyboardEvent.prototype,"location",{get:function(){var e=y(this);return e&&"location"in e?e.location:n}}),e(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in e.KeyboardEvent||(e.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!g.hasOwnProperty(e))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var n=g[e];return n.keyCap||n.code||"Undefined"}),e.identifyKey=function(e){if(!("code"in e)){var t=y(e);e.code=t?t.code:"",e.key=t&&"key"in t?t.key:"Unidentified",e.location="location"in e?e.location:"keyLocation"in e?e.keyLocation:t&&"location"in t?t.location:n,e.locale=""}}}(window)},1750:e=>{e.exports.Primitive=AFRAME.registerPrimitive("a-tube",{defaultComponents:{tube:{}},mappings:{path:"tube.path",segments:"tube.segments",radius:"tube.radius","radial-segments":"tube.radialSegments",closed:"tube.closed"}}),e.exports.Component=AFRAME.registerComponent("tube",{schema:{path:{default:[]},segments:{default:64},radius:{default:1},radialSegments:{default:8},closed:{default:!1}},init:function(){const e=this.el,t=this.data;let n=e.components.material;if(!t.path.length)return void console.error("[a-tube] `path` property expected but not found.");const r=new THREE.CatmullRomCurve3(t.path.map((function(e){return e=e.split(" "),new THREE.Vector3(Number(e[0]),Number(e[1]),Number(e[2]))}))),i=new THREE.TubeGeometry(r,t.segments,t.radius,t.radialSegments,t.closed);n||(n={},n.material=new THREE.MeshPhongMaterial),this.mesh=new THREE.Mesh(i,n.material),this.el.setObject3D("mesh",this.mesh)},update:function(e){Object.keys(e).length&&(this.remove(),this.init())},remove:function(){this.mesh&&this.el.removeObject3D("mesh")}})},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1817:(e,t,n)=>{var r=n(6686),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1933:(e,t,n)=>{"use strict";var r=n(4994);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var i,o,a,s,l,c,u,d,h,p,f,m=r(n(4428)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=o,t.transitionDelay=u,t.transitionTiming=c,t.transitionDuration=l,t.transitionProperty=s,t.animationDelay=f,t.animationTiming=p,t.animationDuration=h,t.animationName=d,m.default){var v=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},i=Object.keys(r),o="",a=0;a<i.length;a++){var s=i[a];if(s+"TransitionProperty"in n){o="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:o}}();i=v.prefix,t.transitionEnd=o=v.transitionEnd,t.animationEnd=a=v.animationEnd,t.transform=g=i+"-"+g,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=l=i+"-transition-duration",t.transitionDelay=u=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=d=i+"-animation-name",t.animationDuration=h=i+"-animation-duration",t.animationTiming=p=i+"-animation-delay",t.animationDelay=f=i+"-animation-timing-function"}var y={transform:g,end:o,property:s,timing:c,delay:u,duration:l};t.default=y},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1971:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Constructor.a3d34d3957d36718770c.png"},1980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2022:(e,t,n)=>{const r=n(5591),i=n(9823),o=.2,a="left",s="right",l=1,c=2;e.exports=AFRAME.registerComponent("gamepad-controls",{GamepadButton:r,schema:{enabled:{default:!0},rotationSensitivity:{default:2}},init:function(){const e=this.el.sceneEl;this.system=e.systems["tracked-controls"]||e.systems["tracked-controls-webxr"]||{controllers:[]},this.prevTime=window.performance.now(),this.buttons={};const t=this.el.object3D.rotation;this.pitch=new THREE.Object3D,this.pitch.rotation.x=t.x,this.yaw=new THREE.Object3D,this.yaw.position.y=10,this.yaw.rotation.y=t.y,this.yaw.add(this.pitch),this._lookVector=new THREE.Vector2,this._moveVector=new THREE.Vector2,this._dpadVector=new THREE.Vector2,e.addBehavior(this)},update:function(){this.tick()},tick:function(e,t){this.updateButtonState(),this.updateRotation(t)},remove:function(){},isVelocityActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const e=this._dpadVector,t=this._moveVector;this.getDpad(e),this.getJoystick(l,t);const n=e.x||t.x,r=e.y||t.y;return Math.abs(n)>o||Math.abs(r)>o},getVelocityDelta:function(){const e=this._dpadVector,t=this._moveVector;this.getDpad(e),this.getJoystick(l,t);const n=e.x||t.x,r=e.y||t.y,i=new THREE.Vector3;return Math.abs(n)>o&&(i.x+=n),Math.abs(r)>o&&(i.z+=r),i},isRotationActive:function(){if(!this.data.enabled||!this.isConnected())return!1;const e=this._lookVector;return this.getJoystick(c,e),Math.abs(e.x)>o||Math.abs(e.y)>o},updateRotation:function(e){if(!this.isRotationActive())return;const t=this.data,n=this.yaw,r=this.pitch;n.rotation.y=this.el.object3D.rotation.y,r.rotation.x=this.el.object3D.rotation.x;const i=this._lookVector;this.getJoystick(c,i),Math.abs(i.x)<=o&&(i.x=0),Math.abs(i.y)<=o&&(i.y=0),i.multiplyScalar(t.rotationSensitivity*e/1e3),n.rotation.y-=i.x,r.rotation.x-=i.y,r.rotation.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,r.rotation.x)),this.el.object3D.rotation.set(r.rotation.x,n.rotation.y,0)},updateButtonState:function(){const e=this.getGamepad(s);if(this.data.enabled&&e)for(var t=0;t<e.buttons.length;t++)e.buttons[t].pressed&&!this.buttons[t]?this.emit(new i("gamepadbuttondown",t,e.buttons[t])):!e.buttons[t].pressed&&this.buttons[t]&&this.emit(new i("gamepadbuttonup",t,e.buttons[t])),this.buttons[t]=e.buttons[t].pressed;else for(const n in this.buttons)this.buttons[n]=!1},emit:function(e){this.el.emit(e.type,e),this.el.emit(e.type+":"+e.index,new i(e.type,e.index,e))},getGamepad:function(){const e=[],t=[];return function(n){const r=this.el.sceneEl.components["proxy-controls"],i=r&&r.isConnected()&&r.getGamepad(0);if(i)return i;e.length=0;for(let t=0;t<this.system.controllers.length;t++){const r=this.system.controllers[t],i=r?r.gamepad:null;if(e.push(i),i&&r.handedness===n)return i}const o=navigator.getGamepads?navigator.getGamepads():t;for(let e=0;e<o.length;e++){const t=o[e];if(t&&t.hand===n)return t}return e[0]||o[0]}}(),getButton:function(e){return this.getGamepad(s).buttons[e]},getAxis:function(e){return this.getGamepad(e>1?s:a).axes[e]},getJoystick:function(e,t){const n=this.getGamepad(e===l?a:s);if(!n)return t.set(0,0);if("xr-standard"===n.mapping)switch(e){case l:return t.set(n.axes[2],n.axes[3]);case c:return t.set(n.axes[2],0)}else switch(e){case l:return t.set(n.axes[0],n.axes[1]);case c:return t.set(n.axes[2],n.axes[3])}throw new Error('Unexpected joystick index "%d".',e)},getDpad:function(e){const t=this.getGamepad(a);return t&&t.buttons[r.DPAD_RIGHT]?e.set((t.buttons[r.DPAD_RIGHT].pressed?1:0)+(t.buttons[r.DPAD_LEFT].pressed?-1:0),(t.buttons[r.DPAD_UP].pressed?-1:0)+(t.buttons[r.DPAD_DOWN].pressed?1:0)):e.set(0,0)},isConnected:function(){const e=this.getGamepad(a);return!(!e||!e.connected)},getID:function(){return this.getGamepad(a).id}})},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2141:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Packager.272dd309676441b64d9a.png"},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2206:(e,t,n)=>{n(3078),n(9760),n(3886),n(8649),n(414)},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(o));var p=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2647:(e,t,n)=>{"use strict";var r=n(4994);t.__esModule=!0,t.default=void 0;var i,o=r(n(4428)),a="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o.default&&["","webkit","moz","o","ms"].some((function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),s=function(e){return window[t](e)}}));var c=(new Date).getTime();(i=function(e){return s(e)}).cancel=function(e){window[a]&&"function"===typeof window[a]&&window[a](e)};var u=i;t.default=u,e.exports=t.default},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,N=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case w:return"Portal";case S:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ce=null,Ee=null;function Se(e){if(e=bi(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function _e(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function Me(){if(Ce){var e=Ce,t=Ee;if(Ee=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Te(){}var Re=!1;function ke(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Ce||null!==Ee)&&(Te(),Me())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Be=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Ne=null,Fe=!1,je=null,Ue={onError:function(e){De=!0,Ne=e}};function ze(e,t,n,r,i,o,a,s,l){De=!1,Ne=null,Le.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(o(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function At(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,Ct,Et,St,_t=!1,Mt=[],It=null,Tt=null,Rt=null,kt=new Map,Pt=new Map,Bt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ae=r,n.target.dispatchEvent(r),Ae=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){_t=!1,null!==It&&Ft(It)&&(It=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Rt&&Ft(Rt)&&(Rt=null),kt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return zt(t,e)}if(0<Mt.length){zt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Tt&&zt(Tt,e),null!==Rt&&zt(Rt,e),kt.forEach(t),Pt.forEach(t),n=0;n<Bt.length;n++)(r=Bt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&null===(n=Bt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Bt.shift()}var Vt=A.ReactCurrentBatchConfig,Gt=!0;function Qt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function qt(e,t,n,r){if(Gt){var i=Xt(e,t,n,r);if(null===i)Gr(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Dt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return Rt=Dt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return kt.set(o,Dt(kt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Dt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&Gr(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var $t=null;function Xt(e,t,n,r){if($t=null,null!==(e=yi(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=N({},cn,{view:0,detail:0}),hn=on(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(N({},pn,{dataTransfer:0})),gn=on(N({},dn,{relatedTarget:0})),vn=on(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),An=on(N({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return En}var _n=N({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=on(_n),In=on(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=on(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(kn),Bn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,Nn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Qn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function $n(e){Fr(e,0)}function Xn(e){if(q(Ai(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Xn(qn)){var t=[];Qn(t,qn,e,xe(e)),ke($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(qn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function Ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},Er={};function Sr(e){if(Cr[e])return Cr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Cr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Sr("animationend"),Mr=Sr("animationiteration"),Ir=Sr("animationstart"),Tr=Sr("transitionend"),Rr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Br=0;Br<kr.length;Br++){var Or=kr[Br];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Mr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Ne;De=!1,Ne=null,Fe||(Fe=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var i=Qt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}ke((function(){var r=o,i=xe(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case _r:case Mr:case Ir:l=vn;break;case Tr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Qr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ae||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:Ai(l),p=null==c?s:Ai(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=qr(p))f++;for(p=0,m=h;m;m=qr(m))p++;for(;0<f-p;)u=qr(u),f--;for(;0<p-f;)h=qr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==l&&$r(a,s,l,u,!1),null!==c&&null!==d&&$r(a,d,c,u,!0)}if("select"===(l=(s=r?Ai(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Gn(s))if(Yn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Qn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Ai(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Ar(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Ar(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Hn=!0)),0<(v=Wr(r,b)).length&&(b=new An(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=Jt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new An("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Qr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Qr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Qr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ai(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var wi=[],Ci=-1;function Ei(e){return{current:e}}function Si(e){0>Ci||(e.current=wi[Ci],wi[Ci]=null,Ci--)}function _i(e,t){Ci++,wi[Ci]=e.current,e.current=t}var Mi={},Ii=Ei(Mi),Ti=Ei(!1),Ri=Mi;function ki(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bi(){Si(Ti),Si(Ii)}function Oi(e,t,n){if(Ii.current!==Mi)throw Error(o(168));_i(Ii,t),_i(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return N({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ri=Ii.current,_i(Ii,e),_i(Ti,Ti.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Ii),_i(Ii,e)):Si(Ti),_i(Ti,n)}var Fi=null,ji=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Ze,Hi),i}finally{bt=t,Ui=!1}}return null}var Vi=[],Gi=0,Qi=null,Wi=0,qi=[],$i=0,Xi=null,Ki=1,Yi="";function Ji(e,t){Vi[Gi++]=Wi,Vi[Gi++]=Qi,Qi=e,Wi=t}function Zi(e,t,n){qi[$i++]=Ki,qi[$i++]=Yi,qi[$i++]=Xi,Xi=e;var r=Ki;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Ki=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Qi;)Qi=Vi[--Gi],Vi[Gi]=null,Wi=Vi[--Gi],Vi[Gi]=null;for(;e===Xi;)Xi=qi[--$i],qi[$i]=null,Yi=qi[--$i],qi[$i]=null,Ki=qi[--$i],qi[$i]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Ki,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=A.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function Ao(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=vo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===C?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Nc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=Ao(!0),wo=Ao(!1),Co=Ei(null),Eo=null,So=null,_o=null;function Mo(){_o=So=Eo=null}function Io(e){var t=Co.current;Si(Co),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){Eo=e,_o=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===Eo)throw Error(o(308));So=e,Eo.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Po=null;function Bo(e){null===Po?Po=[e]:Po.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Bo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Bo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=N({},d,h);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Qo={},Wo=Ei(Qo),qo=Ei(Qo),$o=Ei(Qo);function Xo(e){if(e===Qo)throw Error(o(174));return e}function Ko(e,t){switch(_i($o,t),_i(qo,e),_i(Wo,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Wo),_i(Wo,t)}function Yo(){Si(Wo),Si(qo),Si($o)}function Jo(e){Xo($o.current);var t=Xo(Wo.current),n=le(t,e.type);t!==n&&(_i(qo,e),_i(Wo,n))}function Zo(e){qo.current===e&&(Si(Wo),Si(qo))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=A.ReactCurrentDispatcher,oa=A.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Za:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function va(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function Aa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Ea(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Da(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,ka(9,_a.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&aa)||Sa(n,t,i)}return i}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Ia(t)&&Ta(e)}function Ma(e,t,n){return n((function(){Ia(t)&&Ta(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ta(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function Ra(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=$a.bind(null,sa,e),[t.memoizedState,e]}function ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ba().memoizedState}function Ba(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=ka(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=ka(t,n,o,r))}sa.flags|=e,i.memoizedState=ka(1|t,n,o,r)}function La(e,t){return Ba(8390656,8,e,t)}function Da(e,t){return Oa(2048,8,e,t)}function Na(e,t){return Oa(4,2,e,t)}function Fa(e,t){return Oa(4,4,e,t)}function ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,ja.bind(null,t,e),n)}function za(){}function Ha(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function Wa(){return ba().memoizedState}function qa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Ka(t,n);else if(null!==(n=Oo(e,t,n,r))){nc(n,e,r,ec()),Ya(n,t,r)}}function $a(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ka(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Bo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oo(e,t,i,r))&&(nc(n,e,r,i=ec()),Ya(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:ko,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Za={readContext:ko,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Ra,useDebugValue:za,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Qa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));0!==(30&aa)||Sa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Ma.bind(null,r,a,e),[e]),r.flags|=2048,ka(9,_a.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Tl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Ki&~(1<<32-at(Ki)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:ko,useCallback:Ha,useContext:ko,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Na,useLayoutEffect:Fa,useMemo:Va,useReducer:xa,useRef:Pa,useState:function(){return xa(Aa)},useDebugValue:za,useDeferredValue:function(e){return Ga(ba(),la.memoizedState,e)},useTransition:function(){return[xa(Aa)[0],ba().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:ko,useCallback:Ha,useContext:ko,useEffect:Da,useImperativeHandle:Ua,useInsertionEffect:Na,useLayoutEffect:Fa,useMemo:Va,useReducer:wa,useRef:Pa,useState:function(){return wa(Aa)},useDebugValue:za,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[wa(Aa)[0],ba().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ea,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=jo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=jo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=jo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Pi(t)?Ri:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):Mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Pi(t)?Ri:Ii.current,i.context=ki(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Ql=r),ds(0,t)},n}function fs(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=A.ReactCurrentOwner,bs=!1;function As(e,t,n,r){t.child=null===e?wo(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,As(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Bc(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return _s(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Bl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Bl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,_i(Bl,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_i(Bl,Pl),Pl|=r;return As(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var o=Pi(n)?Ri:Ii.current;return o=ki(t,o),Ro(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,As(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ms(e,t,n,r,i){if(Pi(n)){var o=!0;Di(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Vs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ko(c):c=ki(t,c=Pi(n)?Ri:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Do=!1;var h=t.memoizedState;a.state=h,Vo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ti.current||Do?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Do||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ko(l):l=ki(t,l=Pi(n)?Ri:Ii.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Do=!1,h=t.memoizedState,a.state=h,Vo(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Ti.current||Do?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Do||os(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ni(t,n,!1),Gs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):As(e,t,s,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ko(e,t.containerInfo)}function Rs(e,t,n,r,i){return fo(),mo(i),t.flags|=256,As(e,t,n,r),t.child}var ks,Ps,Bs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_i(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,js(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),js(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[$i++]=Ki,qi[$i++]=Yi,qi[$i++]=Xi,Ki=e.id,Yi=e.overflow,Xi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Bc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Bc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Bc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(As(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Bc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Pi(t.type)&&Bi(),Ws(t),null;case 3:return r=t.stateNode,Yo(),Si(Ti),Si(Ii),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ps(e,t),Ws(t),null;case 5:Zo(t);var i=Xo($o.current);if(n=t.type,null!==e&&null!=t.stateNode)Bs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Xo(Wo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":K(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,ks(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":K(e,r),i=X(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo($o.current),Xo(Wo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Si(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Yo(),Ps(e,t),null===e&&Hr(t.stateNode.containerInfo),Ws(t),null;case 10:return Io(t.type._context),Ws(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Qs(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Qs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Hl&&(t.flags|=128,r=!0,Qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ws(t),null}else 2*Ye()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Qs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,_i(ea,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Bi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Si(Ti),Si(Ii),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return Yo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Bs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Wo.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ks=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ks||Zs(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ks&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,hl(e,t,n),Ks=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Ec(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ye())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(u=Ks)||d,ml(t,e),Ks=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Zs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Js=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Xs;var c=Ks;if(Xs=a,(Ks=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Js=l):wl(i);for(;null!==o;)Js=o,bl(o,t,n),o=o.sibling;Js=i,Xs=s,Ks=c}Al(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):Al(e)}}function Al(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Go(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&il(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Cl,El=Math.ceil,Sl=A.ReactCurrentDispatcher,_l=A.ReactCurrentOwner,Ml=A.ReactCurrentBatchConfig,Il=0,Tl=null,Rl=null,kl=0,Pl=0,Bl=Ei(0),Ol=0,Ll=null,Dl=0,Nl=0,Fl=0,jl=null,Ul=null,zl=0,Hl=1/0,Vl=null,Gl=!1,Ql=null,Wl=null,ql=!1,$l=null,Xl=0,Kl=0,Yl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Il)?Ye():-1!==Jl?Jl:Jl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==kl?kl&-kl:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,n,r){if(50<Kl)throw Kl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Tl||(e===Tl&&(0===(2&Il)&&(Nl|=n),4===Ol&&sc(e,kl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Hl=Ye()+500,ji&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Tl?kl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai((function(){0===(6&Il)&&Hi()})),n=null;else{switch(At(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?kl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var a=fc();for(Tl===e&&kl===t||(Vl=null,Hl=Ye()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Mo(),Sl.current=a,Il=i,null!==Rl?t=0:(Tl=null,kl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ll,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ul,Vl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,Vl),t);break}xc(e,Ul,Vl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,Vl),r);break}xc(e,Ul,Vl);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function sc(e,t){for(t&=~Fl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(o(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Vl),rc(e,Ye()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Hl=Ye()+500,ji&&Hi())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&Il)&&wc();var t=Il;Il|=1;var n=Ml.transition,r=bt;try{if(Ml.transition=null,bt=1,e)return e()}finally{bt=r,Ml.transition=n,0===(6&(Il=t))&&Hi()}}function dc(){Pl=Bl.current,Si(Bl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Bi();break;case 3:Yo(),Si(Ti),Si(Ii),ra();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:Si(ea);break;case 10:Io(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Rl=e=Bc(e.current,null),kl=Pl=t,Ol=0,Ll=null,Fl=Nl=Dl=0,Ul=jl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Mo(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,_l.current=null,null===n||null===n.return){Ol=1,Ll=t,Rl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=kl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&ms(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(cs(c,l));break e}}a=c=cs(c,l),4!==Ol&&(Ol=2),null===jl?jl=[a]:jl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ho(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ho(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}Ac(n)}catch(A){t=A,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Ja,null===e?Ja:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Nl)||sc(Tl,kl)}function gc(e,t){var n=Il;Il|=2;var r=fc();for(Tl===e&&kl===t||(Vl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Mo(),Il=n,Sl.current=r,null!==Rl)throw Error(o(261));return Tl=null,kl=0,Ol}function vc(){for(;null!==Rl;)bc(Rl)}function yc(){for(;null!==Rl&&!Xe();)bc(Rl)}function bc(e){var t=Cl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Ac(e):Rl=t,_l.current=null}function Ac(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function xc(e,t,n){var r=bt,i=Ml.transition;try{Ml.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==$l);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tl&&(Rl=Tl=null,kl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Tc(tt,(function(){return wc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ml.transition,Ml.transition=null;var s=bt;bt=1;var l=Il;Il|=4,_l.current=null,function(e,t){if(ei=Gt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var A=t.stateNode.containerInfo;1===A.nodeType?A.textContent="":9===A.nodeType&&A.documentElement&&A.removeChild(A.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ke(),Il=l,bt=s,Ml.transition=a}else e.current=n;if(ql&&(ql=!1,$l=e,Xl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Ql,Ql=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Yl?Kl++:(Kl=0,Yl=e):Kl=0,Hi()}(e,t,n,r)}finally{Ml.transition=i,bt=r}return null}function wc(){if(null!==$l){var e=At(Xl),t=Ml.transition,n=bt;try{if(Ml.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Xl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(ol(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var A=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==A)A.return=s,Js=A;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Ec(l,l.return,w)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Il=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{bt=n,Ml.transition=t}}return!1}function Cc(e,t,n){e=Uo(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Uo(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(kl&n)===n&&(4===Ol||3===Ol&&(130023424&kl)===kl&&500>Ye()-zl?hc(e,0):Fl|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),_c(e,n)}function Tc(e,t){return qe(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Lc(n.children,i,a,t);case E:s=8,i|=8;break;case S:return(e=kc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case T:return(e=kc(13,n,t,i)).elementType=T,e.lanes=a,e;case R:return(e=kc(19,n,t,i)).elementType=R,e.lanes=a,e;case B:return Dc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case M:s=9;break e;case I:s=11;break e;case k:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=kc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=kc(22,e,r,t)).elementType=B,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,s,l){return e=new jc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=kc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function zc(e){if(!e)return Mi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,l){return(e=Uc(n,r,!0,e,0,o,0,s,l)).context=zc(null),n=e.current,(o=jo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Vc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,a))&&(nc(e,i,a,o),zo(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),fo();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Co,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(_i(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);_i(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=ki(t,Ii.current);Ro(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),As(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===k)return 14}return 2}(r),e=ns(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ms(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fo(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Gs(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ss(e,t),As(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ns(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):As(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,_i(Co,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=jo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),To(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}As(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=ko(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Vs(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,Ro(t,n),as(t,r,i),ls(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}Vc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fi]=a.current,Hr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,r)})),l}(n,t,e,i,r);return Gc(a)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[fi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&0!==t&&t<Bt[n].priority;n++);Bt.splice(n,0,e),0===n&&Nt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&Il)&&(Hl=Ye()+500,Hi()))}break;case 13:uc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},wt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));q(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[bi,Ai,xi,_e,Me,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(o(299));var n=!1,r="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3078:e=>{e.exports=AFRAME.registerComponent("checkpoint",{schema:{offset:{default:{x:0,y:0,z:0},type:"vec3"}},init:function(){this.active=!1,this.targetEl=null,this.fire=this.fire.bind(this),this.offset=new THREE.Vector3},update:function(){this.offset.copy(this.data.offset)},play:function(){this.el.addEventListener("click",this.fire)},pause:function(){this.el.removeEventListener("click",this.fire)},remove:function(){this.pause()},fire:function(){const e=this.el.sceneEl.querySelector("[checkpoint-controls]");if(!e)throw new Error("No `checkpoint-controls` component found.");e.components["checkpoint-controls"].setCheckpoint(this.el)},getOffset:function(){return this.offset.copy(this.data.offset)}})},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3153:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Nuclear_Power_Plant.d1d96c8912be86531d57.png"},3175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3300:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Belt_Mk3.09dfff69deeddc448c19.png"},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},3413:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Miner_Mk2.57cd6bfe4aa046678867.png"},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3662:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(5043)),o=c(n(5173)),a=c(n(9019)),s=c(n(7998)),l=n(6493);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}l.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,l.transitionTimeout)("Appear"),(0,l.transitionTimeout)("Enter"),(0,l.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=u(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(i.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(a)var b=c?a(y,v,f,t,e,l):a(v,y,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3671:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Blender.07f0a4d85ba929d6b6ff.png"},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3764:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Storage_Container.ec223fb0bfa8f57145c0.png"},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},3832:(e,t,n)=>{n(36),n(7486),n(2206),n(8166),n(8244)},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3878:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Pipeline_Mk2.77baad120752ef247873.png"},3886:e=>{e.exports=AFRAME.registerComponent("grab",{init:function(){this.system=this.el.sceneEl.systems.physics,this.GRABBED_STATE="grabbed",this.grabbing=!1,this.hitEl=null,this.physics=this.el.sceneEl.systems.physics,this.constraint=null,this.onHit=this.onHit.bind(this),this.onGripOpen=this.onGripOpen.bind(this),this.onGripClose=this.onGripClose.bind(this)},play:function(){const e=this.el;e.addEventListener("hit",this.onHit),e.addEventListener("gripdown",this.onGripClose),e.addEventListener("gripup",this.onGripOpen),e.addEventListener("trackpaddown",this.onGripClose),e.addEventListener("trackpadup",this.onGripOpen),e.addEventListener("triggerdown",this.onGripClose),e.addEventListener("triggerup",this.onGripOpen)},pause:function(){const e=this.el;e.removeEventListener("hit",this.onHit),e.removeEventListener("gripdown",this.onGripClose),e.removeEventListener("gripup",this.onGripOpen),e.removeEventListener("trackpaddown",this.onGripClose),e.removeEventListener("trackpadup",this.onGripOpen),e.removeEventListener("triggerdown",this.onGripClose),e.removeEventListener("triggerup",this.onGripOpen)},onGripClose:function(){this.grabbing=!0},onGripOpen:function(){const e=this.hitEl;this.grabbing=!1,e&&(e.removeState(this.GRABBED_STATE),this.hitEl=void 0,this.system.removeConstraint(this.constraint),this.constraint=null)},onHit:function(e){const t=e.detail.el;t.is(this.GRABBED_STATE)||!this.grabbing||this.hitEl||(t.addState(this.GRABBED_STATE),this.hitEl=t,this.constraint=new CANNON.LockConstraint(this.el.body,t.body),this.system.addConstraint(this.constraint))}})},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3900:e=>{e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);e.exports=function(e){return o(e)?r(a(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function A(){var e=i();if(b(e))return x(e);h=setTimeout(A,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function x(e){return h=void 0,v&&l?y(e):(l=c=void 0,d)}function w(){var e=i(),n=b(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(A,t),m?y(e):d}(p);if(g)return clearTimeout(h),h=setTimeout(A,t),y(p)}return void 0===h&&(h=setTimeout(A,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},w.flush=function(){return void 0===h?d:x(i())},w}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},4157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5043),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return a.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},a.default.createElement(e,i({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(a.default.Component)};t.default=l},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var A=b.prototype=new y;A.constructor=b,m(A,v.prototype),A.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:C.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+I(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(M,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+I(s=e[c],c);l+=T(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,u=o+I(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},B={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:B,ReactCurrentOwner:C};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=B.transition;B.transition={};try{e()}finally{B.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4247:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Refinery.ed5ac27b8a246dec7d19.png"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4299:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Merger.6d9542f29a59117b4bb2.png"},4353:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},4371:(e,t,n)=>{"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5043),a=(r=o)&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},u)},d),a.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,p=[],f=p;if(n)h=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=a,f=new r}else f=t?[]:p;e:for(;++c<d;){var g=e[c],v=t?t(g):g;if(g=n||0!==g?g:0,h&&v===v){for(var y=f.length;y--;)if(f[y]===v)continue e;t&&f.push(v),p.push(g)}else u(f,v,n)||(f!==p&&f.push(v),p.push(g))}return p}},4428:(e,t)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"===typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},4429:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Belt_Mk2.ade89bb5a4777e513619.png"},4483:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4677:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Pathfinding:()=>s,PathfindingHelper:()=>l});var r=n(9435);class i{static roundNumber(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}static sample(e){return e[Math.floor(Math.random()*e.length)]}static distanceToSquared(e,t){var n=e.x-t.x,r=e.y-t.y,i=e.z-t.z;return n*n+r*r+i*i}static isPointInPoly(e,t){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(e[r].z<=t.z&&t.z<e[o].z||e[o].z<=t.z&&t.z<e[r].z)&&t.x<(e[o].x-e[r].x)*(t.z-e[r].z)/(e[o].z-e[r].z)+e[r].x&&(n=!n);return n}static isVectorInPolygon(e,t,n){var r=1e5,i=-1e5,o=[];return t.vertexIds.forEach((e=>{r=Math.min(n[e].y,r),i=Math.max(n[e].y,i),o.push(n[e])})),!!(e.y<i+.5&&e.y>r-.5&&this.isPointInPoly(o,e))}static triarea2(e,t,n){return(n.x-e.x)*(t.z-e.z)-(t.x-e.x)*(n.z-e.z)}static vequal(e,t){return this.distanceToSquared(e,t)<1e-5}static mergeVertices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},i=e.getIndex(),o=e.getAttribute("position"),a=i?i.count:o.count,s=0,l=[],c=[],u=Math.log10(1/t),d=Math.pow(10,u),h=0;h<a;h++){var p=i?i.getX(h):h,f="";f+=~~(o.getX(p)*d)+",",f+=~~(o.getY(p)*d)+",",(f+=~~(o.getZ(p)*d)+",")in n?l.push(n[f]):(c.push(o.getX(p)),c.push(o.getY(p)),c.push(o.getZ(p)),n[f]=s,l.push(s),s++)}const m=new r.THS(new Float32Array(c),o.itemSize,o.normalized),g=new r.LoY;return g.setAttribute("position",m),g.setIndex(l),g}}class o{constructor(e){this.content=[],this.scoreFunction=e}push(e){this.content.push(e),this.sinkDown(this.content.length-1)}pop(){const e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e}remove(e){const t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))}size(){return this.content.length}rescoreElement(e){this.sinkDown(this.content.indexOf(e))}sinkDown(e){const t=this.content[e];for(;e>0;){const n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}bubbleUp(e){const t=this.content.length,n=this.content[e],r=this.scoreFunction(n);for(;;){const i=e+1<<1,o=i-1;let a,s=null;if(o<t&&(a=this.scoreFunction(this.content[o]),a<r&&(s=o)),i<t&&this.scoreFunction(this.content[i])<(null===s?r:a)&&(s=i),null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}}class a{constructor(){this.portals=[]}push(e,t){void 0===t&&(t=e),this.portals.push({left:e,right:t})}stringPull(){const e=this.portals,t=[];let n,r,o,a=0,s=0,l=0;n=e[0].left,r=e[0].left,o=e[0].right,t.push(n);for(let c=1;c<e.length;c++){const u=e[c].left,d=e[c].right;if(i.triarea2(n,o,d)<=0){if(!(i.vequal(n,o)||i.triarea2(n,r,d)>0)){t.push(r),n=r,a=s,r=n,o=n,s=a,l=a,c=a;continue}o=d,l=c}if(i.triarea2(n,r,u)>=0){if(!(i.vequal(n,r)||i.triarea2(n,o,u)<0)){t.push(o),n=o,a=l,r=n,o=n,s=a,l=a,c=a;continue}r=u,s=c}}return 0!==t.length&&i.vequal(t[t.length-1],e[e.length-1].left)||t.push(e[e.length-1].left),this.path=t,t}}class s{constructor(){this.zones={}}static createZone(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;return class{static buildZone(e,t){const n=this._buildNavigationMesh(e,t),o={};n.vertices.forEach((e=>{e.x=i.roundNumber(e.x,2),e.y=i.roundNumber(e.y,2),e.z=i.roundNumber(e.z,2)})),o.vertices=n.vertices;const a=this._buildPolygonGroups(n);return o.groups=new Array(a.length),a.forEach(((e,t)=>{const n=new Map;e.forEach(((e,t)=>{n.set(e,t)}));const a=new Array(e.length);e.forEach(((e,t)=>{const s=[];e.neighbours.forEach((e=>s.push(n.get(e))));const l=[];e.neighbours.forEach((t=>l.push(this._getSharedVerticesInOrder(e,t))));const c=new r.Pq0(0,0,0);c.add(o.vertices[e.vertexIds[0]]),c.add(o.vertices[e.vertexIds[1]]),c.add(o.vertices[e.vertexIds[2]]),c.divideScalar(3),c.x=i.roundNumber(c.x,2),c.y=i.roundNumber(c.y,2),c.z=i.roundNumber(c.z,2),a[t]={id:t,neighbours:s,vertexIds:e.vertexIds,centroid:c,portals:l}})),o.groups[t]=a})),o}static _buildNavigationMesh(e,t){return e=i.mergeVertices(e,t),this._buildPolygonsFromGeometry(e)}static _spreadGroupId(e){let t=new Set([e]);for(;t.size>0;){const n=t;t=new Set,n.forEach((n=>{n.group=e.group,n.neighbours.forEach((e=>{void 0===e.group&&t.add(e)}))}))}}static _buildPolygonGroups(e){const t=[];return e.polygons.forEach((e=>{void 0!==e.group?t[e.group].push(e):(e.group=t.length,this._spreadGroupId(e),t.push([e]))})),t}static _buildPolygonNeighbours(e,t){const n=new Set,r=t[e.vertexIds[1]],i=t[e.vertexIds[2]];return t[e.vertexIds[0]].forEach((t=>{t!==e&&(r.includes(t)||i.includes(t))&&n.add(t)})),r.forEach((t=>{t!==e&&i.includes(t)&&n.add(t)})),n}static _buildPolygonsFromGeometry(e){const t=[],n=[],i=e.attributes.position,o=e.index,a=[];for(let s=0;s<i.count;s++)n.push((new r.Pq0).fromBufferAttribute(i,s)),a[s]=[];for(let r=0;r<e.index.count;r+=3){const e=o.getX(r),n=o.getX(r+1),i=o.getX(r+2),s={vertexIds:[e,n,i],neighbours:null};t.push(s),a[e].push(s),a[n].push(s),a[i].push(s)}return t.forEach((e=>{e.neighbours=this._buildPolygonNeighbours(e,a)})),{polygons:t,vertices:n}}static _getSharedVerticesInOrder(e,t){const n=e.vertexIds,r=n[0],i=n[1],o=n[2],a=t.vertexIds,s=a.includes(r),l=a.includes(i),c=a.includes(o);return s&&l&&c?Array.from(n):s&&l?[r,i]:l&&c?[i,o]:s&&c?[o,r]:(console.warn("Error processing navigation mesh neighbors; neighbors with <2 shared vertices found."),[])}}.buildZone(e,t)}setZoneData(e,t){this.zones[e]=t}getRandomNode(e,t,n,o){if(!this.zones[e])return new r.Pq0;n=n||null,o=o||0;const a=[];return this.zones[e].groups[t].forEach((e=>{n&&o?i.distanceToSquared(n,e.centroid)<o*o&&a.push(e.centroid):a.push(e.centroid)})),i.sample(a)||new r.Pq0}getClosestNode(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=this.zones[t].vertices;let a=null,s=1/0;return this.zones[t].groups[n].forEach((t=>{const n=i.distanceToSquared(t.centroid,e);n<s&&(!r||i.isVectorInPolygon(e,t,o))&&(a=t,s=n)})),a}findPath(e,t,n,s){const l=this.zones[n].groups[s],c=this.zones[n].vertices,u=this.getClosestNode(e,n,s,!0),d=this.getClosestNode(t,n,s,!0);if(!u||!d)return null;const h=class{static init(e){for(let t=0;t<e.length;t++){const n=e[t];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}}static cleanUp(e){for(let t=0;t<e.length;t++){const n=e[t];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}}static heap(){return new o((function(e){return e.f}))}static search(e,t,n){this.init(e);const r=this.heap();for(r.push(t);r.size()>0;){const t=r.pop();if(t===n){let e=t;const n=[];for(;e.parent;)n.push(e),e=e.parent;return this.cleanUp(n),n.reverse()}t.closed=!0;const i=this.neighbours(e,t);for(let e=0,o=i.length;e<o;e++){const o=i[e];if(o.closed)continue;const a=t.g+o.cost,s=o.visited;if(!s||a<o.g){if(o.visited=!0,o.parent=t,!o.centroid||!n.centroid)throw new Error("Unexpected state");o.h=o.h||this.heuristic(o.centroid,n.centroid),o.g=a,o.f=o.g+o.h,s?r.rescoreElement(o):r.push(o)}}}return[]}static heuristic(e,t){return i.distanceToSquared(e,t)}static neighbours(e,t){const n=[];for(let r=0;r<t.neighbours.length;r++)n.push(e[t.neighbours[r]]);return n}}.search(l,u,d),p=function(e,t){for(var n=0;n<e.neighbours.length;n++)if(e.neighbours[n]===t.id)return e.portals[n]},f=new a;f.push(e);for(let r=0;r<h.length;r++){const e=h[r],t=h[r+1];if(t){const n=p(e,t);f.push(c[n[0]],c[n[1]])}}f.push(t),f.stringPull();const m=f.path.map((e=>new r.Pq0(e.x,e.y,e.z)));return m.shift(),m}}s.prototype.getGroup=function(){const e=new r.Zcv;return function(t,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.zones[t])return null;let o=null,a=Math.pow(50,2);const s=this.zones[t];for(let l=0;l<s.groups.length;l++){const t=s.groups[l];for(const c of t){if(r&&(e.setFromCoplanarPoints(s.vertices[c.vertexIds[0]],s.vertices[c.vertexIds[1]],s.vertices[c.vertexIds[2]]),Math.abs(e.distanceToPoint(n))<.01)&&i.isPointInPoly([s.vertices[c.vertexIds[0]],s.vertices[c.vertexIds[1]],s.vertices[c.vertexIds[2]]],n))return l;const t=i.distanceToSquared(c.centroid,n);t<a&&(o=l,a=t)}}return o}}(),s.prototype.clampStep=function(){const e=new r.Pq0,t=new r.Zcv,n=new r.lMl,i=new r.Pq0;let o,a,s=new r.Pq0;return function(r,l,c,u,d,h){const p=this.zones[u].vertices,f=this.zones[u].groups[d],m=[c],g={};g[c.id]=0,o=void 0,s.set(0,0,0),a=1/0,t.setFromCoplanarPoints(p[c.vertexIds[0]],p[c.vertexIds[1]],p[c.vertexIds[2]]),t.projectPoint(l,e),i.copy(e);for(let t=m.pop();t;t=m.pop()){n.set(p[t.vertexIds[0]],p[t.vertexIds[1]],p[t.vertexIds[2]]),n.closestPointToPoint(i,e),e.distanceToSquared(i)<a&&(o=t,s.copy(e),a=e.distanceToSquared(i));const r=g[t.id];if(!(r>2))for(let e=0;e<t.neighbours.length;e++){const n=f[t.neighbours[e]];n.id in g||(m.push(n),g[n.id]=r+1)}}return h.copy(s),o}}();class l extends r.B69{constructor(){super(),this._playerMarker=new r.eaF(new r.Gu$(.25,32,32),new r.V9B({color:15631215})),this._targetMarker=new r.eaF(new r.iNn(.3,.3,.3),new r.V9B({color:14469912})),this._nodeMarker=new r.eaF(new r.iNn(.1,.8,.1),new r.V9B({color:4417387})),this._stepMarker=new r.eaF(new r.iNn(.1,1,.1),new r.V9B({color:14472114})),this._pathMarker=new r.B69,this._pathLineMaterial=new r.mrM({color:41903,linewidth:2}),this._pathPointMaterial=new r.V9B({color:41903}),this._pathPointGeometry=new r.Gu$(.08),this._markers=[this._playerMarker,this._targetMarker,this._nodeMarker,this._stepMarker,this._pathMarker],this._markers.forEach((e=>{e.visible=!1,this.add(e)}))}setPath(e){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);e=[this._playerMarker.position].concat(e);const t=new r.LoY;t.setAttribute("position",new r.THS(new Float32Array(3*e.length),3));for(let n=0;n<e.length;n++)t.attributes.position.setXYZ(n,e[n].x,e[n].y+.2,e[n].z);this._pathMarker.add(new r.N1A(t,this._pathLineMaterial));for(let n=0;n<e.length-1;n++){const t=new r.eaF(this._pathPointGeometry,this._pathPointMaterial);t.position.copy(e[n]),t.position.y+=.2,this._pathMarker.add(t)}return this._pathMarker.visible=!0,this}setPlayerPosition(e){return this._playerMarker.position.copy(e),this._playerMarker.visible=!0,this}setTargetPosition(e){return this._targetMarker.position.copy(e),this._targetMarker.visible=!0,this}setNodePosition(e){return this._nodeMarker.position.copy(e),this._nodeMarker.visible=!0,this}setStepPosition(e){return this._stepMarker.position.copy(e),this._stepMarker.visible=!0,this}reset(){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);return this._markers.forEach((e=>{e.visible=!1})),this}}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},4973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5043),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return o=l=s(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return a.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},a.default.createElement(e,i({},l.props,l.state)))},s(l,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(a.default.Component)};t.default=l},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,A=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===A||e.$$typeof===v)},t.typeOf=x},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var l in t){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(5043)},5111:(e,t,n)=>{var r=n(3279);e.exports=function(e){return"function"==typeof e?e:r}},5119:(e,t,n)=>{var r=n(6614),i=n(474);e.exports=function(e,t){return e&&r(t,i(t),e)}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5227:(e,t,n)=>{"use strict";var r=n(8634),i=Uint8Array,o=Uint16Array,a=Int32Array,s=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new a(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},d=u(s,2),h=d.b,p=d.r;h[28]=258,p[258]=28;for(var f=u(l,0),m=f.b,g=(f.r,new o(32768)),v=0;v<32768;++v){var y=(43690&v)>>1|(21845&v)<<1;y=(61680&(y=(52428&y)>>2|(13107&y)<<2))>>4|(3855&y)<<4,g[v]=((65280&y)>>8|(255&y)<<8)>>1}var b=function(e,t,n){for(var r=e.length,i=0,a=new o(t);i<r;++i)e[i]&&++a[e[i]-1];var s,l=new o(t);for(i=1;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;if(n){s=new o(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],h=l[e[i]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)s[g[h]>>c]=u}else for(s=new o(r),i=0;i<r;++i)e[i]&&(s[i]=g[l[e[i]-1]++]>>15-e[i]);return s},A=new i(288);for(v=0;v<144;++v)A[v]=8;for(v=144;v<256;++v)A[v]=9;for(v=256;v<280;++v)A[v]=7;for(v=280;v<288;++v)A[v]=8;var x=new i(32);for(v=0;v<32;++v)x[v]=5;var w=b(A,9,1),C=b(x,5,1),E=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},S=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},_=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},M=function(e){return(e+7)/8|0},I=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new i(e.subarray(t,n))},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(e,t,n){var r=new Error(t||T[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,R),!n)throw r;return r},k=function(e,t,n,r){var o=e.length,a=r?r.length:0;if(!o||t.f&&!t.l)return n||new i(0);var u=!n,d=u||2!=t.i,p=t.i;u&&(n=new i(3*o));var f=function(e){var t=n.length;if(e>t){var r=new i(Math.max(2*t,e));r.set(n),n=r}},g=t.f||0,v=t.p||0,y=t.b||0,A=t.l,x=t.d,T=t.m,k=t.n,P=8*o;do{if(!A){g=S(e,v,1);var B=S(e,v+1,3);if(v+=3,!B){var O=e[(Q=M(v)+4)-4]|e[Q-3]<<8,L=Q+O;if(L>o){p&&R(0);break}d&&f(y+O),n.set(e.subarray(Q,L),y),t.b=y+=O,t.p=v=8*L,t.f=g;continue}if(1==B)A=w,x=C,T=9,k=5;else if(2==B){var D=S(e,v,31)+257,N=S(e,v+10,15)+4,F=D+S(e,v+5,31)+1;v+=14;for(var j=new i(F),U=new i(19),z=0;z<N;++z)U[c[z]]=S(e,v+3*z,7);v+=3*N;var H=E(U),V=(1<<H)-1,G=b(U,H,1);for(z=0;z<F;){var Q,W=G[S(e,v,V)];if(v+=15&W,(Q=W>>4)<16)j[z++]=Q;else{var q=0,$=0;for(16==Q?($=3+S(e,v,3),v+=2,q=j[z-1]):17==Q?($=3+S(e,v,7),v+=3):18==Q&&($=11+S(e,v,127),v+=7);$--;)j[z++]=q}}var X=j.subarray(0,D),K=j.subarray(D);T=E(X),k=E(K),A=b(X,T,1),x=b(K,k,1)}else R(1);if(v>P){p&&R(0);break}}d&&f(y+131072);for(var Y=(1<<T)-1,J=(1<<k)-1,Z=v;;Z=v){var ee=(q=A[_(e,v)&Y])>>4;if((v+=15&q)>P){p&&R(0);break}if(q||R(2),ee<256)n[y++]=ee;else{if(256==ee){Z=v,A=null;break}var te=ee-254;if(ee>264){var ne=s[z=ee-257];te=S(e,v,(1<<ne)-1)+h[z],v+=ne}var re=x[_(e,v)&J],ie=re>>4;re||R(3),v+=15&re;K=m[ie];if(ie>3){ne=l[ie];K+=_(e,v)&(1<<ne)-1,v+=ne}if(v>P){p&&R(0);break}d&&f(y+131072);var oe=y+te;if(y<K){var ae=a-K,se=Math.min(K,oe);for(ae+y<0&&R(3);y<se;++y)n[y]=r[ae+y]}for(;y<oe;++y)n[y]=n[y-K]}}t.l=A,t.p=Z,t.b=y,t.f=g,A&&(g=1,t.m=T,t.d=x,t.n=k)}while(!g);return y!=n.length&&u?I(n,0,y):n.subarray(0,y)},P=new i(0),B=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&R(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&R(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function O(e,t){return k(e.subarray(B(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var L="undefined"!=typeof TextDecoder&&new TextDecoder;try{L.decode(P,{stream:!0})}catch(le){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function D(e,t,n){const r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;let i=e,o=r,a=Math.floor((i+o)/2);for(;t<n[a]||t>=n[a+1];)t<n[a]?o=a:i=a,a=Math.floor((i+o)/2);return a}function N(e,t,n,r){const i=[],o=[],a=[];i[0]=1;for(let s=1;s<=n;++s){o[s]=t-r[e+1-s],a[s]=r[e+s]-t;let n=0;for(let e=0;e<s;++e){const t=a[e+1],r=o[s-e],l=i[e]/(t+r);i[e]=n+t*l,n=r*l}i[s]=n}return i}function F(e,t){let n=1;for(let i=2;i<=e;++i)n*=i;let r=1;for(let i=2;i<=t;++i)r*=i;for(let i=2;i<=e-t;++i)r*=i;return n/r}function j(e,t,n,i,o){const a=function(e,t,n,i,o){const a=o<e?o:e,s=[],l=D(e,i,t),c=function(e,t,n,r,i){const o=[];for(let d=0;d<=n;++d)o[d]=0;const a=[];for(let d=0;d<=r;++d)a[d]=o.slice(0);const s=[];for(let d=0;d<=n;++d)s[d]=o.slice(0);s[0][0]=1;const l=o.slice(0),c=o.slice(0);for(let d=1;d<=n;++d){l[d]=t-i[e+1-d],c[d]=i[e+d]-t;let n=0;for(let e=0;e<d;++e){const t=c[e+1],r=l[d-e];s[d][e]=t+r;const i=s[e][d-1]/s[d][e];s[e][d]=n+t*i,n=r*i}s[d][d]=n}for(let d=0;d<=n;++d)a[0][d]=s[d][n];for(let d=0;d<=n;++d){let e=0,t=1;const i=[];for(let r=0;r<=n;++r)i[r]=o.slice(0);i[0][0]=1;for(let o=1;o<=r;++o){let r=0;const l=d-o,c=n-o;d>=o&&(i[t][0]=i[e][0]/s[c+1][l],r=i[t][0]*s[l][c]);const u=d-1<=c?o-1:n-d;for(let n=l>=-1?1:-l;n<=u;++n)i[t][n]=(i[e][n]-i[e][n-1])/s[c+1][l+n],r+=i[t][n]*s[l+n][c];d<=c&&(i[t][o]=-i[e][o-1]/s[c+1][d],r+=i[t][o]*s[d][c]),a[o][d]=r;const h=e;e=t,t=h}}let u=n;for(let d=1;d<=r;++d){for(let e=0;e<=n;++e)a[d][e]*=u;u*=n-d}return a}(l,i,e,a,t),u=[];for(let r=0;r<n.length;++r){const e=n[r].clone(),t=e.w;e.x*=t,e.y*=t,e.z*=t,u[r]=e}for(let r=0;r<=a;++r){const t=u[l-e].clone().multiplyScalar(c[r][0]);for(let n=1;n<=e;++n)t.add(u[l-e+n].clone().multiplyScalar(c[r][n]));s[r]=t}for(let d=a+1;d<=o+1;++d)s[d]=new r.IUQ(0,0,0);return s}(e,t,n,i,o);return function(e){const t=e.length,n=[],i=[];for(let a=0;a<t;++a){const t=e[a];n[a]=new r.Pq0(t.x,t.y,t.z),i[a]=t.w}const o=[];for(let r=0;r<t;++r){const e=n[r].clone();for(let t=1;t<=r;++t)e.sub(o[r-t].clone().multiplyScalar(F(r,t)*i[t]));o[r]=e.divideScalar(i[0])}return o}(a)}class U extends r.Ipv{constructor(e,t,n,i,o){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=o||this.knots.length-1;for(let a=0;a<n.length;++a){const e=n[a];this.controlPoints[a]=new r.IUQ(e.x,e.y,e.z,e.w)}}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0,n=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=function(e,t,n,i){const o=D(e,i,t),a=N(o,i,e,t),s=new r.IUQ(0,0,0,0);for(let r=0;r<=e;++r){const t=n[o-e+r],i=a[r],l=t.w*i;s.x+=t.x*l,s.y+=t.y*l,s.z+=t.z*l,s.w+=t.w*i}return s}(this.degree,this.knots,this.controlPoints,n);return 1!==i.w&&i.divideScalar(i.w),t.set(i.x,i.y,i.z)}getTangent(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Pq0,n=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=j(this.degree,this.knots,this.controlPoints,n,1);return t.copy(i[1]).normalize(),t}}let z,H,V;class G extends r.aHM{constructor(e){super(e)}load(e,t,n,i){const o=this,a=""===o.path?r.r6x.extractUrlBase(e):o.path,s=new r.Y9S(this.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,(function(n){try{t(o.parse(n,a))}catch(le){i?i(le):console.error(le),o.manager.itemError(e)}}),n,i)}parse(e,t){if(function(e){const t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===se(e,0,t.length)}(e))z=(new X).parse(e);else{const t=se(e);if(!function(e){const t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let n=0;function r(t){const r=e[t-1];return e=e.slice(n+t),n++,r}for(let i=0;i<t.length;++i){if(r(1)===t[i])return!1}return!0}(t))throw new Error("THREE.FBXLoader: Unknown format.");if(J(t)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+J(t));z=(new $).parse(t)}const n=new r.Tap(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Q(n,this.manager).parse(z)}}class Q{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){H=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),n=this.parseMaterials(t),r=this.parseDeformers(),i=(new W).parse(r);return this.parseScene(r,i,n),V}parseConnections(){const e=new Map;if("Connections"in z){z.Connections.connections.forEach((function(t){const n=t[0],r=t[1],i=t[2];e.has(n)||e.set(n,{parents:[],children:[]});const o={ID:r,relationship:i};e.get(n).parents.push(o),e.has(r)||e.set(r,{parents:[],children:[]});const a={ID:n,relationship:i};e.get(r).children.push(a)}))}return e}parseImages(){const e={},t={};if("Video"in z.Objects){const n=z.Objects.Video;for(const r in n){const i=n[r];if(e[parseInt(r)]=i.RelativeFilename||i.Filename,"Content"in i){const e=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,o="string"===typeof i.Content&&""!==i.Content;if(e||o){const e=this.parseImage(n[r]);t[i.RelativeFilename||i.Filename]=e}}}}for(const n in e){const r=e[n];void 0!==t[r]?e[n]=t[r]:e[n]=e[n].split("\\").pop()}return e}parseImage(e){const t=e.Content,n=e.RelativeFilename||e.Filename,r=n.slice(n.lastIndexOf(".")+1).toLowerCase();let i;switch(r){case"bmp":i="image/bmp";break;case"jpg":case"jpeg":i="image/jpeg";break;case"png":i="image/png";break;case"tif":i="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",n),i="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+r+'" is not supported.')}if("string"===typeof t)return"data:"+i+";base64,"+t;{const e=new Uint8Array(t);return window.URL.createObjectURL(new Blob([e],{type:i}))}}parseTextures(e){const t=new Map;if("Texture"in z.Objects){const n=z.Objects.Texture;for(const r in n){const i=this.parseTexture(n[r],e);t.set(parseInt(r),i)}}return t}parseTexture(e,t){const n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;const i=e.WrapModeU,o=e.WrapModeV,a=void 0!==i?i.value:0,s=void 0!==o?o.value:0;if(n.wrapS=0===a?r.GJx:r.ghU,n.wrapT=0===s?r.GJx:r.ghU,"Scaling"in e){const t=e.Scaling.value;n.repeat.x=t[0],n.repeat.y=t[1]}if("Translation"in e){const t=e.Translation.value;n.offset.x=t[0],n.offset.y=t[1]}return n}loadTexture(e,t){let n;const i=this.textureLoader.path,o=H.get(e.id).children;let a;void 0!==o&&o.length>0&&void 0!==t[o[0].ID]&&(n=t[o[0].ID],0!==n.indexOf("blob:")&&0!==n.indexOf("data:")||this.textureLoader.setPath(void 0));const s=e.FileName.slice(-3).toLowerCase();if("tga"===s){const t=this.manager.getHandler(".tga");null===t?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),a=new r.gPd):(t.setPath(this.textureLoader.path),a=t.load(n))}else if("dds"===s){const t=this.manager.getHandler(".dds");null===t?(console.warn("FBXLoader: DDS loader not found, creating placeholder texture for",e.RelativeFilename),a=new r.gPd):(t.setPath(this.textureLoader.path),a=t.load(n))}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),a=new r.gPd):a=this.textureLoader.load(n);return this.textureLoader.setPath(i),a}parseMaterials(e){const t=new Map;if("Material"in z.Objects){const n=z.Objects.Material;for(const r in n){const i=this.parseMaterial(n[r],e);null!==i&&t.set(parseInt(r),i)}}return t}parseMaterial(e,t){const n=e.id,i=e.attrName;let o=e.ShadingModel;if("object"===typeof o&&(o=o.value),!H.has(n))return null;const a=this.parseParameters(e,t,n);let s;switch(o.toLowerCase()){case"phong":s=new r.tXL;break;case"lambert":s=new r.G_z;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),s=new r.tXL}return s.setValues(a),s.name=i,s}parseParameters(e,t,n){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new r.Q1f).fromArray(e.Diffuse.value).convertSRGBToLinear():!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(i.color=(new r.Q1f).fromArray(e.DiffuseColor.value).convertSRGBToLinear()),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new r.Q1f).fromArray(e.Emissive.value).convertSRGBToLinear():!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(i.emissive=(new r.Q1f).fromArray(e.EmissiveColor.value).convertSRGBToLinear()),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new r.Q1f).fromArray(e.Specular.value).convertSRGBToLinear():e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new r.Q1f).fromArray(e.SpecularColor.value).convertSRGBToLinear());const o=this;return H.get(n).children.forEach((function(e){const n=e.relationship;switch(n){case"Bump":i.bumpMap=o.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=o.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=o.getTexture(t,e.ID),void 0!==i.map&&(i.map.colorSpace=r.er$);break;case"DisplacementColor":i.displacementMap=o.getTexture(t,e.ID);break;case"EmissiveColor":i.emissiveMap=o.getTexture(t,e.ID),void 0!==i.emissiveMap&&(i.emissiveMap.colorSpace=r.er$);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=o.getTexture(t,e.ID);break;case"ReflectionColor":i.envMap=o.getTexture(t,e.ID),void 0!==i.envMap&&(i.envMap.mapping=r.wfO,i.envMap.colorSpace=r.er$);break;case"SpecularColor":i.specularMap=o.getTexture(t,e.ID),void 0!==i.specularMap&&(i.specularMap.colorSpace=r.er$);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=o.getTexture(t,e.ID),i.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",n)}})),i}getTexture(e,t){return"LayeredTexture"in z.Objects&&t in z.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=H.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in z.Objects){const n=z.Objects.Deformer;for(const r in n){const i=n[r],o=H.get(parseInt(r));if("Skin"===i.attrType){const t=this.parseSkeleton(o,n);t.ID=r,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),t.geometryID=o.parents[0].ID,e[r]=t}else if("BlendShape"===i.attrType){const e={id:r};e.rawTargets=this.parseMorphTargets(o,n),e.id=r,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[r]=e}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const n=[];return e.children.forEach((function(e){const i=t[e.ID];if("Cluster"!==i.attrType)return;const o={ID:e.ID,indices:[],weights:[],transformLink:(new r.kn4).fromArray(i.TransformLink.a)};"Indexes"in i&&(o.indices=i.Indexes.a,o.weights=i.Weights.a),n.push(o)})),{rawBones:n,bones:[]}}parseMorphTargets(e,t){const n=[];for(let r=0;r<e.children.length;r++){const i=e.children[r],o=t[i.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if("BlendShapeChannel"!==o.attrType)return;a.geoID=H.get(parseInt(i.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,n.push(a)}return n}parseScene(e,t,n){V=new r.YJl;const i=this.parseModels(e.skeletons,t,n),o=z.Objects.Model,a=this;i.forEach((function(e){const t=o[e.ID];a.setLookAtProperties(e,t);H.get(e.ID).parents.forEach((function(t){const n=i.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&V.add(e)})),this.bindSkeleton(e.skeletons,t,i),this.addGlobalSceneSettings(),V.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);const t=ie(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}}));const s=(new q).parse();1===V.children.length&&V.children[0].isGroup&&(V.children[0].animations=s,V=V.children[0]),V.animations=s}parseModels(e,t,n){const i=new Map,o=z.Objects.Model;for(const a in o){const s=parseInt(a),l=o[a],c=H.get(s);let u=this.buildSkeleton(c,e,s,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,n);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new r.$Kf;break;default:u=new r.YJl}u.name=l.attrName?r.Nwf.sanitizeNodeName(l.attrName):"",u.userData.originalName=l.attrName,u.ID=s}this.getTransformData(u,l),i.set(s,u)}return i}buildSkeleton(e,t,n,i){let o=null;return e.parents.forEach((function(e){for(const a in t){const s=t[a];s.rawBones.forEach((function(t,a){if(t.ID===e.ID){const e=o;o=new r.$Kf,o.matrixWorld.copy(t.transformLink),o.name=i?r.Nwf.sanitizeNodeName(i):"",o.userData.originalName=i,o.ID=n,s.bones[a]=o,null!==e&&o.add(e)}}))}})),o}createCamera(e){let t,n;if(e.children.forEach((function(e){const t=z.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new r.B69;else{let e=0;void 0!==n.CameraProjectionType&&1===n.CameraProjectionType.value&&(e=1);let i=1;void 0!==n.NearPlane&&(i=n.NearPlane.value/1e3);let o=1e3;void 0!==n.FarPlane&&(o=n.FarPlane.value/1e3);let a=window.innerWidth,s=window.innerHeight;void 0!==n.AspectWidth&&void 0!==n.AspectHeight&&(a=n.AspectWidth.value,s=n.AspectHeight.value);const l=a/s;let c=45;void 0!==n.FieldOfView&&(c=n.FieldOfView.value);const u=n.FocalLength?n.FocalLength.value:null;switch(e){case 0:t=new r.ubm(c,l,i,o),null!==u&&t.setFocalLength(u);break;case 1:t=new r.qUd(-a/2,a/2,s/2,-s/2,i,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+e+"."),t=new r.B69}}return t}createLight(e){let t,n;if(e.children.forEach((function(e){const t=z.Objects.NodeAttribute[e.ID];void 0!==t&&(n=t)})),void 0===n)t=new r.B69;else{let e;e=void 0===n.LightType?0:n.LightType.value;let i=16777215;void 0!==n.Color&&(i=(new r.Q1f).fromArray(n.Color.value).convertSRGBToLinear());let o=void 0===n.Intensity?1:n.Intensity.value/100;void 0!==n.CastLightOnObject&&0===n.CastLightOnObject.value&&(o=0);let a=0;void 0!==n.FarAttenuationEnd&&(a=void 0!==n.EnableFarAttenuation&&0===n.EnableFarAttenuation.value?0:n.FarAttenuationEnd.value);const s=1;switch(e){case 0:t=new r.HiM(i,o,a,s);break;case 1:t=new r.ZyN(i,o);break;case 2:let e=Math.PI/3;void 0!==n.InnerAngle&&(e=r.cj9.degToRad(n.InnerAngle.value));let l=0;void 0!==n.OuterAngle&&(l=r.cj9.degToRad(n.OuterAngle.value),l=Math.max(l,1)),t=new r.nCl(i,o,a,e,l,s);break;default:console.warn("THREE.FBXLoader: Unknown light type "+n.LightType.value+", defaulting to a PointLight."),t=new r.HiM(i,o)}void 0!==n.CastShadows&&1===n.CastShadows.value&&(t.castShadow=!0)}return t}createMesh(e,t,n){let i,o=null,a=null;const s=[];return e.children.forEach((function(e){t.has(e.ID)&&(o=t.get(e.ID)),n.has(e.ID)&&s.push(n.get(e.ID))})),s.length>1?a=s:s.length>0?a=s[0]:(a=new r.tXL({name:r.aHM.DEFAULT_MATERIAL_NAME,color:13421772}),s.push(a)),"color"in o.attributes&&s.forEach((function(e){e.vertexColors=!0})),o.FBX_Deformer?(i=new r.I46(o,a),i.normalizeSkinWeights()):i=new r.eaF(o,a),i}createCurve(e,t){const n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),i=new r.mrM({name:r.aHM.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new r.N1A(n,i)}getTransformData(e,t){const n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?oe(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n}setLookAtProperties(e,t){if("LookAtProperty"in t){H.get(e.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){const n=z.Objects.Model[t.ID];if("Lcl_Translation"in n){const t=n.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(t),V.add(e.target)):e.lookAt((new r.Pq0).fromArray(t))}}}))}}bindSkeleton(e,t,n){const i=this.parsePoseNodes();for(const o in e){const a=e[o];H.get(parseInt(a.ID)).parents.forEach((function(e){if(t.has(e.ID)){const t=e.ID;H.get(t).parents.forEach((function(e){if(n.has(e.ID)){n.get(e.ID).bind(new r.EAD(a.bones),i[e.ID])}}))}}))}}parsePoseNodes(){const e={};if("Pose"in z.Objects){const t=z.Objects.Pose;for(const n in t)if("BindPose"===t[n].attrType&&t[n].NbPoseNodes>0){const i=t[n].PoseNode;Array.isArray(i)?i.forEach((function(t){e[t.Node]=(new r.kn4).fromArray(t.Matrix.a)})):e[i.Node]=(new r.kn4).fromArray(i.Matrix.a)}}return e}addGlobalSceneSettings(){if("GlobalSettings"in z){if("AmbientColor"in z.GlobalSettings){const e=z.GlobalSettings.AmbientColor.value,t=e[0],n=e[1],i=e[2];if(0!==t||0!==n||0!==i){const e=new r.Q1f(t,n,i).convertSRGBToLinear();V.add(new r.$p8(e,1))}}"UnitScaleFactor"in z.GlobalSettings&&(V.userData.unitScaleFactor=z.GlobalSettings.UnitScaleFactor.value)}}}class W{constructor(){this.negativeMaterialIndices=!1}parse(e){const t=new Map;if("Geometry"in z.Objects){const n=z.Objects.Geometry;for(const r in n){const i=H.get(parseInt(r)),o=this.parseGeometry(i,n[r],e);t.set(parseInt(r),o)}}return!0===this.negativeMaterialIndices&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),t}parseGeometry(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,n){const r=n.skeletons,i=[],o=e.parents.map((function(e){return z.Objects.Model[e.ID]}));if(0===o.length)return;const a=e.children.reduce((function(e,t){return void 0!==r[t.ID]&&(e=r[t.ID]),e}),null);e.children.forEach((function(e){void 0!==n.morphTargets[e.ID]&&i.push(n.morphTargets[e.ID])}));const s=o[0],l={};"RotationOrder"in s&&(l.eulerOrder=oe(s.RotationOrder.value)),"InheritType"in s&&(l.inheritType=parseInt(s.InheritType.value)),"GeometricTranslation"in s&&(l.translation=s.GeometricTranslation.value),"GeometricRotation"in s&&(l.rotation=s.GeometricRotation.value),"GeometricScaling"in s&&(l.scale=s.GeometricScaling.value);const c=ie(l);return this.genGeometry(t,a,i,c)}genGeometry(e,t,n,i){const o=new r.LoY;e.attrName&&(o.name=e.attrName);const a=this.parseGeoNode(e,t),s=this.genBuffers(a),l=new r.qtW(s.vertex,3);if(l.applyMatrix4(i),o.setAttribute("position",l),s.colors.length>0&&o.setAttribute("color",new r.qtW(s.colors,3)),t&&(o.setAttribute("skinIndex",new r.A$4(s.weightsIndices,4)),o.setAttribute("skinWeight",new r.qtW(s.vertexWeights,4)),o.FBX_Deformer=t),s.normal.length>0){const e=(new r.dwI).getNormalMatrix(i),t=new r.qtW(s.normal,3);t.applyNormalMatrix(e),o.setAttribute("normal",t)}if(s.uvs.forEach((function(e,t){const n=0===t?"uv":`uv${t}`;o.setAttribute(n,new r.qtW(s.uvs[t],2))})),a.material&&"AllSame"!==a.material.mappingType){let e=s.materialIndex[0],t=0;if(s.materialIndex.forEach((function(n,r){n!==e&&(o.addGroup(t,r-t,e),e=n,t=r)})),o.groups.length>0){const t=o.groups[o.groups.length-1],n=t.start+t.count;n!==s.materialIndex.length&&o.addGroup(n,s.materialIndex.length-n,e)}0===o.groups.length&&o.addGroup(0,s.materialIndex.length,s.materialIndex[0])}return this.addMorphTargets(o,e,n,i),o}parseGeoNode(e,t){const n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];let t=0;for(;e.LayerElementUV[t];)e.LayerElementUV[t].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[t])),t++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let n=0,r=0,i=!1,o=[],a=[],s=[],l=[],c=[],u=[];const d=this;return e.vertexIndices.forEach((function(h,p){let f,m=!1;h<0&&(h=~h,m=!0);let g=[],v=[];if(o.push(3*h,3*h+1,3*h+2),e.color){const t=te(p,n,h,e.color);s.push(t[0],t[1],t[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){v.push(e.weight),g.push(e.id)})),v.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);const e=[0,0,0,0],t=[0,0,0,0];v.forEach((function(n,r){let i=n,o=g[r];t.forEach((function(t,n,r){if(i>t){r[n]=i,i=t;const a=e[n];e[n]=o,o=a}}))})),g=e,v=t}for(;v.length<4;)v.push(0),g.push(0);for(let e=0;e<4;++e)c.push(v[e]),u.push(g[e])}if(e.normal){const t=te(p,n,h,e.normal);a.push(t[0],t[1],t[2])}e.material&&"AllSame"!==e.material.mappingType&&(f=te(p,n,h,e.material)[0],f<0&&(d.negativeMaterialIndices=!0,f=0)),e.uv&&e.uv.forEach((function(e,t){const r=te(p,n,h,e);void 0===l[t]&&(l[t]=[]),l[t].push(r[0]),l[t].push(r[1])})),r++,m&&(d.genFace(t,e,o,f,a,s,l,c,u,r),n++,r=0,o=[],a=[],s=[],l=[],c=[],u=[])})),t}getNormalNewell(e){const t=new r.Pq0(0,0,0);for(let n=0;n<e.length;n++){const r=e[n],i=e[(n+1)%e.length];t.x+=(r.y-i.y)*(r.z+i.z),t.y+=(r.z-i.z)*(r.x+i.x),t.z+=(r.x-i.x)*(r.y+i.y)}return t.normalize(),t}getNormalTangentAndBitangent(e){const t=this.getNormalNewell(e),n=(Math.abs(t.z)>.5?new r.Pq0(0,1,0):new r.Pq0(0,0,1)).cross(t).normalize(),i=t.clone().cross(n).normalize();return{normal:t,tangent:n,bitangent:i}}flattenVertex(e,t,n){return new r.I9Y(e.dot(t),e.dot(n))}genFace(e,t,n,i,o,a,s,l,c,u){let d;if(u>3){const e=[];for(let s=0;s<n.length;s+=3)e.push(new r.Pq0(t.vertexPositions[n[s]],t.vertexPositions[n[s+1]],t.vertexPositions[n[s+2]]));const{tangent:i,bitangent:o}=this.getNormalTangentAndBitangent(e),a=[];for(const t of e)a.push(this.flattenVertex(t,i,o));d=r.xJ6.triangulateShape(a,[])}else d=[[0,1,2]];for(const[r,h,p]of d)e.vertex.push(t.vertexPositions[n[3*r]]),e.vertex.push(t.vertexPositions[n[3*r+1]]),e.vertex.push(t.vertexPositions[n[3*r+2]]),e.vertex.push(t.vertexPositions[n[3*h]]),e.vertex.push(t.vertexPositions[n[3*h+1]]),e.vertex.push(t.vertexPositions[n[3*h+2]]),e.vertex.push(t.vertexPositions[n[3*p]]),e.vertex.push(t.vertexPositions[n[3*p+1]]),e.vertex.push(t.vertexPositions[n[3*p+2]]),t.skeleton&&(e.vertexWeights.push(l[4*r]),e.vertexWeights.push(l[4*r+1]),e.vertexWeights.push(l[4*r+2]),e.vertexWeights.push(l[4*r+3]),e.vertexWeights.push(l[4*h]),e.vertexWeights.push(l[4*h+1]),e.vertexWeights.push(l[4*h+2]),e.vertexWeights.push(l[4*h+3]),e.vertexWeights.push(l[4*p]),e.vertexWeights.push(l[4*p+1]),e.vertexWeights.push(l[4*p+2]),e.vertexWeights.push(l[4*p+3]),e.weightsIndices.push(c[4*r]),e.weightsIndices.push(c[4*r+1]),e.weightsIndices.push(c[4*r+2]),e.weightsIndices.push(c[4*r+3]),e.weightsIndices.push(c[4*h]),e.weightsIndices.push(c[4*h+1]),e.weightsIndices.push(c[4*h+2]),e.weightsIndices.push(c[4*h+3]),e.weightsIndices.push(c[4*p]),e.weightsIndices.push(c[4*p+1]),e.weightsIndices.push(c[4*p+2]),e.weightsIndices.push(c[4*p+3])),t.color&&(e.colors.push(a[3*r]),e.colors.push(a[3*r+1]),e.colors.push(a[3*r+2]),e.colors.push(a[3*h]),e.colors.push(a[3*h+1]),e.colors.push(a[3*h+2]),e.colors.push(a[3*p]),e.colors.push(a[3*p+1]),e.colors.push(a[3*p+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(o[3*r]),e.normal.push(o[3*r+1]),e.normal.push(o[3*r+2]),e.normal.push(o[3*h]),e.normal.push(o[3*h+1]),e.normal.push(o[3*h+2]),e.normal.push(o[3*p]),e.normal.push(o[3*p+1]),e.normal.push(o[3*p+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(s[n][2*r]),e.uvs[n].push(s[n][2*r+1]),e.uvs[n].push(s[n][2*h]),e.uvs[n].push(s[n][2*h+1]),e.uvs[n].push(s[n][2*p]),e.uvs[n].push(s[n][2*p+1])}))}addMorphTargets(e,t,n,r){if(0===n.length)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const i=this;n.forEach((function(n){n.rawTargets.forEach((function(n){const o=z.Objects.Geometry[n.geoID];void 0!==o&&i.genMorphGeometry(e,t,o,r,n.name)}))}))}genMorphGeometry(e,t,n,i,o){const a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],s=void 0!==n.Vertices?n.Vertices.a:[],l=void 0!==n.Indexes?n.Indexes.a:[],c=3*e.attributes.position.count,u=new Float32Array(c);for(let r=0;r<l.length;r++){const e=3*l[r];u[e]=s[3*r],u[e+1]=s[3*r+1],u[e+2]=s[3*r+2]}const d={vertexIndices:a,vertexPositions:u},h=this.genBuffers(d),p=new r.qtW(h.vertex,3);p.name=o||n.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a;let i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}}parseUVs(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a;let i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}}parseVertexColors(e){const t=e.MappingInformationType,n=e.ReferenceInformationType,i=e.Colors.a;let o=[];"IndexToDirect"===n&&(o=e.ColorIndex.a);for(let a=0,s=new r.Q1f;a<i.length;a+=4)s.fromArray(i,a).convertSRGBToLinear().toArray(i,a);return{dataSize:4,buffer:i,indices:o,mappingType:t,referenceType:n}}parseMaterialIndices(e){const t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};const r=e.Materials.a,i=[];for(let o=0;o<r.length;++o)i.push(o);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}}parseNurbsGeometry(e){const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new r.LoY;const n=t-1,i=e.KnotVector.a,o=[],a=e.Points.a;for(let u=0,d=a.length;u<d;u+=4)o.push((new r.IUQ).fromArray(a,u));let s,l;if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){s=n,l=i.length-1-s;for(let e=0;e<n;++e)o.push(o[e])}const c=new U(n,i,o,s,l).getPoints(12*o.length);return(new r.LoY).setFromPoints(c)}}class q{parse(){const e=[],t=this.parseClips();if(void 0!==t)for(const n in t){const r=t[n],i=this.addClip(r);e.push(i)}return e}parseClips(){if(void 0===z.Objects.AnimationCurve)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=z.Objects.AnimationCurveNode,t=new Map;for(const n in e){const r=e[n];if(null!==r.attrName.match(/S|R|T|DeformPercent/)){const e={id:r.id,attr:r.attrName,curves:{}};t.set(e.id,e)}}return t}parseAnimationCurves(e){const t=z.Objects.AnimationCurve;for(const n in t){const r={id:t[n].id,times:t[n].KeyTime.a.map(Z),values:t[n].KeyValueFloat.a},i=H.get(r.id);if(void 0!==i){const t=i.parents[0].ID,n=i.parents[0].relationship;n.match(/X/)?e.get(t).curves.x=r:n.match(/Y/)?e.get(t).curves.y=r:n.match(/Z/)?e.get(t).curves.z=r:n.match(/DeformPercent/)&&e.has(t)&&(e.get(t).curves.morph=r)}}}parseAnimationLayers(e){const t=z.Objects.AnimationLayer,n=new Map;for(const i in t){const t=[],o=H.get(parseInt(i));if(void 0!==o){o.children.forEach((function(n,i){if(e.has(n.ID)){const o=e.get(n.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===t[i]){const e=H.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==e){const o=z.Objects.Model[e.toString()];if(void 0===o)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",n);const a={modelName:o.attrName?r.Nwf.sanitizeNodeName(o.attrName):"",ID:o.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};V.traverse((function(e){e.ID===o.id&&(a.transform=e.matrix,e.userData.transformData&&(a.eulerOrder=e.userData.transformData.eulerOrder))})),a.transform||(a.transform=new r.kn4),"PreRotation"in o&&(a.preRotation=o.PreRotation.value),"PostRotation"in o&&(a.postRotation=o.PostRotation.value),t[i]=a}}t[i]&&(t[i][o.attr]=o)}else if(void 0!==o.curves.morph){if(void 0===t[i]){const e=H.get(n.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,o=H.get(e).parents[0].ID,a=H.get(o).parents[0].ID,s=H.get(a).parents[0].ID,l=z.Objects.Model[s],c={modelName:l.attrName?r.Nwf.sanitizeNodeName(l.attrName):"",morphName:z.Objects.Deformer[e].attrName};t[i]=c}t[i][o.attr]=o}}})),n.set(parseInt(i),t)}}return n}parseAnimStacks(e){const t=z.Objects.AnimationStack,n={};for(const r in t){const i=H.get(parseInt(r)).children;i.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(i[0].ID);n[r]={name:t[r].attrName,layer:o}}return n}addClip(e){let t=[];const n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new r.tz3(e.name,-1,t)}generateTracks(e){const t=[];let n=new r.Pq0,i=new r.Pq0;if(e.transform&&e.transform.decompose(n,new r.PTz,i),n=n.toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){const r=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==r&&t.push(r)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){const n=this.generateRotationTrack(e.modelName,e.R.curves,e.preRotation,e.postRotation,e.eulerOrder);void 0!==n&&t.push(n)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){const n=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==n&&t.push(n)}if(void 0!==e.DeformPercent){const n=this.generateMorphTrack(e);void 0!==n&&t.push(n)}return t}generateVectorTrack(e,t,n,i){const o=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(o,t,n);return new r.RiT(e+"."+i,o,a)}generateRotationTrack(e,t,n,i,o){let a,s;if(void 0!==t.x&&void 0!==t.y&&void 0!==t.z){const e=this.interpolateRotations(t.x,t.y,t.z,o);a=e[0],s=e[1]}void 0!==n&&((n=n.map(r.cj9.degToRad)).push(o),n=(new r.O9p).fromArray(n),n=(new r.PTz).setFromEuler(n)),void 0!==i&&((i=i.map(r.cj9.degToRad)).push(o),i=(new r.O9p).fromArray(i),i=(new r.PTz).setFromEuler(i).invert());const l=new r.PTz,c=new r.O9p,u=[];if(!s||!a)return new r.MBL(e+".quaternion",[0],[0]);for(let d=0;d<s.length;d+=3){if(c.set(s[d],s[d+1],s[d+2],o),l.setFromEuler(c),void 0!==n&&l.premultiply(n),void 0!==i&&l.multiply(i),d>2){(new r.PTz).fromArray(u,(d-3)/3*4).dot(l)<0&&l.set(-l.x,-l.y,-l.z,-l.w)}l.toArray(u,d/3*4)}return new r.MBL(e+".quaternion",a,u)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,n=t.values.map((function(e){return e/100})),i=V.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new r.Hit(e.modelName+".morphTargetInfluences["+i+"]",t.times,n)}getTimesForAllAxes(e){let t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})),t.length>1){let e=1,n=t[0];for(let r=1;r<t.length;r++){const i=t[r];i!==n&&(t[e]=i,n=i,e++)}t=t.slice(0,e)}return t}getKeyframeTrackValues(e,t,n){const r=n,i=[];let o=-1,a=-1,s=-1;return e.forEach((function(e){if(t.x&&(o=t.x.times.indexOf(e)),t.y&&(a=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==o){const e=t.x.values[o];i.push(e),r[0]=e}else i.push(r[0]);if(-1!==a){const e=t.y.values[a];i.push(e),r[1]=e}else i.push(r[1]);if(-1!==s){const e=t.z.values[s];i.push(e),r[2]=e}else i.push(r[2])})),i}interpolateRotations(e,t,n,i){const o=[],a=[];o.push(e.times[0]),a.push(r.cj9.degToRad(e.values[0])),a.push(r.cj9.degToRad(t.values[0])),a.push(r.cj9.degToRad(n.values[0]));for(let s=1;s<e.values.length;s++){const l=[e.values[s-1],t.values[s-1],n.values[s-1]];if(isNaN(l[0])||isNaN(l[1])||isNaN(l[2]))continue;const c=l.map(r.cj9.degToRad),u=[e.values[s],t.values[s],n.values[s]];if(isNaN(u[0])||isNaN(u[1])||isNaN(u[2]))continue;const d=u.map(r.cj9.degToRad),h=[u[0]-l[0],u[1]-l[1],u[2]-l[2]],p=[Math.abs(h[0]),Math.abs(h[1]),Math.abs(h[2])];if(p[0]>=180||p[1]>=180||p[2]>=180){const t=Math.max(...p)/180,n=new r.O9p(...c,i),l=new r.O9p(...d,i),u=(new r.PTz).setFromEuler(n),h=(new r.PTz).setFromEuler(l);u.dot(h)&&h.set(-h.x,-h.y,-h.z,-h.w);const f=e.times[s-1],m=e.times[s]-f,g=new r.PTz,v=new r.O9p;for(let e=0;e<1;e+=1/t)g.copy(u.clone().slerp(h.clone(),e)),o.push(f+e*m),v.setFromQuaternion(g,i),a.push(v.x),a.push(v.y),a.push(v.z)}else o.push(e.times[s]),a.push(r.cj9.degToRad(e.values[s])),a.push(r.cj9.degToRad(t.values[s])),a.push(r.cj9.degToRad(n.values[s]))}return[o,a]}}class ${getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Y,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){const i=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);if(i||o)return;const a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),l=e.match("^\\t{"+(t.currentIndent-1)+"}}");a?t.parseNodeBegin(e,a):s?t.parseNodeProperty(e,s,n[++r]):l?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)})),this.allNodes}parseNodeBegin(e,t){const n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},o=this.parseNodeAttr(r),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in a?("PoseNode"===n?a.PoseNode.push(i):void 0!==a[n].id&&(a[n]={},a[n][a[n].id]=a[n]),""!==o.id&&(a[n][o.id]=i)):"number"===typeof o.id?(a[n]={},a[n][o.id]=i):"Properties70"!==n&&(a[n]="PoseNode"===n?[i]:i),"number"===typeof o.id&&(i.id=o.id),""!==o.name&&(i.attrName=o.name),""!==o.type&&(i.attrType=o.type),this.pushStack(i)}parseNodeAttr(e){let t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}}parseNodeProperty(e,t,n){let r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if("Properties70"!==o.name){if("C"===r){const e=i.split(",").slice(1),t=parseInt(e[0]),n=parseInt(e[1]);let a=i.split(",").slice(3);a=a.map((function(e){return e.trim().replace(/^"/,"")})),r="connections",i=[t,n],function(e,t){for(let n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}(i,a),void 0===o[r]&&(o[r]=[])}"Node"===r&&(o.id=i),r in o&&Array.isArray(o[r])?o[r].push(i):"a"!==r?o[r]=i:o.a=i,this.setCurrentProp(o,r),"a"===r&&","!==i.slice(-1)&&(o.a=ae(i))}else this.parseNodeSpecialProperty(e,r,i)}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=ae(t.a))}parseNodeSpecialProperty(e,t,n){const r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],o=r[1],a=r[2],s=r[3];let l=r[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":l=parseFloat(l);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":l=ae(l)}this.getPrevNode()[i]={type:o,type2:a,flag:s,value:l},this.setCurrentProp(this.getPrevNode(),i)}}class X{parse(e){const t=new K(e);t.skip(23);const n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);const r=new Y;for(;!this.endOfContent(t);){const e=this.parseNode(t,n);null!==e&&r.add(e.name,e)}return r}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(0===r)return null;const s=[];for(let d=0;d<i;d++)s.push(this.parseProperty(e));const l=s.length>0?s[0]:"",c=s.length>1?s[1]:"",u=s.length>2?s[2]:"";for(n.singleProperty=1===i&&e.getOffset()===r;r>e.getOffset();){const r=this.parseNode(e,t);null!==r&&this.parseSubNode(a,n,r)}return n.propertyList=s,"number"===typeof l&&(n.id=l),""!==c&&(n.attrName=c),""!==u&&(n.attrType=u),""!==a&&(n.name=a),n}parseSubNode(e,t,n){if(!0===n.singleProperty){const e=n.propertyList[0];Array.isArray(e)?(t[n.name]=n,n.a=e):t[n.name]=e}else if("Connections"===e&&"C"===n.name){const e=[];n.propertyList.forEach((function(t,n){0!==n&&e.push(t)})),void 0===t.connections&&(t.connections=[]),t.connections.push(e)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){let e=n.propertyList[0],r=n.propertyList[1];const i=n.propertyList[2],o=n.propertyList[3];let a;0===e.indexOf("Lcl ")&&(e=e.replace("Lcl ","Lcl_")),0===r.indexOf("Lcl ")&&(r=r.replace("Lcl ","Lcl_")),a="Color"===r||"ColorRGB"===r||"Vector"===r||"Vector3D"===r||0===r.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[e]={type:r,type2:i,flag:o,value:a}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)}parseProperty(e){const t=e.getString(1);let n;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return n=e.getUint32(),e.getArrayBuffer(n);case"S":return n=e.getUint32(),e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const r=e.getUint32(),i=e.getUint32(),o=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}const a=O(new Uint8Array(e.getArrayBuffer(o))),s=new K(a.buffer);switch(t){case"b":case"c":return s.getBooleanArray(r);case"d":return s.getFloat64Array(r);case"f":return s.getFloat32Array(r);case"i":return s.getInt32Array(r);case"l":return s.getInt64Array(r)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class K{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return 1===(1&this.getUint8())}getBooleanArray(e){const t=[];for(let n=0;n<e;n++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e}getInt64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let n=0;n<e;n++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){const t=this.offset;let n=new Uint8Array(this.dv.buffer,t,e);this.skip(e);const r=n.indexOf(0);return r>=0&&(n=new Uint8Array(this.dv.buffer,t,r)),this._textDecoder.decode(n)}}class Y{add(e,t){this[e]=t}}function J(e){const t=e.match(/FBXVersion: (\d+)/);if(t){return parseInt(t[1])}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Z(e){return e/46186158e3}const ee=[];function te(e,t,n,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);const o=i*r.dataSize,a=o+r.dataSize;return function(e,t,n,r){for(let i=n,o=0;i<r;i++,o++)e[o]=t[i];return e}(ee,r.buffer,o,a)}const ne=new r.O9p,re=new r.Pq0;function ie(e){const t=new r.kn4,n=new r.kn4,i=new r.kn4,o=new r.kn4,a=new r.kn4,s=new r.kn4,l=new r.kn4,c=new r.kn4,u=new r.kn4,d=new r.kn4,h=new r.kn4,p=new r.kn4,f=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(re.fromArray(e.translation)),e.preRotation){const t=e.preRotation.map(r.cj9.degToRad);t.push(e.eulerOrder||r.O9p.DEFAULT_ORDER),n.makeRotationFromEuler(ne.fromArray(t))}if(e.rotation){const t=e.rotation.map(r.cj9.degToRad);t.push(e.eulerOrder||r.O9p.DEFAULT_ORDER),i.makeRotationFromEuler(ne.fromArray(t))}if(e.postRotation){const t=e.postRotation.map(r.cj9.degToRad);t.push(e.eulerOrder||r.O9p.DEFAULT_ORDER),o.makeRotationFromEuler(ne.fromArray(t)),o.invert()}e.scale&&a.scale(re.fromArray(e.scale)),e.scalingOffset&&l.setPosition(re.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(re.fromArray(e.scalingPivot)),e.rotationOffset&&c.setPosition(re.fromArray(e.rotationOffset)),e.rotationPivot&&u.setPosition(re.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(h.copy(e.parentMatrix),d.copy(e.parentMatrixWorld));const m=n.clone().multiply(i).multiply(o),g=new r.kn4;g.extractRotation(d);const v=new r.kn4;v.copyPosition(d);const y=v.clone().invert().multiply(d),b=g.clone().invert().multiply(y),A=a,x=new r.kn4;if(0===f)x.copy(g).multiply(m).multiply(b).multiply(A);else if(1===f)x.copy(g).multiply(b).multiply(m).multiply(A);else{const e=(new r.kn4).scale((new r.Pq0).setFromMatrixScale(h)).clone().invert(),t=b.clone().multiply(e);x.copy(g).multiply(m).multiply(t).multiply(A)}const w=u.clone().invert(),C=s.clone().invert();let E=t.clone().multiply(c).multiply(u).multiply(n).multiply(i).multiply(o).multiply(w).multiply(l).multiply(s).multiply(a).multiply(C);const S=(new r.kn4).copyPosition(E),_=d.clone().multiply(S);return p.copyPosition(_),E=p.clone().multiply(x),E.premultiply(d.invert()),E}function oe(e){const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function ae(e){return e.split(",").map((function(e){return parseFloat(e)}))}function se(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),(new TextDecoder).decode(new Uint8Array(e,t,n))}THREE.FBXLoader=G,AFRAME.registerComponent("fbx-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){const e=this.data;if(!e.src)return;this.remove();const t=new THREE.FBXLoader;e.crossorigin&&t.setCrossOrigin(e.crossorigin),t.load(e.src,this.load.bind(this))},load:function(e){this.model=e,this.el.setObject3D("mesh",e),this.el.emit("model-loaded",{format:"fbx",model:e})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},5484:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},5509:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Lift_Mk6.a7942116c0915582adcf.png"},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5591:e=>{e.exports=Object.assign((function(){}),{FACE_1:0,FACE_2:1,FACE_3:2,FACE_4:3,L_SHOULDER_1:4,R_SHOULDER_1:5,L_SHOULDER_2:6,R_SHOULDER_2:7,SELECT:8,START:9,DPAD_UP:12,DPAD_DOWN:13,DPAD_LEFT:14,DPAD_RIGHT:15,VENDOR:16})},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5701:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Pipeline_Junction.2e26031be6964cdb8283.png"},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(o)var b=l?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var A=e.constructor,x=t.constructor;A==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},5753:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Quantum_Encoder.2a537f97dff87718a4ec.png"},5791:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},5921:(e,t,n)=>{var r=n(449),i=n(7574),o=n(6832),a=o&&o.isSet,s=a?i(a):r;e.exports=s},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6047:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Smelter.486d6617ee8a32e402f4.png"},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6253:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Lift_Mk1.b8426ebc3189c64fa137.png"},6265:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Belt_Mk6.1208dbd0630061a9be47.png"},6305:(e,t,n)=>{var r=n(3738).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6326:(e,t,n)=>{var r=n(8895),i=n(5990),o=n(9621),a=n(7828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return v(e)===o}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),A=y?h:s(e),x=b?h:s(t),w=(A=A==d?p:A)==p,C=(x=x==d?p:x)==p,E=A==x;if(E&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(E&&!w)return v||(v=new r),y||u(e)?i(e,t,n,m,g,v):o(e,t,A,n,m,g,v);if(!(1&n)){var S=w&&f.call(e,"__wrapped__"),_=C&&f.call(t,"__wrapped__");if(S||_){var M=S?e.value():e,I=_?t.value():t;return v||(v=new r),g(M,I,n,m,v)}}return!!E&&(v||(v=new r),a(e,t,n,m,g,v))}},6403:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},6434:(e,t,n)=>{var r=n(7132);e.exports=function(e){return r(e,5)}},6491:e=>{e.exports=AFRAME.registerComponent("checkpoint-controls",{schema:{enabled:{default:!0},mode:{default:"teleport",oneOf:["teleport","animate"]},animateSpeed:{default:3}},init:function(){this.active=!0,this.checkpoint=null,this.isNavMeshConstrained=!1,this.offset=new THREE.Vector3,this.position=new THREE.Vector3,this.targetPosition=new THREE.Vector3},play:function(){this.active=!0},pause:function(){this.active=!1},setCheckpoint:function(e){const t=this.el;this.active&&this.checkpoint!==e&&(this.checkpoint&&t.emit("navigation-end",{checkpoint:this.checkpoint}),this.checkpoint=e,this.sync(),this.position.distanceTo(this.targetPosition)<.1?this.checkpoint=null:(t.emit("navigation-start",{checkpoint:e}),"teleport"===this.data.mode&&(this.el.setAttribute("position",this.targetPosition),this.checkpoint=null,t.emit("navigation-end",{checkpoint:e}),t.components["movement-controls"].updateNavLocation())))},isVelocityActive:function(){return!(!this.active||!this.checkpoint)},getVelocity:function(){if(!this.active)return;const e=this.data,t=this.offset,n=this.position,r=this.targetPosition,i=this.checkpoint;return this.sync(),n.distanceTo(r)<.1?(this.checkpoint=null,this.el.emit("navigation-end",{checkpoint:i}),t.set(0,0,0)):(t.setLength(e.animateSpeed),t)},sync:function(){const e=this.offset,t=this.position,n=this.targetPosition;t.copy(this.el.getAttribute("position")),this.checkpoint.object3D.getWorldPosition(n),n.add(this.checkpoint.components.checkpoint.getOffset()),e.copy(n).sub(t)}})},6493:(e,t,n)=>{"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!==typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};i(n(5043));var r=i(n(5173));function i(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(o)var f=o(d,h,u,e,t,p);if(!(void 0===f?i(h,d,3,o,p):f))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6601:e=>{window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,i=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},o=function(e){return e*(Math.PI/180)},a=function(e){return e*(180/Math.PI)},s=new Map,l=function(e){s.has(e)&&clearTimeout(s.get(e)),s.set(e,setTimeout(e,100))},c=function(e,t,n){for(var r,i=t.split(/[ ,]+/g),o=0;o<i.length;o+=1)r=i[o],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n)},u=function(e,t,n){for(var r,i=t.split(/[ ,]+/g),o=0;o<i.length;o+=1)r=i[o],e.removeEventListener?e.removeEventListener(r,n):e.detachEvent&&e.detachEvent(r,n)},d=function(e){return e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e},h=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},p=function(e,t){t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},f=function(e,t,n){var r=m(e);for(var i in r)if(r.hasOwnProperty(i))if("string"==typeof t)r[i]=t+" "+n;else{for(var o="",a=0,s=t.length;a<s;a+=1)o+=t[a]+" "+n+", ";r[i]=o.slice(0,-2)}return r},m=function(e){var t={};return t[e]="",["webkit","Moz","o"].forEach((function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""})),t},g=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},v=function(e,t){if(e.length)for(var n=0,r=e.length;n<r;n+=1)t(e[n]);else t(e)},y=!!("ontouchstart"in window),b=!!window.PointerEvent,A=!!window.MSPointerEvent,x={start:"mousedown",move:"mousemove",end:"mouseup"},w={};function C(){}b?r={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:A?r={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:y?(r={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},w=x):r=x,C.prototype.on=function(e,t){var n,r=e.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var i=0;i<r.length;i+=1)n=r[i],this._handlers_[n]=this._handlers_[n]||[],this._handlers_[n].push(t);return this},C.prototype.off=function(e,t){return this._handlers_=this._handlers_||{},void 0===e?this._handlers_={}:void 0===t?this._handlers_[e]=null:this._handlers_[e]&&this._handlers_[e].indexOf(t)>=0&&this._handlers_[e].splice(this._handlers_[e].indexOf(t),1),this},C.prototype.trigger=function(e,t){var n,r=this,i=e.split(/[ ,]+/g);r._handlers_=r._handlers_||{};for(var o=0;o<i.length;o+=1)n=i[o],r._handlers_[n]&&r._handlers_[n].length&&r._handlers_[n].forEach((function(e){e.call(r,{type:n,target:r},t)}))},C.prototype.config=function(e){this.options=this.defaults||{},e&&(this.options=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)?n[r]=t[r]:e.hasOwnProperty(r)&&(n[r]=e[r]);return n}(this.options,e))},C.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},c(e,r[t],n._domHandlers_[t]),w[t]&&c(e,w[t],n._domHandlers_[t]),n},C.prototype.unbindEvt=function(e,t){return this._domHandlers_=this._domHandlers_||{},u(e,r[t],this._domHandlers_[t]),w[t]&&u(e,w[t],this._domHandlers_[t]),delete this._domHandlers_[t],this};var E=C;function S(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=S.id,S.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}S.prototype=new E,S.constructor=S,S.id=0,S.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},S.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=function(e,t){var n=m("borderRadius");for(var r in n)n.hasOwnProperty(r)&&(n[r]=t);return n}(0,"50%"),n=f("transition","opacity",e),r={};return r.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},r.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",left:0,marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},r.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",left:0,marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5",transform:"translate(0px, 0px)"},g(r.el,n),"circle"===this.options.shape&&g(r.back,t),g(r.front,t),this.applyStyles(r),this},S.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},S.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},S.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},S.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},S.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout((function(){t.ui.el.style.opacity=1}),0),t.showTimeout=setTimeout((function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)}),t.options.fadeTime)),t},S.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout((function(){var n="dynamic"===t.options.mode?"none":"block";t.ui.el.style.display=n,"function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)}),t.options.fadeTime),t.options.restJoystick){var n=t.options.restJoystick,r={};r.x=!0===n||!1!==n.x?0:t.instance.frontPosition.x,r.y=!0===n||!1!==n.y?0:t.instance.frontPosition.y,t.setPosition(e,r)}return t},S.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var r=n.options.fadeTime+"ms",i={};i.front=f("transition",["transform"],r);var o={front:{}};o.front={transform:"translate("+n.frontPosition.x+"px,"+n.frontPosition.y+"px)"},n.applyStyles(i),n.applyStyles(o),n.restTimeout=setTimeout((function(){"function"==typeof e&&e.call(n),n.restCallback()}),n.options.fadeTime)},S.prototype.restCallback=function(){var e={};e.front=f("transition","none",""),this.applyStyles(e),this.trigger("rested",this.instance)},S.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},S.prototype.computeDirection=function(e){var t,n,r,i=e.angle.radian,o=Math.PI/4,a=Math.PI/2;if(i>o&&i<3*o&&!e.lockX?t="up":i>-o&&i<=o&&!e.lockY?t="left":i>3*-o&&i<=-o&&!e.lockX?t="down":e.lockY||(t="right"),e.lockY||(n=i>-a&&i<a?"left":"right"),e.lockX||(r=i>0?"up":"down"),e.force>this.options.threshold){var s,l={};for(s in this.direction)this.direction.hasOwnProperty(s)&&(l[s]=this.direction[s]);var c={};for(s in this.direction={x:n,y:r,angle:t},e.direction=this.direction,l)l[s]===this.direction[s]&&(c[s]=!0);if(c.x&&c.y&&c.angle)return e;c.x&&c.y||this.trigger("plain",e),c.x||this.trigger("plain:"+n,e),c.y||this.trigger("plain:"+r,e),c.angle||this.trigger("dir dir:"+t,e)}else this.resetDirection();return e};var _=S;function M(e,t){this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=e,this.id=M.id,M.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},this.config(t),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1);var n=getComputedStyle(this.options.zone.parentElement);return n&&"flex"===n.display&&(this.parentIsFlex=!0),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}M.prototype=new E,M.constructor=M,M.id=0,M.prototype.prepareNipples=function(){var e=this.nipples;e.on=this.on.bind(this),e.off=this.off.bind(this),e.options=this.options,e.destroy=this.destroy.bind(this),e.ids=this.ids,e.id=this.id,e.processOnMove=this.processOnMove.bind(this),e.processOnEnd=this.processOnEnd.bind(this),e.get=function(t){if(void 0===t)return e[0];for(var n=0,r=e.length;n<r;n+=1)if(e[n].identifier===t)return e[n];return!1}},M.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},M.prototype.begin=function(){var e=this.options;if("static"===e.mode){var t=this.createNipple(e.position,this.manager.getIdentifier());t.add(),this.idles.push(t)}},M.prototype.createNipple=function(e,t){var n=this.manager.scroll,r={},i=this.options,o=this.parentIsFlex?n.x:n.x+this.box.left,a=this.parentIsFlex?n.y:n.y+this.box.top;if(e.x&&e.y)r={x:e.x-o,y:e.y-a};else if(e.top||e.right||e.bottom||e.left){var s=document.createElement("DIV");s.style.display="hidden",s.style.top=e.top,s.style.right=e.right,s.style.bottom=e.bottom,s.style.left=e.left,s.style.position="absolute",i.zone.appendChild(s);var l=s.getBoundingClientRect();i.zone.removeChild(s),r=e,e={x:l.left+n.x,y:l.top+n.y}}var c=new _(this,{color:i.color,size:i.size,threshold:i.threshold,fadeTime:i.fadeTime,dataOnly:i.dataOnly,restJoystick:i.restJoystick,restOpacity:i.restOpacity,mode:i.mode,identifier:t,position:e,zone:i.zone,frontPosition:{x:0,y:0},shape:i.shape});return i.dataOnly||(p(c.ui.el,r),p(c.ui.front,c.frontPosition)),this.nipples.push(c),this.trigger("added "+c.identifier+":added",c),this.manager.trigger("added "+c.identifier+":added",c),this.bindNipple(c),c},M.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},M.prototype.bindNipple=function(e){var t,n=this,r=function(e,r){t=e.type+" "+r.id+":"+e.type,n.trigger(t,r)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",r),e.on("dir:up dir:right dir:down dir:left",r),e.on("plain:up plain:right plain:down plain:left",r)},M.prototype.pressureFn=function(e,t,n){var r=this,i=0;clearInterval(r.pressureIntervals[n]),r.pressureIntervals[n]=setInterval(function(){var n=e.force||e.pressure||e.webkitForce||0;n!==i&&(t.trigger("pressure",n),r.trigger("pressure "+t.identifier+":pressure",n),i=n)}.bind(r),100)},M.prototype.onstart=function(e){var t=this,n=t.options,r=e;return e=d(e),t.updateBox(),v(e,(function(i){t.actives.length<n.maxNumberOfNipples?t.processOnStart(i):r.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach((function(n){if(Object.values(r.touches).findIndex((function(e){return e.identifier===n}))<0){var i=[e[0]];i.identifier=n,t.processOnEnd(i)}})),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(i))})),t.manager.bindDocument(),!1},M.prototype.processOnStart=function(e){var t,n=this,r=n.options,o=n.manager.getIdentifier(e),a=e.force||e.pressure||e.webkitForce||0,s={x:e.pageX,y:e.pageY},l=n.getOrCreate(o,s);l.identifier!==o&&n.manager.removeIdentifier(l.identifier),l.identifier=o;var c=function(t){t.trigger("start",t),n.trigger("start "+t.id+":start",t),t.show(),a>0&&n.pressureFn(e,t,t.identifier),n.processOnMove(e)};if((t=n.idles.indexOf(l))>=0&&n.idles.splice(t,1),n.actives.push(l),n.ids.push(l.identifier),"semi"!==r.mode)c(l);else{if(!(i(s,l.position)<=r.catchDistance))return l.destroy(),void n.processOnStart(e);c(l)}return l},M.prototype.getOrCreate=function(e,t){var n,r=this.options;return/(semi|static)/.test(r.mode)?(n=this.idles[0])?(this.idles.splice(0,1),n):"semi"===r.mode?this.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):n=this.createNipple(t,e)},M.prototype.processOnMove=function(e){var t=this.options,n=this.manager.getIdentifier(e),r=this.nipples.get(n),s=this.manager.scroll;if(function(e){return isNaN(e.buttons)?0!==e.pressure:0!==e.buttons}(e)){if(!r)return console.error("Found zombie joystick with ID "+n),void this.manager.removeIdentifier(n);if(t.dynamicPage){var l=r.el.getBoundingClientRect();r.position={x:s.x+l.left,y:s.y+l.top}}r.identifier=n;var c=r.options.size/2,u={x:e.pageX,y:e.pageY};t.lockX&&(u.y=r.position.y),t.lockY&&(u.x=r.position.x);var d,h,p,f,m,g,v,y,b,A,x=i(u,r.position),w=(d=u,p=(h=r.position).x-d.x,f=h.y-d.y,a(Math.atan2(f,p))),C=o(w),E=x/c,S={distance:x,position:u};if("circle"===r.options.shape?(m=Math.min(x,c),v=r.position,y=m,A={x:0,y:0},b=o(b=w),A.x=v.x-y*Math.cos(b),A.y=v.y-y*Math.sin(b),g=A):(g=function(e,t,n){return{x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)}}(u,r.position,c),m=i(g,r.position)),t.follow){if(x>c){var _=u.x-g.x,M=u.y-g.y;r.position.x+=_,r.position.y+=M,r.el.style.top=r.position.y-(this.box.top+s.y)+"px",r.el.style.left=r.position.x-(this.box.left+s.x)+"px",x=i(u,r.position)}}else u=g,x=m;var I=u.x-r.position.x,T=u.y-r.position.y;r.frontPosition={x:I,y:T},t.dataOnly||(r.ui.front.style.transform="translate("+I+"px,"+T+"px)");var R={identifier:r.identifier,position:u,force:E,pressure:e.force||e.pressure||e.webkitForce||0,distance:x,angle:{radian:C,degree:w},vector:{x:I/c,y:-T/c},raw:S,instance:r,lockX:t.lockX,lockY:t.lockY};(R=r.computeDirection(R)).angle={radian:o(180-w),degree:180-w},r.trigger("move",R),this.trigger("move "+r.id+":move",R)}else this.processOnEnd(e)},M.prototype.processOnEnd=function(e){var t=this,n=t.options,r=t.manager.getIdentifier(e),i=t.nipples.get(r),o=t.manager.removeIdentifier(i.identifier);i&&(n.dataOnly||i.hide((function(){"dynamic"===n.mode&&(i.trigger("removed",i),t.trigger("removed "+i.id+":removed",i),t.manager.trigger("removed "+i.id+":removed",i),i.destroy())})),clearInterval(t.pressureIntervals[i.identifier]),i.resetDirection(),i.trigger("end",i),t.trigger("end "+i.id+":end",i),t.ids.indexOf(i.identifier)>=0&&t.ids.splice(t.ids.indexOf(i.identifier),1),t.actives.indexOf(i)>=0&&t.actives.splice(t.actives.indexOf(i),1),/(semi|static)/.test(n.mode)?t.idles.push(i):t.nipples.indexOf(i)>=0&&t.nipples.splice(t.nipples.indexOf(i),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[o.id]=o.identifier))},M.prototype.onDestroyed=function(e,t){this.nipples.indexOf(t)>=0&&this.nipples.splice(this.nipples.indexOf(t),1),this.actives.indexOf(t)>=0&&this.actives.splice(this.actives.indexOf(t),1),this.idles.indexOf(t)>=0&&this.idles.splice(this.idles.indexOf(t),1),this.ids.indexOf(t.identifier)>=0&&this.ids.splice(this.ids.indexOf(t.identifier),1),this.manager.removeIdentifier(t.identifier),this.manager.unbindDocument()},M.prototype.destroy=function(){for(var e in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach((function(e){e.destroy()})),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(e)&&clearInterval(this.pressureIntervals[e]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var I=M;function T(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=h(),t.config(e),t.prepareCollections();var n=function(){var e;t.collections.forEach((function(n){n.forEach((function(n){e=n.el.getBoundingClientRect(),n.position={x:t.scroll.x+e.left,y:t.scroll.y+e.top}}))}))};c(window,"resize",(function(){l(n)}));var r=function(){t.scroll=h()};return c(window,"scroll",(function(){l(r)})),t.collections}T.prototype=new E,T.constructor=T,T.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every((function(e){return!(n=e.get(t))})),n}},T.prototype.create=function(e){return this.createCollection(e)},T.prototype.createCollection=function(e){var t=new I(this,e);return this.bindCollection(t),this.collections.push(t),t},T.prototype.bindCollection=function(e){var t,n=this,r=function(e,r){t=e.type+" "+r.id+":"+e.type,n.trigger(t,r)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",r),e.on("dir:up dir:right dir:down dir:left",r),e.on("plain:up plain:right plain:down plain:left",r)},T.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},T.prototype.unbindDocument=function(e){Object.keys(this.ids).length&&!0!==e||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},T.prototype.getIdentifier=function(e){var t;return e?void 0===(t=void 0===e.identifier?e.pointerId:e.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},T.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},T.prototype.onmove=function(e){return this.onAny("move",e),!1},T.prototype.onend=function(e){return this.onAny("end",e),!1},T.prototype.oncancel=function(e){return this.onAny("end",e),!1},T.prototype.onAny=function(e,t){var n,r=this,i="processOn"+e.charAt(0).toUpperCase()+e.slice(1);return t=d(t),v(t,(function(e){n=r.getIdentifier(e),v(r.collections,function(e,t,n){n.ids.indexOf(t)>=0&&(n[i](e),e._found_=!0)}.bind(null,e,n)),e._found_||r.removeIdentifier(n)})),!1},T.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach((function(e){e.destroy()})),this.off()},T.prototype.onDestroyed=function(e,t){if(this.collections.indexOf(t)<0)return!1;this.collections.splice(this.collections.indexOf(t),1)};var R=new T;t.default={create:function(e){return R.create(e)},factory:R}}]).default},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6614:(e,t,n)=>{var r=n(8420),i=n(1775);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6696:e=>{e.exports.Primitive=AFRAME.registerPrimitive("a-ocean",{defaultComponents:{ocean:{},rotation:{x:-90,y:0,z:0}},mappings:{width:"ocean.width",depth:"ocean.depth",density:"ocean.density",amplitude:"ocean.amplitude",amplitudeVariance:"ocean.amplitudeVariance",speed:"ocean.speed",speedVariance:"ocean.speedVariance",color:"ocean.color",opacity:"ocean.opacity"}}),e.exports.Component=AFRAME.registerComponent("ocean",{schema:{width:{default:10,min:0},depth:{default:10,min:0},density:{default:10},amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:1},speedVariance:{default:2},color:{default:"#7AD2F7",type:"color"},opacity:{default:.8}},play:function(){const e=this.el,t=this.data;let n=e.components.material;const r=new THREE.PlaneGeometry(t.width,t.depth,t.density,t.density);this.waves=[];const i=r.getAttribute("position");for(let o=0;o<i.count;o++)this.waves.push({z:i.getZ(o),ang:Math.random()*Math.PI*2,amp:t.amplitude+Math.random()*t.amplitudeVariance,speed:(t.speed+Math.random()*t.speedVariance)/1e3});n||(n={},n.material=new THREE.MeshPhongMaterial({color:t.color,transparent:t.opacity<1,opacity:t.opacity,flatShading:!0})),this.mesh=new THREE.Mesh(r,n.material),e.setObject3D("mesh",this.mesh)},remove:function(){this.el.removeObject3D("mesh")},tick:function(e,t){if(!t)return;const n=this.mesh.geometry.getAttribute("position");for(let r=0;r<n.count;r++){const e=this.waves[r],i=e.z+Math.sin(e.ang)*e.amp;n.setZ(r,i),e.ang+=e.speed*t}n.needsUpdate=!0}})},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),o=n(3279);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},6806:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6808:e=>{e.exports=AFRAME.registerPrimitive("a-grid",{defaultComponents:{geometry:{primitive:"plane",width:75,height:75},rotation:{x:-90,y:0,z:0},material:{src:"url(https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v1.16.3/assets/grid.png)",repeat:"75 75"}},mappings:{width:"geometry.width",height:"geometry.height",src:"material.src"}})},6817:(e,t,n)=>{const{Pathfinding:r}=n(4677),i=new r,o="level";e.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set},setNavMeshGeometry:function(e){this.navMesh=new THREE.Mesh(e),i.setZoneData(o,r.createZone(e)),Array.from(this.agents).forEach((e=>e.updateNavLocation()))},getNavMesh:function(){return this.navMesh},addAgent:function(e){this.agents.add(e)},removeAgent:function(e){this.agents.delete(e)},getPath:function(e,t,n){return this.navMesh?i.findPath(e,t,o,n):null},getGroup:function(e){return this.navMesh?i.getGroup(o,e):null},getNode:function(e,t){return this.navMesh?i.getClosestNode(e,o,t,!0):null},clampStep:function(e,t,n,r,a){return this.navMesh?r?i.clampStep(e,t,r,o,n,a):(a.copy(t),this.getNode(t,n)):(a.copy(t),null)}})},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),A=l;(r&&A(new r(new ArrayBuffer(1)))!=f||i&&A(new i)!=u||o&&A(o.resolve())!=d||a&&A(new a)!=h||s&&A(new s)!=p)&&(A=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case y:return h;case b:return p}return t}),e.exports=A},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7108:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Space_Elevator.bc8fbb81bd6f0082452c.png"},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},7132:(e,t,n)=>{var r=n(5538),i=n(726),o=n(8420),a=n(1104),s=n(5119),l=n(4353),c=n(1980),u=n(8124),d=n(9075),h=n(9395),p=n(8592),f=n(6924),m=n(8268),g=n(8630),v=n(310),y=n(4052),b=n(4543),A=n(7887),x=n(6686),w=n(5921),C=n(8673),E=n(474),S="[object Arguments]",_="[object Function]",M="[object Object]",I={};I[S]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[M]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[_]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,T,R,k,P){var B,O=1&n,L=2&n,D=4&n;if(T&&(B=k?T(t,R,k,P):T(t)),void 0!==B)return B;if(!x(t))return t;var N=y(t);if(N){if(B=m(t),!O)return c(t,B)}else{var F=f(t),j=F==_||"[object GeneratorFunction]"==F;if(b(t))return l(t,O);if(F==M||F==S||j&&!k){if(B=L||j?{}:v(t),!O)return L?d(t,s(B,t)):u(t,a(B,t))}else{if(!I[F])return k?t:{};B=g(t,F,O)}}P||(P=new r);var U=P.get(t);if(U)return U;P.set(t,B),w(t)?t.forEach((function(r){B.add(e(r,n,T,r,t,P))})):A(t)&&t.forEach((function(r,i){B.set(i,e(r,n,T,i,t,P))}));var z=N?void 0:(D?L?p:h:L?E:C)(t);return i(z||t,(function(r,i){z&&(r=t[i=r]),o(B,i,e(r,n,T,i,t,P))})),B}},7140:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Splitter.50503c13a718304ba3f2.png"},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function A(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,A(e),!m)if(null!==r(c))m=!0,B(w);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(_),_=-1),f=!0;var o=p;try{for(A(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),A(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,S=null,_=-1,M=5,I=-1;function T(){return!(t.unstable_now()-I<M)}function R(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?C():(E=!1,S=null)}}else E=!1}if("function"===typeof b)C=function(){b(R)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,P=k.port2;k.port1.onmessage=R,C=function(){P.postMessage(null)}}else C=function(){v(R,0)};function B(e){S=e,E||(E=!0,C())}function O(e,n){_=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,B(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(_),_=-1):g=!0,O(x,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,B(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7432:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7486:(e,t,n)=>{n(172),n(8726),n(5227),n(9081),n(7615)},7498:e=>{e.exports=function(e,t){return e>t}},7514:(e,t,n)=>{"use strict";t.H8=void 0;var r=c(n(218)),i=c(n(9144)),o=c(n(9211)),a=c(n(4157)),s=c(n(4973)),l=c(n(7642));function c(e){return e&&e.__esModule?e:{default:e}}a.default,t.H8=a.default,s.default,l.default;var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,i.default)(e,s);return(0,o.default)(l)};t.Ay=u},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:e=>{e.exports=AFRAME.registerComponent("object-model",{schema:{src:{type:"asset"},crossorigin:{default:""}},init:function(){this.model=null},update:function(){let e;const t=this.data;t.src&&(this.remove(),e=new THREE.ObjectLoader,t.crossorigin&&e.setCrossOrigin(t.crossorigin),e.load(t.src,(e=>{e.traverse((e=>{e instanceof THREE.SkinnedMesh&&e.material&&(e.material.skinning=!!(e.geometry&&e.geometry.bones||[]).length)})),this.load(e)})))},load:function(e){this.model=e,this.el.setObject3D("mesh",e),this.el.emit("model-loaded",{format:"json",model:e})},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},7642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7887:(e,t,n)=>{var r=n(5791),i=n(7574),o=n(6832),a=o&&o.isMap,s=a?i(a):r;e.exports=s},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7998:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(9066)),o=h(n(6403)),a=h(n(2647)),s=n(1933),l=h(n(5043)),c=h(n(5173)),u=n(7950),d=n(6493);function h(e){return e&&e.__esModule?e:{default:e}}var p=[];s.transitionEnd&&p.push(s.transitionEnd),s.animationEnd&&p.push(s.animationEnd);c.default.node,d.nameShape.isRequired,c.default.bool,c.default.bool,c.default.bool,c.default.number,c.default.number,c.default.number;var f=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));return i.componentWillAppear=function(e){i.props.appear?i.transition("appear",e,i.props.appearTimeout):e()},i.componentWillEnter=function(e){i.props.enter?i.transition("enter",e,i.props.enterTimeout):e()},i.componentWillLeave=function(e){i.props.leave?i.transition("leave",e,i.props.leaveTimeout):e()},i.classNameAndNodeQueue=[],i.transitionTimeouts=[],i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||a+"-active",c=null,d=void 0;(0,i.default)(r,a),this.queueClassAndNode(l,r);var h=function(e){e&&e.target!==r||(clearTimeout(c),d&&d(),(0,o.default)(r,a),(0,o.default)(r,l),d&&d(),t&&t())};n?(c=setTimeout(h,n),this.transitionTimeouts.push(c)):s.transitionEnd&&(d=function(e,t){return p.length?p.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){p.length&&p.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}(r,h))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)((function(){return n.flushClassNameAndNodeQueue()})))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,i.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,l.default.cloneElement(l.default.Children.only(this.props.children),e)},t}(l.default.Component);f.displayName="CSSTransitionGroupChild",f.propTypes={},t.default=f,e.exports=t.default},8007:(e,t,n)=>{"use strict";n.r(t);var r=n(6601),i=n.n(r);AFRAME.registerComponent("nipple-controls",{schema:{enabled:{default:!0},mode:{default:"dynamic",oneOf:["static","semi","dynamic"]},rotationSensitivity:{default:1},moveJoystickEnabled:{default:!0},lookJoystickEnabled:{default:!0},sideMargin:{default:"30px"},bottomMargin:{default:"70px"},moveJoystickPosition:{default:"left",oneOf:["left","right"]},lookJoystickPosition:{default:"right",oneOf:["left","right"]}},init(){this.dVelocity=new THREE.Vector3,this.lookVector=new THREE.Vector2;const e=this.el.querySelector("[look-controls]").components["look-controls"];this.pitchObject=e.pitchObject,this.yawObject=e.yawObject,this.rigRotation=this.el.object3D.rotation,this.moveData=void 0,this.lookData=void 0,this.moving=!1,this.rotating=!1},update(e){this.data.moveJoystickPosition===e.moveJoystickPosition&&this.data.sideMargin===e.sideMargin&&this.data.bottomMargin===e.bottomMargin&&this.data.mode===e.mode||this.removeMoveJoystick(),this.data.lookJoystickPosition===e.lookJoystickPosition&&this.data.sideMargin===e.sideMargin&&this.data.bottomMargin===e.bottomMargin&&this.data.mode===e.mode||this.removeLookJoystick(),this.data.enabled&&this.data.moveJoystickEnabled?this.createMoveJoystick():this.removeMoveJoystick(),this.data.enabled&&this.data.lookJoystickEnabled?this.createLookJoystick():this.removeLookJoystick()},pause(){this.moving=!1,this.rotating=!1},remove(){this.removeMoveJoystick(),this.removeLookJoystick()},isVelocityActive(){return this.data.enabled&&this.moving},getVelocityDelta(){if(this.dVelocity.set(0,0,0),this.isVelocityActive()){const e=this.moveData.force<1?this.moveData.force:1,t=this.moveData.angle.radian,n=Math.cos(t)*e,r=-Math.sin(t)*e;this.dVelocity.set(n,0,r)}return this.dVelocity},isRotationActive(){return this.data.enabled&&this.rotating},updateRotation(e){if(!this.isRotationActive())return;const t=this.lookData.force<1?this.lookData.force:1,n=this.lookData.angle.radian,r=this.lookVector;r.x=Math.cos(n)*t,r.y=Math.sin(n)*t,r.multiplyScalar(this.data.rotationSensitivity*e/1e3),this.yawObject.rotation.y-=r.x;let i=this.pitchObject.rotation.x+r.y;i=Math.max(-Math.PI/2,Math.min(Math.PI/2,i)),this.pitchObject.rotation.x=i},tick:function(e,t){this.updateRotation(t)},initLeftZone(){const e=document.createElement("div");e.setAttribute("id","joystickLeftZone"),e.setAttribute("style",`position:absolute;${this.data.moveJoystickPosition}:${this.data.sideMargin};bottom:${this.data.bottomMargin};z-index:1`),document.body.appendChild(e),this.leftZone=e},initRightZone(){const e=document.createElement("div");e.setAttribute("id","joystickRightZone"),e.setAttribute("style",`position:absolute;${this.data.lookJoystickPosition}:${this.data.sideMargin};bottom:${this.data.bottomMargin};z-index:1`),document.body.appendChild(e),this.rightZone=e},createMoveJoystick(){if(this.moveJoystick)return;this.initLeftZone();const e={mode:this.data.mode,zone:this.leftZone,color:"white",fadeTime:0};this.leftZone.style.width="100px","static"===this.data.mode?(this.leftZone.style.height="100px",e.position={left:"50%",bottom:"50%"}):this.leftZone.style.height="400px",this.moveJoystick=i().create(e),this.moveJoystick.on("move",((e,t)=>{this.moveData=t,this.moving=!0})),this.moveJoystick.on("end",((e,t)=>{this.moving=!1}))},createLookJoystick(){if(this.lookJoystick)return;this.initRightZone();const e={mode:this.data.mode,zone:this.rightZone,color:"white",fadeTime:0};this.rightZone.style.width="100px","static"===this.data.mode?(this.rightZone.style.height="100px",e.position={left:"50%",bottom:"50%"}):this.rightZone.style.height="400px",this.lookJoystick=i().create(e),this.lookJoystick.on("move",((e,t)=>{this.lookData=t,this.rotating=!0})),this.lookJoystick.on("end",((e,t)=>{this.rotating=!1}))},removeMoveJoystick(){this.moveJoystick&&(this.moveJoystick.destroy(),this.moveJoystick=void 0),this.moveData=void 0,this.leftZone&&this.leftZone.parentNode&&(this.leftZone.remove(),this.leftZone=void 0)},removeLookJoystick(){this.lookJoystick&&(this.lookJoystick.destroy(),this.lookJoystick=void 0),this.lookData=void 0,this.rightZone&&this.rightZone.parentNode&&(this.rightZone.remove(),this.rightZone=void 0)}})},8082:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Belt_Mk5.b357faa38293ae1a304d.png"},8088:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Lift_Mk3.d8bfca23ad03f0ead701.png"},8094:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Oil_Extractor.a2e2b4ba89b61f6345a8.png"},8101:e=>{e.exports=AFRAME.registerComponent("nav-mesh",{schema:{nodeName:{type:"string"}},init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.nodeName=this.data.nodeName,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){var e=this;const t=this.el.getObject3D("mesh");this.el.sceneEl.object3D;if(!t)return;let n;if(t.traverse((t=>{!t.isMesh||e.nodeName&&t.name!==e.nodeName||(n=t)})),!n)return;const r=n.geometry.clone();n.updateWorldMatrix(!0,!1),r.applyMatrix4(n.matrixWorld),this.system.setNavMeshGeometry(r),this.hasLoadedNavMesh=!0}})},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var r=n(6686),i=n(6140),o=n(3516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},8124:(e,t,n)=>{var r=n(6614),i=n(9621);e.exports=function(e,t){return r(e,i(e),t)}},8166:(e,t,n)=>{n(8101),n(1587),n(6817)},8182:(e,t,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,o=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var n,r,i,o,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?I(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,l=u.length):(r=u,i=a,l=c.length),o>(l=(a=Math.ceil(h/7))>l?a+1:l+1)&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/f|0,c[o]%=f;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?I(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function A(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=S(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=S(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return x(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return I(x(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return C(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,o=r.precision,a=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=x(_(n,a),_(e,a),a),s=!0,I(t,o))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):I(new r(n),i)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return _(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):T(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=C(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,i,o,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=C(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=A(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(x(c,o,a+2)).times(.5),A(o.d).slice(0,a)===(t=A(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(I(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if("9999"!=t)break;a+=4}return s=!0,I(r,n)},v.times=v.mul=function(e){var t,n,r,i,o,a,l,c,u,d=this,h=d.constructor,p=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(u=m.length)&&(o=p,p=m,m=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=o[i]+m[r]*p[i-r-1]+t,o[i--]=l%f|0,t=l/f|0;o[i]=(o[i]+t)%f|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,s?I(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,o),void 0===t?t=r.rounding:b(t,0,8),I(n,e+C(n)+1,t))},v.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=R(r,!0):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),n=R(r=I(new i(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?R(i):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),n=R((r=I(new a(i),e+C(i)+1,t)).abs(),!1,e+C(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return I(new t(e),C(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,o,a,c,u=this,h=u.constructor,p=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return I(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=p<0?-p:p)<=m){for(o=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&k((o=o.times(u)).d,t),0!==(n=d(n/2));)k((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(o):I(o,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,o=e.times(_(u,r+12)),s=!0,(o=w(o)).s=a,o},v.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?r=R(i,(n=C(i))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,o),void 0===t?t=a.rounding:b(t,0,8),r=R(i=I(new a(i),e,t),e<=(n=C(i))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,o),void 0===t?t=n.rounding:b(t,0,8)),I(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=C(e),n=e.constructor;return R(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,c,u,d,h,p,m,g,v,y,b,A,x,w,E,S,_,M,T=r.constructor,R=r.s==i.s?1:-1,k=r.d,P=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,_=P.length,E=k.length,g=(m=new T(R)).d=[],u=0;P[u]==(k[u]||0);)++u;if(P[u]>(k[u]||0)&&--c,(A=null==o?o=T.precision:a?o+(C(r)-C(i))+1:o)<0)return new T(0);if(A=A/7+2|0,u=0,1==_)for(d=0,P=P[0],A++;(u<E||d)&&A--;u++)x=d*f+(k[u]||0),g[u]=x/P|0,d=x%P|0;else{for((d=f/(P[0]+1)|0)>1&&(P=e(P,d),k=e(k,d),_=P.length,E=k.length),w=_,y=(v=k.slice(0,_)).length;y<_;)v[y++]=0;(M=P.slice()).unshift(0),S=P[0],P[1]>=f/2&&++S;do{d=0,(s=t(P,v,_,y))<0?(b=v[0],_!=y&&(b=b*f+(v[1]||0)),(d=b/S|0)>1?(d>=f&&(d=f-1),1==(s=t(h=e(P,d),v,p=h.length,y=v.length))&&(d--,n(h,_<p?M:P,p))):(0==d&&(s=d=1),h=P.slice()),(p=h.length)<y&&h.unshift(0),n(v,h,y),-1==s&&(s=t(P,v,_,y=v.length))<1&&(d++,n(v,_<y?M:P,y)),y=v.length):0===s&&(d++,v=[0]),g[u++]=d,s&&v[0]?v[y++]=k[w]||0:(v=[k[w]],y=1)}while((w++<E||void 0!==v[0])&&A--)}return g[0]||g.shift(),m.e=c,I(m,a?o+C(m)+1:o)}}();function w(e,t){var n,r,o,a,l,c=0,d=0,p=e.constructor,f=p.precision;if(C(e)>16)throw Error(u+C(e));if(!e.s)return new p(i);for(null==t?(s=!1,l=f):l=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=o=new p(i),p.precision=l;;){if(r=I(r.times(e),l),n=n.times(++c),A((a=o.plus(x(r,n,l))).d).slice(0,l)===A(o.d).slice(0,l)){for(;d--;)o=I(o.times(o),l);return p.precision=f,null==t?(s=!0,I(o,f)):o}o=a}}function C(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return I(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function _(e,t){var n,r,o,a,c,u,d,h,p,f=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new v(0);if(null==t?(s=!1,h=y):h=t,m.eq(10))return null==t&&(s=!0),E(v,h);if(h+=10,v.precision=h,r=(n=A(g)).charAt(0),a=C(m),!(Math.abs(a)<15e14))return d=E(v,h+2,y).times(a+""),m=_(new v(r+"."+n.slice(1)),h-10).plus(d),v.precision=y,null==t?(s=!0,I(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=A((m=m.times(e)).d)).charAt(0),f++;for(a=C(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1)),u=c=m=x(m.minus(i),m.plus(i),h),p=I(m.times(m),h),o=3;;){if(c=I(c.times(p),h),A((d=u.plus(x(c,new v(o),h))).d).slice(0,h)===A(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(E(v,h+2,y).times(a+""))),u=x(u,new v(f),h),v.precision=y,null==t?(s=!0,I(u,y)):u;u=d,o+=2}}function M(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function I(e,t,n){var r,i,o,a,l,c,p,m,v=e.d;for(a=1,o=v[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,p=v[m=0];else{if((m=Math.ceil((r+1)/7))>=(o=v.length))return e;for(p=o=v[m],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(l=p/(o=h(10,a-i-1))%10|0,c=t<0||void 0!==v[m+1]||p%o,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?p/h(10,a-i):0:v[m-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return c?(o=C(e),v.length=1,t=t-o-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=m,o=1,m--):(v.length=m+1,o=h(10,7-r),v[m]=i>0?(p/h(10,a-i)%h(10,i)|0)*o:0),c)for(;;){if(0==m){(v[0]+=o)==f&&(v[0]=1,++e.e);break}if(v[m]+=o,v[m]!=f)break;v[m--]=0,o=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+C(e));return e}function T(e,t){var n,r,i,o,a,l,c,u,d,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?I(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),a>(i=Math.max(Math.ceil(m/7),l)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(o=i;o&&0===c[--o];)c[o]=f-1;--c[o],c[i]+=f}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?I(t,m):t):new p(0)}function R(e,t,n){var r,i=C(e),o=A(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+S(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+S(-i-1)+o,n&&(r=n-a)>0&&(o+=S(r))):i>=a?(o+=S(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+S(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=S(r))),e.s<0?"-"+o:o}function k(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):M(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);M(t,e)}if(o.prototype=v,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=P,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(a),a.default=a.Decimal=a,i=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8244:(e,t,n)=>{n(6808),n(6696),n(1750)},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},8420:(e,t,n)=>{var r=n(1775),i=n(3211),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},8468:(e,t,n)=>{var r=n(5816),i=n(644),o=n(4020);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8592:(e,t,n)=>{var r=n(4262),i=n(6326),o=n(474);e.exports=function(e){return r(e,o,i)}},8628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},8630:(e,t,n)=>{var r=n(1516),i=n(6806),o=n(8962),a=n(1295),s=n(8710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},8634:(e,t,n)=>{"use strict";n.d(t,{$EB:()=>o,$Kf:()=>or,$_I:()=>f,$p8:()=>Vi,A$4:()=>Kt,B69:()=>_t,BRH:()=>Mi,DXC:()=>wr,EAD:()=>cr,GJx:()=>c,G_z:()=>Zr,HiM:()=>Ui,Hit:()=>hi,I46:()=>ir,I9Y:()=>ee,IUQ:()=>xe,Ipv:()=>Cr,LoY:()=>sn,MBL:()=>fi,N1A:()=>yr,Nwf:()=>Yi,O9p:()=>ct,PTz:()=>we,Pq0:()=>Ce,Q1f:()=>Ht,RiT:()=>gi,Tap:()=>Ii,V9B:()=>Wt,Y9S:()=>Si,YJl:()=>qn,Z58:()=>$n,ZyN:()=>Hi,aHM:()=>wi,cj9:()=>Z,dwI:()=>te,eaF:()=>Sn,er$:()=>R,gPd:()=>Ae,ghU:()=>u,hB5:()=>i,kn4:()=>Ze,mrM:()=>ur,nCl:()=>Li,qUd:()=>Gn,qtW:()=>Jt,r6x:()=>Gi,tXL:()=>Jr,tz3:()=>vi,ubm:()=>Bn,wfO:()=>l,xJ6:()=>Xr});const r="164",i=0,o=2,a=100,s="attached",l=303,c=1e3,u=1001,d=1002,h=1003,p=1006,f=1008,m=1009,g=1014,v=1015,y=1020,b=1023,A=1026,x=1027,w=2300,C=2301,E=2302,S=2400,_=2401,M=2402,I=2500,T="",R="srgb",k="srgb-linear",P="display-p3",B="display-p3-linear",O="linear",L="srgb",D="rec709",N="p3",F=7680,j=35044,U=2e3,z=2001;class H{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const V=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let G=1234567;const Q=Math.PI/180,W=180/Math.PI;function q(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(V[255&e]+V[e>>8&255]+V[e>>16&255]+V[e>>24&255]+"-"+V[255&t]+V[t>>8&255]+"-"+V[t>>16&15|64]+V[t>>24&255]+"-"+V[63&n|128]+V[n>>8&255]+"-"+V[n>>16&255]+V[n>>24&255]+V[255&r]+V[r>>8&255]+V[r>>16&255]+V[r>>24&255]).toLowerCase()}function $(e,t,n){return Math.max(t,Math.min(n,e))}function X(e,t){return(e%t+t)%t}function K(e,t,n){return(1-n)*e+n*t}function Y(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function J(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Z={DEG2RAD:Q,RAD2DEG:W,generateUUID:q,clamp:$,euclideanModulo:X,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:K,damp:function(e,t,n,r){return K(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(X(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(G=e);let t=G+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Q},radToDeg:function(e){return e*W},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),d=o((t-r)/2),h=a((t-r)/2),p=o((r-t)/2),f=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*f,l*p,s*c);break;case"YXY":e.set(l*p,s*u,l*f,s*c);break;case"ZYZ":e.set(l*f,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:J,denormalize:Y};class ee{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ee.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class te{constructor(e,t,n,r,i,o,a,s,l){te.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l)}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],A=r[2],x=r[5],w=r[8];return i[0]=o*f+a*v+s*A,i[3]=o*m+a*y+s*x,i[6]=o*g+a*b+s*w,i[1]=l*f+c*v+u*A,i[4]=l*m+c*y+u*x,i[7]=l*g+c*b+u*w,i[2]=d*f+h*v+p*A,i[5]=d*m+h*y+p*x,i[8]=d*g+h*b+p*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,d=a*s-c*i,h=l*i-o*s,p=t*u+n*d+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(r*l-c*n)*f,e[2]=(a*n-r*o)*f,e[3]=d*f,e[4]=(c*t-r*s)*f,e[5]=(r*i-a*t)*f,e[6]=h*f,e[7]=(n*s-l*t)*f,e[8]=(o*t-n*i)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(ne.makeScale(e,t)),this}rotate(e){return this.premultiply(ne.makeRotation(-e)),this}translate(e,t){return this.premultiply(ne.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const ne=new te;function re(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function ie(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}const oe={};function ae(e){e in oe||(oe[e]=!0,console.warn(e))}const se=(new te).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),le=(new te).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),ce={[k]:{transfer:O,primaries:D,toReference:e=>e,fromReference:e=>e},[R]:{transfer:L,primaries:D,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[B]:{transfer:O,primaries:N,toReference:e=>e.applyMatrix3(le),fromReference:e=>e.applyMatrix3(se)},[P]:{transfer:L,primaries:N,toReference:e=>e.convertSRGBToLinear().applyMatrix3(le),fromReference:e=>e.applyMatrix3(se).convertLinearToSRGB()}},ue=new Set([k,B]),de={enabled:!0,_workingColorSpace:k,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!ue.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=ce[t].toReference;return(0,ce[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return ce[e].primaries},getTransfer:function(e){return e===T?O:ce[e].transfer}};function he(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function pe(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let fe;class me{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===fe&&(fe=ie("canvas")),fe.width=e.width,fe.height=e.height;const n=fe.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=fe}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=ie("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*he(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*he(t[e]/255)):t[e]=he(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ge=0;class ve{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:ge++}),this.uuid=q(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(ye(r[t].image)):e.push(ye(r[t]))}else e=ye(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function ye(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?me.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let be=0;class Ae extends H{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:b,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:m,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ae.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:T;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:be++}),this.uuid=q(),this.name="",this.source=new ve(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new ee(0,0),this.repeat=new ee(1,1),this.center=new ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new te,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case c:e.x=e.x-Math.floor(e.x);break;case u:e.x=e.x<0?0:1;break;case d:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case c:e.y=e.y-Math.floor(e.y);break;case u:e.y=e.y<0?0:1;break;case d:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Ae.DEFAULT_IMAGE=null,Ae.DEFAULT_MAPPING=300,Ae.DEFAULT_ANISOTROPY=1;class xe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;xe.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+f)/4,A=(p+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=A/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=A/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class we{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[o+0],h=i[o+1],p=i[o+2],f=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||s!==d||l!==h||c!==p){let e=1-a;const t=s*d+l*h+c*p+u*f,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+p*i,u=u*e+f*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],d=i[o+1],h=i[o+2],p=i[o+3];return e[t]=a*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-a*h,e[t+2]=l*p+c*h+a*d-s*u,e[t+3]=c*p-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),d=s(n/2),h=s(r/2),p=s(i/2);switch(o){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ce{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Ce.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Se.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Se.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=2*(o*r-a*n),c=2*(a*t-i*r),u=2*(i*n-o*t);return this.x=t+s*l+o*u-a*c,this.y=n+s*c+a*l-i*u,this.z=r+s*u+i*c-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ee.copy(this).projectOnVector(e),this.sub(Ee)}reflect(e){return this.sub(Ee.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ee=new Ce,Se=new we;class _e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ce(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ce(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Ie.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Ie.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Ie.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Ie):Ie.fromBufferAttribute(r,t),Ie.applyMatrix4(e.matrixWorld),this.expandByPoint(Ie);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Te.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Te.copy(n.boundingBox)),Te.applyMatrix4(e.matrixWorld),this.union(Te)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ie),Ie.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(De),Ne.subVectors(this.max,De),Re.subVectors(e.a,De),ke.subVectors(e.b,De),Pe.subVectors(e.c,De),Be.subVectors(ke,Re),Oe.subVectors(Pe,ke),Le.subVectors(Re,Pe);let t=[0,-Be.z,Be.y,0,-Oe.z,Oe.y,0,-Le.z,Le.y,Be.z,0,-Be.x,Oe.z,0,-Oe.x,Le.z,0,-Le.x,-Be.y,Be.x,0,-Oe.y,Oe.x,0,-Le.y,Le.x,0];return!!Ue(t,Re,ke,Pe,Ne)&&(t=[1,0,0,0,1,0,0,0,1],!!Ue(t,Re,ke,Pe,Ne)&&(Fe.crossVectors(Be,Oe),t=[Fe.x,Fe.y,Fe.z],Ue(t,Re,ke,Pe,Ne)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ie).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Ie).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Me[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Me[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Me[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Me[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Me[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Me[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Me[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Me[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Me)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Me=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],Ie=new Ce,Te=new _e,Re=new Ce,ke=new Ce,Pe=new Ce,Be=new Ce,Oe=new Ce,Le=new Ce,De=new Ce,Ne=new Ce,Fe=new Ce,je=new Ce;function Ue(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){je.fromArray(e,o);const a=i.x*Math.abs(je.x)+i.y*Math.abs(je.y)+i.z*Math.abs(je.z),s=t.dot(je),l=n.dot(je),c=r.dot(je);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const ze=new _e,He=new Ce,Ve=new Ce;class Ge{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):ze.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;He.subVectors(e,this.center);const t=He.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(He,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Ve.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(He.copy(e.center).add(Ve)),this.expandByPoint(He.copy(e.center).sub(Ve))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Qe=new Ce,We=new Ce,qe=new Ce,$e=new Ce,Xe=new Ce,Ke=new Ce,Ye=new Ce;class Je{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ce(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qe)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Qe.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Qe.copy(this.origin).addScaledVector(this.direction,t),Qe.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){We.copy(e).add(t).multiplyScalar(.5),qe.copy(t).sub(e).normalize(),$e.copy(this.origin).sub(We);const i=.5*e.distanceTo(t),o=-this.direction.dot(qe),a=$e.dot(this.direction),s=-$e.dot(qe),l=$e.lengthSq(),c=Math.abs(1-o*o);let u,d,h,p;if(c>0)if(u=o*s-a,d=o*a-s,p=i*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+o*d+2*a)+d*(o*u+d+2*s)+l}else d=i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-o*i+a)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(o*i+a)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=o>0?-i:i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(We).addScaledVector(qe,d),h}intersectSphere(e,t){Qe.subVectors(e.center,this.origin);const n=Qe.dot(this.direction),r=Qe.dot(Qe)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Qe)}intersectTriangle(e,t,n,r,i){Xe.subVectors(t,e),Ke.subVectors(n,e),Ye.crossVectors(Xe,Ke);let o,a=this.direction.dot(Ye);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}$e.subVectors(this.origin,e);const s=o*this.direction.dot(Ke.crossVectors($e,Ke));if(s<0)return null;const l=o*this.direction.dot(Xe.cross($e));if(l<0)return null;if(s+l>a)return null;const c=-o*$e.dot(Ye);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ze{constructor(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){Ze.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m)}set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ze).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/et.setFromMatrixColumn(e,0).length(),i=1/et.setFromMatrixColumn(e,1).length(),o=1/et.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nt,e,rt)}lookAt(e,t,n){const r=this.elements;return at.subVectors(e,t),0===at.lengthSq()&&(at.z=1),at.normalize(),it.crossVectors(n,at),0===it.lengthSq()&&(1===Math.abs(n.z)?at.x+=1e-4:at.z+=1e-4,at.normalize(),it.crossVectors(n,at)),it.normalize(),ot.crossVectors(at,it),r[0]=it.x,r[4]=ot.x,r[8]=at.x,r[1]=it.y,r[5]=ot.y,r[9]=at.y,r[2]=it.z,r[6]=ot.z,r[10]=at.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],A=n[15],x=r[0],w=r[4],C=r[8],E=r[12],S=r[1],_=r[5],M=r[9],I=r[13],T=r[2],R=r[6],k=r[10],P=r[14],B=r[3],O=r[7],L=r[11],D=r[15];return i[0]=o*x+a*S+s*T+l*B,i[4]=o*w+a*_+s*R+l*O,i[8]=o*C+a*M+s*k+l*L,i[12]=o*E+a*I+s*P+l*D,i[1]=c*x+u*S+d*T+h*B,i[5]=c*w+u*_+d*R+h*O,i[9]=c*C+u*M+d*k+h*L,i[13]=c*E+u*I+d*P+h*D,i[2]=p*x+f*S+m*T+g*B,i[6]=p*w+f*_+m*R+g*O,i[10]=p*C+f*M+m*k+g*L,i[14]=p*E+f*I+m*P+g*D,i[3]=v*x+y*S+b*T+A*B,i[7]=v*w+y*_+b*R+A*O,i[11]=v*C+y*M+b*k+A*L,i[15]=v*E+y*I+b*P+A*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*a*d+n*l*d+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*o*d-r*o*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*d+r*o*u-n*o*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*l-f*d*l+f*s*h-a*m*h-u*s*g+a*d*g,y=p*d*l-c*m*l-p*s*h+o*m*h+c*s*g-o*d*g,b=c*f*l-p*u*l+p*a*h-o*f*h-c*a*g+o*u*g,A=p*u*s-c*f*s-p*a*d+o*f*d+c*a*m-o*u*m,x=t*v+n*y+r*b+i*A;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=v*w,e[1]=(f*d*i-u*m*i-f*r*h+n*m*h+u*r*g-n*d*g)*w,e[2]=(a*m*i-f*s*i+f*r*l-n*m*l-a*r*g+n*s*g)*w,e[3]=(u*s*i-a*d*i-u*r*l+n*d*l+a*r*h-n*s*h)*w,e[4]=y*w,e[5]=(c*m*i-p*d*i+p*r*h-t*m*h-c*r*g+t*d*g)*w,e[6]=(p*s*i-o*m*i-p*r*l+t*m*l+o*r*g-t*s*g)*w,e[7]=(o*d*i-c*s*i+c*r*l-t*d*l-o*r*h+t*s*h)*w,e[8]=b*w,e[9]=(p*u*i-c*f*i-p*n*h+t*f*h+c*n*g-t*u*g)*w,e[10]=(o*f*i-p*a*i+p*n*l-t*f*l-o*n*g+t*a*g)*w,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*h-t*a*h)*w,e[12]=A*w,e[13]=(c*f*r-p*u*r+p*n*d-t*f*d-c*n*m+t*u*m)*w,e[14]=(p*a*r-o*f*r-p*n*s+t*f*s+o*n*m-t*a*m)*w,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*d+t*a*d)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,p=i*u,f=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,A=n.x,x=n.y,w=n.z;return r[0]=(1-(f+g))*A,r[1]=(h+b)*A,r[2]=(p-y)*A,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(d+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(p+y)*w,r[9]=(m-v)*w,r[10]=(1-(d+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=et.set(r[0],r[1],r[2]).length();const o=et.set(r[4],r[5],r[6]).length(),a=et.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],tt.copy(this);const s=1/i,l=1/o,c=1/a;return tt.elements[0]*=s,tt.elements[1]*=s,tt.elements[2]*=s,tt.elements[4]*=l,tt.elements[5]*=l,tt.elements[6]*=l,tt.elements[8]*=c,tt.elements[9]*=c,tt.elements[10]*=c,t.setFromRotationMatrix(tt),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:U;const s=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r);let h,p;if(a===U)h=-(o+i)/(o-i),p=-2*o*i/(o-i);else{if(a!==z)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-i),p=-o*i/(o-i)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:U;const s=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-i),d=(t+e)*l,h=(n+r)*c;let p,f;if(a===U)p=(o+i)*u,f=-2*u;else{if(a!==z)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=i*u,f=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=f,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const et=new Ce,tt=new Ze,nt=new Ce(0,0,0),rt=new Ce(1,1,1),it=new Ce,ot=new Ce,at=new Ce,st=new Ze,lt=new we;class ct{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ct.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin($(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-$(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin($(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-$(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin($(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-$(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return st.makeRotationFromQuaternion(e),this.setFromRotationMatrix(st,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return lt.setFromEuler(this),this.setFromQuaternion(lt,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ct.DEFAULT_ORDER="XYZ";class ut{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let dt=0;const ht=new Ce,pt=new we,ft=new Ze,mt=new Ce,gt=new Ce,vt=new Ce,yt=new we,bt=new Ce(1,0,0),At=new Ce(0,1,0),xt=new Ce(0,0,1),wt={type:"added"},Ct={type:"removed"},Et={type:"childadded",child:null},St={type:"childremoved",child:null};class _t extends H{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dt++}),this.uuid=q(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_t.DEFAULT_UP.clone();const e=new Ce,t=new ct,n=new we,r=new Ce(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ze},normalMatrix:{value:new te}}),this.matrix=new Ze,this.matrixWorld=new Ze,this.matrixAutoUpdate=_t.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=_t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ut,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pt.setFromAxisAngle(e,t),this.quaternion.multiply(pt),this}rotateOnWorldAxis(e,t){return pt.setFromAxisAngle(e,t),this.quaternion.premultiply(pt),this}rotateX(e){return this.rotateOnAxis(bt,e)}rotateY(e){return this.rotateOnAxis(At,e)}rotateZ(e){return this.rotateOnAxis(xt,e)}translateOnAxis(e,t){return ht.copy(e).applyQuaternion(this.quaternion),this.position.add(ht.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(bt,e)}translateY(e){return this.translateOnAxis(At,e)}translateZ(e){return this.translateOnAxis(xt,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ft.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?mt.copy(e):mt.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),gt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ft.lookAt(gt,mt,this.up):ft.lookAt(mt,gt,this.up),this.quaternion.setFromRotationMatrix(ft),r&&(ft.extractRotation(r.matrixWorld),pt.setFromRotationMatrix(ft),this.quaternion.premultiply(pt.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(wt),Et.child=e,this.dispatchEvent(Et),Et.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Ct),St.child=e,this.dispatchEvent(St),St.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ft.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ft.multiply(e.parent.matrixWorld)),e.applyMatrix4(ft),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(wt),Et.child=e,this.dispatchEvent(Et),Et.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gt,e,vt),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gt,yt,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}))),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}_t.DEFAULT_UP=new Ce(0,1,0),_t.DEFAULT_MATRIX_AUTO_UPDATE=!0,_t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mt=new Ce,It=new Ce,Tt=new Ce,Rt=new Ce,kt=new Ce,Pt=new Ce,Bt=new Ce,Ot=new Ce,Lt=new Ce,Dt=new Ce;class Nt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ce,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ce;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Mt.subVectors(e,t),r.cross(Mt);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Mt.subVectors(r,t),It.subVectors(n,t),Tt.subVectors(e,t);const o=Mt.dot(Mt),a=Mt.dot(It),s=Mt.dot(Tt),l=It.dot(It),c=It.dot(Tt),u=o*l-a*a;if(0===u)return i.set(0,0,0),null;const d=1/u,h=(l*s-a*c)*d,p=(o*c-a*s)*d;return i.set(1-h-p,p,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,Rt)&&(Rt.x>=0&&Rt.y>=0&&Rt.x+Rt.y<=1)}static getInterpolation(e,t,n,r,i,o,a,s){return null===this.getBarycoord(e,t,n,r,Rt)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,Rt.x),s.addScaledVector(o,Rt.y),s.addScaledVector(a,Rt.z),s)}static isFrontFacing(e,t,n,r){return Mt.subVectors(n,t),It.subVectors(e,t),Mt.cross(It).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mt.subVectors(this.c,this.b),It.subVectors(this.a,this.b),.5*Mt.cross(It).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Nt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Nt.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return Nt.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Nt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Nt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;kt.subVectors(r,n),Pt.subVectors(i,n),Ot.subVectors(e,n);const s=kt.dot(Ot),l=Pt.dot(Ot);if(s<=0&&l<=0)return t.copy(n);Lt.subVectors(e,r);const c=kt.dot(Lt),u=Pt.dot(Lt);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(kt,o);Dt.subVectors(e,i);const h=kt.dot(Dt),p=Pt.dot(Dt);if(p>=0&&h<=p)return t.copy(i);const f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(Pt,a);const m=c*p-h*u;if(m<=0&&u-c>=0&&h-p>=0)return Bt.subVectors(i,r),a=(u-c)/(u-c+(h-p)),t.copy(r).addScaledVector(Bt,a);const g=1/(m+f+d);return o=f*g,a=d*g,t.copy(n).addScaledVector(kt,o).addScaledVector(Pt,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ft={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jt={h:0,s:0,l:0},Ut={h:0,s:0,l:0};function zt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Ht{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,de.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:de.workingColorSpace;return this.r=e,this.g=t,this.b=n,de.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:de.workingColorSpace;if(e=X(e,1),t=$(t,0,1),n=$(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=zt(i,r,e+1/3),this.g=zt(i,r,e),this.b=zt(i,r,e-1/3)}return de.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=t[1],a=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;const n=Ft[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=he(e.r),this.g=he(e.g),this.b=he(e.b),this}copyLinearToSRGB(e){return this.r=pe(e.r),this.g=pe(e.g),this.b=pe(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return de.fromWorkingColorSpace(Vt.copy(this),e),65536*Math.round($(255*Vt.r,0,255))+256*Math.round($(255*Vt.g,0,255))+Math.round($(255*Vt.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.workingColorSpace;de.fromWorkingColorSpace(Vt.copy(this),t);const n=Vt.r,r=Vt.g,i=Vt.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.workingColorSpace;return de.fromWorkingColorSpace(Vt.copy(this),t),e.r=Vt.r,e.g=Vt.g,e.b=Vt.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;de.fromWorkingColorSpace(Vt.copy(this),e);const t=Vt.r,n=Vt.g,r=Vt.b;return e!==R?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(jt),this.setHSL(jt.h+e,jt.s+t,jt.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(jt),e.getHSL(Ut);const n=K(jt.h,Ut.h,t),r=K(jt.s,Ut.s,t),i=K(jt.l,Ut.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vt=new Ht;Ht.NAMES=Ft;let Gt=0;class Qt extends H{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Gt++}),this.uuid=q(),this.name="",this.type="Material",this.blending=1,this.side=i,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ht(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=F,this.stencilZFail=F,this.stencilZPass=F,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==i&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==a&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==F&&(n.stencilFail=this.stencilFail),this.stencilZFail!==F&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==F&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Wt extends Qt{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ct,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const qt=new Ce,$t=new ee;class Xt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=j,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=v,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ae("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)$t.fromBufferAttribute(this,t),$t.applyMatrix3(e),this.setXY(t,$t.x,$t.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)qt.fromBufferAttribute(this,t),qt.applyMatrix3(e),this.setXYZ(t,qt.x,qt.y,qt.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)qt.fromBufferAttribute(this,t),qt.applyMatrix4(e),this.setXYZ(t,qt.x,qt.y,qt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)qt.fromBufferAttribute(this,t),qt.applyNormalMatrix(e),this.setXYZ(t,qt.x,qt.y,qt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)qt.fromBufferAttribute(this,t),qt.transformDirection(e),this.setXYZ(t,qt.x,qt.y,qt.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Y(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=J(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Y(t,this.array)),t}setX(e,t){return this.normalized&&(t=J(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Y(t,this.array)),t}setY(e,t){return this.normalized&&(t=J(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Y(t,this.array)),t}setZ(e,t){return this.normalized&&(t=J(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Y(t,this.array)),t}setW(e,t){return this.normalized&&(t=J(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=J(t,this.array),n=J(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=J(t,this.array),n=J(n,this.array),r=J(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=J(t,this.array),n=J(n,this.array),r=J(r,this.array),i=J(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==j&&(e.usage=this.usage),e}}class Kt extends Xt{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Yt extends Xt{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Jt extends Xt{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Zt=0;const en=new Ze,tn=new _t,nn=new Ce,rn=new _e,on=new _e,an=new Ce;class sn extends H{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zt++}),this.uuid=q(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(re(e)?Yt:Kt)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new te).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return en.makeRotationFromQuaternion(e),this.applyMatrix4(en),this}rotateX(e){return en.makeRotationX(e),this.applyMatrix4(en),this}rotateY(e){return en.makeRotationY(e),this.applyMatrix4(en),this}rotateZ(e){return en.makeRotationZ(e),this.applyMatrix4(en),this}translate(e,t,n){return en.makeTranslation(e,t,n),this.applyMatrix4(en),this}scale(e,t,n){return en.makeScale(e,t,n),this.applyMatrix4(en),this}lookAt(e){return tn.lookAt(e),tn.updateMatrix(),this.applyMatrix4(tn.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nn).negate(),this.translate(nn.x,nn.y,nn.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Jt(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new _e);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];rn.setFromBufferAttribute(e),this.morphTargetsRelative?(an.addVectors(this.boundingBox.min,rn.min),this.boundingBox.expandByPoint(an),an.addVectors(this.boundingBox.max,rn.max),this.boundingBox.expandByPoint(an)):(this.boundingBox.expandByPoint(rn.min),this.boundingBox.expandByPoint(rn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ge);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Ce,1/0);if(e){const n=this.boundingSphere.center;if(rn.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];on.setFromBufferAttribute(n),this.morphTargetsRelative?(an.addVectors(rn.min,on.min),rn.expandByPoint(an),an.addVectors(rn.max,on.max),rn.expandByPoint(an)):(rn.expandByPoint(on.min),rn.expandByPoint(on.max))}rn.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)an.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(an));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)an.fromBufferAttribute(o,t),a&&(nn.fromBufferAttribute(e,t),an.add(nn)),r=Math.max(r,n.distanceToSquared(an))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Xt(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),a=[],s=[];for(let C=0;C<n.count;C++)a[C]=new Ce,s[C]=new Ce;const l=new Ce,c=new Ce,u=new Ce,d=new ee,h=new ee,p=new ee,f=new Ce,m=new Ce;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),p.fromBufferAttribute(i,r),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const o=1/(h.x*p.y-p.x*h.y);isFinite(o)&&(f.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(o),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(o),a[e].add(f),a[t].add(f),a[r].add(f),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let C=0,E=v.length;C<E;++C){const t=v[C],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new Ce,b=new Ce,A=new Ce,x=new Ce;function w(e){A.fromBufferAttribute(r,e),x.copy(A);const t=a[e];y.copy(t),y.sub(A.multiplyScalar(A.dot(t))).normalize(),b.crossVectors(x,t);const n=b.dot(s[e])<0?-1:1;o.setXYZW(e,y.x,y.y,y.z,n)}for(let C=0,E=v.length;C<E;++C){const t=v[C],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)w(e.getX(r+0)),w(e.getX(r+1)),w(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Xt(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Ce,i=new Ce,o=new Ce,a=new Ce,s=new Ce,l=new Ce,c=new Ce,u=new Ce;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)an.fromBufferAttribute(e,t),an.normalize(),e.setXYZ(t,an.x,an.y,an.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new Xt(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new sn,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ln=new Ze,cn=new Je,un=new Ge,dn=new Ce,hn=new Ce,pn=new Ce,fn=new Ce,mn=new Ce,gn=new Ce,vn=new ee,yn=new ee,bn=new ee,An=new Ce,xn=new Ce,wn=new Ce,Cn=new Ce,En=new Ce;class Sn extends _t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wt;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){gn.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(mn.fromBufferAttribute(s,e),o?gn.addScaledVector(mn,r):gn.addScaledVector(mn.sub(t),r))}t.add(gn)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),un.copy(n.boundingSphere),un.applyMatrix4(i),cn.copy(e.ray).recast(e.near),!1===un.containsPoint(cn.origin)){if(null===cn.intersectSphere(un,dn))return;if(cn.origin.distanceToSquared(dn)>(e.far-e.near)**2)return}ln.copy(i).invert(),cn.copy(e.ray).applyMatrix4(ln),null!==n.boundingBox&&!1===cn.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,cn)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,f=d.length;p<f;p++){const i=d[p],s=o[i.materialIndex];for(let o=Math.max(i.start,h.start),d=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));o<d;o+=3){r=_n(this,s,e,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);i<s;i+=3){r=_n(this,o,e,n,l,c,u,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(o))for(let p=0,f=d.length;p<f;p++){const i=d[p],a=o[i.materialIndex];for(let o=Math.max(i.start,h.start),d=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));o<d;o+=3){r=_n(this,a,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);i<a;i+=3){r=_n(this,o,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function _n(e,t,n,r,o,a,s,l,c,u){e.getVertexPosition(l,hn),e.getVertexPosition(c,pn),e.getVertexPosition(u,fn);const d=function(e,t,n,r,o,a,s,l){let c;if(c=1===t.side?r.intersectTriangle(s,a,o,!0,l):r.intersectTriangle(o,a,s,t.side===i,l),null===c)return null;En.copy(l),En.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(En);return u<n.near||u>n.far?null:{distance:u,point:En.clone(),object:e}}(e,t,n,r,hn,pn,fn,Cn);if(d){o&&(vn.fromBufferAttribute(o,l),yn.fromBufferAttribute(o,c),bn.fromBufferAttribute(o,u),d.uv=Nt.getInterpolation(Cn,hn,pn,fn,vn,yn,bn,new ee)),a&&(vn.fromBufferAttribute(a,l),yn.fromBufferAttribute(a,c),bn.fromBufferAttribute(a,u),d.uv1=Nt.getInterpolation(Cn,hn,pn,fn,vn,yn,bn,new ee)),s&&(An.fromBufferAttribute(s,l),xn.fromBufferAttribute(s,c),wn.fromBufferAttribute(s,u),d.normal=Nt.getInterpolation(Cn,hn,pn,fn,An,xn,wn,new Ce),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const e={a:l,b:c,c:u,normal:new Ce,materialIndex:0};Nt.getNormal(hn,pn,fn,e.normal),d.face=e}return d}function Mn(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function In(e){const t={};for(let n=0;n<e.length;n++){const r=Mn(e[n]);for(const e in r)t[e]=r[e]}return t}class Tn extends _t{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ze,this.projectionMatrix=new Ze,this.projectionMatrixInverse=new Ze,this.coordinateSystem=U}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Rn=new Ce,kn=new ee,Pn=new ee;class Bn extends Tn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*W*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Q*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*W*Math.atan(Math.tan(.5*Q*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Rn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Rn.x,Rn.y).multiplyScalar(-e/Rn.z),Rn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Rn.x,Rn.y).multiplyScalar(-e/Rn.z)}getViewSize(e,t){return this.getViewBounds(e,kn,Pn),t.subVectors(Pn,kn)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Q*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const On=new Ce,Ln=new Ce,Dn=new te;class Nn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ce(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=On.subVectors(n,t).cross(Ln.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(On),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Dn.getNormalMatrix(e),r=this.coplanarPoint(On).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Fn=new Ge,jn=new Ce;class Un{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Nn,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Nn,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Nn,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Nn;this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U;const n=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],p=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,m-h,b-g).normalize(),n[1].setComponents(s+i,d+l,m+h,b+g).normalize(),n[2].setComponents(s+o,d+c,m+p,b+v).normalize(),n[3].setComponents(s-o,d-c,m-p,b-v).normalize(),n[4].setComponents(s-a,d-u,m-f,b-y).normalize(),t===U)n[5].setComponents(s+a,d+u,m+f,b+y).normalize();else{if(t!==z)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,f,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Fn.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Fn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Fn)}intersectsSprite(e){return Fn.center.set(0,0,0),Fn.radius=.7071067811865476,Fn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fn)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(jn.x=r.normal.x>0?e.max.x:e.min.x,jn.y=r.normal.y>0?e.max.y:e.min.y,jn.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(jn)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const zn={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[MORPHTARGETS_COUNT];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t#endif\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\t#ifndef USE_INSTANCING_MORPH\n\t\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\t#endif\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Hn={common:{diffuse:{value:new Ht(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new te},alphaMap:{value:null},alphaMapTransform:{value:new te},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new te}},envmap:{envMap:{value:null},envMapRotation:{value:new te},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new te}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new te}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new te},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new te},normalScale:{value:new ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new te},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new te}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new te}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new te}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new te},alphaTest:{value:0},uvTransform:{value:new te}},sprite:{diffuse:{value:new Ht(16777215)},opacity:{value:1},center:{value:new ee(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new te},alphaMap:{value:null},alphaMapTransform:{value:new te},alphaTest:{value:0}}},Vn={basic:{uniforms:In([Hn.common,Hn.specularmap,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.fog]),vertexShader:zn.meshbasic_vert,fragmentShader:zn.meshbasic_frag},lambert:{uniforms:In([Hn.common,Hn.specularmap,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.fog,Hn.lights,{emissive:{value:new Ht(0)}}]),vertexShader:zn.meshlambert_vert,fragmentShader:zn.meshlambert_frag},phong:{uniforms:In([Hn.common,Hn.specularmap,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.fog,Hn.lights,{emissive:{value:new Ht(0)},specular:{value:new Ht(1118481)},shininess:{value:30}}]),vertexShader:zn.meshphong_vert,fragmentShader:zn.meshphong_frag},standard:{uniforms:In([Hn.common,Hn.envmap,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.roughnessmap,Hn.metalnessmap,Hn.fog,Hn.lights,{emissive:{value:new Ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag},toon:{uniforms:In([Hn.common,Hn.aomap,Hn.lightmap,Hn.emissivemap,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.gradientmap,Hn.fog,Hn.lights,{emissive:{value:new Ht(0)}}]),vertexShader:zn.meshtoon_vert,fragmentShader:zn.meshtoon_frag},matcap:{uniforms:In([Hn.common,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,Hn.fog,{matcap:{value:null}}]),vertexShader:zn.meshmatcap_vert,fragmentShader:zn.meshmatcap_frag},points:{uniforms:In([Hn.points,Hn.fog]),vertexShader:zn.points_vert,fragmentShader:zn.points_frag},dashed:{uniforms:In([Hn.common,Hn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zn.linedashed_vert,fragmentShader:zn.linedashed_frag},depth:{uniforms:In([Hn.common,Hn.displacementmap]),vertexShader:zn.depth_vert,fragmentShader:zn.depth_frag},normal:{uniforms:In([Hn.common,Hn.bumpmap,Hn.normalmap,Hn.displacementmap,{opacity:{value:1}}]),vertexShader:zn.meshnormal_vert,fragmentShader:zn.meshnormal_frag},sprite:{uniforms:In([Hn.sprite,Hn.fog]),vertexShader:zn.sprite_vert,fragmentShader:zn.sprite_frag},background:{uniforms:{uvTransform:{value:new te},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:zn.background_vert,fragmentShader:zn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new te}},vertexShader:zn.backgroundCube_vert,fragmentShader:zn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:zn.cube_vert,fragmentShader:zn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zn.equirect_vert,fragmentShader:zn.equirect_frag},distanceRGBA:{uniforms:In([Hn.common,Hn.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zn.distanceRGBA_vert,fragmentShader:zn.distanceRGBA_frag},shadow:{uniforms:In([Hn.lights,Hn.fog,{color:{value:new Ht(0)},opacity:{value:1}}]),vertexShader:zn.shadow_vert,fragmentShader:zn.shadow_frag}};Vn.physical={uniforms:In([Vn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new te},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new te},clearcoatNormalScale:{value:new ee(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new te},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new te},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new te},sheen:{value:0},sheenColor:{value:new Ht(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new te},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new te},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new te},transmissionSamplerSize:{value:new ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new te},attenuationDistance:{value:0},attenuationColor:{value:new Ht(0)},specularColor:{value:new Ht(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new te},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new te},anisotropyVector:{value:new ee},anisotropyMap:{value:null},anisotropyMapTransform:{value:new te}}]),vertexShader:zn.meshphysical_vert,fragmentShader:zn.meshphysical_frag};class Gn extends Tn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Math.sqrt(5);class Qn extends Ae{constructor(e,t,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:A)!==A&&c!==x)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===A&&(n=g),void 0===n&&c===x&&(n=y),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:h,this.minFilter=void 0!==s?s:h,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const Wn=new Qn(1,1);Wn.compareFunction=515;new Float32Array(16),new Float32Array(9),new Float32Array(4);new Map;class qn extends _t{constructor(){super(),this.isGroup=!0,this.type="Group"}}class $n extends _t{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ct,this.environmentIntensity=1,this.environmentRotation=new ct,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const Xn=new Ce,Kn=new xe,Yn=new xe,Jn=new Ce,Zn=new Ze,er=new Ce,tr=new Ge,nr=new Ze,rr=new Je;class ir extends Sn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=s,this.bindMatrix=new Ze,this.bindMatrixInverse=new Ze,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new _e),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,er),this.boundingBox.expandByPoint(er)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Ge),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,er),this.boundingSphere.expandByPoint(er)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),tr.copy(this.boundingSphere),tr.applyMatrix4(r),!1!==e.ray.intersectsSphere(tr)&&(nr.copy(r).invert(),rr.copy(e.ray).applyMatrix4(nr),null!==this.boundingBox&&!1===rr.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,rr)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xe,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===s?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;Kn.fromBufferAttribute(r.attributes.skinIndex,e),Yn.fromBufferAttribute(r.attributes.skinWeight,e),Xn.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=Yn.getComponent(i);if(0!==e){const r=Kn.getComponent(i);Zn.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(Jn.copy(Xn).applyMatrix4(Zn),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class or extends _t{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ar extends Ae{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:h,arguments.length>9&&void 0!==arguments[9]?arguments[9]:h,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const sr=new Ze,lr=new Ze;class cr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=q(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Ze)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Ze;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:lr;sr.multiplyMatrices(r,t[i]),sr.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new cr(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ar(t,e,e,b,v);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new or),this.bones.push(i),this.boneInverses.push((new Ze).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class ur extends Qt{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ht(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dr=new Ce,hr=new Ce,pr=new Ze,fr=new Je,mr=new Ge,gr=new Ce,vr=new Ce;class yr extends _t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ur;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)dr.fromBufferAttribute(t,e-1),hr.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=dr.distanceTo(hr);e.setAttribute("lineDistance",new Jt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),mr.copy(n.boundingSphere),mr.applyMatrix4(r),mr.radius+=i,!1===e.ray.intersectsSphere(mr))return;pr.copy(r).invert(),fr.copy(e.ray).applyMatrix4(pr);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c.getX(i),r=c.getX(i+1),o=br(this,e,fr,s,n,r);o&&t.push(o)}if(this.isLineLoop){const i=c.getX(r-1),o=c.getX(n),a=br(this,e,fr,s,i,o);a&&t.push(a)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=br(this,e,fr,s,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=br(this,e,fr,s,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function br(e,t,n,r,i,o){const a=e.geometry.attributes.position;dr.fromBufferAttribute(a,i),hr.fromBufferAttribute(a,o);if(n.distanceSqToSegment(dr,hr,gr,vr)>r)return;gr.applyMatrix4(e.matrixWorld);const s=t.ray.origin.distanceTo(gr);return s<t.near||s>t.far?void 0:{distance:s,point:vr.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,object:e}}const Ar=new Ce,xr=new Ce;class wr extends yr{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)Ar.fromBufferAttribute(t,e),xr.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Ar.distanceTo(xr);e.setAttribute("lineDistance",new Jt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Cr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new ee:new Ce);return s.copy(a).sub(o).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Ce,r=[],i=[],o=[],a=new Ce,s=new Ze;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new Ce)}i[0]=new Ce,o[0]=new Ce;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos($(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(a,e))}o[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos($(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}const Er=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let o=Sr(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,d,h,p;if(r&&(o=function(e,t,n,r){const i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,c=Sr(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Dr(c));for(i.sort(Pr),o=0;o<i.length;o++)n=Br(i[o],n);return n}(e,t,o,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)d=e[t],h=e[t+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);p=Math.max(c-s,u-l),p=0!==p?32767/p:0}return Mr(o,a,n,s,l,p,0),a};function Sr(e,t,n,r,i){let o,a;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Wr(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Wr(o,e[o],e[o+1],a);return a&&Ur(a,a.next)&&(qr(a),a=a.next),a}function _r(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Ur(r,r.next)&&0!==jr(r.prev,r,r.next))r=r.next;else{if(qr(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Mr(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Lr(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Tr(e,r,i,o):Ir(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),qr(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Mr(e=Rr(_r(e),t,n),t,n,r,i,o,2):2===a&&kr(e,t,n,r,i,o):Mr(_r(e),t,n,r,i,o,1);break}}function Ir(e){const t=e.prev,n=e,r=e.next;if(jr(t,n,r)>=0)return!1;const i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,h=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c;let f=r.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&Nr(i,s,o,l,a,c,f.x,f.y)&&jr(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Tr(e,t,n,r){const i=e.prev,o=e,a=e.next;if(jr(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,h=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<d?u<h?u:h:d<h?d:h,m=s>l?s>c?s:c:l>c?l:c,g=u>d?u>h?u:h:d>h?d:h,v=Lr(p,f,t,n,r),y=Lr(m,g,t,n,r);let b=e.prevZ,A=e.nextZ;for(;b&&b.z>=v&&A&&A.z<=y;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Nr(s,u,l,d,c,h,b.x,b.y)&&jr(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,A.x>=p&&A.x<=m&&A.y>=f&&A.y<=g&&A!==i&&A!==a&&Nr(s,u,l,d,c,h,A.x,A.y)&&jr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;b&&b.z>=v;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Nr(s,u,l,d,c,h,b.x,b.y)&&jr(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;A&&A.z<=y;){if(A.x>=p&&A.x<=m&&A.y>=f&&A.y<=g&&A!==i&&A!==a&&Nr(s,u,l,d,c,h,A.x,A.y)&&jr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Rr(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!Ur(i,o)&&zr(i,r,r.next,o)&&Gr(i,o)&&Gr(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),qr(r),qr(r.next),r=e=o),r=r.next}while(r!==e);return _r(r)}function kr(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&Fr(a,e)){let s=Qr(a,e);return a=_r(a,a.next),s=_r(s,s.next),Mr(a,t,n,r,i,o,0),void Mr(s,t,n,r,i,o,0)}e=e.next}a=a.next}while(a!==e)}function Pr(e,t){return e.x-t.x}function Br(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,d=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&Nr(a<c?o:i,a,l,c,a<c?i:o,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(o-r.x),Gr(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&Or(n,r)))&&(n=r,d=u)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=Qr(n,e);return _r(r,r.next),_r(n,n.next)}function Or(e,t){return jr(e.prev,e,t.prev)<0&&jr(t.next,e,e.next)<0}function Lr(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Dr(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Nr(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Fr(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&zr(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Gr(e,t)&&Gr(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(jr(e.prev,e,t.prev)||jr(e,t.prev,t))||Ur(e,t)&&jr(e.prev,e,e.next)>0&&jr(t.prev,t,t.next)>0)}function jr(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ur(e,t){return e.x===t.x&&e.y===t.y}function zr(e,t,n,r){const i=Vr(jr(e,t,n)),o=Vr(jr(e,t,r)),a=Vr(jr(n,r,e)),s=Vr(jr(n,r,t));return i!==o&&a!==s||(!(0!==i||!Hr(e,n,t))||(!(0!==o||!Hr(e,r,t))||(!(0!==a||!Hr(n,e,r))||!(0!==s||!Hr(n,t,r)))))}function Hr(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Vr(e){return e>0?1:e<0?-1:0}function Gr(e,t){return jr(e.prev,e,e.next)<0?jr(e,t,e.next)>=0&&jr(e,e.prev,t)>=0:jr(e,t,e.prev)<0||jr(e,e.next,t)<0}function Qr(e,t){const n=new $r(e.i,e.x,e.y),r=new $r(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Wr(e,t,n,r){const i=new $r(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qr(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $r(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Xr{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Xr.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Kr(e),Yr(n,e);let o=e.length;t.forEach(Kr);for(let s=0;s<t.length;s++)r.push(o),o+=t[s].length,Yr(n,t[s]);const a=Er(n,r);for(let s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i}}function Kr(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Yr(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Jr extends Qt{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ht(16777215),this.specular=new Ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ct,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zr extends Qt{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ct,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function ei(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function ti(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ni(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function ri(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function ii(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}class oi{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ai extends oi{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:S,endingEnd:S}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case _:i=e,a=2*t-n;break;case M:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case _:o=e,s=2*n-t;break;case M:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f;for(let A=0;A!==a;++A)i[A]=g*o[c+A]+v*o[l+A]+y*o[s+A]+b*o[u+A];return i}}class si extends oi{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==a;++d)i[d]=o[l+d]*u+o[s+d]*c;return i}}class li extends oi{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ci{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ei(t,this.TimeBufferType),this.values=ei(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:ei(e.times,Array),values:ei(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new li(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new si(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ai(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case w:t=this.InterpolantFactoryMethodDiscrete;break;case C:t=this.InterpolantFactoryMethodLinear;break;case E:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return w;case this.InterpolantFactoryMethodLinear:return C;case this.InterpolantFactoryMethodSmooth:return E}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,o),e=!1;break}o=t}if(void 0!==r&&ti(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===E,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}ci.prototype.TimeBufferType=Float32Array,ci.prototype.ValueBufferType=Float32Array,ci.prototype.DefaultInterpolation=C;class ui extends ci{}ui.prototype.ValueTypeName="bool",ui.prototype.ValueBufferType=Array,ui.prototype.DefaultInterpolation=w,ui.prototype.InterpolantFactoryMethodLinear=void 0,ui.prototype.InterpolantFactoryMethodSmooth=void 0;class di extends ci{}di.prototype.ValueTypeName="color";class hi extends ci{}hi.prototype.ValueTypeName="number";class pi extends oi{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)we.slerpFlat(i,0,o,l-a,o,l,s);return i}}class fi extends ci{InterpolantFactoryMethodLinear(e){return new pi(this.times,this.values,this.getValueSize(),e)}}fi.prototype.ValueTypeName="quaternion",fi.prototype.DefaultInterpolation=C,fi.prototype.InterpolantFactoryMethodSmooth=void 0;class mi extends ci{}mi.prototype.ValueTypeName="string",mi.prototype.ValueBufferType=Array,mi.prototype.DefaultInterpolation=w,mi.prototype.InterpolantFactoryMethodLinear=void 0,mi.prototype.InterpolantFactoryMethodSmooth=void 0;class gi extends ci{}gi.prototype.ValueTypeName="vector";class vi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=q(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(yi(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(ci.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let a=0;a<i;a++){let e=[],s=[];e.push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0);const l=ni(e);e=ri(e,1,l),s=ri(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),o.push(new hi(".morphTargetInfluences["+t[a].name+"]",e,s).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];ii(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new hi(".morphTargetInfluence["+i+"]",t,o))}s=t.length*o}else{const i=".bones["+t[c].name+"]";n(gi,i+".position",e,"pos",r),n(fi,i+".quaternion",e,"rot",r),n(gi,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function yi(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hi;case"vector":case"vector2":case"vector3":case"vector4":return gi;case"color":return di;case"quaternion":return fi;case"bool":case"boolean":return ui;case"string":return mi}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];ii(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const bi={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Ai{constructor(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const xi=new Ai;class wi{constructor(e){this.manager=void 0!==e?e:xi,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}wi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ci={};class Ei extends Error{constructor(e,t){super(e),this.response=t}}class Si extends wi{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=bi.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==Ci[e])return void Ci[e].push({onLoad:t,onProgress:n,onError:r});Ci[e]=[],Ci[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(o).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Ci[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),o=i?parseInt(i):0,a=0!==o;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{s+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new Ei(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,a)));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{bi.add(e,t);const n=Ci[e];delete Ci[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=Ci[e];if(void 0===n)throw this.manager.itemError(e),t;delete Ci[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class _i extends wi{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=bi.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=ie("img");function s(){c(),bi.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class Mi extends wi{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new ar,a=new Si(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){let n;try{n=i.parse(e)}catch(a){if(void 0===r)return void console.error(a);r(a)}void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:u,o.wrapT=void 0!==n.wrapT?n.wrapT:u,o.magFilter=void 0!==n.magFilter?n.magFilter:p,o.minFilter=void 0!==n.minFilter?n.minFilter:p,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(o.colorSpace=n.colorSpace),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=f),1===n.mipmapCount&&(o.minFilter=p),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n)}),n,r),o}}class Ii extends wi{constructor(e){super(e)}load(e,t,n,r){const i=new Ae,o=new _i(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Ti extends _t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Ht(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const Ri=new Ze,ki=new Ce,Pi=new Ce;class Bi{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ee(512,512),this.map=null,this.mapPass=null,this.matrix=new Ze,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Un,this._frameExtents=new ee(1,1),this._viewportCount=1,this._viewports=[new xe(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;ki.setFromMatrixPosition(e.matrixWorld),t.position.copy(ki),Pi.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Pi),t.updateMatrixWorld(),Ri.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ri),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Ri)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Oi extends Bi{constructor(){super(new Bn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*W*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Li extends Ti{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(_t.DEFAULT_UP),this.updateMatrix(),this.target=new _t,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new Oi}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Di=new Ze,Ni=new Ce,Fi=new Ce;class ji extends Bi{constructor(){super(new Bn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ee(4,2),this._viewportCount=6,this._viewports=[new xe(2,1,1,1),new xe(0,1,1,1),new xe(3,1,1,1),new xe(1,1,1,1),new xe(3,0,1,1),new xe(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Ni.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ni),Fi.copy(n.position),Fi.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Fi),n.updateMatrixWorld(),r.makeTranslation(-Ni.x,-Ni.y,-Ni.z),Di.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Di)}}class Ui extends Ti{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new ji}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class zi extends Bi{constructor(){super(new Gn(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Hi extends Ti{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(_t.DEFAULT_UP),this.updateMatrix(),this.target=new _t,this.shadow=new zi}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Vi extends Ti{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Gi{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}const Qi="\\[\\]\\.:\\/",Wi=new RegExp("["+Qi+"]","g"),qi="[^"+Qi+"]",$i="[^"+Qi.replace("\\.","")+"]",Xi=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",qi)+/(WCOD+)?/.source.replace("WCOD",$i)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",qi)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",qi)+"$"),Ki=["material","materials","bones","map"];class Yi{constructor(e,t,n){this.path=t,this.parsedPath=n||Yi.parseTrackName(t),this.node=Yi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Yi.Composite(e,t,n):new Yi(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Wi,"")}static parseTrackName(e){const t=Xi.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Ki.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Yi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yi.Composite=class{constructor(e,t,n){const r=n||Yi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Yi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Yi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Yi.prototype.GetterByBindingType=[Yi.prototype._getValue_direct,Yi.prototype._getValue_array,Yi.prototype._getValue_arrayElement,Yi.prototype._getValue_toArray],Yi.prototype.SetterByBindingTypeAndVersioning=[[Yi.prototype._setValue_direct,Yi.prototype._setValue_direct_setNeedsUpdate,Yi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yi.prototype._setValue_array,Yi.prototype._setValue_array_setNeedsUpdate,Yi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yi.prototype._setValue_arrayElement,Yi.prototype._setValue_arrayElement_setNeedsUpdate,Yi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yi.prototype._setValue_fromArray,Yi.prototype._setValue_fromArray_setNeedsUpdate,Yi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},8649:e=>{e.exports=AFRAME.registerComponent("normal-material",{init:function(){this.material=new THREE.MeshNormalMaterial({flatShading:!0}),this.applyMaterial=this.applyMaterial.bind(this),this.el.addEventListener("object3dset",this.applyMaterial),this.applyMaterial()},remove:function(){this.el.removeEventListener("object3dset",this.applyMaterial)},applyMaterial:function(){this.el.object3D.traverse((e=>{e.isMesh&&(e.material=this.material)}))}})},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8710:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8724:(e,t,n)=>{var r=n(9996),i=n(7432),o=n(2154),a=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8726:(e,t,n)=>{"use strict";var r=n(8634);class i extends r.BRH{constructor(e){super(e)}parse(e){const t=0,n=1,i=2,o=3,a=9,s=10,l=11,c=48,u=4,d=0,h=1,p=2,f=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let m=0;const g=new Uint8Array(e),v={id_length:g[m++],colormap_type:g[m++],image_type:g[m++],colormap_index:g[m++]|g[m++]<<8,colormap_length:g[m++]|g[m++]<<8,colormap_size:g[m++],origin:[g[m++]|g[m++]<<8,g[m++]|g[m++]<<8],width:g[m++]|g[m++]<<8,height:g[m++]|g[m++]<<8,pixel_size:g[m++],flags:g[m++]};if(function(e){switch(e.image_type){case n:case a:if(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case i:case o:case s:case l:if(e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+e.image_type)}if(e.width<=0||e.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size)throw new Error("THREE.TGALoader: Invalid pixel size "+e.pixel_size)}(v),v.id_length+m>e.length)throw new Error("THREE.TGALoader: No data.");m+=v.id_length;let y=!1,b=!1,A=!1;switch(v.image_type){case a:y=!0,b=!0;break;case n:b=!0;break;case s:y=!0;break;case i:break;case l:y=!0,A=!0;break;case o:A=!0}const x=new Uint8Array(v.width*v.height*4),w=function(e,t,n,r,i){let o,a;const s=n.pixel_size>>3,l=n.width*n.height*s;if(t&&(a=i.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;o=new Uint8Array(l);let a=0;const c=new Uint8Array(s);for(;a<l;)if(e=i[r++],t=1+(127&e),128&e){for(n=0;n<s;++n)c[n]=i[r++];for(n=0;n<t;++n)o.set(c,a+n*s);a+=s*t}else{for(t*=s,n=0;n<t;++n)o[a+n]=i[r++];a+=t}}else o=i.subarray(r,r+=t?n.width*n.height:l);return{pixel_data:o,palettes:a}}(y,b,v,m,g);return function(e,t,n,r,i){let o,a,s,l,m,g;switch((v.flags&c)>>u){default:case p:o=0,s=1,m=t,a=0,l=1,g=n;break;case d:o=0,s=1,m=t,a=n-1,l=-1,g=-1;break;case f:o=t-1,s=-1,m=-1,a=0,l=1,g=n;break;case h:o=t-1,s=-1,m=-1,a=n-1,l=-1,g=-1}if(A)switch(v.pixel_size){case 8:!function(e,t,n,r,i,o,a,s){let l,c,u,d=0;const h=v.width;for(u=t;u!==r;u+=n)for(c=i;c!==a;c+=o,d++)l=s[d],e[4*(c+h*u)+0]=l,e[4*(c+h*u)+1]=l,e[4*(c+h*u)+2]=l,e[4*(c+h*u)+3]=255}(e,a,l,g,o,s,m,r);break;case 16:!function(e,t,n,r,i,o,a,s){let l,c,u=0;const d=v.width;for(c=t;c!==r;c+=n)for(l=i;l!==a;l+=o,u+=2)e[4*(l+d*c)+0]=s[u+0],e[4*(l+d*c)+1]=s[u+0],e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+3]=s[u+1]}(e,a,l,g,o,s,m,r);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,n,r,i,o,a,s,l){const c=l;let u,d,h,p=0;const f=v.width;for(h=t;h!==r;h+=n)for(d=i;d!==a;d+=o,p++)u=s[p],e[4*(d+f*h)+3]=255,e[4*(d+f*h)+2]=c[3*u+0],e[4*(d+f*h)+1]=c[3*u+1],e[4*(d+f*h)+0]=c[3*u+2]}(e,a,l,g,o,s,m,r,i);break;case 16:!function(e,t,n,r,i,o,a,s){let l,c,u,d=0;const h=v.width;for(u=t;u!==r;u+=n)for(c=i;c!==a;c+=o,d+=2)l=s[d+0]+(s[d+1]<<8),e[4*(c+h*u)+0]=(31744&l)>>7,e[4*(c+h*u)+1]=(992&l)>>2,e[4*(c+h*u)+2]=(31&l)<<3,e[4*(c+h*u)+3]=32768&l?0:255}(e,a,l,g,o,s,m,r);break;case 24:!function(e,t,n,r,i,o,a,s){let l,c,u=0;const d=v.width;for(c=t;c!==r;c+=n)for(l=i;l!==a;l+=o,u+=3)e[4*(l+d*c)+3]=255,e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+1]=s[u+1],e[4*(l+d*c)+0]=s[u+2]}(e,a,l,g,o,s,m,r);break;case 32:!function(e,t,n,r,i,o,a,s){let l,c,u=0;const d=v.width;for(c=t;c!==r;c+=n)for(l=i;l!==a;l+=o,u+=4)e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+1]=s[u+1],e[4*(l+d*c)+0]=s[u+2],e[4*(l+d*c)+3]=s[u+3]}(e,a,l,g,o,s,m,r);break;default:throw new Error("THREE.TGALoader: Format not supported.")}}(x,v.width,v.height,w.pixel_data,w.palettes),{data:x,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:r.$_I}}}class o extends r.aHM{load(e,t,n,i){const o=this,a=""===o.path?r.r6x.extractUrlBase(e):o.path,s=new r.Y9S(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,(function(n){try{t(o.parse(n,a))}catch(r){i?i(r):console.error(r),o.manager.itemError(e)}}),n,i)}parse(e,t){function n(e,t){const n=[],r=e.childNodes;for(let i=0,o=r.length;i<o;i++){const e=r[i];e.nodeName===t&&n.push(e)}return n}function o(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r];return n}function a(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=parseFloat(t[r]);return n}function s(e){if(0===e.length)return[];const t=e.trim().split(/\s+/),n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=parseInt(t[r]);return n}function l(e){return e.substring(1)}function c(e){return 0===Object.keys(e).length}function u(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function d(e){return void 0!==e?e.textContent:"Y_UP"}function h(e,t,r,i){const o=n(e,t)[0];if(void 0!==o){const e=n(o,r);for(let t=0;t<e.length;t++)i(e[t])}}function p(e,t){for(const n in e){e[n].build=t(e[n])}}function f(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function m(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"input"===r.nodeName){const e=l(r.getAttribute("source")),n=r.getAttribute("semantic");t.inputs[n]=e}}return t}function g(e){const t={};let n=e.getAttribute("target").split("/");const r=n.shift();let i=n.shift();const o=-1!==i.indexOf("("),a=-1!==i.indexOf(".");if(a)n=i.split("."),i=n.shift(),t.member=n.shift();else if(o){const e=i.split("(");i=e.shift();for(let t=0;t<e.length;t++)e[t]=parseInt(e[t].replace(/\)/,""));t.indices=e}return t.id=r,t.sid=i,t.arraySyntax=o,t.memberSyntax=a,t.sampler=l(e.getAttribute("source")),t}function v(e){const t=[],n=e.channels,r=e.samplers,i=e.sources;for(const o in n)if(n.hasOwnProperty(o)){const e=n[o],a=r[e.sampler],s=a.inputs.INPUT,l=a.inputs.OUTPUT;C(b(e,i[s],i[l]),t)}return t}function y(e){return f(Je.animations[e],v)}function b(e,t,n){const r=Je.nodes[e.id],i=Fe(r.id),o=r.transforms[e.sid],a=r.matrix.clone().transpose();let s,l,c,u,d,h;const p={};switch(o){case"matrix":for(c=0,u=t.array.length;c<u;c++)if(s=t.array[c],l=c*n.stride,void 0===p[s]&&(p[s]={}),!0===e.arraySyntax){const t=n.array[l],r=e.indices[0]+4*e.indices[1];p[s][r]=t}else for(d=0,h=n.stride;d<h;d++)p[s][d]=n.array[l+d];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',o)}const f=function(e,t){const n=[];for(const i in e)n.push({time:parseFloat(i),value:e[i]});n.sort(r);for(let i=0;i<16;i++)E(n,i,t.elements[i]);return n;function r(e,t){return e.time-t.time}}(p,a);return{name:i.uuid,keyframes:f}}const A=new r.Pq0,x=new r.Pq0,w=new r.PTz;function C(e,t){const n=e.keyframes,i=e.name,o=[],a=[],s=[],l=[];for(let r=0,c=n.length;r<c;r++){const e=n[r],t=e.time,i=e.value;Me.fromArray(i).transpose(),Me.decompose(A,w,x),o.push(t),a.push(A.x,A.y,A.z),s.push(w.x,w.y,w.z,w.w),l.push(x.x,x.y,x.z)}return a.length>0&&t.push(new r.RiT(i+".position",o,a)),s.length>0&&t.push(new r.MBL(i+".quaternion",o,s)),l.length>0&&t.push(new r.RiT(i+".scale",o,l)),t}function E(e,t,n){let r,i,o,a=!0;for(i=0,o=e.length;i<o;i++)r=e[i],void 0===r.value[t]?r.value[t]=null:a=!1;if(!0===a)for(i=0,o=e.length;i<o;i++)r=e[i],r.value[t]=n;else!function(e,t){let n,r;for(let i=0,o=e.length;i<o;i++){const o=e[i];if(null===o.value[t]){if(n=S(e,i,t),r=_(e,i,t),null===n){o.value[t]=r.value[t];continue}if(null===r){o.value[t]=n.value[t];continue}M(o,n,r,t)}}}(e,t)}function S(e,t,n){for(;t>=0;){const r=e[t];if(null!==r.value[n])return r;t--}return null}function _(e,t,n){for(;t<e.length;){const r=e[t];if(null!==r.value[n])return r;t++}return null}function M(e,t,n,r){n.time-t.time!==0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function I(e){const t=[],n=e.name,i=e.end-e.start||-1,o=e.animations;for(let r=0,a=o.length;r<a;r++){const e=y(o[r]);for(let n=0,r=e.length;n<r;n++)t.push(e[n])}return new r.tz3(n,i,t)}function T(e){return f(Je.clips[e],I)}function R(e){const t={sources:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=a(r.textContent);break;case"source":const e=r.getAttribute("id");t.sources[e]=se(r);break;case"joints":t.joints=k(r);break;case"vertex_weights":t.vertexWeights=P(r)}}return t}function k(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"input"===r.nodeName){const e=r.getAttribute("semantic"),n=l(r.getAttribute("source"));t.inputs[e]=n}}return t}function P(e){const t={inputs:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=r.getAttribute("semantic"),n=l(r.getAttribute("source")),i=parseInt(r.getAttribute("offset"));t.inputs[e]={id:n,offset:i};break;case"vcount":t.vcount=s(r.textContent);break;case"v":t.v=s(r.textContent)}}return t}function B(e){const t={id:e.id},n=Je.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){const t=4,n={joints:[],indices:{array:[],stride:t},weights:{array:[],stride:t}},i=e.sources,o=e.vertexWeights,a=o.vcount,s=o.v,l=o.inputs.JOINT.offset,c=o.inputs.WEIGHT.offset,u=e.sources[e.joints.inputs.JOINT],d=e.sources[e.joints.inputs.INV_BIND_MATRIX],h=i[o.inputs.WEIGHT.id].array;let p,f,m,g=0;for(p=0,m=a.length;p<m;p++){const e=a[p],r=[];for(f=0;f<e;f++){const e=s[g+l],t=h[s[g+c]];r.push({index:e,weight:t}),g+=2}for(r.sort(v),f=0;f<t;f++){const e=r[f];void 0!==e?(n.indices.array.push(e.index),n.weights.array.push(e.weight)):(n.indices.array.push(0),n.weights.array.push(0))}}e.bindShapeMatrix?n.bindMatrix=(new r.kn4).fromArray(e.bindShapeMatrix).transpose():n.bindMatrix=(new r.kn4).identity();for(p=0,m=u.array.length;p<m;p++){const e=u.array[p],t=(new r.kn4).fromArray(d.array,p*d.stride).transpose();n.joints.push({name:e,boneInverse:t})}return n;function v(e,t){return t.weight-e.weight}}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function O(e){return void 0!==e.build?e.build:e.init_from}function L(e){const t=Je.images[e];return void 0!==t?f(t,O):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function D(e){const t={surfaces:{},samplers:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"newparam":N(r,t);break;case"technique":t.technique=U(r);break;case"extra":t.extra=W(r)}}return t}function N(e,t){const n=e.getAttribute("sid");for(let r=0,i=e.childNodes.length;r<i;r++){const i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"surface":t.surfaces[n]=F(i);break;case"sampler2D":t.samplers[n]=j(i)}}}function F(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"init_from"===r.nodeName)t.init_from=r.textContent}return t}function j(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"source"===r.nodeName)t.source=r.textContent}return t}function U(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=r.nodeName,t.parameters=z(r);break;case"extra":t.extra=W(r)}}return t}function z(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[r.nodeName]=H(r);break;case"transparent":t[r.nodeName]={opaque:r.hasAttribute("opaque")?r.getAttribute("opaque"):"A_ONE",data:H(r)}}}return t}function H(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"color":t[r.nodeName]=a(r.textContent);break;case"float":t[r.nodeName]=parseFloat(r.textContent);break;case"texture":t[r.nodeName]={id:r.getAttribute("texture"),extra:V(r)}}}return t}function V(e){const t={technique:{}};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"extra"===r.nodeName)G(r,t)}return t}function G(e,t){for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique"===r.nodeName)Q(r,t)}}function Q(e,t){for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[r.nodeName]=parseFloat(r.textContent);break;case"wrapU":case"wrapV":"TRUE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=1:"FALSE"===r.textContent.toUpperCase()?t.technique[r.nodeName]=0:t.technique[r.nodeName]=parseInt(r.textContent);break;case"bump":t[r.nodeName]=$(r)}}}function W(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique"===r.nodeName)t.technique=q(r)}return t}function q(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"double_sided":t[r.nodeName]=parseInt(r.textContent);break;case"bump":t[r.nodeName]=$(r)}}return t}function $(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"texture"===r.nodeName)t[r.nodeName]={id:r.getAttribute("texture"),texcoord:r.getAttribute("texcoord"),extra:V(r)}}return t}function X(e){return e}function K(e){const t=(n=e.url,f(Je.effects[n],X));var n;const i=t.profile.technique;let o;switch(i.type){case"phong":case"blinn":o=new r.tXL;break;case"lambert":o=new r.G_z;break;default:o=new r.V9B}function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=t.profile.samplers[e.id];let o=null;if(void 0!==i){o=L(t.profile.surfaces[i.source].init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),o=L(e.id);if(null!==o){const t=function(e){let t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));n=n.toLowerCase(),t="tga"===n?qe:We;return t}(o);if(void 0!==t){const i=t.load(o),a=e.extra;if(void 0!==a&&void 0!==a.technique&&!1===c(a.technique)){const e=a.technique;i.wrapS=e.wrapU?r.GJx:r.ghU,i.wrapT=e.wrapV?r.GJx:r.ghU,i.offset.set(e.offsetU||0,e.offsetV||0),i.repeat.set(e.repeatU||1,e.repeatV||1)}else i.wrapS=r.GJx,i.wrapT=r.GJx;return null!==n&&(i.colorSpace=n),i}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",o),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}o.name=e.name||"";const s=i.parameters;for(const c in s){const e=s[c];switch(c){case"diffuse":e.color&&o.color.fromArray(e.color),e.texture&&(o.map=a(e.texture,r.er$));break;case"specular":e.color&&o.specular&&o.specular.fromArray(e.color),e.texture&&(o.specularMap=a(e.texture));break;case"bump":e.texture&&(o.normalMap=a(e.texture));break;case"ambient":e.texture&&(o.lightMap=a(e.texture,r.er$));break;case"shininess":e.float&&o.shininess&&(o.shininess=e.float);break;case"emission":e.color&&o.emissive&&o.emissive.fromArray(e.color),e.texture&&(o.emissiveMap=a(e.texture,r.er$))}}o.color.convertSRGBToLinear(),o.specular&&o.specular.convertSRGBToLinear(),o.emissive&&o.emissive.convertSRGBToLinear();let l=s.transparent,u=s.transparency;if(void 0===u&&l&&(u={float:1}),void 0===l&&u&&(l={opaque:"A_ONE",data:{color:[1,1,1,1]}}),l&&u)if(l.data.texture)o.transparent=!0;else{const e=l.data.color;switch(l.opaque){case"A_ONE":o.opacity=e[3]*u.float;break;case"RGB_ZERO":o.opacity=1-e[0]*u.float;break;case"A_ZERO":o.opacity=1-e[3]*u.float;break;case"RGB_ONE":o.opacity=e[0]*u.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',l.opaque)}o.opacity<1&&(o.transparent=!0)}if(void 0!==i.extra&&void 0!==i.extra.technique){const e=i.extra.technique;for(const t in e){const n=e[t];switch(t){case"double_sided":o.side=1===n?r.$EB:r.hB5;break;case"bump":o.normalMap=a(n.texture),o.normalScale=new r.I9Y(1,1)}}}return o}function Y(e){return f(Je.materials[e],K)}function J(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if("technique_common"===n.nodeName)return Z(n)}return{}}function Z(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=ee(r)}}return t}function ee(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent)}}return t}function te(e){let t;switch(e.optics.technique){case"perspective":t=new r.ubm(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":let n=e.optics.parameters.ymag,i=e.optics.parameters.xmag;const o=e.optics.parameters.aspect_ratio;i=void 0===i?n*o:i,n=void 0===n?i/o:n,i*=.5,n*=.5,t=new r.qUd(-i,i,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new r.ubm}return t.name=e.name||"",t}function ne(e){const t=Je.cameras[e];return void 0!==t?f(t,te):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function re(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=r.nodeName,t.parameters=ie(r)}}return t}function ie(e){const t={};for(let n=0,i=e.childNodes.length;n<i;n++){const i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"color":const e=a(i.textContent);t.color=(new r.Q1f).fromArray(e).convertSRGBToLinear();break;case"falloff_angle":t.falloffAngle=parseFloat(i.textContent);break;case"quadratic_attenuation":const n=parseFloat(i.textContent);t.distance=n?Math.sqrt(1/n):0}}return t}function oe(e){let t;switch(e.technique){case"directional":t=new r.ZyN;break;case"point":t=new r.HiM;break;case"spot":t=new r.nCl;break;case"ambient":t=new r.$p8}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function ae(e){const t=Je.lights[e];return void 0!==t?f(t,oe):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function se(e){const t={array:[],stride:3};for(let r=0;r<e.childNodes.length;r++){const i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"float_array":t.array=a(i.textContent);break;case"Name_array":t.array=o(i.textContent);break;case"technique_common":const e=n(i,"accessor")[0];void 0!==e&&(t.stride=parseInt(e.getAttribute("stride")))}}return t}function le(e){const t={};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=l(r.getAttribute("source")))}return t}function ce(e){const t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"input":const e=l(r.getAttribute("source")),n=r.getAttribute("semantic"),i=parseInt(r.getAttribute("offset")),o=parseInt(r.getAttribute("set")),a=o>0?n+o:n;t.inputs[a]={id:e,offset:i},t.stride=Math.max(t.stride,i+1),"TEXCOORD"===n&&(t.hasUV=!0);break;case"vcount":t.vcount=s(r.textContent);break;case"p":t.p=s(r.textContent)}}return t}function ue(e){let t=0;for(let n=0,r=e.length;n<r;n++){!0===e[n].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function de(e){const t={},n=e.sources,r=e.vertices,i=e.primitives;if(0===i.length)return{};const o=function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}(i);for(const a in o){const e=o[a];ue(e),t[a]=he(e,n,r)}return t}function he(e,t,n){const i={},o={array:[],stride:0},a={array:[],stride:0},s={array:[],stride:0},l={array:[],stride:0},c={array:[],stride:0},u=[],d=4,h=[],p=4,f=new r.LoY,m=[];let g=0;for(let r=0;r<e.length;r++){const i=e[r],d=i.inputs;let p=0;switch(i.type){case"lines":case"linestrips":p=2*i.count;break;case"triangles":p=3*i.count;break;case"polylist":for(let e=0;e<i.count;e++){const t=i.vcount[e];switch(t){case 3:p+=3;break;case 4:p+=6;break;default:p+=3*(t-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",i.type)}f.addGroup(g,p,r),g+=p,i.material&&m.push(i.material);for(const r in d){const p=d[r];switch(r){case"VERTEX":for(const r in n){const d=n[r];switch(r){case"POSITION":const n=o.array.length;if(pe(i,t[d],p.offset,o.array),o.stride=t[d].stride,t.skinWeights&&t.skinIndices&&(pe(i,t.skinIndices,p.offset,u),pe(i,t.skinWeights,p.offset,h)),!1===i.hasUV&&!0===e.uvsNeedsFix){const e=(o.array.length-n)/o.stride;for(let t=0;t<e;t++)s.array.push(0,0)}break;case"NORMAL":pe(i,t[d],p.offset,a.array),a.stride=t[d].stride;break;case"COLOR":pe(i,t[d],p.offset,c.array),c.stride=t[d].stride;break;case"TEXCOORD":pe(i,t[d],p.offset,s.array),s.stride=t[d].stride;break;case"TEXCOORD1":pe(i,t[d],p.offset,l.array),s.stride=t[d].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',r)}}break;case"NORMAL":pe(i,t[p.id],p.offset,a.array),a.stride=t[p.id].stride;break;case"COLOR":pe(i,t[p.id],p.offset,c.array,!0),c.stride=t[p.id].stride;break;case"TEXCOORD":pe(i,t[p.id],p.offset,s.array),s.stride=t[p.id].stride;break;case"TEXCOORD1":pe(i,t[p.id],p.offset,l.array),l.stride=t[p.id].stride}}}return o.array.length>0&&f.setAttribute("position",new r.qtW(o.array,o.stride)),a.array.length>0&&f.setAttribute("normal",new r.qtW(a.array,a.stride)),c.array.length>0&&f.setAttribute("color",new r.qtW(c.array,c.stride)),s.array.length>0&&f.setAttribute("uv",new r.qtW(s.array,s.stride)),l.array.length>0&&f.setAttribute("uv1",new r.qtW(l.array,l.stride)),u.length>0&&f.setAttribute("skinIndex",new r.qtW(u,d)),h.length>0&&f.setAttribute("skinWeight",new r.qtW(h,p)),i.data=f,i.type=e[0].type,i.materialKeys=m,i}function pe(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=e.p,a=e.stride,s=e.vcount;function l(e){let t=o[e+n]*u;const a=t+u;for(;t<a;t++)r.push(c[t]);if(i){const e=r.length-u-1;$e.setRGB(r[e+0],r[e+1],r[e+2]).convertSRGBToLinear(),r[e+0]=$e.r,r[e+1]=$e.g,r[e+2]=$e.b}}const c=t.array,u=t.stride;if(void 0!==e.vcount){let e=0;for(let t=0,n=s.length;t<n;t++){const n=s[t];if(4===n){const t=e+1*a,n=e+2*a,r=e+3*a;l(e+0*a),l(t),l(r),l(t),l(n),l(r)}else if(3===n){const t=e+1*a,n=e+2*a;l(e+0*a),l(t),l(n)}else if(n>4)for(let t=1,r=n-2;t<=r;t++){const n=e+a*t,r=e+a*(t+1);l(e+0*a),l(n),l(r)}e+=a*n}}else for(let d=0,h=o.length;d<h;d+=a)l(d)}function fe(e){return f(Je.geometries[e],de)}function me(e){return void 0!==e.build?e.build:e}function ge(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=ve(r);break;case"link":t.links.push(be(r))}}}function ve(e){let t;for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=ye(r)}}return t}function ye(e){const t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new r.Pq0,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":const e=a(r.textContent);t.axis.fromArray(e);break;case"limits":const n=r.getElementsByTagName("max")[0],i=r.getElementsByTagName("min")[0];t.limits.max=parseFloat(n.textContent),t.limits.min=parseFloat(i.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function be(e){const t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(Ae(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(xe(r))}}return t}function Ae(e){const t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(be(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(xe(r))}}return t}function xe(e){const t={type:e.nodeName},n=a(e.textContent);switch(t.type){case"matrix":t.obj=new r.kn4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new r.Pq0,t.obj.fromArray(n);break;case"rotate":t.obj=new r.Pq0,t.obj.fromArray(n),t.angle=r.cj9.degToRad(n[3])}return t}function we(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)Ce(r,t)}}function Ce(e,t){for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=a(r.textContent);break;case"mass":t.mass=a(r.textContent)[0]}}}function Ee(e){const t={target:e.getAttribute("target").split("/").pop()};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"axis"===r.nodeName){const e=r.getElementsByTagName("param")[0];t.axis=e.textContent;const n=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=n.substring(0,n.length-1)}}return t}function Se(e){return void 0!==e.build?e.build:e}function _e(e){const t=[],n=He.querySelector('[id="'+e.id+'"]');for(let i=0;i<n.childNodes.length;i++){const e=n.childNodes[i];if(1!==e.nodeType)continue;let o,s;switch(e.nodeName){case"matrix":o=a(e.textContent);const n=(new r.kn4).fromArray(o).transpose();t.push({sid:e.getAttribute("sid"),type:e.nodeName,obj:n});break;case"translate":case"scale":o=a(e.textContent),s=(new r.Pq0).fromArray(o),t.push({sid:e.getAttribute("sid"),type:e.nodeName,obj:s});break;case"rotate":o=a(e.textContent),s=(new r.Pq0).fromArray(o);const i=r.cj9.degToRad(o[3]);t.push({sid:e.getAttribute("sid"),type:e.nodeName,obj:s,angle:i})}}return t}const Me=new r.kn4,Ie=new r.Pq0;function Te(e){const t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new r.kn4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];if(1!==i.nodeType)continue;let o;switch(i.nodeName){case"node":t.nodes.push(i.getAttribute("id")),Te(i);break;case"instance_camera":t.instanceCameras.push(l(i.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(Re(i));break;case"instance_light":t.instanceLights.push(l(i.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(Re(i));break;case"instance_node":t.instanceNodes.push(l(i.getAttribute("url")));break;case"matrix":o=a(i.textContent),t.matrix.multiply(Me.fromArray(o).transpose()),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"translate":o=a(i.textContent),Ie.fromArray(o),t.matrix.multiply(Me.makeTranslation(Ie.x,Ie.y,Ie.z)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"rotate":o=a(i.textContent);const e=r.cj9.degToRad(o[3]);t.matrix.multiply(Me.makeRotationAxis(Ie.fromArray(o),e)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"scale":o=a(i.textContent),t.matrix.scale(Ie.fromArray(o)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"extra":break;default:console.log(i)}}return Ne(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Je.nodes[t.id]=t,t}function Re(e){const t={id:l(e.getAttribute("url")),materials:{},skeletons:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];switch(r.nodeName){case"bind_material":const e=r.getElementsByTagName("instance_material");for(let n=0;n<e.length;n++){const r=e[n],i=r.getAttribute("symbol"),o=r.getAttribute("target");t.materials[i]=l(o)}break;case"skeleton":t.skeletons.push(l(r.textContent))}}return t}function ke(e,t){const n=[],i=[];let o,a,s;for(o=0;o<e.length;o++){const r=e[o];let i;if(Ne(r))i=Fe(r),Pe(i,t,n);else if(l=r,void 0!==Je.visualScenes[l]){const e=Je.visualScenes[r].children;for(let r=0;r<e.length;r++){const i=e[r];if("JOINT"===i.type){Pe(Fe(i.id),t,n)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",r)}var l;for(o=0;o<t.length;o++)for(a=0;a<n.length;a++)if(s=n[a],s.bone.name===t[o].name){i[o]=s,s.processed=!0;break}for(o=0;o<n.length;o++)s=n[o],!1===s.processed&&(i.push(s),s.processed=!0);const c=[],u=[];for(o=0;o<i.length;o++)s=i[o],c.push(s.bone),u.push(s.boneInverse);return new r.EAD(c,u)}function Pe(e,t,n){e.traverse((function(e){if(!0===e.isBone){let i;for(let n=0;n<t.length;n++){const r=t[n];if(r.name===e.name){i=r.boneInverse;break}}void 0===i&&(i=new r.kn4),n.push({bone:e,boneInverse:i,processed:!1})}}))}function Be(e){const t=[],n=e.matrix,i=e.nodes,o=e.type,a=e.instanceCameras,s=e.instanceControllers,l=e.instanceLights,c=e.instanceGeometries,u=e.instanceNodes;for(let r=0,p=i.length;r<p;r++)t.push(Fe(i[r]));for(let r=0,p=a.length;r<p;r++){const e=ne(a[r]);null!==e&&t.push(e.clone())}for(let r=0,p=s.length;r<p;r++){const e=s[r],n=(d=e.id,f(Je.controllers[d],B)),i=De(fe(n.id),e.materials),o=ke(e.skeletons,n.skin.joints);for(let r=0,a=i.length;r<a;r++){const e=i[r];e.isSkinnedMesh&&(e.bind(o,n.skin.bindMatrix),e.normalizeSkinWeights()),t.push(e)}}var d;for(let r=0,p=l.length;r<p;r++){const e=ae(l[r]);null!==e&&t.push(e.clone())}for(let r=0,p=c.length;r<p;r++){const e=c[r],n=De(fe(e.id),e.materials);for(let r=0,i=n.length;r<i;r++)t.push(n[r])}for(let r=0,p=u.length;r<p;r++)t.push(Fe(u[r]).clone());let h;if(0===i.length&&1===t.length)h=t[0];else{h="JOINT"===o?new r.$Kf:new r.YJl;for(let e=0;e<t.length;e++)h.add(t[e])}return h.name="JOINT"===o?e.sid:e.name,h.matrix.copy(n),h.matrix.decompose(h.position,h.quaternion,h.scale),h}const Oe=new r.V9B({name:r.aHM.DEFAULT_MATERIAL_NAME,color:16711935});function Le(e,t){const n=[];for(let r=0,i=e.length;r<i;r++){const i=t[e[r]];void 0===i?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(Oe)):n.push(Y(i))}return n}function De(e,t){const n=[];for(const i in e){const o=e[i],a=Le(o.materialKeys,t);if(0===a.length&&("lines"===i||"linestrips"===i?a.push(new r.mrM):a.push(new r.tXL)),"lines"===i||"linestrips"===i)for(let e=0,t=a.length;e<t;e++){const t=a[e];if(!0===t.isMeshPhongMaterial||!0===t.isMeshLambertMaterial){const n=new r.mrM;n.color.copy(t.color),n.opacity=t.opacity,n.transparent=t.transparent,a[e]=n}}const s=void 0!==o.data.attributes.skinIndex,l=1===a.length?a[0]:a;let c;switch(i){case"lines":c=new r.DXC(o.data,l);break;case"linestrips":c=new r.N1A(o.data,l);break;case"triangles":case"polylist":c=s?new r.I46(o.data,l):new r.eaF(o.data,l)}n.push(c)}return n}function Ne(e){return void 0!==Je.nodes[e]}function Fe(e){return f(Je.nodes[e],Be)}function je(e){const t=new r.YJl;t.name=e.name;const n=e.children;for(let r=0;r<n.length;r++){const e=n[r];t.add(Fe(e.id))}return t}function Ue(e){return f(Je.visualScenes[e],je)}if(0===e.length)return{scene:new r.Z58};const ze=(new DOMParser).parseFromString(e,"application/xml"),He=n(ze,"COLLADA")[0],Ve=ze.getElementsByTagName("parsererror")[0];if(void 0!==Ve){const e=n(Ve,"div")[0];let t;return t=e?e.textContent:function(e){let t="";const n=[e];for(;n.length;){const e=n.shift();e.nodeType===Node.TEXT_NODE?t+=e.textContent:(t+="\n",n.push.apply(n,e.childNodes))}return t.trim()}(Ve),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",t),null}const Ge=He.getAttribute("version");console.debug("THREE.ColladaLoader: File version",Ge);const Qe=function(e){return{unit:u(n(e,"unit")[0]),upAxis:d(n(e,"up_axis")[0])}}(n(He,"asset")[0]),We=new r.Tap(this.manager);let qe;We.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),i&&(qe=new i(this.manager),qe.setPath(this.resourcePath||t));const $e=new r.Q1f,Xe=[];let Ke={},Ye=0;const Je={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};h(He,"library_animations","animation",(function e(t){const n={sources:{},samplers:{},channels:{}};let i=!1;for(let r=0,o=t.childNodes.length;r<o;r++){const o=t.childNodes[r];if(1!==o.nodeType)continue;let a;switch(o.nodeName){case"source":a=o.getAttribute("id"),n.sources[a]=se(o);break;case"sampler":a=o.getAttribute("id"),n.samplers[a]=m(o);break;case"channel":a=o.getAttribute("target"),n.channels[a]=g(o);break;case"animation":e(o),i=!0;break;default:console.log(o)}}!1===i&&(Je.animations[t.getAttribute("id")||r.cj9.generateUUID()]=n)})),h(He,"library_animation_clips","animation_clip",(function(e){const t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"instance_animation"===r.nodeName)t.animations.push(l(r.getAttribute("url")))}Je.clips[e.getAttribute("id")]=t})),h(He,"library_controllers","controller",(function(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"skin":t.id=l(r.getAttribute("source")),t.skin=R(r);break;case"morph":t.id=l(r.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Je.controllers[e.getAttribute("id")]=t})),h(He,"library_images","image",(function(e){const t={init_from:n(e,"init_from")[0].textContent};Je.images[e.getAttribute("id")]=t})),h(He,"library_effects","effect",(function(e){const t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"profile_COMMON"===r.nodeName)t.profile=D(r)}Je.effects[e.getAttribute("id")]=t})),h(He,"library_materials","material",(function(e){const t={name:e.getAttribute("name")};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"instance_effect"===r.nodeName)t.url=l(r.getAttribute("url"))}Je.materials[e.getAttribute("id")]=t})),h(He,"library_cameras","camera",(function(e){const t={name:e.getAttribute("name")};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"optics"===r.nodeName)t.optics=J(r)}Je.cameras[e.getAttribute("id")]=t})),h(He,"library_lights","light",(function(e){let t={};for(let n=0,r=e.childNodes.length;n<r;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)t=re(r)}Je.lights[e.getAttribute("id")]=t})),h(He,"library_geometries","geometry",(function(e){const t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(let e=0;e<r.childNodes.length;e++){const n=r.childNodes[e];if(1!==n.nodeType)continue;const i=n.getAttribute("id");switch(n.nodeName){case"source":t.sources[i]=se(n);break;case"vertices":t.vertices=le(n);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",n.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ce(n));break;default:console.log(n)}}Je.geometries[e.getAttribute("id")]=t}})),h(He,"library_nodes","node",Te),h(He,"library_visual_scenes","visual_scene",(function(e){const t={name:e.getAttribute("name"),children:[]};!function(e){const t=e.getElementsByTagName("node");for(let n=0;n<t.length;n++){const e=t[n];!1===e.hasAttribute("id")&&e.setAttribute("id","three_default_"+Ye++)}}(e);const r=n(e,"node");for(let n=0;n<r.length;n++)t.children.push(Te(r[n]));Je.visualScenes[e.getAttribute("id")]=t})),h(He,"library_kinematics_models","kinematics_model",(function(e){const t={name:e.getAttribute("name")||"",joints:{},links:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"technique_common"===r.nodeName)ge(r,t)}Je.kinematicsModels[e.getAttribute("id")]=t})),h(He,"library_physics_models","physics_model",(function(e){const t={name:e.getAttribute("name")||"",rigidBodies:{}};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"rigid_body"===r.nodeName)t.rigidBodies[r.getAttribute("name")]={},we(r,t.rigidBodies[r.getAttribute("name")])}Je.physicsModels[e.getAttribute("id")]=t})),h(He,"scene","instance_kinematics_scene",(function(e){const t={bindJointAxis:[]};for(let n=0;n<e.childNodes.length;n++){const r=e.childNodes[n];if(1===r.nodeType&&"bind_joint_axis"===r.nodeName)t.bindJointAxis.push(Ee(r))}Je.kinematicsScenes[l(e.getAttribute("url"))]=t})),p(Je.animations,v),p(Je.clips,I),p(Je.controllers,B),p(Je.images,O),p(Je.effects,X),p(Je.materials,K),p(Je.cameras,te),p(Je.lights,oe),p(Je.geometries,de),p(Je.visualScenes,je),function(){const e=Je.clips;if(!0===c(e)){if(!1===c(Je.animations)){const e=[];for(const t in Je.animations){const n=y(t);for(let t=0,r=n.length;t<r;t++)e.push(n[t])}Xe.push(new r.tz3("default",-1,e))}}else for(const t in e)Xe.push(T(t))}(),function(){const e=Object.keys(Je.kinematicsModels)[0],t=Object.keys(Je.kinematicsScenes)[0],n=Object.keys(Je.visualScenes)[0];if(void 0===e||void 0===t)return;const i=(o=e,f(Je.kinematicsModels[o],me));var o;const a=function(e){return f(Je.kinematicsScenes[e],Se)}(t),s=Ue(n),l=a.bindJointAxis,c={};for(let r=0,h=l.length;r<h;r++){const e=l[r],t=He.querySelector('[sid="'+e.target+'"]');if(t){const n=t.parentElement;u(e.jointIndex,n)}}function u(e,t){const n=t.getAttribute("name"),r=i.joints[e];s.traverse((function(i){i.name===n&&(c[e]={object:i,transforms:_e(t),joint:r,position:r.zeroPosition})}))}const d=new r.kn4;Ke={joints:i&&i.joints,getJointValue:function(e){const t=c[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){const n=c[e];if(n){const i=n.joint;if(t>i.limits.max||t<i.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+").");else if(i.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{const o=n.object,a=i.axis,s=n.transforms;Me.identity();for(let n=0;n<s.length;n++){const o=s[n];if(o.sid&&-1!==o.sid.indexOf(e))switch(i.type){case"revolute":Me.multiply(d.makeRotationAxis(a,r.cj9.degToRad(t)));break;case"prismatic":Me.multiply(d.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+i.type)}else switch(o.type){case"matrix":Me.multiply(o.obj);break;case"translate":Me.multiply(d.makeTranslation(o.obj.x,o.obj.y,o.obj.z));break;case"scale":Me.scale(o.obj);break;case"rotate":Me.multiply(d.makeRotationAxis(o.obj,o.angle))}}o.matrix.copy(Me),o.matrix.decompose(o.position,o.quaternion,o.scale),c[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}();const Ze=function(e){return Ue(l(n(e,"instance_visual_scene")[0].getAttribute("url")))}(n(He,"scene")[0]);return Ze.animations=Xe,"Z_UP"===Qe.upAxis&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Ze.rotation.set(-Math.PI/2,0,0)),Ze.scale.multiplyScalar(Qe.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),Xe},kinematics:Ke,library:Je,scene:Ze}}}THREE.ColladaLoader=o,AFRAME.registerComponent("collada-model-legacy",{schema:{type:"asset"},init:function(){this.model=null,this.loader=new THREE.ColladaLoader},update:function(){var e=this,t=this.el,n=this.data,r=this.el.sceneEl.systems.renderer;n&&(this.remove(),this.loader.load(n,(function(n){e.model=n.scene,e.model.traverse((function(e){if(e.isMesh){var t=e.material;t.color&&r.applyColorCorrection(t.color),t.map&&r.applyColorCorrection(t.map),t.emissive&&r.applyColorCorrection(t.emissive),t.emissiveMap&&r.applyColorCorrection(t.emissiveMap)}})),t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"collada",model:e.model})})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},8918:e=>{e.exports=AFRAME.registerComponent("touch-controls",{schema:{enabled:{default:!0},reverseEnabled:{default:!0}},init:function(){this.dVelocity=new THREE.Vector3,this.bindMethods(),this.direction=0},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const e=this.el.sceneEl,t=e.canvas;if(!t)return void e.addEventListener("render-target-loaded",this.addEventListeners.bind(this));t.addEventListener("touchstart",this.onTouchStart,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd,{passive:!0});const n=e.getAttribute("vr-mode-ui");n&&n.cardboardModeEnabled&&e.addEventListener("enter-vr",this.onEnterVR)},removeEventListeners:function(){const e=this.el.sceneEl&&this.el.sceneEl.canvas;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchend",this.onTouchEnd),this.el.sceneEl.removeEventListener("enter-vr",this.onEnterVR))},isVelocityActive:function(){return this.data.enabled&&!!this.direction},getVelocityDelta:function(){return this.dVelocity.z=this.direction,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onEnterVR=this.onEnterVR.bind(this)},onTouchStart:function(e){this.direction=-1,this.data.reverseEnabled&&e.touches&&2===e.touches.length&&(this.direction=1),e.preventDefault()},onTouchEnd:function(e){this.direction=0,e.preventDefault()},onEnterVR:function(){const e=this.el.sceneEl.xrSession;e&&(e.addEventListener("selectstart",this.onTouchStart),e.addEventListener("selectend",this.onTouchEnd))}})},8929:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Miner_Mk1.a196836ae7b520364b1e.png"},8931:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Converter.05102d91fa72b32f1d31.png"},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9019:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(3900)),o=c(n(5043)),a=c(n(5173)),s=(c(n(344)),n(5484)),l=n(5051);function c(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,i));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t&&t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,l.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t&&t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,l.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t&&t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t&&t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,l.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState((function(t){var n=r({},t.children);return delete n[e],{children:n}}))},o.childRefs=Object.create(null),o.currentlyTransitioningKeys={},o.keysToEnter=[],o.keysToLeave=[],o.state={children:(0,l.getChildMapping)(n.children)},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.getDerivedStateFromProps=function(e,t){var n=(0,l.getChildMapping)(e.children),r=t.children;return{children:(0,l.mergeChildMappings)(r,n)}},t.prototype.componentDidUpdate=function(e,t){var n=this,r=(0,l.getChildMapping)(this.props.children),i=t.children;for(var o in r){var a=i&&i.hasOwnProperty(o);!r[o]||a||this.currentlyTransitioningKeys[o]||this.keysToEnter.push(o)}for(var s in i){var c=r&&r.hasOwnProperty(s);!i[s]||c||this.currentlyTransitioningKeys[s]||this.keysToLeave.push(s)}var u=this.keysToEnter;this.keysToEnter=[],u.forEach((function(e){return n.performEnter(e,n.childRefs[e])}));var d=this.keysToLeave;this.keysToLeave=[],d.forEach((function(e){return n.performLeave(e,n.childRefs[e])}))},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!==typeof r.ref,s=e.props.childFactory(r),l=function(t){e.childRefs[n]=t};s===r&&a&&(l=(0,i.default)(r.ref,l)),t.push(o.default.cloneElement(s,{key:n,ref:l}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},t}(o.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(e){return e}},t.default=(0,s.polyfill)(u),e.exports=t.default},9037:(e,t,n)=>{"use strict";var r=n(6305).default;t.A=void 0;var i=r(n(5043));t.A=parseInt(i.version,10)},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9066:(e,t,n)=>{"use strict";var r=n(4994);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(4483));e.exports=t.default},9075:(e,t,n)=>{var r=n(6614),i=n(6326);e.exports=function(e,t){return r(e,i(e),t)}},9081:(e,t,n)=>{const r=n(510)(),i=function(){let e;return function(){return e=e||r("https://cdn.jsdelivr.net/gh/mrdoob/three.js@r86/examples/js/loaders/GLTFLoader.js"),e}}();e.exports=AFRAME.registerComponent("gltf-model-legacy",{schema:{type:"model"},init:function(){this.model=null,this.loader=null,this.loaderPromise=i().then((()=>{this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("Anonymous")}))},update:function(){const e=this,t=this.el,n=this.data;n&&(this.remove(),this.loaderPromise.then((()=>{this.loader.load(n,(function(n){e.model=n.scene,e.model.animations=n.animations,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})}))})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),o=n(715);e.exports=function(e){return i(e)?o(e):r(e)}},9117:e=>{e.exports=AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3,this.zVel=0,this.xVel=0,this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){const e=this.data,t=this.el.sceneEl;switch(t.addEventListener("axismove",this.onAxisMove),e.mode){case"swipe":case"touch":t.addEventListener("trackpadtouchstart",this.onTouchStart),t.addEventListener("trackpadtouchend",this.onTouchEnd);break;case"press":t.addEventListener("trackpaddown",this.onTouchStart),t.addEventListener("trackpadup",this.onTouchEnd)}},removeEventListeners:function(){const e=this.el.sceneEl;e.removeEventListener("axismove",this.onAxisMove),e.removeEventListener("trackpadtouchstart",this.onTouchStart),e.removeEventListener("trackpadtouchend",this.onTouchEnd),e.removeEventListener("trackpaddown",this.onTouchStart),e.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){return this.dVelocity.z=this.isMoving?-this.zVel:1,this.dVelocity.x=this.isMoving?this.xVel:1,this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(e){switch(this.data.mode){case"swipe":this.canRecordAxis=!0,this.startingAxisData=[];break;case"touch":case"press":this.isMoving=!0}e.preventDefault()},onTouchEnd:function(e){"swipe"==this.data.mode&&(this.startingAxisData=[]),this.isMoving=!1,e.preventDefault()},onAxisMove:function(e){switch(this.data.mode){case"swipe":return this.handleSwipeAxis(e);case"touch":case"press":return this.handleTouchAxis(e)}},handleSwipeAxis:function(e){const t=this.data,n=e.detail.axis;if(0===this.startingAxisData.length&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=n[0],this.startingAxisData[1]=n[1]),this.startingAxisData.length>0){let e=0,r=0;t.enableNegX&&n[0]<this.startingAxisData[0]&&(e=-1),t.enablePosX&&n[0]>this.startingAxisData[0]&&(e=1),t.enablePosZ&&n[1]>this.startingAxisData[1]&&(r=-1),t.enableNegZ&&n[1]<this.startingAxisData[1]&&(r=1);const i=Math.abs(this.startingAxisData[1]-n[1]);Math.abs(this.startingAxisData[0]-n[0])>i?(this.zVel=0,this.xVel=e,this.isMoving=!0):(this.xVel=0,this.zVel=r,this.isMoving=!0)}},handleTouchAxis:function(e){const t=this.data,n=e.detail.axis;let r=0,i=0;t.enableNegX&&n[0]<0&&(r=-1),t.enablePosX&&n[0]>0&&(r=1),t.enablePosZ&&n[1]>0&&(i=-1),t.enableNegZ&&n[1]<0&&(i=1),Math.abs(n[0])>Math.abs(n[1])?(this.zVel=0,this.xVel=r):(this.xVel=0,this.zVel=i)}})},9128:(e,t,n)=>{"use strict";var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(5043),a=(r=o)&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,o=void 0===r?24:r,s=e.height,l=void 0===s?24:s,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return a.default.createElement("svg",i({viewBox:"0 0 24 24",style:i({fill:n,width:o,height:l},u)},d),a.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},9133:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Assembler.2f2b0e9d48d0193bcf2f.png"},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(840)),i=a(n(6434)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=o({},n[t],i[t])})),t})),n};t.default=s},9148:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Foundry.c19f06f4a8f585001f93.png"},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,i=n(840),o=(r=i)&&r.__esModule?r:{default:r},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=s[t];n?r=a({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=l},9217:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Conveyor_Lift_Mk2.94db8594efaef45ae849.png"},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9435:(e,t,n)=>{"use strict";n.d(t,{$EB:()=>g,$Ed:()=>Rs,$Kf:()=>Wa,$NF:()=>vu,$O9:()=>xe,$Yl:()=>U,$_I:()=>Me,$ei:()=>M,$p8:()=>Nu,A$4:()=>xo,AKb:()=>qc,ALV:()=>Pr,AQS:()=>rr,Am1:()=>Ju,B69:()=>Ni,B6O:()=>fl,BER:()=>le,BH$:()=>Qs,BKk:()=>Jo,BND:()=>bh,BRH:()=>bu,BXX:()=>rt,B_h:()=>ht,CMB:()=>Qe,CR7:()=>mn,CSG:()=>Fc,CV9:()=>Cl,CVz:()=>lt,CWW:()=>kt,Cfg:()=>we,CmU:()=>Vu,CwR:()=>vd,D$Q:()=>kc,DAe:()=>Ht,DXC:()=>Vs,Df:()=>Lc,Dmk:()=>Ue,E0M:()=>Eh,EAD:()=>Ka,EQC:()=>Nt,EZo:()=>b,EdD:()=>x,F1T:()=>oa,F1l:()=>nh,FCc:()=>Gs,FFZ:()=>Mn,FNr:()=>Uc,FV:()=>ie,FXf:()=>E,FZo:()=>Uu,Fn:()=>St,Fpm:()=>Kd,FvD:()=>tl,Fvi:()=>ce,Fvt:()=>zc,G3T:()=>Pt,GBG:()=>nu,GJx:()=>ge,GOR:()=>il,GWd:()=>Ve,GYF:()=>qa,GZZ:()=>Al,G_z:()=>Nc,Gu$:()=>wc,Gwm:()=>$,GxU:()=>ho,H23:()=>_t,H2z:()=>Mh,HIg:()=>He,HLH:()=>sn,HO_:()=>Rt,HPb:()=>hn,HXV:()=>at,HgN:()=>Ar,HiM:()=>Bu,Hit:()=>tu,Ho_:()=>kl,Hrb:()=>Ao,Hrq:()=>On,I46:()=>Qa,I9Y:()=>er,IE4:()=>et,IUQ:()=>_r,IWo:()=>yh,Iit:()=>Xo,Ipv:()=>al,Iw4:()=>Td,IzY:()=>Sh,Jnc:()=>l,K52:()=>X,KDk:()=>ut,KLL:()=>nn,KPJ:()=>cu,KRh:()=>J,Ke9:()=>zt,Kef:()=>It,Ktl:()=>Rn,Kwu:()=>A,Kzg:()=>Xu,Kzv:()=>Ge,LAk:()=>ae,Ld9:()=>_h,LiQ:()=>k,LlO:()=>Yo,LoY:()=>Bo,LuO:()=>Ld,MBL:()=>ru,MOq:()=>Ln,MSw:()=>xc,MW4:()=>Co,Mjd:()=>ne,Mmk:()=>hr,N1A:()=>js,N2s:()=>yd,N5j:()=>qt,NRn:()=>Nr,NTi:()=>y,NZq:()=>Ie,Nex:()=>Ih,Nt7:()=>L,Nv2:()=>Js,Nwf:()=>Sd,Nz6:()=>tt,O0B:()=>Mr,O3Y:()=>Ec,O49:()=>Gt,O9p:()=>Ai,ONl:()=>Ks,OUM:()=>Te,Oax:()=>Eo,Om:()=>me,OuU:()=>B,P5j:()=>_d,PFK:()=>hh,PJ3:()=>Dt,PPD:()=>hs,PTz:()=>Br,Pdi:()=>Xc,Pem:()=>el,Pf$:()=>ud,Pq0:()=>Or,Q1f:()=>no,QCA:()=>mc,QP0:()=>d,Qev:()=>Hn,Qrf:()=>mt,R1W:()=>ah,R3r:()=>ua,RJ4:()=>Vt,ROr:()=>ln,RQf:()=>Le,RcT:()=>gn,RiT:()=>ou,Riy:()=>ct,Rkk:()=>Wt,RlV:()=>ci,RoJ:()=>va,RrE:()=>j,Ru$:()=>cn,RyA:()=>p,S$4:()=>Et,S20:()=>sl,SUR:()=>Gu,SYV:()=>Zs,ScU:()=>yu,T6I:()=>eu,TDQ:()=>jl,THS:()=>go,TMh:()=>yn,Tap:()=>Au,TdN:()=>jn,TiK:()=>Cn,TkQ:()=>Ye,U3G:()=>q,UJ6:()=>Jc,UPV:()=>Sc,UTZ:()=>ue,Ufg:()=>yc,UpK:()=>La,UtB:()=>Qd,UtX:()=>Yu,V3x:()=>je,V9B:()=>ao,VCu:()=>ol,VGF:()=>Je,VT0:()=>$e,VVr:()=>on,Vb5:()=>s,VnP:()=>xl,Vnu:()=>Tn,Vwu:()=>Th,VxR:()=>tn,W9U:()=>Mt,WBB:()=>vc,WNZ:()=>a,WTh:()=>mh,Wdf:()=>Fn,Wew:()=>Ne,Wk7:()=>h,Wyr:()=>Nn,XG_:()=>Tt,XIg:()=>v,XJ7:()=>Mc,XMJ:()=>Rd,XTe:()=>Qu,XrR:()=>Z,Y9S:()=>fu,YHV:()=>zd,YJl:()=>la,YOZ:()=>Zc,YRT:()=>gu,Yhb:()=>Yc,Yuy:()=>Be,Z0B:()=>yl,Z58:()=>pa,ZLX:()=>os,ZM4:()=>Ah,ZQM:()=>Xe,Zcv:()=>cs,Zpd:()=>Cc,Zr2:()=>en,ZyN:()=>Du,_4j:()=>Pc,_QJ:()=>yt,_Ut:()=>Ko,_xc:()=>eh,a$r:()=>Ce,a55:()=>Wn,a5J:()=>vt,aEY:()=>N,aHM:()=>du,aJ8:()=>se,aMy:()=>Bt,aVO:()=>jc,agE:()=>In,amv:()=>An,b4q:()=>aa,bC7:()=>xt,bCz:()=>w,bI3:()=>Kt,bTm:()=>u,baL:()=>yo,bdM:()=>bc,bkx:()=>Oe,brA:()=>Q,bw0:()=>K,c5h:()=>rl,c90:()=>Ze,cHt:()=>Pe,cRK:()=>da,cZY:()=>$d,caT:()=>Y,cj9:()=>Zn,czI:()=>pt,dAo:()=>wl,dYF:()=>kr,dcC:()=>qe,dhZ:()=>Ut,dth:()=>wu,dwI:()=>tr,dzP:()=>Od,e0p:()=>z,eB$:()=>fa,eHc:()=>V,eHs:()=>ga,eaF:()=>Qo,eoi:()=>En,er$:()=>Zt,ezk:()=>Kc,f4X:()=>R,fBL:()=>ke,fJr:()=>un,fP5:()=>dd,fTw:()=>sh,fc6:()=>bo,g7M:()=>oe,gJ2:()=>Fe,gO9:()=>C,gPd:()=>Sr,gWB:()=>_n,ghU:()=>ve,h2z:()=>jt,hB5:()=>f,hIf:()=>Pn,hZF:()=>iu,h_9:()=>uu,hdd:()=>O,hgQ:()=>F,hjs:()=>Hd,hsX:()=>m,hxR:()=>be,hy7:()=>de,hzE:()=>lh,i7d:()=>Zo,i7u:()=>Un,iNn:()=>qo,iOZ:()=>nl,iUH:()=>_e,ibB:()=>ll,ie2:()=>P,imn:()=>oo,ix0:()=>De,iyt:()=>ti,j6:()=>_c,jGm:()=>_l,jR7:()=>nt,jUj:()=>ha,jej:()=>ur,jf0:()=>Jt,jsO:()=>fn,jut:()=>zu,jzd:()=>Sn,k6Q:()=>it,k6q:()=>Ee,k8v:()=>Xt,kBv:()=>i,kEx:()=>mu,kG0:()=>an,kLi:()=>wr,kO0:()=>wn,kRr:()=>Se,kTW:()=>ye,kTp:()=>ot,kYr:()=>pn,k_V:()=>Vd,keZ:()=>nd,klZ:()=>vn,kn4:()=>ui,kqe:()=>rn,kxk:()=>ka,kyO:()=>te,l2R:()=>lu,lGu:()=>G,lGw:()=>$c,lMl:()=>Yi,lPF:()=>sr,lc7:()=>Ot,ljd:()=>Lt,lxW:()=>$o,lyL:()=>At,mcG:()=>cr,mrM:()=>ks,nCl:()=>Iu,nEu:()=>Ol,nNL:()=>re,nST:()=>S,nWS:()=>Ir,nZQ:()=>rd,nc$:()=>Pd,nzx:()=>Il,o6l:()=>sa,oVO:()=>dn,oh6:()=>Dd,ojh:()=>I,ojs:()=>Ct,ov9:()=>H,pBf:()=>st,pFK:()=>Bl,pHI:()=>Ae,pPE:()=>Md,paN:()=>Ke,ppV:()=>gr,psI:()=>gt,q2:()=>Rc,qBx:()=>Dc,qFE:()=>Pl,qU7:()=>Tl,qUd:()=>Ou,qa3:()=>dt,qad:()=>T,qq$:()=>ar,qtW:()=>So,r6x:()=>Hu,rFo:()=>Tr,rKP:()=>Ac,rOG:()=>Dn,rQf:()=>Ft,rSH:()=>ft,rYR:()=>Qt,rrX:()=>kd,s0K:()=>bl,sKt:()=>bn,sPf:()=>r,tBo:()=>Fd,tJf:()=>Re,tXL:()=>Oc,tcD:()=>Rl,tz3:()=>au,uB5:()=>bt,uSd:()=>Bc,uV5:()=>fe,uWO:()=>Ya,uXQ:()=>kn,ubm:()=>ra,uov:()=>Bn,ure:()=>Fu,v9J:()=>zn,veJ:()=>xu,vim:()=>xn,vmz:()=>wo,vyJ:()=>Yt,wAk:()=>Ml,wTz:()=>$t,wfO:()=>pe,wn6:()=>D,wrO:()=>ze,wtR:()=>o,wvS:()=>vo,xFO:()=>he,xJ6:()=>hc,xOk:()=>ju,xSv:()=>W,xZx:()=>gd,xfg:()=>El,xiE:()=>dr,y3Z:()=>wt,y9J:()=>Rr,y_p:()=>ee,ypk:()=>Ul,ywQ:()=>c,zD7:()=>id,zdS:()=>We,zgK:()=>xi,znC:()=>_});const r="173",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,s=1,l=2,c=3,u=0,d=1,h=2,p=3,f=0,m=1,g=2,v=0,y=1,b=2,A=3,x=4,w=5,C=100,E=101,S=102,_=103,M=104,I=200,T=201,R=202,k=203,P=204,B=205,O=206,L=207,D=208,N=209,F=210,j=211,U=212,z=213,H=214,V=0,G=1,Q=2,W=3,q=4,$=5,X=6,K=7,Y=0,J=1,Z=2,ee=0,te=1,ne=2,re=3,ie=4,oe=5,ae=6,se=7,le="attached",ce="detached",ue=300,de=301,he=302,pe=303,fe=304,me=306,ge=1e3,ve=1001,ye=1002,be=1003,Ae=1004,xe=1004,we=1005,Ce=1005,Ee=1006,Se=1007,_e=1007,Me=1008,Ie=1008,Te=1009,Re=1010,ke=1011,Pe=1012,Be=1013,Oe=1014,Le=1015,De=1016,Ne=1017,Fe=1018,je=1020,Ue=35902,ze=1021,He=1022,Ve=1023,Ge=1024,Qe=1025,We=1026,qe=1027,$e=1028,Xe=1029,Ke=1030,Ye=1031,Je=1032,Ze=1033,et=33776,tt=33777,nt=33778,rt=33779,it=35840,ot=35841,at=35842,st=35843,lt=36196,ct=37492,ut=37496,dt=37808,ht=37809,pt=37810,ft=37811,mt=37812,gt=37813,vt=37814,yt=37815,bt=37816,At=37817,xt=37818,wt=37819,Ct=37820,Et=37821,St=36492,_t=36494,Mt=36495,It=36283,Tt=36284,Rt=36285,kt=36286,Pt=2200,Bt=2201,Ot=2202,Lt=2300,Dt=2301,Nt=2302,Ft=2400,jt=2401,Ut=2402,zt=2500,Ht=2501,Vt=0,Gt=1,Qt=2,Wt=3200,qt=3201,$t=3202,Xt=3203,Kt=0,Yt=1,Jt="",Zt="srgb",en="srgb-linear",tn="linear",nn="srgb",rn=0,on=7680,an=7681,sn=7682,ln=7683,cn=34055,un=34056,dn=5386,hn=512,pn=513,fn=514,mn=515,gn=516,vn=517,yn=518,bn=519,An=512,xn=513,wn=514,Cn=515,En=516,Sn=517,_n=518,Mn=519,In=35044,Tn=35048,Rn=35040,kn=35045,Pn=35049,Bn=35041,On=35046,Ln=35050,Dn=35042,Nn="100",Fn="300 es",jn=2e3,Un=2001,zn={COMPUTE:"compute",RENDER:"render"};class Hn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const Vn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Gn=1234567;const Qn=Math.PI/180,Wn=180/Math.PI;function qn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Vn[255&e]+Vn[e>>8&255]+Vn[e>>16&255]+Vn[e>>24&255]+"-"+Vn[255&t]+Vn[t>>8&255]+"-"+Vn[t>>16&15|64]+Vn[t>>24&255]+"-"+Vn[63&n|128]+Vn[n>>8&255]+"-"+Vn[n>>16&255]+Vn[n>>24&255]+Vn[255&r]+Vn[r>>8&255]+Vn[r>>16&255]+Vn[r>>24&255]).toLowerCase()}function $n(e,t,n){return Math.max(t,Math.min(n,e))}function Xn(e,t){return(e%t+t)%t}function Kn(e,t,n){return(1-n)*e+n*t}function Yn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Jn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Zn={DEG2RAD:Qn,RAD2DEG:Wn,generateUUID:qn,clamp:$n,euclideanModulo:Xn,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Kn,damp:function(e,t,n,r){return Kn(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Xn(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Gn=e);let t=Gn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Qn},radToDeg:function(e){return e*Wn},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),d=o((t-r)/2),h=a((t-r)/2),p=o((r-t)/2),f=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*f,l*p,s*c);break;case"YXY":e.set(l*p,s*u,l*f,s*c);break;case"ZYZ":e.set(l*f,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Jn,denormalize:Yn};class er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;er.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=$n(this.x,e.x,t.x),this.y=$n(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=$n(this.x,e,t),this.y=$n(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar($n(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($n(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class tr{constructor(e,t,n,r,i,o,a,s,l){tr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l)}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],p=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],A=r[2],x=r[5],w=r[8];return i[0]=o*f+a*v+s*A,i[3]=o*m+a*y+s*x,i[6]=o*g+a*b+s*w,i[1]=l*f+c*v+u*A,i[4]=l*m+c*y+u*x,i[7]=l*g+c*b+u*w,i[2]=d*f+h*v+p*A,i[5]=d*m+h*y+p*x,i[8]=d*g+h*b+p*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,d=a*s-c*i,h=l*i-o*s,p=t*u+n*d+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(r*l-c*n)*f,e[2]=(a*n-r*o)*f,e[3]=d*f,e[4]=(c*t-r*s)*f,e[5]=(r*i-a*t)*f,e[6]=h*f,e[7]=(n*s-l*t)*f,e[8]=(o*t-n*i)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(nr.makeScale(e,t)),this}rotate(e){return this.premultiply(nr.makeRotation(-e)),this}translate(e,t){return this.premultiply(nr.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const nr=new tr;function rr(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const ir={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function or(e,t){return new ir[e](t)}function ar(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function sr(){const e=ar("canvas");return e.style.display="block",e}const lr={};function cr(e){e in lr||(lr[e]=!0,console.warn(e))}function ur(e,t,n){return new Promise((function(r,i){setTimeout((function o(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}),n)}))}function dr(e){const t=e.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function hr(e){const t=e.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}const pr=(new tr).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),fr=(new tr).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function mr(){const e={enabled:!0,workingColorSpace:en,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===nn&&(e.r=vr(e.r),e.g=vr(e.g),e.b=vr(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===nn&&(e.r=yr(e.r),e.g=yr(e.g),e.b=yr(e.b)),e):e},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===Jt?tn:this.spaces[e].transfer},getLuminanceCoefficients:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.workingColorSpace;return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.workingColorSpace;return this.spaces[e].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[en]:{primaries:t,whitePoint:r,transfer:tn,toXYZ:pr,fromXYZ:fr,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Zt},outputColorSpaceConfig:{drawingBufferColorSpace:Zt}},[Zt]:{primaries:t,whitePoint:r,transfer:nn,toXYZ:pr,fromXYZ:fr,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Zt}}}),e}const gr=mr();function vr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function yr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let br;class Ar{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===br&&(br=ar("canvas")),br.width=e.width,br.height=e.height;const n=br.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=br}return t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=ar("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*vr(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*vr(t[e]/255)):t[e]=vr(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xr=0;class wr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:xr++}),this.uuid=qn(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Cr(r[t].image)):e.push(Cr(r[t]))}else e=Cr(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function Cr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Ar.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Er=0;class Sr extends Hn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sr.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sr.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ve,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ve,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ee,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Me,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ve,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Te,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Sr.DEFAULT_ANISOTROPY,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Jt;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Er++}),this.uuid=qn(),this.name="",this.source=new wr(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new er(0,0),this.repeat=new er(1,1),this.center=new er(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ue)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ge:e.x=e.x-Math.floor(e.x);break;case ve:e.x=e.x<0?0:1;break;case ye:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ge:e.y=e.y-Math.floor(e.y);break;case ve:e.y=e.y<0?0:1;break;case ye:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}Sr.DEFAULT_IMAGE=null,Sr.DEFAULT_MAPPING=ue,Sr.DEFAULT_ANISOTROPY=1;class _r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_r.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],p=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+f)<a&&Math.abs(p+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+f)/4,A=(p+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=A/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=A/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=$n(this.x,e.x,t.x),this.y=$n(this.y,e.y,t.y),this.z=$n(this.z,e.z,t.z),this.w=$n(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=$n(this.x,e,t),this.y=$n(this.y,e,t),this.z=$n(this.z,e,t),this.w=$n(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar($n(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Mr extends Hn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new _r(0,0,e,t),this.scissorTest=!1,this.viewport=new _r(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ee,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new Sr(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let a=0;a<o;a++)this.textures[a]=i.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new wr(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ir extends Mr{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class Tr extends Sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=be,this.minFilter=be,this.wrapR=ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Rr extends Ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Tr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class kr extends Sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=be,this.minFilter=be,this.wrapR=ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pr extends Ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new kr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Br{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[o+0],h=i[o+1],p=i[o+2],f=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=p,void(e[t+3]=f);if(u!==f||s!==d||l!==h||c!==p){let e=1-a;const t=s*d+l*h+c*p+u*f,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+p*i,u=u*e+f*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],d=i[o+1],h=i[o+2],p=i[o+3];return e[t]=a*p+c*u+s*h-l*d,e[t+1]=s*p+c*d+l*u-a*h,e[t+2]=l*p+c*h+a*d-s*u,e[t+3]=c*p-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),d=s(n/2),h=s(r/2),p=s(i/2);switch(o){case"XYZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"YXZ":this._x=d*c*u+l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"ZXY":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u-d*h*p;break;case"ZYX":this._x=d*c*u-l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u+d*h*p;break;case"YZX":this._x=d*c*u+l*h*p,this._y=l*h*u+d*c*p,this._z=l*c*p-d*h*u,this._w=l*c*u-d*h*p;break;case"XZY":this._x=d*c*u-l*h*p,this._y=l*h*u-d*c*p,this._z=l*c*p+d*h*u,this._w=l*c*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs($n(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Or{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Or.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Dr.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Dr.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=2*(o*r-a*n),c=2*(a*t-i*r),u=2*(i*n-o*t);return this.x=t+s*l+o*u-a*c,this.y=n+s*c+a*l-i*u,this.z=r+s*u+i*c-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=$n(this.x,e.x,t.x),this.y=$n(this.y,e.y,t.y),this.z=$n(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=$n(this.x,e,t),this.y=$n(this.y,e,t),this.z=$n(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar($n(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Lr.copy(this).projectOnVector(e),this.sub(Lr)}reflect(e){return this.sub(Lr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos($n(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Lr=new Or,Dr=new Br;class Nr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(jr.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(jr.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=jr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,jr):jr.fromBufferAttribute(r,t),jr.applyMatrix4(e.matrixWorld),this.expandByPoint(jr);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Ur.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Ur.copy(n.boundingBox)),Ur.applyMatrix4(e.matrixWorld),this.union(Ur)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,jr),jr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(qr),$r.subVectors(this.max,qr),zr.subVectors(e.a,qr),Hr.subVectors(e.b,qr),Vr.subVectors(e.c,qr),Gr.subVectors(Hr,zr),Qr.subVectors(Vr,Hr),Wr.subVectors(zr,Vr);let t=[0,-Gr.z,Gr.y,0,-Qr.z,Qr.y,0,-Wr.z,Wr.y,Gr.z,0,-Gr.x,Qr.z,0,-Qr.x,Wr.z,0,-Wr.x,-Gr.y,Gr.x,0,-Qr.y,Qr.x,0,-Wr.y,Wr.x,0];return!!Yr(t,zr,Hr,Vr,$r)&&(t=[1,0,0,0,1,0,0,0,1],!!Yr(t,zr,Hr,Vr,$r)&&(Xr.crossVectors(Gr,Qr),t=[Xr.x,Xr.y,Xr.z],Yr(t,zr,Hr,Vr,$r)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(jr).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Fr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fr)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fr=[new Or,new Or,new Or,new Or,new Or,new Or,new Or,new Or],jr=new Or,Ur=new Nr,zr=new Or,Hr=new Or,Vr=new Or,Gr=new Or,Qr=new Or,Wr=new Or,qr=new Or,$r=new Or,Xr=new Or,Kr=new Or;function Yr(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){Kr.fromArray(e,o);const a=i.x*Math.abs(Kr.x)+i.y*Math.abs(Kr.y)+i.z*Math.abs(Kr.z),s=t.dot(Kr),l=n.dot(Kr),c=r.dot(Kr);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const Jr=new Nr,Zr=new Or,ei=new Or;class ti{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Jr.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Zr.subVectors(e,this.center);const t=Zr.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Zr,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ei.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Zr.copy(e.center).add(ei)),this.expandByPoint(Zr.copy(e.center).sub(ei))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ni=new Or,ri=new Or,ii=new Or,oi=new Or,ai=new Or,si=new Or,li=new Or;class ci{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ni)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ni.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ni.copy(this.origin).addScaledVector(this.direction,t),ni.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){ri.copy(e).add(t).multiplyScalar(.5),ii.copy(t).sub(e).normalize(),oi.copy(this.origin).sub(ri);const i=.5*e.distanceTo(t),o=-this.direction.dot(ii),a=oi.dot(this.direction),s=-oi.dot(ii),l=oi.lengthSq(),c=Math.abs(1-o*o);let u,d,h,p;if(c>0)if(u=o*s-a,d=o*a-s,p=i*c,u>=0)if(d>=-p)if(d<=p){const e=1/c;u*=e,d*=e,h=u*(u+o*d+2*a)+d*(o*u+d+2*s)+l}else d=i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-p?(u=Math.max(0,-(-o*i+a)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=p?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(o*i+a)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=o>0?-i:i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(ri).addScaledVector(ii,d),h}intersectSphere(e,t){ni.subVectors(e.center,this.origin);const n=ni.dot(this.direction),r=ni.dot(ni)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,ni)}intersectTriangle(e,t,n,r,i){ai.subVectors(t,e),si.subVectors(n,e),li.crossVectors(ai,si);let o,a=this.direction.dot(li);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}oi.subVectors(this.origin,e);const s=o*this.direction.dot(si.crossVectors(oi,si));if(s<0)return null;const l=o*this.direction.dot(ai.cross(oi));if(l<0)return null;if(s+l>a)return null;const c=-o*oi.dot(li);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ui{constructor(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){ui.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m)}set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ui).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/di.setFromMatrixColumn(e,0).length(),i=1/di.setFromMatrixColumn(e,1).length(),o=1/di.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(pi,e,fi)}lookAt(e,t,n){const r=this.elements;return vi.subVectors(e,t),0===vi.lengthSq()&&(vi.z=1),vi.normalize(),mi.crossVectors(n,vi),0===mi.lengthSq()&&(1===Math.abs(n.z)?vi.x+=1e-4:vi.z+=1e-4,vi.normalize(),mi.crossVectors(n,vi)),mi.normalize(),gi.crossVectors(vi,mi),r[0]=mi.x,r[4]=gi.x,r[8]=vi.x,r[1]=mi.y,r[5]=gi.y,r[9]=vi.y,r[2]=mi.z,r[6]=gi.z,r[10]=vi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],A=n[15],x=r[0],w=r[4],C=r[8],E=r[12],S=r[1],_=r[5],M=r[9],I=r[13],T=r[2],R=r[6],k=r[10],P=r[14],B=r[3],O=r[7],L=r[11],D=r[15];return i[0]=o*x+a*S+s*T+l*B,i[4]=o*w+a*_+s*R+l*O,i[8]=o*C+a*M+s*k+l*L,i[12]=o*E+a*I+s*P+l*D,i[1]=c*x+u*S+d*T+h*B,i[5]=c*w+u*_+d*R+h*O,i[9]=c*C+u*M+d*k+h*L,i[13]=c*E+u*I+d*P+h*D,i[2]=p*x+f*S+m*T+g*B,i[6]=p*w+f*_+m*R+g*O,i[10]=p*C+f*M+m*k+g*L,i[14]=p*E+f*I+m*P+g*D,i[3]=v*x+y*S+b*T+A*B,i[7]=v*w+y*_+b*R+A*O,i[11]=v*C+y*M+b*k+A*L,i[15]=v*E+y*I+b*P+A*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14];return e[3]*(+i*s*u-r*l*u-i*a*d+n*l*d+r*a*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*o*d-r*o*h+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*d+r*o*u-n*o*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*l-f*d*l+f*s*h-a*m*h-u*s*g+a*d*g,y=p*d*l-c*m*l-p*s*h+o*m*h+c*s*g-o*d*g,b=c*f*l-p*u*l+p*a*h-o*f*h-c*a*g+o*u*g,A=p*u*s-c*f*s-p*a*d+o*f*d+c*a*m-o*u*m,x=t*v+n*y+r*b+i*A;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=v*w,e[1]=(f*d*i-u*m*i-f*r*h+n*m*h+u*r*g-n*d*g)*w,e[2]=(a*m*i-f*s*i+f*r*l-n*m*l-a*r*g+n*s*g)*w,e[3]=(u*s*i-a*d*i-u*r*l+n*d*l+a*r*h-n*s*h)*w,e[4]=y*w,e[5]=(c*m*i-p*d*i+p*r*h-t*m*h-c*r*g+t*d*g)*w,e[6]=(p*s*i-o*m*i-p*r*l+t*m*l+o*r*g-t*s*g)*w,e[7]=(o*d*i-c*s*i+c*r*l-t*d*l-o*r*h+t*s*h)*w,e[8]=b*w,e[9]=(p*u*i-c*f*i-p*n*h+t*f*h+c*n*g-t*u*g)*w,e[10]=(o*f*i-p*a*i+p*n*l-t*f*l-o*n*g+t*a*g)*w,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*h-t*a*h)*w,e[12]=A*w,e[13]=(c*f*r-p*u*r+p*n*d-t*f*d-c*n*m+t*u*m)*w,e[14]=(p*a*r-o*f*r-p*n*s+t*f*s+o*n*m-t*a*m)*w,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*d+t*a*d)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,p=i*u,f=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,A=n.x,x=n.y,w=n.z;return r[0]=(1-(f+g))*A,r[1]=(h+b)*A,r[2]=(p-y)*A,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(d+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(p+y)*w,r[9]=(m-v)*w,r[10]=(1-(d+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=di.set(r[0],r[1],r[2]).length();const o=di.set(r[4],r[5],r[6]).length(),a=di.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],hi.copy(this);const s=1/i,l=1/o,c=1/a;return hi.elements[0]*=s,hi.elements[1]*=s,hi.elements[2]*=s,hi.elements[4]*=l,hi.elements[5]*=l,hi.elements[6]*=l,hi.elements[8]*=c,hi.elements[9]*=c,hi.elements[10]*=c,t.setFromRotationMatrix(hi),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jn;const s=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r);let h,p;if(a===jn)h=-(o+i)/(o-i),p=-2*o*i/(o-i);else{if(a!==Un)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-i),p=-o*i/(o-i)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=p,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jn;const s=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-i),d=(t+e)*l,h=(n+r)*c;let p,f;if(a===jn)p=(o+i)*u,f=-2*u;else{if(a!==Un)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=i*u,f=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=f,s[14]=-p,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const di=new Or,hi=new ui,pi=new Or(0,0,0),fi=new Or(1,1,1),mi=new Or,gi=new Or,vi=new Or,yi=new ui,bi=new Br;class Ai{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ai.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin($n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-$n(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin($n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-$n(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin($n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-$n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return yi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yi,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return bi.setFromEuler(this),this.setFromQuaternion(bi,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ai.DEFAULT_ORDER="XYZ";class xi{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let wi=0;const Ci=new Or,Ei=new Br,Si=new ui,_i=new Or,Mi=new Or,Ii=new Or,Ti=new Br,Ri=new Or(1,0,0),ki=new Or(0,1,0),Pi=new Or(0,0,1),Bi={type:"added"},Oi={type:"removed"},Li={type:"childadded",child:null},Di={type:"childremoved",child:null};class Ni extends Hn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wi++}),this.uuid=qn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ni.DEFAULT_UP.clone();const e=new Or,t=new Ai,n=new Br,r=new Or(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ui},normalMatrix:{value:new tr}}),this.matrix=new ui,this.matrixWorld=new ui,this.matrixAutoUpdate=Ni.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ni.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new xi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ei.setFromAxisAngle(e,t),this.quaternion.multiply(Ei),this}rotateOnWorldAxis(e,t){return Ei.setFromAxisAngle(e,t),this.quaternion.premultiply(Ei),this}rotateX(e){return this.rotateOnAxis(Ri,e)}rotateY(e){return this.rotateOnAxis(ki,e)}rotateZ(e){return this.rotateOnAxis(Pi,e)}translateOnAxis(e,t){return Ci.copy(e).applyQuaternion(this.quaternion),this.position.add(Ci.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Ri,e)}translateY(e){return this.translateOnAxis(ki,e)}translateZ(e){return this.translateOnAxis(Pi,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Si.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?_i.copy(e):_i.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Mi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Si.lookAt(Mi,_i,this.up):Si.lookAt(_i,Mi,this.up),this.quaternion.setFromRotationMatrix(Si),r&&(Si.extractRotation(r.matrixWorld),Ei.setFromRotationMatrix(Si),this.quaternion.premultiply(Ei.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Bi),Li.child=e,this.dispatchEvent(Li),Li.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Oi),Di.child=e,this.dispatchEvent(Di),Di.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Si.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Si.multiply(e.parent.matrixWorld)),e.applyMatrix4(Si),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Bi),Li.child=e,this.dispatchEvent(Li),Li.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mi,e,Ii),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mi,Ti,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}))),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Ni.DEFAULT_UP=new Or(0,1,0),Ni.DEFAULT_MATRIX_AUTO_UPDATE=!0,Ni.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Fi=new Or,ji=new Or,Ui=new Or,zi=new Or,Hi=new Or,Vi=new Or,Gi=new Or,Qi=new Or,Wi=new Or,qi=new Or,$i=new _r,Xi=new _r,Ki=new _r;class Yi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Or;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Fi.subVectors(e,t),r.cross(Fi);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Fi.subVectors(r,t),ji.subVectors(n,t),Ui.subVectors(e,t);const o=Fi.dot(Fi),a=Fi.dot(ji),s=Fi.dot(Ui),l=ji.dot(ji),c=ji.dot(Ui),u=o*l-a*a;if(0===u)return i.set(0,0,0),null;const d=1/u,h=(l*s-a*c)*d,p=(o*c-a*s)*d;return i.set(1-h-p,p,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,zi)&&(zi.x>=0&&zi.y>=0&&zi.x+zi.y<=1)}static getInterpolation(e,t,n,r,i,o,a,s){return null===this.getBarycoord(e,t,n,r,zi)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,zi.x),s.addScaledVector(o,zi.y),s.addScaledVector(a,zi.z),s)}static getInterpolatedAttribute(e,t,n,r,i,o){return $i.setScalar(0),Xi.setScalar(0),Ki.setScalar(0),$i.fromBufferAttribute(e,t),Xi.fromBufferAttribute(e,n),Ki.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector($i,i.x),o.addScaledVector(Xi,i.y),o.addScaledVector(Ki,i.z),o}static isFrontFacing(e,t,n,r){return Fi.subVectors(n,t),ji.subVectors(e,t),Fi.cross(ji).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Fi.subVectors(this.c,this.b),ji.subVectors(this.a,this.b),.5*Fi.cross(ji).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Yi.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return Yi.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Yi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;Hi.subVectors(r,n),Vi.subVectors(i,n),Qi.subVectors(e,n);const s=Hi.dot(Qi),l=Vi.dot(Qi);if(s<=0&&l<=0)return t.copy(n);Wi.subVectors(e,r);const c=Hi.dot(Wi),u=Vi.dot(Wi);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(Hi,o);qi.subVectors(e,i);const h=Hi.dot(qi),p=Vi.dot(qi);if(p>=0&&h<=p)return t.copy(i);const f=h*l-s*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(Vi,a);const m=c*p-h*u;if(m<=0&&u-c>=0&&h-p>=0)return Gi.subVectors(i,r),a=(u-c)/(u-c+(h-p)),t.copy(r).addScaledVector(Gi,a);const g=1/(m+f+d);return o=f*g,a=d*g,t.copy(n).addScaledVector(Hi,o).addScaledVector(Vi,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ji={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zi={h:0,s:0,l:0},eo={h:0,s:0,l:0};function to(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class no{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,gr.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gr.workingColorSpace;return this.r=e,this.g=t,this.b=n,gr.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gr.workingColorSpace;if(e=Xn(e,1),t=$n(t,0,1),n=$n(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=to(i,r,e+1/3),this.g=to(i,r,e),this.b=to(i,r,e-1/3)}return gr.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=t[1],a=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;const n=Ji[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=vr(e.r),this.g=vr(e.g),this.b=vr(e.b),this}copyLinearToSRGB(e){return this.r=yr(e.r),this.g=yr(e.g),this.b=yr(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return gr.fromWorkingColorSpace(ro.copy(this),e),65536*Math.round($n(255*ro.r,0,255))+256*Math.round($n(255*ro.g,0,255))+Math.round($n(255*ro.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr.workingColorSpace;gr.fromWorkingColorSpace(ro.copy(this),t);const n=ro.r,r=ro.g,i=ro.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr.workingColorSpace;return gr.fromWorkingColorSpace(ro.copy(this),t),e.r=ro.r,e.g=ro.g,e.b=ro.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt;gr.fromWorkingColorSpace(ro.copy(this),e);const t=ro.r,n=ro.g,r=ro.b;return e!==Zt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(Zi),this.setHSL(Zi.h+e,Zi.s+t,Zi.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Zi),e.getHSL(eo);const n=Kn(Zi.h,eo.h,t),r=Kn(Zi.s,eo.s,t),i=Kn(Zi.l,eo.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ro=new no;no.NAMES=Ji;let io=0;class oo extends Hn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:io++}),this.uuid=qn(),this.name="",this.type="Material",this.blending=y,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=P,this.blendDst=B,this.blendEquation=C,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new no(0,0,0),this.blendAlpha=0,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=on,this.stencilZFail=on,this.stencilZPass=on,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==y&&(n.blending=this.blending),this.side!==f&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==P&&(n.blendSrc=this.blendSrc),this.blendDst!==B&&(n.blendDst=this.blendDst),this.blendEquation!==C&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==W&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bn&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==on&&(n.stencilFail=this.stencilFail),this.stencilZFail!==on&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==on&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class ao extends oo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new no(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ai,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const so=lo();function lo(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function co(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=$n(e,-65504,65504),so.floatView[0]=e;const t=so.uint32View[0],n=t>>23&511;return so.baseTable[n]+((8388607&t)>>so.shiftTable[n])}function uo(e){const t=e>>10;return so.uint32View[0]=so.mantissaTable[so.offsetTable[t]+(1023&e)]+so.exponentTable[t],so.floatView[0]}const ho={toHalfFloat:co,fromHalfFloat:uo},po=new Or,fo=new er;let mo=0;class go{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:mo++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=In,this.updateRanges=[],this.gpuType=Le,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)fo.fromBufferAttribute(this,t),fo.applyMatrix3(e),this.setXY(t,fo.x,fo.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.applyMatrix3(e),this.setXYZ(t,po.x,po.y,po.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.applyMatrix4(e),this.setXYZ(t,po.x,po.y,po.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.applyNormalMatrix(e),this.setXYZ(t,po.x,po.y,po.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)po.fromBufferAttribute(this,t),po.transformDirection(e),this.setXYZ(t,po.x,po.y,po.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Yn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Jn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Yn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Yn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Yn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Yn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array),i=Jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==In&&(e.usage=this.usage),e}}class vo extends go{constructor(e,t,n){super(new Int8Array(e),t,n)}}class yo extends go{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class bo extends go{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Ao extends go{constructor(e,t,n){super(new Int16Array(e),t,n)}}class xo extends go{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class wo extends go{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Co extends go{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Eo extends go{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=uo(this.array[e*this.itemSize]);return this.normalized&&(t=Yn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize]=co(t),this}getY(e){let t=uo(this.array[e*this.itemSize+1]);return this.normalized&&(t=Yn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+1]=co(t),this}getZ(e){let t=uo(this.array[e*this.itemSize+2]);return this.normalized&&(t=Yn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+2]=co(t),this}getW(e){let t=uo(this.array[e*this.itemSize+3]);return this.normalized&&(t=Yn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.array[e*this.itemSize+3]=co(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array)),this.array[e+0]=co(t),this.array[e+1]=co(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array)),this.array[e+0]=co(t),this.array[e+1]=co(n),this.array[e+2]=co(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array),i=Jn(i,this.array)),this.array[e+0]=co(t),this.array[e+1]=co(n),this.array[e+2]=co(r),this.array[e+3]=co(i),this}}class So extends go{constructor(e,t,n){super(new Float32Array(e),t,n)}}let _o=0;const Mo=new ui,Io=new Ni,To=new Or,Ro=new Nr,ko=new Nr,Po=new Or;class Bo extends Hn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_o++}),this.uuid=qn(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rr(e)?Co:xo)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new tr).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,t,n){return Mo.makeTranslation(e,t,n),this.applyMatrix4(Mo),this}scale(e,t,n){return Mo.makeScale(e,t,n),this.applyMatrix4(Mo),this}lookAt(e){return Io.lookAt(e),Io.updateMatrix(),this.applyMatrix4(Io.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(To).negate(),this.translate(To.x,To.y,To.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new So(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Nr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Or(-1/0,-1/0,-1/0),new Or(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];Ro.setFromBufferAttribute(e),this.morphTargetsRelative?(Po.addVectors(this.boundingBox.min,Ro.min),this.boundingBox.expandByPoint(Po),Po.addVectors(this.boundingBox.max,Ro.max),this.boundingBox.expandByPoint(Po)):(this.boundingBox.expandByPoint(Ro.min),this.boundingBox.expandByPoint(Ro.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ti);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Or,1/0);if(e){const n=this.boundingSphere.center;if(Ro.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];ko.setFromBufferAttribute(n),this.morphTargetsRelative?(Po.addVectors(Ro.min,ko.min),Ro.expandByPoint(Po),Po.addVectors(Ro.max,ko.max),Ro.expandByPoint(Po)):(Ro.expandByPoint(ko.min),Ro.expandByPoint(ko.max))}Ro.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Po.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Po));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)Po.fromBufferAttribute(o,t),a&&(To.fromBufferAttribute(e,t),Po.add(To)),r=Math.max(r,n.distanceToSquared(Po))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new go(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),a=[],s=[];for(let C=0;C<n.count;C++)a[C]=new Or,s[C]=new Or;const l=new Or,c=new Or,u=new Or,d=new er,h=new er,p=new er,f=new Or,m=new Or;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),p.fromBufferAttribute(i,r),c.sub(l),u.sub(l),h.sub(d),p.sub(d);const o=1/(h.x*p.y-p.x*h.y);isFinite(o)&&(f.copy(c).multiplyScalar(p.y).addScaledVector(u,-h.y).multiplyScalar(o),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-p.x).multiplyScalar(o),a[e].add(f),a[t].add(f),a[r].add(f),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let C=0,E=v.length;C<E;++C){const t=v[C],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new Or,b=new Or,A=new Or,x=new Or;function w(e){A.fromBufferAttribute(r,e),x.copy(A);const t=a[e];y.copy(t),y.sub(A.multiplyScalar(A.dot(t))).normalize(),b.crossVectors(x,t);const n=b.dot(s[e])<0?-1:1;o.setXYZW(e,y.x,y.y,y.z,n)}for(let C=0,E=v.length;C<E;++C){const t=v[C],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)w(e.getX(r+0)),w(e.getX(r+1)),w(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new go(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Or,i=new Or,o=new Or,a=new Or,s=new Or,l=new Or,c=new Or,u=new Or;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),p=e.getX(d+1),f=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Po.fromBufferAttribute(e,t),Po.normalize(),e.setXYZ(t,Po.x,Po.y,Po.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new go(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Bo,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Oo=new ui,Lo=new ci,Do=new ti,No=new Or,Fo=new Or,jo=new Or,Uo=new Or,zo=new Or,Ho=new Or,Vo=new Or,Go=new Or;class Qo extends Ni{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ao;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){Ho.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(zo.fromBufferAttribute(s,e),o?Ho.addScaledVector(zo,r):Ho.addScaledVector(zo.sub(t),r))}t.add(Ho)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Do.copy(n.boundingSphere),Do.applyMatrix4(i),Lo.copy(e.ray).recast(e.near),!1===Do.containsPoint(Lo.origin)){if(null===Lo.intersectSphere(Do,No))return;if(Lo.origin.distanceToSquared(No)>(e.far-e.near)**2)return}Oo.copy(i).invert(),Lo.copy(e.ray).applyMatrix4(Oo),null!==n.boundingBox&&!1===Lo.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Lo)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,f=d.length;p<f;p++){const i=d[p],s=o[i.materialIndex];for(let o=Math.max(i.start,h.start),d=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));o<d;o+=3){r=Wo(this,s,e,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);i<s;i+=3){r=Wo(this,o,e,n,l,c,u,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(o))for(let p=0,f=d.length;p<f;p++){const i=d[p],a=o[i.materialIndex];for(let o=Math.max(i.start,h.start),d=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));o<d;o+=3){r=Wo(this,a,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);i<a;i+=3){r=Wo(this,o,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Wo(e,t,n,r,i,o,a,s,l,c){e.getVertexPosition(s,Fo),e.getVertexPosition(l,jo),e.getVertexPosition(c,Uo);const u=function(e,t,n,r,i,o,a,s){let l;if(l=t.side===m?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side===f,s),null===l)return null;Go.copy(s),Go.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Go);return c<n.near||c>n.far?null:{distance:c,point:Go.clone(),object:e}}(e,t,n,r,Fo,jo,Uo,Vo);if(u){const e=new Or;Yi.getBarycoord(Vo,Fo,jo,Uo,e),i&&(u.uv=Yi.getInterpolatedAttribute(i,s,l,c,e,new er)),o&&(u.uv1=Yi.getInterpolatedAttribute(o,s,l,c,e,new er)),a&&(u.normal=Yi.getInterpolatedAttribute(a,s,l,c,e,new Or),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new Or,materialIndex:0};Yi.getNormal(Fo,jo,Uo,t.normal),u.face=t,u.barycoord=e}return u}class qo extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let d=0,h=0;function p(e,t,n,r,i,o,p,f,m,g,v){const y=o/m,b=p/g,A=o/2,x=p/2,w=f/2,C=m+1,E=g+1;let S=0,_=0;const M=new Or;for(let a=0;a<E;a++){const o=a*b-x;for(let s=0;s<C;s++){const d=s*y-A;M[e]=d*r,M[t]=o*i,M[n]=w,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=f>0?1:-1,c.push(M.x,M.y,M.z),u.push(s/m),u.push(1-a/g),S+=1}}for(let a=0;a<g;a++)for(let e=0;e<m;e++){const t=d+e+C*a,n=d+e+C*(a+1),r=d+(e+1)+C*(a+1),i=d+(e+1)+C*a;s.push(t,n,i),s.push(n,r,i),_+=6}a.addGroup(h,_,v),h+=_,d+=S}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new So(l,3)),this.setAttribute("normal",new So(c,3)),this.setAttribute("uv",new So(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $o(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Xo(e){const t={};for(let n=0;n<e.length;n++){const r=$o(e[n]);for(const e in r)t[e]=r[e]}return t}function Ko(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:gr.workingColorSpace}const Yo={clone:$o,merge:Xo};class Jo extends oo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$o(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Zo extends Ni{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ui,this.projectionMatrix=new ui,this.projectionMatrixInverse=new ui,this.coordinateSystem=jn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const ea=new Or,ta=new er,na=new er;class ra extends Zo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Wn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Qn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Wn*Math.atan(Math.tan(.5*Qn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){ea.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ea.x,ea.y).multiplyScalar(-e/ea.z),ea.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ea.x,ea.y).multiplyScalar(-e/ea.z)}getViewSize(e,t){return this.getViewBounds(e,ta,na),t.subVectors(na,ta)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Qn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ia=-90;class oa extends Ni{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ra(ia,1,e,t);r.layers=this.layers,this.add(r);const i=new ra(ia,1,e,t);i.layers=this.layers,this.add(i);const o=new ra(ia,1,e,t);o.layers=this.layers,this.add(o);const a=new ra(ia,1,e,t);a.layers=this.layers,this.add(a);const s=new ra(ia,1,e,t);s.layers=this.layers,this.add(s);const l=new ra(ia,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,o,a,s]=t;for(const l of t)this.remove(l);if(e===jn)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==Un)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,a,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class aa extends Sr{constructor(e,t,n,r,i,o,a,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:de,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class sa extends Ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new aa(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ee}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new qo(5,5,5),i=new Jo({name:"CubemapFromEquirect",uniforms:$o(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:m,blending:v});i.uniforms.tEquirect.value=t;const o=new Qo(r,i),a=t.minFilter;t.minFilter===Me&&(t.minFilter=Ee);return new oa(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}class la extends Ni{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ca={type:"move"};class ua{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new la,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new la,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Or,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Or),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new la,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Or,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Or),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(ca)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new la;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class da{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new no(e),this.density=t}clone(){return new da(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class ha{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new no(e),this.near=t,this.far=n}clone(){return new ha(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class pa extends Ni{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ai,this.environmentIntensity=1,this.environmentRotation=new Ai,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class fa{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=In,this.updateRanges=[],this.version=0,this.uuid=qn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ma=new Or;class ga{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ma.fromBufferAttribute(this,t),ma.applyMatrix4(e),this.setXYZ(t,ma.x,ma.y,ma.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ma.fromBufferAttribute(this,t),ma.applyNormalMatrix(e),this.setXYZ(t,ma.x,ma.y,ma.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ma.fromBufferAttribute(this,t),ma.transformDirection(e),this.setXYZ(t,ma.x,ma.y,ma.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Yn(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Yn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Yn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Yn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Yn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Jn(t,this.array),n=Jn(n,this.array),r=Jn(r,this.array),i=Jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new go(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ga(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class va extends oo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new no(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ya;const ba=new Or,Aa=new Or,xa=new Or,wa=new er,Ca=new er,Ea=new ui,Sa=new Or,_a=new Or,Ma=new Or,Ia=new er,Ta=new er,Ra=new er;class ka extends Ni{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new va;if(super(),this.isSprite=!0,this.type="Sprite",void 0===ya){ya=new Bo;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new fa(e,5);ya.setIndex([0,1,2,0,2,3]),ya.setAttribute("position",new ga(t,3,0,!1)),ya.setAttribute("uv",new ga(t,2,3,!1))}this.geometry=ya,this.material=e,this.center=new er(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Aa.setFromMatrixScale(this.matrixWorld),Ea.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xa.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Aa.multiplyScalar(-xa.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;Pa(Sa.set(-.5,-.5,0),xa,o,Aa,r,i),Pa(_a.set(.5,-.5,0),xa,o,Aa,r,i),Pa(Ma.set(.5,.5,0),xa,o,Aa,r,i),Ia.set(0,0),Ta.set(1,0),Ra.set(1,1);let a=e.ray.intersectTriangle(Sa,_a,Ma,!1,ba);if(null===a&&(Pa(_a.set(-.5,.5,0),xa,o,Aa,r,i),Ta.set(0,1),a=e.ray.intersectTriangle(Sa,Ma,_a,!1,ba),null===a))return;const s=e.ray.origin.distanceTo(ba);s<e.near||s>e.far||t.push({distance:s,point:ba.clone(),uv:Yi.getInterpolation(ba,Sa,_a,Ma,Ia,Ta,Ra,new er),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Pa(e,t,n,r,i,o){wa.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Ca.x=o*wa.x-i*wa.y,Ca.y=i*wa.x+o*wa.y):Ca.copy(wa),e.copy(t),e.x+=Ca.x,e.y+=Ca.y,e.applyMatrix4(Ea)}const Ba=new Or,Oa=new Or;class La extends Ni{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Ba.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Ba);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ba.setFromMatrixPosition(e.matrixWorld),Oa.setFromMatrixPosition(this.matrixWorld);const n=Ba.distanceTo(Oa)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const Da=new Or,Na=new _r,Fa=new _r,ja=new Or,Ua=new ui,za=new Or,Ha=new ti,Va=new ui,Ga=new ci;class Qa extends Qo{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=le,this.bindMatrix=new ui,this.bindMatrixInverse=new ui,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Nr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,za),this.boundingBox.expandByPoint(za)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ti),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,za),this.boundingSphere.expandByPoint(za)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ha.copy(this.boundingSphere),Ha.applyMatrix4(r),!1!==e.ray.intersectsSphere(Ha)&&(Va.copy(r).invert(),Ga.copy(e.ray).applyMatrix4(Va),null!==this.boundingBox&&!1===Ga.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Ga)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new _r,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===le?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ce?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;Na.fromBufferAttribute(r.attributes.skinIndex,e),Fa.fromBufferAttribute(r.attributes.skinWeight,e),Da.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=Fa.getComponent(i);if(0!==e){const r=Na.getComponent(i);Ua.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(ja.copy(Da).applyMatrix4(Ua),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Wa extends Ni{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qa extends Sr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:be,arguments.length>9&&void 0!==arguments[9]?arguments[9]:be,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $a=new ui,Xa=new ui;class Ka{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=qn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new ui)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new ui;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:Xa;$a.multiplyMatrices(r,t[i]),$a.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Ka(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new qa(t,e,e,Ve,Le);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new Wa),this.bones.push(i),this.boneInverses.push((new ui).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class Ya extends go{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ja=new ui,Za=new ui,es=[],ts=new Nr,ns=new ui,rs=new Qo,is=new ti;class os extends Qo{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ya(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,ns)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Nr),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ja),ts.copy(e.boundingBox).applyMatrix4(Ja),this.boundingBox.union(ts)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new ti),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Ja),is.copy(e.boundingSphere).applyMatrix4(Ja),this.boundingSphere.union(is)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let o=0;o<n.length;o++)n[o]=r[i+o]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(rs.geometry=this.geometry,rs.material=this.material,void 0!==rs.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),is.copy(this.boundingSphere),is.applyMatrix4(n),!1!==e.ray.intersectsSphere(is)))for(let i=0;i<r;i++){this.getMatrixAt(i,Ja),Za.multiplyMatrices(n,Ja),rs.matrixWorld=Za,rs.raycast(e,es);for(let e=0,n=es.length;e<n;e++){const n=es[e];n.instanceId=i,n.object=this,t.push(n)}es.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ya(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new qa(new Float32Array(r*this.count),r,this.count,$e,Le));const i=this.morphTexture.source.data.data;let o=0;for(let l=0;l<n.length;l++)o+=n[l];const a=this.geometry.morphTargetsRelative?1:1-o,s=r*e;i[s]=a,i.set(n,s+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const as=new Or,ss=new Or,ls=new tr;class cs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=as.subVectors(n,t).cross(ss.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(as),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||ls.getNormalMatrix(e),r=this.coplanarPoint(as).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const us=new ti,ds=new Or;class hs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cs,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new cs,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new cs,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new cs,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new cs,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new cs;this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn;const n=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],p=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,m-h,b-g).normalize(),n[1].setComponents(s+i,d+l,m+h,b+g).normalize(),n[2].setComponents(s+o,d+c,m+p,b+v).normalize(),n[3].setComponents(s-o,d-c,m-p,b-v).normalize(),n[4].setComponents(s-a,d-u,m-f,b-y).normalize(),t===jn)n[5].setComponents(s+a,d+u,m+f,b+y).normalize();else{if(t!==Un)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,f,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),us.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),us.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(us)}intersectsSprite(e){return us.center.set(0,0,0),us.radius=.7071067811865476,us.applyMatrix4(e.matrixWorld),this.intersectsSphere(us)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(ds.x=r.normal.x>0?e.max.x:e.min.x,ds.y=r.normal.y>0?e.max.y:e.min.y,ds.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ds)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function ps(e,t){return e-t}function fs(e,t){return e.z-t.z}function ms(e,t){return t.z-e.z}class gs{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const i=this.pool,o=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const a=i[this.index];o.push(a),this.index++,a.start=e,a.count=t,a.z=n,a.index=r}reset(){this.list.length=0,this.index=0}}const vs=new ui,ys=new no(1,1,1),bs=new hs,As=new Nr,xs=new ti,ws=new Or,Cs=new Or,Es=new Or,Ss=new gs,_s=new Qo,Ms=[];function Is(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let o=0;o<i;o++)for(let i=0;i<r;i++)t.setComponent(o+n,i,e.getComponent(o,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}function Ts(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)t[r]=e[r]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class Rs extends Qo{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,r=arguments.length>3?arguments[3]:void 0;super(new Bo,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new qa(t,e,e,Ve,Le);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new qa(t,e,e,Xe,Oe);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new qa(t,e,e,Ve,Le);n.colorSpace=gr.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:o,itemSize:a,normalized:s}=i,l=new o.constructor(n*a),c=new go(l,a,s);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new go(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Nr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,vs),this.getBoundingBoxAt(r,As).applyMatrix4(vs),e.union(As)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ti);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,vs),this.getBoundingSphereAt(r,xs).applyMatrix4(vs),e.union(xs)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ps),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const r=this._matricesTexture;vs.identity().toArray(r.image.data,16*n),r.needsUpdate=!0;const i=this._colorsTexture;return i&&(ys.toArray(i.image.data,4*n),i.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const o=e.getIndex();if(null!==o&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?o.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let a;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ps),a=this._availableGeometryIds.shift(),i[a]=r):(a=this._geometryCount,this._geometryCount++,i.push(r)),this.setGeometryAt(a,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,a}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),o=t.getIndex(),a=this._geometryInfo[e];if(r&&o.count>a.reservedIndexCount||t.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const s=a.vertexStart,l=a.reservedVertexCount;a.vertexCount=t.getAttribute("position").count;for(const c in n.attributes){const e=t.getAttribute(c),r=n.getAttribute(c);Is(e,r,s);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(s*i,l*i)}if(r){const e=a.indexStart,n=a.reservedIndexCount;a.indexCount=t.getIndex().count;for(let t=0;t<o.count;t++)i.setX(e+t,s+o.getX(t));for(let t=o.count,r=n;t<r;t++)i.setX(e+t,s);i.needsUpdate=!0,i.addUpdateRange(e,a.reservedIndexCount)}return a.start=r?a.indexStart:a.vertexStart,a.count=r?a.indexCount:a.vertexCount,a.boundingBox=null,null!==t.boundingBox&&(a.boundingBox=t.boundingBox.clone()),a.boundingSphere=null,null!==t.boundingSphere&&(a.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let r=0,i=n.length;r<i;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map(((e,t)=>t)).sort(((e,t)=>n[e].vertexStart-n[t].vertexStart)),i=this.geometry;for(let o=0,a=n.length;o<a;o++){const a=r[o],s=n[a];if(!1!==s.active){if(null!==i.index){if(s.indexStart!==t){const{indexStart:n,vertexStart:r,reservedIndexCount:o}=s,a=i.index,l=a.array,c=e-r;for(let e=n;e<n+o;e++)l[e]=l[e]+c;a.array.copyWithin(t,n,n+o),a.addUpdateRange(t,o),s.indexStart=t}t+=s.reservedIndexCount}if(s.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=s,r=i.attributes;for(const i in r){const o=r[i],{array:a,itemSize:s}=o;a.copyWithin(e*s,t*s,(t+n)*s),o.addUpdateRange(e*s,n*s)}s.vertexStart=e}e+=s.reservedVertexCount,s.start=i.index?s.indexStart:s.vertexStart,this._nextIndexStart=i.index?s.indexStart+s.reservedIndexCount:0,this._nextVertexStart=s.vertexStart+s.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingBox){const e=new Nr,t=n.index,i=n.attributes.position;for(let n=r.start,o=r.start+r.count;n<o;n++){let r=n;t&&(r=t.getX(r)),e.expandByPoint(ws.fromBufferAttribute(i,r))}r.boundingBox=e}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingSphere){const t=new ti;this.getBoundingBoxAt(e,As),As.getCenter(t.center);const i=n.index,o=n.attributes.position;let a=0;for(let e=r.start,n=r.start+r.count;e<n;e++){let n=e;i&&(n=i.getX(n)),ws.fromBufferAttribute(o,n),a=Math.max(a,t.center.distanceToSquared(ws))}t.radius=Math.sqrt(a),r.boundingSphere=t}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(ps);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),i=new Int32Array(e);Ts(this._multiDrawCounts,r),Ts(this._multiDrawStarts,i),this._multiDrawCounts=r,this._multiDrawStarts=i,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,s=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Ts(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Ts(a.image.data,this._matricesTexture.image.data),s&&(s.dispose(),this._initColorsTexture(),Ts(s.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter((e=>e.active));if(Math.max(...n.map((e=>e.vertexStart+e.reservedVertexCount)))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...n.map((e=>e.indexStart+e.reservedIndexCount)))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`)}const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Bo,this._initializeGeometry(r));const i=this.geometry;r.index&&Ts(r.index.array,i.index.array);for(const o in r.attributes)Ts(r.attributes[o].array,i.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,i=this.matrixWorld,o=this.geometry;_s.material=this.material,_s.geometry.index=o.index,_s.geometry.attributes=o.attributes,null===_s.geometry.boundingBox&&(_s.geometry.boundingBox=new Nr),null===_s.geometry.boundingSphere&&(_s.geometry.boundingSphere=new ti);for(let a=0,s=n.length;a<s;a++){if(!n[a].visible||!n[a].active)continue;const o=n[a].geometryIndex,s=r[o];_s.geometry.setDrawRange(s.start,s.count),this.getMatrixAt(a,_s.matrixWorld).premultiply(i),this.getBoundingBoxAt(o,_s.geometry.boundingBox),this.getBoundingSphereAt(o,_s.geometry.boundingSphere),_s.raycast(e,Ms);for(let e=0,n=Ms.length;e<n;e++){const n=Ms[e];n.object=this,n.batchId=a,t.push(n)}Ms.length=0}_s.material=null,_s.geometry.index=null,_s.geometry.attributes={},_s.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map((e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null}))),this._instanceInfo=e._instanceInfo.map((e=>({...e}))),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=null===o?1:o.array.BYTES_PER_ELEMENT,s=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,p=h.image.data;d&&(vs.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),bs.setFromProjectionMatrix(vs,e.coordinateSystem));let f=0;if(this.sortObjects){vs.copy(this.matrixWorld).invert(),ws.setFromMatrixPosition(n.matrixWorld).applyMatrix4(vs),Cs.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(vs);for(let n=0,r=s.length;n<r;n++)if(s[n].visible&&s[n].active){const e=s[n].geometryIndex;this.getMatrixAt(n,vs),this.getBoundingSphereAt(e,xs).applyMatrix4(vs);let t=!1;if(d&&(t=!bs.intersectsSphere(xs)),!t){const t=u[e],r=Es.subVectors(xs.center,ws).dot(Cs);Ss.push(t.start,t.count,r,n)}}const e=Ss.list,t=this.customSort;null===t?e.sort(i.transparent?ms:fs):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[f]=t.start*a,c[f]=t.count,p[f]=t.index,f++}Ss.reset()}else for(let m=0,g=s.length;m<g;m++)if(s[m].visible&&s[m].active){const e=s[m].geometryIndex;let t=!1;if(d&&(this.getMatrixAt(m,vs),this.getBoundingSphereAt(e,xs).applyMatrix4(vs),t=!bs.intersectsSphere(xs)),!t){const t=u[e];l[f]=t.start*a,c[f]=t.count,p[f]=m,f++}}h.needsUpdate=!0,this._multiDrawCount=f,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,o){this.onBeforeRender(e,null,r,i,o)}}class ks extends oo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new no(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Ps=new Or,Bs=new Or,Os=new ui,Ls=new ci,Ds=new ti,Ns=new Or,Fs=new Or;class js extends Ni{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ks;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Ps.fromBufferAttribute(t,e-1),Bs.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Ps.distanceTo(Bs);e.setAttribute("lineDistance",new So(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ds.copy(n.boundingSphere),Ds.applyMatrix4(r),Ds.radius+=i,!1===e.ray.intersectsSphere(Ds))return;Os.copy(r).invert(),Ls.copy(e.ray).applyMatrix4(Os);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c.getX(i),r=c.getX(i+1),o=Us(this,e,Ls,s,n,r,i);o&&t.push(o)}if(this.isLineLoop){const i=c.getX(r-1),o=c.getX(n),a=Us(this,e,Ls,s,i,o,r-1);a&&t.push(a)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=Us(this,e,Ls,s,i,i+1,i);n&&t.push(n)}if(this.isLineLoop){const i=Us(this,e,Ls,s,r-1,n,r-1);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Us(e,t,n,r,i,o,a){const s=e.geometry.attributes.position;Ps.fromBufferAttribute(s,i),Bs.fromBufferAttribute(s,o);if(n.distanceSqToSegment(Ps,Bs,Ns,Fs)>r)return;Ns.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(Ns);return l<t.near||l>t.far?void 0:{distance:l,point:Fs.clone().applyMatrix4(e.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:e}}const zs=new Or,Hs=new Or;class Vs extends js{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)zs.fromBufferAttribute(t,e),Hs.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+zs.distanceTo(Hs);e.setAttribute("lineDistance",new So(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Gs extends js{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Qs extends oo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new no(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Ws=new ui,qs=new ci,$s=new ti,Xs=new Or;class Ks extends Ni{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bo,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qs;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),$s.copy(n.boundingSphere),$s.applyMatrix4(r),$s.radius+=i,!1===e.ray.intersectsSphere($s))return;Ws.copy(r).invert(),qs.copy(e.ray).applyMatrix4(Ws);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);Xs.fromBufferAttribute(c,i),Ys(Xs,i,s,r,e,t,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);n<i;n++)Xs.fromBufferAttribute(c,n),Ys(Xs,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function Ys(e,t,n,r,i,o,a){const s=qs.distanceSqToPoint(e);if(s<n){const n=new Or;qs.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:a})}}class Js extends Sr{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:Ee,this.magFilter=void 0!==i?i:Ee,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Zs extends Js{constructor(e,t,n,r,i,o,a,s){super({},e,t,n,r,i,o,a,s),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class el extends Sr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=be,this.minFilter=be,this.generateMipmaps=!1,this.needsUpdate=!0}}class tl extends Sr{constructor(e,t,n,r,i,o,a,s,l,c,u,d){super(null,o,a,s,l,c,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class nl extends tl{constructor(e,t,n,r,i,o){super(e,t,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ve,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rl extends tl{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,de),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class il extends Sr{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ol extends Sr{constructor(e,t,n,r,i,o,a,s,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:We;if(c!==We&&c!==qe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===We&&(n=Oe),void 0===n&&c===qe&&(n=je),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:be,this.minFilter=void 0!==s?s:be,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class al{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new er:new Or);return s.copy(a).sub(o).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Or,r=[],i=[],o=[],a=new Or,s=new ui;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new Or)}i[0]=new Or,o[0]=new Or;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos($n(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(a,e))}o[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos($n(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class sl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const i=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);const o=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,r=s-this.aY;a=n*e-r*t+this.aX,s=n*t+r*e+this.aY}return t.set(a,s)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ll extends sl{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function cl(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}const ul=new Or,dl=new cl,hl=new cl,pl=new cl;class fl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let o,a,s=Math.floor(i),l=i-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:0===l&&s===r-1&&(s=r-2,l=1),this.closed||s>0?o=n[(s-1)%r]:(ul.subVectors(n[0],n[1]).add(n[0]),o=ul);const c=n[s%r],u=n[(s+1)%r];if(this.closed||s+2<r?a=n[(s+2)%r]:(ul.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=ul),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),r=Math.pow(u.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),dl.initNonuniformCatmullRom(o.x,c.x,u.x,a.x,t,n,r),hl.initNonuniformCatmullRom(o.y,c.y,u.y,a.y,t,n,r),pl.initNonuniformCatmullRom(o.z,c.z,u.z,a.z,t,n,r)}else"catmullrom"===this.curveType&&(dl.initCatmullRom(o.x,c.x,u.x,a.x,this.tension),hl.initCatmullRom(o.y,c.y,u.y,a.y,this.tension),pl.initCatmullRom(o.z,c.z,u.z,a.z,this.tension));return t.set(dl.calc(l),hl.calc(l),pl.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Or).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ml(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function gl(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function vl(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class yl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new er,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new er;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(vl(e,n.x,r.x,i.x,o.x),vl(e,n.y,r.y,i.y,o.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Or,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Or;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(vl(e,n.x,r.x,i.x,o.x),vl(e,n.y,r.y,i.y,o.y),vl(e,n.z,r.z,i.z,o.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Al extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new er;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=this.v0,r=this.v1,i=this.v2;return t.set(gl(e,n.x,r.x,i.x),gl(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Cl extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Or;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or,n=this.v0,r=this.v1,i=this.v2;return t.set(gl(e,n.x,r.x,i.x),gl(e,n.y,r.y,i.y),gl(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class El extends al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er,n=this.points,r=(n.length-1)*e,i=Math.floor(r),o=r-i,a=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return t.set(ml(o,a.x,s.x,l.x,c.x),ml(o,a.y,s.y,l.y,c.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new er).fromArray(n))}return this}}var Sl=Object.freeze({__proto__:null,ArcCurve:ll,CatmullRomCurve3:fl,CubicBezierCurve:yl,CubicBezierCurve3:bl,EllipseCurve:sl,LineCurve:Al,LineCurve3:xl,QuadraticBezierCurve:wl,QuadraticBezierCurve3:Cl,SplineCurve:El});class _l extends al{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Sl[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,o=this.curves[i],a=o.getLength(),s=0===a?0:1-e/a;return o.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Sl[n.type]).fromJSON(n))}return this}}class Ml extends _l{constructor(e){super(),this.type="Path",this.currentPoint=new er,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Al(this.currentPoint.clone(),new er(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new wl(this.currentPoint.clone(),new er(e,t),new er(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const a=new yl(this.currentPoint.clone(),new er(e,t),new er(n,r),new er(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new El(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,o,a,s),this}absellipse(e,t,n,r,i,o,a,s){const l=new sl(e,t,n,r,i,o,a,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Il extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new er(0,-.5),new er(.5,0),new er(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=$n(r,0,2*Math.PI);const i=[],o=[],a=[],s=[],l=[],c=1/t,u=new Or,d=new er,h=new Or,p=new Or,f=new Or;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,f.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(f.x,f.y,f.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,p.copy(h),h.x+=f.x,h.y+=f.y,h.z+=f.z,h.normalize(),s.push(h.x,h.y,h.z),f.copy(p)}for(let v=0;v<=t;v++){const i=n+v*c*r,h=Math.sin(i),p=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*p,o.push(u.x,u.y,u.z),d.x=v/t,d.y=n/(e.length-1),a.push(d.x,d.y);const r=s[3*n+0]*h,i=s[3*n+1],c=s[3*n+0]*p;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,o=n+e.length,a=n+e.length+1,s=n+1;i.push(r,o,s),i.push(a,s,o)}this.setIndex(i),this.setAttribute("position",new So(o,3)),this.setAttribute("uv",new So(a,2)),this.setAttribute("normal",new So(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Il(e.points,e.segments,e.phiStart,e.phiLength)}}class Tl extends Il{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new Ml;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new Tl(e.radius,e.length,e.capSegments,e.radialSegments)}}class Rl extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],a=[],s=[],l=new Or,c=new er;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new So(o,3)),this.setAttribute("normal",new So(a,3)),this.setAttribute("uv",new So(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rl(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class kl extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let p=0;const f=[],m=n/2;let g=0;function v(n){const i=p,o=new er,f=new Or;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),p++;const A=p;for(let e=0;e<=r;e++){const t=e/r*s+a,n=Math.cos(t),i=Math.sin(t);f.x=y*i,f.y=m*b,f.z=y*n,u.push(f.x,f.y,f.z),d.push(0,b,0),o.x=.5*n+.5,o.y=.5*i*b+.5,h.push(o.x,o.y),p++}for(let e=0;e<r;e++){const t=i+e,r=A+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new Or,v=new Or;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),f=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*f,u.push(v.x,v.y,v.z),o.set(l,b,f).normalize(),d.push(o.x,o.y,o.z),h.push(t,1-g),c.push(p++)}f.push(c)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const o=f[r][n],a=f[r+1][n],s=f[r+1][n+1],l=f[r][n+1];(e>0||0!==r)&&(c.push(o,a,l),y+=3),(t>0||r!==i-1)&&(c.push(a,s,l),y+=3)}l.addGroup(g,y,0),g+=y}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new So(u,3)),this.setAttribute("normal",new So(d,3)),this.setAttribute("uv",new So(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Pl extends kl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Pl(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bl extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function a(e,t,n,r){const i=r+1,o=[];for(let a=0;a<=i;a++){o[a]=[];const r=e.clone().lerp(n,a/i),s=t.clone().lerp(n,a/i),l=i-a;for(let e=0;e<=l;e++)o[a][e]=0===e&&a===i?r:r.clone().lerp(s,e/l)}for(let a=0;a<i;a++)for(let e=0;e<2*(i-a)-1;e++){const t=Math.floor(e/2);e%2===0?(s(o[a][t+1]),s(o[a+1][t]),s(o[a][t])):(s(o[a][t+1]),s(o[a+1][t+1]),s(o[a+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new Or,r=new Or,i=new Or;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r),function(e){const t=new Or;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new Or;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);o.push(r,1-a)}var t;(function(){const e=new Or,t=new Or,n=new Or,r=new Or,a=new er,s=new er,l=new er;for(let d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),r.copy(e).add(t).add(n).divideScalar(3);const p=u(r);c(a,h+0,e,p),c(s,h+2,t,p),c(l,h+4,n,p)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new So(i,3)),this.setAttribute("normal",new So(i.slice(),3)),this.setAttribute("uv",new So(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bl(e.vertices,e.indices,e.radius,e.details)}}class Ol extends Bl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ol(e.radius,e.detail)}}const Ll=new Or,Dl=new Or,Nl=new Or,Fl=new Yi;class jl extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Qn*t),o=e.getIndex(),a=e.getAttribute("position"),s=o?o.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=Fl;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),s.fromBufferAttribute(a,l[2]),Fl.getNormal(Nl),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],o=Fl[c[e]],a=Fl[c[t]],s=`${n}_${r}`,p=`${r}_${n}`;p in d&&d[p]?(Nl.dot(d[p].normal)<=i&&(h.push(o.x,o.y,o.z),h.push(a.x,a.y,a.z)),d[p]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:Nl.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];Ll.fromBufferAttribute(a,t),Dl.fromBufferAttribute(a,n),h.push(Ll.x,Ll.y,Ll.z),h.push(Dl.x,Dl.y,Dl.z)}this.setAttribute("position",new So(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ul extends Ml{constructor(e){super(e),this.uuid=qn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Ml).fromJSON(n))}return this}}const zl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let o=Hl(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,d,h,p;if(r&&(o=function(e,t,n,r){const i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,c=Hl(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Zl(c));for(i.sort(Xl),o=0;o<i.length;o++)n=Kl(i[o],n);return n}(e,t,o,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)d=e[t],h=e[t+1],d<s&&(s=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);p=Math.max(c-s,u-l),p=0!==p?32767/p:0}return Gl(o,a,n,s,l,p,0),a};function Hl(e,t,n,r,i){let o,a;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=cc(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=cc(o,e[o],e[o+1],a);return a&&rc(a,a.next)&&(uc(a),a=a.next),a}function Vl(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!rc(r,r.next)&&0!==nc(r.prev,r,r.next))r=r.next;else{if(uc(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Gl(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Jl(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Wl(e,r,i,o):Ql(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),uc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Gl(e=ql(Vl(e),t,n),t,n,r,i,o,2):2===a&&$l(e,t,n,r,i,o):Gl(Vl(e),t,n,r,i,o,1);break}}function Ql(e){const t=e.prev,n=e,r=e.next;if(nc(t,n,r)>=0)return!1;const i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,h=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c;let f=r.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&ec(i,s,o,l,a,c,f.x,f.y)&&nc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Wl(e,t,n,r){const i=e.prev,o=e,a=e.next;if(nc(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,h=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<d?u<h?u:h:d<h?d:h,m=s>l?s>c?s:c:l>c?l:c,g=u>d?u>h?u:h:d>h?d:h,v=Jl(p,f,t,n,r),y=Jl(m,g,t,n,r);let b=e.prevZ,A=e.nextZ;for(;b&&b.z>=v&&A&&A.z<=y;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&ec(s,u,l,d,c,h,b.x,b.y)&&nc(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,A.x>=p&&A.x<=m&&A.y>=f&&A.y<=g&&A!==i&&A!==a&&ec(s,u,l,d,c,h,A.x,A.y)&&nc(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;b&&b.z>=v;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&ec(s,u,l,d,c,h,b.x,b.y)&&nc(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;A&&A.z<=y;){if(A.x>=p&&A.x<=m&&A.y>=f&&A.y<=g&&A!==i&&A!==a&&ec(s,u,l,d,c,h,A.x,A.y)&&nc(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function ql(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!rc(i,o)&&ic(i,r,r.next,o)&&sc(i,o)&&sc(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),uc(r),uc(r.next),r=e=o),r=r.next}while(r!==e);return Vl(r)}function $l(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&tc(a,e)){let s=lc(a,e);return a=Vl(a,a.next),s=Vl(s,s.next),Gl(a,t,n,r,i,o,0),void Gl(s,t,n,r,i,o,0)}e=e.next}a=a.next}while(a!==e)}function Xl(e,t){return e.x-t.x}function Kl(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,d=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&ec(a<c?o:i,a,l,c,a<c?i:o,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(o-r.x),sc(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&Yl(n,r)))&&(n=r,d=u)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=lc(n,e);return Vl(r,r.next),Vl(n,n.next)}function Yl(e,t){return nc(e.prev,e,t.prev)<0&&nc(t.next,e,e.next)<0}function Jl(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Zl(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function ec(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function tc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ic(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(sc(e,t)&&sc(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(nc(e.prev,e,t.prev)||nc(e,t.prev,t))||rc(e,t)&&nc(e.prev,e,e.next)>0&&nc(t.prev,t,t.next)>0)}function nc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function rc(e,t){return e.x===t.x&&e.y===t.y}function ic(e,t,n,r){const i=ac(nc(e,t,n)),o=ac(nc(e,t,r)),a=ac(nc(n,r,e)),s=ac(nc(n,r,t));return i!==o&&a!==s||(!(0!==i||!oc(e,n,t))||(!(0!==o||!oc(e,r,t))||(!(0!==a||!oc(n,e,r))||!(0!==s||!oc(n,t,r)))))}function oc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ac(e){return e>0?1:e<0?-1:0}function sc(e,t){return nc(e.prev,e,e.next)<0?nc(e,t,e.next)>=0&&nc(e,e.prev,t)>=0:nc(e,t,e.prev)<0||nc(e,e.next,t)<0}function lc(e,t){const n=new dc(e.i,e.x,e.y),r=new dc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function cc(e,t,n,r){const i=new dc(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function uc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function dc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class hc{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return hc.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];pc(e),fc(n,e);let o=e.length;t.forEach(pc);for(let s=0;s<t.length;s++)r.push(o),o+=t[s].length,fc(n,t[s]);const a=zl(n,r);for(let s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i}}function pc(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function fc(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class mc extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ul([new er(.5,.5),new er(-.5,.5),new er(-.5,-.5),new er(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let a=0,s=e.length;a<s;a++){o(e[a])}function o(e){const o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:gc;let g,v,y,b,A,x=!1;f&&(g=f.getSpacedPoints(s),x=!0,c=!1,v=f.computeFrenetFrames(s,!1),y=new Or,b=new Or,A=new Or),c||(p=0,u=0,d=0,h=0);const w=e.extractPoints(a);let C=w.shape;const E=w.holes;if(!hc.isClockWise(C)){C=C.reverse();for(let e=0,t=E.length;e<t;e++){const t=E[e];hc.isClockWise(t)&&(E[e]=t.reverse())}}const S=hc.triangulateShape(C,E),_=C;for(let t=0,n=E.length;t<n;t++){const e=E[t];C=C.concat(e)}function M(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const I=C.length,T=S.length;function R(e,t,n){let r,i,o;const a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,d=a*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),p=t.x-s/d,f=t.y+a/d,m=((n.x-c/h-p)*c-(n.y+l/h-f)*l)/(a*c-s*l);r=p+a*m-e.x,i=f+s*m-e.y;const g=r*r+i*i;if(g<=2)return new er(r,i);o=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new er(r/o,i/o)}const k=[];for(let t=0,n=_.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),k[t]=R(_[t],_[r],_[i]);const P=[];let B,O=k.concat();for(let t=0,n=E.length;t<n;t++){const e=E[t];B=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),B[t]=R(e[t],e[r],e[i]);P.push(B),O=O.concat(B)}for(let t=0;t<p;t++){const e=t/p,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=_.length;t<i;t++){const e=M(_[t],k[t],r);N(e.x,e.y,-n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];B=P[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],B[t],r);N(i.x,i.y,-n)}}}const L=d+h;for(let t=0;t<I;t++){const e=c?M(C[t],O[t],L):C[t];x?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),A.copy(g[0]).add(b).add(y),N(A.x,A.y,A.z)):N(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<I;e++){const n=c?M(C[e],O[e],L):C[e];x?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),A.copy(g[t]).add(b).add(y),N(A.x,A.y,A.z)):N(n.x,n.y,l/s*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=_.length;t<i;t++){const e=M(_[t],k[t],r);N(e.x,e.y,l+n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];B=P[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],B[t],r);x?N(i.x,i.y+g[s-1].y,g[s-1].x+n):N(i.x,i.y,l+n)}}}function D(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*p;e<n;e++){const n=I*e,o=I*(e+1);j(t+r+n,t+i+n,t+i+o,t+r+o)}}}function N(e,t,n){o.push(e),o.push(t),o.push(n)}function F(e,t,i){U(e),U(t),U(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);z(a[0]),z(a[1]),z(a[2])}function j(e,t,i,o){U(e),U(t),U(o),U(t),U(i),U(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);z(s[0]),z(s[1]),z(s[3]),z(s[1]),z(s[2]),z(s[3])}function U(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function z(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=I*e;for(let n=0;n<T;n++){const e=S[n];F(e[2]+t,e[1]+t,e[0]+t)}e=s+2*p,t=I*e;for(let n=0;n<T;n++){const e=S[n];F(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<T;e++){const t=S[e];F(t[2],t[1],t[0])}for(let e=0;e<T;e++){const t=S[e];F(t[0]+I*s,t[1]+I*s,t[2]+I*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;D(_,t),t+=_.length;for(let n=0,r=E.length;n<r;n++){const e=E[n];D(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new So(r,3)),this.setAttribute("uv",new So(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,o=e.shapes.length;i<o;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Sl[r.type]).fromJSON(r)),new mc(n,e.options)}}const gc={generateTopUV:function(e,t,n,r,i){const o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new er(o,a),new er(s,l),new er(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){const a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<Math.abs(a-c)?[new er(a,1-l),new er(c,1-d),new er(h,1-f),new er(m,1-v)]:[new er(s,1-l),new er(u,1-d),new er(p,1-f),new er(g,1-v)]}};class vc extends Bl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vc(e.radius,e.detail)}}class yc extends Bl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yc(e.radius,e.detail)}}class bc extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,d=t/s,h=[],p=[],f=[],m=[];for(let g=0;g<c;g++){const e=g*d-o;for(let t=0;t<l;t++){const n=t*u-i;p.push(n,-e,0),f.push(0,0,1),m.push(t/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<a;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new So(p,3)),this.setAttribute("normal",new So(f,3)),this.setAttribute("uv",new So(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bc(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ac extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const a=[],s=[],l=[],c=[];let u=e;const d=(t-e)/r,h=new Or,p=new er;for(let f=0;f<=r;f++){for(let e=0;e<=n;e++){const r=i+e/n*o;h.x=u*Math.cos(r),h.y=u*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,c.push(p.x,p.y)}u+=d}for(let f=0;f<r;f++){const e=f*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,s=r+n+2,l=r+1;a.push(i,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new So(s,3)),this.setAttribute("normal",new So(l,3)),this.setAttribute("uv",new So(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ac(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class xc extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ul([new er(0,.5),new er(-.5,-.5),new er(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===hc.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===hc.isClockWise(e)&&(u[t]=e.reverse())}const d=hc.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=d.length;t<r;t++){const e=d[t],r=e[0]+a,i=e[1]+a,o=e[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new So(r,3)),this.setAttribute("normal",new So(i,3)),this.setAttribute("uv",new So(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new xc(n,e.curveSegments)}}class wc extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new Or,d=new Or,h=[],p=[],f=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0===g&&0===o?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+v*a),p.push(u.x,u.y,u.z),d.copy(u).normalize(),f.push(d.x,d.y,d.z),m.push(s+y,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],a=c[g+1][e+1];(0!==g||o>0)&&h.push(t,r,a),(g!==n-1||s<Math.PI)&&h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new So(p,3)),this.setAttribute("normal",new So(f,3)),this.setAttribute("uv",new So(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Cc extends Bl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cc(e.radius,e.detail)}}class Ec extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],c=new Or,u=new Or,d=new Or;for(let h=0;h<=n;h++)for(let o=0;o<=r;o++){const p=o/r*i,f=h/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),a.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(o/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,a=(r+1)*h+e;o.push(t,n,a),o.push(n,i,a)}this.setIndex(o),this.setAttribute("position",new So(a,3)),this.setAttribute("normal",new So(s,3)),this.setAttribute("uv",new So(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ec(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Sc extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],l=[],c=[],u=new Or,d=new Or,h=new Or,p=new Or,f=new Or,m=new Or,g=new Or;for(let y=0;y<=n;++y){const a=y/n*i*Math.PI*2;v(a,i,o,e,h),v(a+.01,i,o,e,p),m.subVectors(p,h),g.addVectors(p,h),f.crossVectors(m,g),g.crossVectors(f,m),f.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),a=t*Math.sin(i);u.x=h.x+(o*g.x+a*f.x),u.y=h.y+(o*g.y+a*f.y),u.z=h.z+(o*g.z+a*f.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,o=(r+1)*(y-1)+e;a.push(t,n,o),a.push(n,i,o)}function v(e,t,n,r,i){const o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new So(s,3)),this.setAttribute("normal",new So(l,3)),this.setAttribute("uv",new So(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sc(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _c extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Cl(new Or(-1,-1,0),new Or(-1,1,0),new Or(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Or,s=new Or,l=new er;let c=new Or;const u=[],d=[],h=[],p=[];function f(i){c=e.getPointAt(i/t,c);const l=o.normals[i],h=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*l.x+i*h.x,s.y=o*l.y+i*h.y,s.z=o*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)f(e);f(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;p.push(n,i,a),p.push(i,o,a)}}()}(),this.setIndex(p),this.setAttribute("position",new So(u,3)),this.setAttribute("normal",new So(d,3)),this.setAttribute("uv",new So(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _c((new Sl[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Mc extends Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Or,i=new Or;if(null!==e.index){const o=e.attributes.position,a=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=a.getX(e+l),c=a.getX(e+(l+1)%3);r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,c),!0===Ic(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let e=0,a=o.count/3;e<a;e++)for(let s=0;s<3;s++){const a=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(o,a),i.fromBufferAttribute(o,l),!0===Ic(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new So(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Ic(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Tc=Object.freeze({__proto__:null,BoxGeometry:qo,CapsuleGeometry:Tl,CircleGeometry:Rl,ConeGeometry:Pl,CylinderGeometry:kl,DodecahedronGeometry:Ol,EdgesGeometry:jl,ExtrudeGeometry:mc,IcosahedronGeometry:vc,LatheGeometry:Il,OctahedronGeometry:yc,PlaneGeometry:bc,PolyhedronGeometry:Bl,RingGeometry:Ac,ShapeGeometry:xc,SphereGeometry:wc,TetrahedronGeometry:Cc,TorusGeometry:Ec,TorusKnotGeometry:Sc,TubeGeometry:_c,WireframeGeometry:Mc});class Rc extends oo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new no(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class kc extends Jo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Pc extends oo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new no(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new no(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ai,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Bc extends Pc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new er(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return $n(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new no(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new no(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new no(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Oc extends oo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new no(16777215),this.specular=new no(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new no(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ai,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lc extends oo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new no(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new no(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Dc extends oo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Nc extends oo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new no(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new no(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ai,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fc extends oo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Wt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class jc extends oo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Uc extends oo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new no(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Kt,this.normalScale=new er(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zc extends ks{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hc(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Vc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Gc(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function Qc(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function Wc(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}const qc={convertArray:Hc,isTypedArray:Vc,getKeyframeOrder:Gc,sortedArray:Qc,flattenJSON:Wc,subclip:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const o=e.clone();o.name=t;const a=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),s=[],c=[];for(let o=0;o<e.times.length;++o){const a=e.times[o]*i;if(!(a<n||a>=r)){s.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==s.length&&(e.times=Hc(s,e.times.constructor),e.values=Hc(c,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let a=0;a<i;++a){const t=n.tracks[a],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(o<=t.times[0]){const e=s,n=l-s;h=t.values.slice(e,n)}else if(o>=t.times[d]){const e=d*l+s,n=e+l-s;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(o),h=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new Br).fromArray(h).normalize().conjugate().toArray(h)}const p=i.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===r)Br.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=Ht,e}};class $c{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Xc extends $c{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ft,endingEnd:Ft}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case jt:i=e,a=2*t-n;break;case Ut:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case jt:o=e,s=2*n-t;break;case Ut:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(n-t)/(r-t),f=p*p,m=f*p,g=-d*m+2*d*f-d*p,v=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,y=(-1-h)*m+(1.5+h)*f+.5*p,b=h*m-h*f;for(let A=0;A!==a;++A)i[A]=g*o[c+A]+v*o[l+A]+y*o[s+A]+b*o[u+A];return i}}class Kc extends $c{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==a;++d)i[d]=o[l+d]*u+o[s+d]*c;return i}}class Yc extends $c{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jc{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hc(t,this.TimeBufferType),this.values=Hc(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Hc(e.times,Array),values:Hc(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Yc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Kc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Xc(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Lt:t=this.InterpolantFactoryMethodDiscrete;break;case Dt:t=this.InterpolantFactoryMethodLinear;break;case Nt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lt;case this.InterpolantFactoryMethodLinear:return Dt;case this.InterpolantFactoryMethodSmooth:return Nt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,o),e=!1;break}o=t}if(void 0!==r&&Vc(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===Nt,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Jc.prototype.TimeBufferType=Float32Array,Jc.prototype.ValueBufferType=Float32Array,Jc.prototype.DefaultInterpolation=Dt;class Zc extends Jc{constructor(e,t,n){super(e,t,n)}}Zc.prototype.ValueTypeName="bool",Zc.prototype.ValueBufferType=Array,Zc.prototype.DefaultInterpolation=Lt,Zc.prototype.InterpolantFactoryMethodLinear=void 0,Zc.prototype.InterpolantFactoryMethodSmooth=void 0;class eu extends Jc{}eu.prototype.ValueTypeName="color";class tu extends Jc{}tu.prototype.ValueTypeName="number";class nu extends $c{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)Br.slerpFlat(i,0,o,l-a,o,l,s);return i}}class ru extends Jc{InterpolantFactoryMethodLinear(e){return new nu(this.times,this.values,this.getValueSize(),e)}}ru.prototype.ValueTypeName="quaternion",ru.prototype.InterpolantFactoryMethodSmooth=void 0;class iu extends Jc{constructor(e,t,n){super(e,t,n)}}iu.prototype.ValueTypeName="string",iu.prototype.ValueBufferType=Array,iu.prototype.DefaultInterpolation=Lt,iu.prototype.InterpolantFactoryMethodLinear=void 0,iu.prototype.InterpolantFactoryMethodSmooth=void 0;class ou extends Jc{}ou.prototype.ValueTypeName="vector";class au{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zt;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=qn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(su(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(Jc.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let a=0;a<i;a++){let e=[],s=[];e.push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0);const l=Gc(e);e=Qc(e,1,l),s=Qc(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),o.push(new tu(".morphTargetInfluences["+t[a].name+"]",e,s).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];Wc(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new tu(".morphTargetInfluence["+i+"]",t,o))}s=t.length*o}else{const i=".bones["+t[c].name+"]";n(ou,i+".position",e,"pos",r),n(ru,i+".quaternion",e,"rot",r),n(ou,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function su(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return tu;case"vector":case"vector2":case"vector3":case"vector4":return ou;case"color":return eu;case"quaternion":return ru;case"bool":case"boolean":return Zc;case"string":return iu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Wc(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const lu={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class cu{constructor(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const uu=new cu;class du{constructor(e){this.manager=void 0!==e?e:uu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}du.DEFAULT_MATERIAL_NAME="__DEFAULT";const hu={};class pu extends Error{constructor(e,t){super(e),this.response=t}}class fu extends du{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=lu.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==hu[e])return void hu[e].push({onLoad:t,onProgress:n,onError:r});hu[e]=[],hu[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(o).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=hu[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),o=i?parseInt(i):0,a=0!==o;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{s+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}),(t=>{e.error(t)}))}()}});return new Response(l)}throw new pu(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,a)));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{lu.add(e,t);const n=hu[e];delete hu[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=hu[e];if(void 0===n)throw this.manager.itemError(e),t;delete hu[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class mu extends du{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new fu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=au.parse(e[n]);t.push(r)}return t}}class gu extends du{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],a=new tl,s=new fu(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=Ee),a.image=o,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ee),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}class vu extends du{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=lu.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=ar("img");function s(){c(),lu.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class yu extends du{constructor(e){super(e)}load(e,t,n,r){const i=new aa;i.colorSpace=Zt;const o=new vu(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}}class bu extends du{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new qa,a=new fu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){let n;try{n=i.parse(e)}catch(a){if(void 0===r)return void console.error(a);r(a)}void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ve,o.wrapT=void 0!==n.wrapT?n.wrapT:ve,o.magFilter=void 0!==n.magFilter?n.magFilter:Ee,o.minFilter=void 0!==n.minFilter?n.minFilter:Ee,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(o.colorSpace=n.colorSpace),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Me),1===n.mipmapCount&&(o.minFilter=Ee),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n)}),n,r),o}}class Au extends du{constructor(e){super(e)}load(e,t,n,r){const i=new Sr,o=new vu(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class xu extends Ni{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new no(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class wu extends xu{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ni.DEFAULT_UP),this.updateMatrix(),this.groundColor=new no(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Cu=new ui,Eu=new Or,Su=new Or;class _u{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new er(512,512),this.map=null,this.mapPass=null,this.matrix=new ui,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new hs,this._frameExtents=new er(1,1),this._viewportCount=1,this._viewports=[new _r(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Eu.setFromMatrixPosition(e.matrixWorld),t.position.copy(Eu),Su.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Su),t.updateMatrixWorld(),Cu.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Cu),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Cu)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Mu extends _u{constructor(){super(new ra(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Wn*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Iu extends xu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ni.DEFAULT_UP),this.updateMatrix(),this.target=new Ni,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new Mu}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Tu=new ui,Ru=new Or,ku=new Or;class Pu extends _u{constructor(){super(new ra(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new er(4,2),this._viewportCount=6,this._viewports=[new _r(2,1,1,1),new _r(0,1,1,1),new _r(3,1,1,1),new _r(1,1,1,1),new _r(3,0,1,1),new _r(1,0,1,1)],this._cubeDirections=[new Or(1,0,0),new Or(-1,0,0),new Or(0,0,1),new Or(0,0,-1),new Or(0,1,0),new Or(0,-1,0)],this._cubeUps=[new Or(0,1,0),new Or(0,1,0),new Or(0,1,0),new Or(0,1,0),new Or(0,0,1),new Or(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Ru.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ru),ku.copy(n.position),ku.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(ku),n.updateMatrixWorld(),r.makeTranslation(-Ru.x,-Ru.y,-Ru.z),Tu.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Tu)}}class Bu extends xu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Pu}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ou extends Zo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class Lu extends _u{constructor(){super(new Ou(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Du extends xu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ni.DEFAULT_UP),this.updateMatrix(),this.target=new Ni,this.shadow=new Lu}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Nu extends xu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Fu extends xu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class ju{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Or)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class Uu extends xu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ju;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class zu extends du{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new fu(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new no).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new no).setHex(t.value);break;case"v2":r.uniforms[i].value=(new er).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Or).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new _r).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new tr).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new ui).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new er).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new er).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return zu.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:Rc,SpriteMaterial:va,RawShaderMaterial:kc,ShaderMaterial:Jo,PointsMaterial:Qs,MeshPhysicalMaterial:Bc,MeshStandardMaterial:Pc,MeshPhongMaterial:Oc,MeshToonMaterial:Lc,MeshNormalMaterial:Dc,MeshLambertMaterial:Nc,MeshDepthMaterial:Fc,MeshDistanceMaterial:jc,MeshBasicMaterial:ao,MeshMatcapMaterial:Uc,LineDashedMaterial:zc,LineBasicMaterial:ks,Material:oo}[e]}}class Hu{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),"undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Vu extends Bo{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Gu extends du{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new fu(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}(e,i.buffer),a=or(i.type,o),s=new fa(a,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new Vu:new Bo,o=e.data.index;if(void 0!==o){const e=or(o.type,o.array);i.setIndex(new go(e,1))}const a=e.data.attributes;for(const u in a){const t=a[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new ga(i,t.itemSize,t.offset,t.normalized)}else{const e=or(t.type,t.array);n=new(t.isInstancedBufferAttribute?Ya:go)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let a;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);a=new ga(t,o.itemSize,o.offset,o.normalized)}else{const e=or(o.type,o.array);a=new go(e,o.itemSize,o.normalized)}void 0!==o.name&&(a.name=o.name),n.push(a)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new Or;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new ti(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class Qu extends du{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?Hu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new fu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(o,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?Hu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new fu(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),o=JSON.parse(i),a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a,o,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),this.bindLightTargets(s),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Ul).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,o=e.length;i<o;i++){const t=(new Ka).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Gu;for(let i=0,o=e.length;i<o;i++){let o;const a=e[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(a);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)o=(new THREE.LegacyJSONLoader).parse(a,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:a.type in Tc?o=Tc[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new zu;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=au.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:or(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new cu(t);i=new vu(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=o(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new qa(n.data,n.width,n.height)))}r[n.uuid]=new wr(e)}else{const e=o(n.url);r[n.uuid]=new wr(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:or(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new vu(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new qa(r.data,r.width,r.height)))}n[r.uuid]=new wr(e)}else{const e=await i(r.url);n[r.uuid]=new wr(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const a=t[o.image],s=a.data;let l;Array.isArray(s)?(l=new aa,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new qa:new Sr,s&&(l.needsUpdate=!0)),l.source=a,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Wu)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],qu),l.wrapT=n(o.wrap[1],qu)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,$u)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,$u)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,n,r,i){let o,a,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":o=new pa,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new no(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new ha(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new da(e.fog.color,e.fog.density)),""!==e.fog.name&&(o.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&o.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(o.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new ra(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ou(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Nu(e.color,e.intensity);break;case"DirectionalLight":o=new Du(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Bu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Fu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Iu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new wu(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Uu).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),s=c(e.material),o=new Qa(a,s),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),s=c(e.material),o=new Qo(a,s);break;case"InstancedMesh":a=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new os(a,s,t),o.instanceMatrix=new Ya(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new Ya(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":a=l(e.geometry),s=c(e.material),o=new Rs(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s),o.geometry=a,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map((e=>{const t=new Nr;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new ti;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new La;break;case"Line":o=new js(l(e.geometry),c(e.material));break;case"LineLoop":o=new Gs(l(e.geometry),c(e.material));break;case"LineSegments":o=new Vs(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new Ks(l(e.geometry),c(e.material));break;case"Sprite":o=new ka(c(e.material));break;case"Group":o=new la;break;case"Bone":o=new Wa;break;default:o=new Ni}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.up&&o.up.fromArray(e.up),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(o.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)o.add(this.parseObject(a[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}bindLightTargets(e){e.traverse((function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new Ni}}))}}const Wu={UVMapping:ue,CubeReflectionMapping:de,CubeRefractionMapping:he,EquirectangularReflectionMapping:pe,EquirectangularRefractionMapping:fe,CubeUVReflectionMapping:me},qu={RepeatWrapping:ge,ClampToEdgeWrapping:ve,MirroredRepeatWrapping:ye},$u={NearestFilter:be,NearestMipmapNearestFilter:Ae,NearestMipmapLinearFilter:we,LinearFilter:Ee,LinearMipmapNearestFilter:Se,LinearMipmapLinearFilter:Me};class Xu extends du{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=lu.get(e);if(void 0!==o)return i.manager.itemStart(e),o.then?void o.then((n=>{t&&t(n),i.manager.itemEnd(e)})).catch((e=>{r&&r(e)})):(setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const s=fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return lu.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),lu.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));lu.add(e,s),i.manager.itemStart(e)}}let Ku;class Yu{static getContext(){return void 0===Ku&&(Ku=new(window.AudioContext||window.webkitAudioContext)),Ku}static setContext(e){Ku=e}}class Ju extends du{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new fu(this.manager);function a(t){r?r(t):console.error(t),i.manager.itemError(e)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(e){try{const n=e.slice(0);Yu.getContext().decodeAudioData(n,(function(e){t(e)})).catch(a)}catch(n){a(n)}}),n,r)}}const Zu=new ui,ed=new ui,td=new ui;class nd{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ra,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ra,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,td.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Qn*t.fov*.5)/t.zoom;let o,a;ed.elements[12]=-n,Zu.elements[12]=n,o=-i*t.aspect+r,a=i*t.aspect+r,td.elements[0]=2*t.near/(a-o),td.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(td),o=-i*t.aspect-r,a=i*t.aspect-r,td.elements[0]=2*t.near/(a-o),td.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(td)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ed),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Zu)}}class rd extends ra{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class id{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=od(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=od();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function od(){return performance.now()}const ad=new Or,sd=new Br,ld=new Or,cd=new Or;class ud extends Ni{constructor(){super(),this.type="AudioListener",this.context=Yu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new id}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ad,sd,ld),cd.set(0,0,-1).applyQuaternion(sd),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ad.x,e),t.positionY.linearRampToValueAtTime(ad.y,e),t.positionZ.linearRampToValueAtTime(ad.z,e),t.forwardX.linearRampToValueAtTime(cd.x,e),t.forwardY.linearRampToValueAtTime(cd.y,e),t.forwardZ.linearRampToValueAtTime(cd.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(ad.x,ad.y,ad.z),t.setOrientation(cd.x,cd.y,cd.z,n.x,n.y,n.z)}}class dd extends Ni{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const hd=new Or,pd=new Br,fd=new Or,md=new Or;class gd extends dd{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(hd,pd,fd),md.set(0,0,1).applyQuaternion(pd);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hd.x,e),t.positionY.linearRampToValueAtTime(hd.y,e),t.positionZ.linearRampToValueAtTime(hd.z,e),t.orientationX.linearRampToValueAtTime(md.x,e),t.orientationY.linearRampToValueAtTime(md.y,e),t.orientationZ.linearRampToValueAtTime(md.z,e)}else t.setPosition(hd.x,hd.y,hd.z),t.setOrientation(md.x,md.y,md.z)}}class vd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class yd{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){Br.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;Br.multiplyQuaternionsFlat(e,o,e,t,e,n),Br.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const bd="\\[\\]\\.:\\/",Ad=new RegExp("["+bd+"]","g"),xd="[^"+bd+"]",wd="[^"+bd.replace("\\.","")+"]",Cd=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",xd)+/(WCOD+)?/.source.replace("WCOD",wd)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xd)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xd)+"$"),Ed=["material","materials","bones","map"];class Sd{constructor(e,t,n){this.path=t,this.parsedPath=n||Sd.parseTrackName(t),this.node=Sd.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Sd.Composite(e,t,n):new Sd(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ad,"")}static parseTrackName(e){const t=Cd.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Ed.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Sd.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?a=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sd.Composite=class{constructor(e,t,n){const r=n||Sd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Sd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Sd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Sd.prototype.GetterByBindingType=[Sd.prototype._getValue_direct,Sd.prototype._getValue_array,Sd.prototype._getValue_arrayElement,Sd.prototype._getValue_toArray],Sd.prototype.SetterByBindingTypeAndVersioning=[[Sd.prototype._setValue_direct,Sd.prototype._setValue_direct_setNeedsUpdate,Sd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sd.prototype._setValue_array,Sd.prototype._setValue_array_setNeedsUpdate,Sd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sd.prototype._setValue_arrayElement,Sd.prototype._setValue_arrayElement_setNeedsUpdate,Sd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sd.prototype._setValue_fromArray,Sd.prototype._setValue_fromArray_setNeedsUpdate,Sd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _d{constructor(){this.isAnimationObjectGroup=!0,this.uuid=qn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new Sd(u,n[e],r[e]))}else if(h<l){a=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[s];let a=t[h];t[h]=o,void 0===a&&(a=new Sd(u,n[e],r[e])),t[s]=a}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,l=t[s];if(void 0!==l&&l>=i){const o=i++,c=e[o];t[c.uuid]=l,e[l]=c,t[s]=o,e[o]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const a=--i,s=e[a],c=--o,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[l]=r,t[a]=i,t.pop()}}else{const i=--o,a=e[i];i>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new Sd(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}class Md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,a=new Array(o),s={endingStart:Ft,endingEnd:Ft};for(let l=0;l!==o;++l){const e=i[l].createInterpolant(null);a[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Bt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Ht)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(a);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=n===Ot;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===Pt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=jt,r.endingEnd=jt):(r.endingStart=e?this.zeroSlopeAtStart?jt:Ft:Ut,r.endingEnd=t?this.zeroSlopeAtEnd?jt:Ft:Ut)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}const Id=new Float32Array(1);class Td extends Hn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new yd(Sd.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),o[u]=l}a[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Kc(new Float32Array(2),new Float32Array(2),1,Id),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"===typeof e?au.findByName(r,e):e;const a=null!==o?o.uuid:e,s=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:zt),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Md(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?au.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Rd extends Mr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isRenderTarget3D=!0,this.depth=n,this.texture=new kr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class kd extends Mr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isRenderTargetArray=!0,this.depth=n,this.texture=new Tr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Pd{constructor(e){this.value=e}clone(){return new Pd(void 0===this.value.clone?this.value:this.value.clone())}}let Bd=0;class Od extends Hn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Bd++}),this.name="",this.usage=In,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class Ld extends fa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Dd{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Nd=new ui;class Fd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new ci(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new xi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Nd.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Nd),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Ud(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(jd),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)Ud(e[r],this,n,t);return n.sort(jd),n}}function jd(e,t){return e.distance-t.distance}function Ud(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Ud(r[e],t,n,!0)}}class zd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=$n(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos($n(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class Hd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}class Vd{constructor(e,t,n,r){Vd.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}const Gd=new er;class Qd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new er(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new er(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Gd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gd).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Wd=new Or,qd=new Or;class $d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Wd.subVectors(e,this.start),qd.subVectors(this.end,this.start);const n=qd.dot(qd);let r=qd.dot(Wd)/n;return t&&(r=$n(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Xd=new Or;class Kd extends Ni{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Bo,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,s=32;o<s;o++,a++){const e=o/s*Math.PI*2,t=a/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new So(r,3));const i=new ks({fog:!1,toneMapped:!1});this.cone=new Vs(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Xd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Xd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Yd=new Or,Jd=new ui,Zd=new ui;class eh extends Vs{constructor(e){const t=th(e),n=new Bo,r=[],i=[],o=new no(0,0,1),a=new no(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new So(r,3)),n.setAttribute("color",new So(i,3));super(n,new ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Zd.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Jd.multiplyMatrices(Zd,e.matrixWorld),Yd.setFromMatrixPosition(Jd),r.setXYZ(o,Yd.x,Yd.y,Yd.z),Jd.multiplyMatrices(Zd,e.parent.matrixWorld),Yd.setFromMatrixPosition(Jd),r.setXYZ(o+1,Yd.x,Yd.y,Yd.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function th(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,th(e.children[n]));return t}class nh extends Qo{constructor(e,t,n){super(new wc(t,4,2),new ao({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const rh=new Or,ih=new no,oh=new no;class ah extends Ni{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new yc(t);r.rotateY(.5*Math.PI),this.material=new ao({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new go(o,3)),this.add(new Qo(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ih.copy(this.light.color),oh.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?ih:oh;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(rh.setFromMatrixPosition(this.light.matrixWorld).negate())}}class sh extends Vs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new no(n),r=new no(r);const i=t/2,o=e/t,a=e/2,s=[],l=[];for(let u=0,d=0,h=-a;u<=t;u++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);const e=u===i?n:r;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new Bo;c.setAttribute("position",new So(s,3)),c.setAttribute("color",new So(l,3));super(c,new ks({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lh extends Vs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new no(i),o=new no(o);const a=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;a.push(0,0,0),a.push(r,0,l);const u=1&c?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:o,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l;a.push(i,0,o),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l,a.push(i,0,o),s.push(t.r,t.g,t.b)}}const l=new Bo;l.setAttribute("position",new So(a,3)),l.setAttribute("color",new So(s,3));super(l,new ks({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ch=new Or,uh=new Or,dh=new Or;class hh extends Ni{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new Bo;r.setAttribute("position",new So([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new ks({fog:!1,toneMapped:!1});this.lightPlane=new js(r,i),this.add(this.lightPlane),r=new Bo,r.setAttribute("position",new So([0,0,0,0,0,1],3)),this.targetLine=new js(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ch.setFromMatrixPosition(this.light.matrixWorld),uh.setFromMatrixPosition(this.light.target.matrixWorld),dh.subVectors(uh,ch),this.lightPlane.lookAt(uh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(uh),this.targetLine.scale.z=dh.length()}}const ph=new Or,fh=new Zo;class mh extends Vs{constructor(e){const t=new Bo,n=new ks({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={};function a(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new So(r,3)),t.setAttribute("color",new So(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new no(16755200),c=new no(16711680),u=new no(43775),d=new no(16777215),h=new no(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,r,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;fh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===jn?-1:0;gh("c",t,e,fh,0,0,n),gh("t",t,e,fh,0,0,1),gh("n1",t,e,fh,-1,-1,n),gh("n2",t,e,fh,1,-1,n),gh("n3",t,e,fh,-1,1,n),gh("n4",t,e,fh,1,1,n),gh("f1",t,e,fh,-1,-1,1),gh("f2",t,e,fh,1,-1,1),gh("f3",t,e,fh,-1,1,1),gh("f4",t,e,fh,1,1,1),gh("u1",t,e,fh,.7,1.1,n),gh("u2",t,e,fh,-.7,1.1,n),gh("u3",t,e,fh,0,2,n),gh("cf1",t,e,fh,-1,0,1),gh("cf2",t,e,fh,1,0,1),gh("cf3",t,e,fh,0,-1,1),gh("cf4",t,e,fh,0,1,1),gh("cn1",t,e,fh,-1,0,n),gh("cn2",t,e,fh,1,0,n),gh("cn3",t,e,fh,0,-1,n),gh("cn4",t,e,fh,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gh(e,t,n,r,i,o,a){ph.set(i,o,a).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],ph.x,ph.y,ph.z)}}const vh=new Nr;class yh extends Vs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Bo;i.setIndex(new go(n,1)),i.setAttribute("position",new go(r,3)),super(i,new ks({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&vh.setFromObject(this.object),vh.isEmpty())return;const t=vh.min,n=vh.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bh extends Vs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Bo;r.setIndex(new go(n,1)),r.setAttribute("position",new So([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new ks({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ah extends js{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new Bo;r.setAttribute("position",new So([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new ks({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new Bo;i.setAttribute("position",new So([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Qo(i,new ao({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xh=new Or;let wh,Ch;class Eh extends Ni{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Or(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Or(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===wh&&(wh=new Bo,wh.setAttribute("position",new So([0,0,0,0,1,0],3)),Ch=new kl(0,.5,1,5,1),Ch.translate(0,-.5,0)),this.position.copy(t),this.line=new js(wh,new ks({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qo(Ch,new ao({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xh.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xh,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Sh extends Vs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Bo;n.setAttribute("position",new So(t,3)),n.setAttribute("color",new So([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new ks({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new no,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class _h{constructor(){this.type="ShapePath",this.color=new no,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ml,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],a=t[o],s=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],s=-s,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const n=hc.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,o,a;const s=[];if(1===r.length)return o=r[0],a=new Ul,a.curves=o.curves,s.push(a),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,p=[],f=0;u[f]=void 0,p[f]=[];for(let m=0,g=r.length;m<g;m++)o=r[m],d=o.getPoints(),i=n(d),i=e?!i:i,i?(!l&&u[f]&&f++,u[f]={s:new Ul,p:d},u[f].s.curves=o.curves,l&&f++,p[f]=[]):p[f].push({h:o,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Ul;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=p[r];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<u.length;i++)t(a.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(a)):e=!0);s&&c[r].push(a)}}n>0&&!1===e&&(p=c)}for(let m=0,g=u.length;m<g;m++){a=u[m].s,s.push(a),h=p[m];for(let e=0,t=h.length;e<t;e++)a.holes.push(h[e].h)}return s}}class Mh extends Hn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Ih(e,t,n,r){const i=function(e){switch(e){case Te:case Re:return{byteLength:1,components:1};case Pe:case ke:case De:return{byteLength:2,components:1};case Ne:case Fe:return{byteLength:2,components:4};case Oe:case Be:case Le:return{byteLength:4,components:1};case Ue:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case ze:case Ge:return e*t;case Qe:return e*t*2;case $e:case Xe:return e*t/i.components*i.byteLength;case Ke:case Ye:return e*t*2/i.components*i.byteLength;case He:return e*t*3/i.components*i.byteLength;case Ve:case Ze:return e*t*4/i.components*i.byteLength;case et:case tt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case nt:case rt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case ot:case st:return Math.max(e,16)*Math.max(t,8)/4;case it:case at:return Math.max(e,8)*Math.max(t,8)/2;case lt:case ct:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case ut:case dt:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case ht:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case pt:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case ft:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case mt:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case gt:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case vt:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case yt:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case bt:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case At:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case xt:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case wt:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case Ct:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Et:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case St:case _t:case Mt:return Math.ceil(e/4)*Math.ceil(t/4)*16;case It:case Tt:return Math.ceil(e/4)*Math.ceil(t/4)*8;case Rt:case kt:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}const Th={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:Ih};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},9760:e=>{function t(e,t,n,r){e&&(t=t||[],e.traverse((e=>{if(!e.isMesh)return;var i;((i=e.material)?Array.isArray(i)?i:i.materials?i.materials:[i]:[]).forEach((e=>{e&&!("envMap"in e)||t.length&&-1===t.indexOf(e.name)||(e.envMap=n,e.reflectivity=r,e.needsUpdate=!0)}))})))}e.exports=AFRAME.registerComponent("cube-env-map",{multiple:!0,schema:{path:{default:""},extension:{default:"jpg",oneOf:["jpg","png"]},enableBackground:{default:!1},reflectivity:{default:1,min:0,max:1},materials:{default:[]}},init:function(){const e=this.data;this.texture=(new THREE.CubeTextureLoader).load([e.path+"posx."+e.extension,e.path+"negx."+e.extension,e.path+"posy."+e.extension,e.path+"negy."+e.extension,e.path+"posz."+e.extension,e.path+"negz."+e.extension]),this.texture.format=THREE.RGBAFormat,this.object3dsetHandler=()=>{const e=this.el.getObject3D("mesh"),n=this.data;t(e,n.materials,this.texture,n.reflectivity)},this.object3dsetHandler(),this.el.addEventListener("object3dset",this.object3dsetHandler)},update:function(e){const n=this.data,r=this.el.getObject3D("mesh");let i=[],o=[];if(n.materials.length&&(e.materials?(i=n.materials.filter((t=>!e.materials.includes(t))),o=e.materials.filter((e=>!n.materials.includes(e)))):i=n.materials),i.length&&t(r,i,this.texture,n.reflectivity),o.length&&t(r,o,null,1),e.materials&&n.reflectivity!==e.reflectivity){const i=n.materials.filter((t=>e.materials.includes(t)));i.length&&t(r,i,this.texture,n.reflectivity)}this.data.enableBackground&&!e.enableBackground?this.setBackground(this.texture):!this.data.enableBackground&&e.enableBackground&&this.setBackground(null)},remove:function(){this.el.removeEventListener("object3dset",this.object3dsetHandler);const e=this.el.getObject3D("mesh"),n=this.data;t(e,n.materials,null,1),n.enableBackground&&this.setBackground(null)},setBackground:function(e){this.el.sceneEl.object3D.background=e}})},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9823:e=>{e.exports=function(e,t,n){this.type=e,this.index=t,this.pressed=n.pressed,this.value=n.value}},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(p(e),p(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),o=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},9996:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".74819b15.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="satisfactory_tracker:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunksatisfactory_tracker=self.webpackChunksatisfactory_tracker||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>s.FV,AddEquation:()=>s.gO9,AddOperation:()=>s.XrR,AdditiveAnimationBlendMode:()=>s.DAe,AdditiveBlending:()=>s.EZo,AgXToneMapping:()=>s.LAk,AlphaFormat:()=>s.wrO,AlwaysCompare:()=>s.FFZ,AlwaysDepth:()=>s.lGu,AlwaysStencilFunc:()=>s.sKt,AmbientLight:()=>s.$p8,AnimationAction:()=>s.pPE,AnimationClip:()=>s.tz3,AnimationLoader:()=>s.kEx,AnimationMixer:()=>s.Iw4,AnimationObjectGroup:()=>s.P5j,AnimationUtils:()=>s.AKb,ArcCurve:()=>s.ibB,ArrayCamera:()=>s.nZQ,ArrowHelper:()=>s.E0M,AttachedBindMode:()=>s.BER,Audio:()=>s.fP5,AudioAnalyser:()=>s.CwR,AudioContext:()=>s.UtX,AudioListener:()=>s.Pf$,AudioLoader:()=>s.Am1,AxesHelper:()=>s.IzY,BackSide:()=>s.hsX,BasicDepthPacking:()=>s.Rkk,BasicShadowMap:()=>s.bTm,BatchedMesh:()=>s.$Ed,Bone:()=>s.$Kf,BooleanKeyframeTrack:()=>s.YOZ,Box2:()=>s.UtB,Box3:()=>s.NRn,Box3Helper:()=>s.BND,BoxGeometry:()=>s.iNn,BoxHelper:()=>s.IWo,BufferAttribute:()=>s.THS,BufferGeometry:()=>s.LoY,BufferGeometryLoader:()=>s.SUR,ByteType:()=>s.tJf,Cache:()=>s.l2R,Camera:()=>s.i7d,CameraHelper:()=>s.WTh,CanvasTexture:()=>s.GOR,CapsuleGeometry:()=>s.qU7,CatmullRomCurve3:()=>s.B6O,CineonToneMapping:()=>s.nNL,CircleGeometry:()=>s.tcD,ClampToEdgeWrapping:()=>s.ghU,Clock:()=>s.zD7,Color:()=>s.Q1f,ColorKeyframeTrack:()=>s.T6I,ColorManagement:()=>s.ppV,CompressedArrayTexture:()=>s.iOZ,CompressedCubeTexture:()=>s.c5h,CompressedTexture:()=>s.FvD,CompressedTextureLoader:()=>s.YRT,ConeGeometry:()=>s.qFE,ConstantAlphaFactor:()=>s.e0p,ConstantColorFactor:()=>s.RrE,Controls:()=>s.H2z,CubeCamera:()=>s.F1T,CubeReflectionMapping:()=>s.hy7,CubeRefractionMapping:()=>s.xFO,CubeTexture:()=>s.b4q,CubeTextureLoader:()=>s.ScU,CubeUVReflectionMapping:()=>s.Om,CubicBezierCurve:()=>s.Z0B,CubicBezierCurve3:()=>s.s0K,CubicInterpolant:()=>s.Pdi,CullFaceBack:()=>s.Vb5,CullFaceFront:()=>s.Jnc,CullFaceFrontBack:()=>s.ywQ,CullFaceNone:()=>s.WNZ,Curve:()=>s.Ipv,CurvePath:()=>s.jGm,CustomBlending:()=>s.bCz,CustomToneMapping:()=>s.g7M,CylinderGeometry:()=>s.Ho_,Cylindrical:()=>s.hjs,Data3DTexture:()=>s.dYF,DataArrayTexture:()=>s.rFo,DataTexture:()=>s.GYF,DataTextureLoader:()=>s.BRH,DataUtils:()=>s.GxU,DecrementStencilOp:()=>s.ROr,DecrementWrapStencilOp:()=>s.fJr,DefaultLoadingManager:()=>s.h_9,DepthFormat:()=>s.zdS,DepthStencilFormat:()=>s.dcC,DepthTexture:()=>s.VCu,DetachedBindMode:()=>s.Fvi,DirectionalLight:()=>s.ZyN,DirectionalLightHelper:()=>s.PFK,DiscreteInterpolant:()=>s.Yhb,DodecahedronGeometry:()=>s.nEu,DoubleSide:()=>s.$EB,DstAlphaFactor:()=>s.hdd,DstColorFactor:()=>s.wn6,DynamicCopyUsage:()=>s.MOq,DynamicDrawUsage:()=>s.Vnu,DynamicReadUsage:()=>s.hIf,EdgesGeometry:()=>s.TDQ,EllipseCurve:()=>s.S20,EqualCompare:()=>s.kO0,EqualDepth:()=>s.U3G,EqualStencilFunc:()=>s.jsO,EquirectangularReflectionMapping:()=>s.wfO,EquirectangularRefractionMapping:()=>s.uV5,Euler:()=>s.O9p,EventDispatcher:()=>s.Qev,ExtrudeGeometry:()=>s.QCA,FileLoader:()=>s.Y9S,Float16BufferAttribute:()=>s.Oax,Float32BufferAttribute:()=>s.qtW,FloatType:()=>s.RQf,Fog:()=>s.jUj,FogExp2:()=>s.cRK,FramebufferTexture:()=>s.Pem,FrontSide:()=>s.hB5,Frustum:()=>s.PPD,GLBufferAttribute:()=>s.oh6,GLSL1:()=>s.Wyr,GLSL3:()=>s.Wdf,GreaterCompare:()=>s.eoi,GreaterDepth:()=>s.K52,GreaterEqualCompare:()=>s.gWB,GreaterEqualDepth:()=>s.Gwm,GreaterEqualStencilFunc:()=>s.TMh,GreaterStencilFunc:()=>s.RcT,GridHelper:()=>s.fTw,Group:()=>s.YJl,HalfFloatType:()=>s.ix0,HemisphereLight:()=>s.dth,HemisphereLightHelper:()=>s.R1W,IcosahedronGeometry:()=>s.WBB,ImageBitmapLoader:()=>s.Kzg,ImageLoader:()=>s.$NF,ImageUtils:()=>s.HgN,IncrementStencilOp:()=>s.HLH,IncrementWrapStencilOp:()=>s.Ru$,InstancedBufferAttribute:()=>s.uWO,InstancedBufferGeometry:()=>s.CmU,InstancedInterleavedBuffer:()=>s.LuO,InstancedMesh:()=>s.ZLX,Int16BufferAttribute:()=>s.Hrb,Int32BufferAttribute:()=>s.vmz,Int8BufferAttribute:()=>s.wvS,IntType:()=>s.Yuy,InterleavedBuffer:()=>s.eB$,InterleavedBufferAttribute:()=>s.eHs,Interpolant:()=>s.lGw,InterpolateDiscrete:()=>s.ljd,InterpolateLinear:()=>s.PJ3,InterpolateSmooth:()=>s.EQC,InvertStencilOp:()=>s.oVO,KeepStencilOp:()=>s.VVr,KeyframeTrack:()=>s.UJ6,LOD:()=>s.UpK,LatheGeometry:()=>s.nzx,Layers:()=>s.zgK,LessCompare:()=>s.vim,LessDepth:()=>s.brA,LessEqualCompare:()=>s.TiK,LessEqualDepth:()=>s.xSv,LessEqualStencilFunc:()=>s.CR7,LessStencilFunc:()=>s.kYr,Light:()=>s.veJ,LightProbe:()=>s.FZo,Line:()=>s.N1A,Line3:()=>s.cZY,LineBasicMaterial:()=>s.mrM,LineCurve:()=>s.GZZ,LineCurve3:()=>s.VnP,LineDashedMaterial:()=>s.Fvt,LineLoop:()=>s.FCc,LineSegments:()=>s.DXC,LinearFilter:()=>s.k6q,LinearInterpolant:()=>s.ezk,LinearMipMapLinearFilter:()=>s.NZq,LinearMipMapNearestFilter:()=>s.iUH,LinearMipmapLinearFilter:()=>s.$_I,LinearMipmapNearestFilter:()=>s.kRr,LinearSRGBColorSpace:()=>s.Zr2,LinearToneMapping:()=>s.kyO,LinearTransfer:()=>s.VxR,Loader:()=>s.aHM,LoaderUtils:()=>s.r6x,LoadingManager:()=>s.KPJ,LoopOnce:()=>s.G3T,LoopPingPong:()=>s.lc7,LoopRepeat:()=>s.aMy,LuminanceAlphaFormat:()=>s.CMB,LuminanceFormat:()=>s.Kzv,MOUSE:()=>s.kBv,Material:()=>s.imn,MaterialLoader:()=>s.jut,MathUtils:()=>s.cj9,Matrix2:()=>s.k_V,Matrix3:()=>s.dwI,Matrix4:()=>s.kn4,MaxEquation:()=>s.$ei,Mesh:()=>s.eaF,MeshBasicMaterial:()=>s.V9B,MeshDepthMaterial:()=>s.CSG,MeshDistanceMaterial:()=>s.aVO,MeshLambertMaterial:()=>s.G_z,MeshMatcapMaterial:()=>s.FNr,MeshNormalMaterial:()=>s.qBx,MeshPhongMaterial:()=>s.tXL,MeshPhysicalMaterial:()=>s.uSd,MeshStandardMaterial:()=>s._4j,MeshToonMaterial:()=>s.Df,MinEquation:()=>s.znC,MirroredRepeatWrapping:()=>s.kTW,MixOperation:()=>s.KRh,MultiplyBlending:()=>s.EdD,MultiplyOperation:()=>s.caT,NearestFilter:()=>s.hxR,NearestMipMapLinearFilter:()=>s.a$r,NearestMipMapNearestFilter:()=>s.$O9,NearestMipmapLinearFilter:()=>s.Cfg,NearestMipmapNearestFilter:()=>s.pHI,NeutralToneMapping:()=>s.aJ8,NeverCompare:()=>s.amv,NeverDepth:()=>s.eHc,NeverStencilFunc:()=>s.HPb,NoBlending:()=>s.XIg,NoColorSpace:()=>s.jf0,NoToneMapping:()=>s.y_p,NormalAnimationBlendMode:()=>s.Ke9,NormalBlending:()=>s.NTi,NotEqualCompare:()=>s.jzd,NotEqualDepth:()=>s.bw0,NotEqualStencilFunc:()=>s.klZ,NumberKeyframeTrack:()=>s.Hit,Object3D:()=>s.B69,ObjectLoader:()=>s.XTe,ObjectSpaceNormalMap:()=>s.vyJ,OctahedronGeometry:()=>s.Ufg,OneFactor:()=>s.qad,OneMinusConstantAlphaFactor:()=>s.ov9,OneMinusConstantColorFactor:()=>s.$Yl,OneMinusDstAlphaFactor:()=>s.Nt7,OneMinusDstColorFactor:()=>s.aEY,OneMinusSrcAlphaFactor:()=>s.OuU,OneMinusSrcColorFactor:()=>s.LiQ,OrthographicCamera:()=>s.qUd,PCFShadowMap:()=>s.QP0,PCFSoftShadowMap:()=>s.Wk7,PMREMGenerator:()=>B,Path:()=>s.wAk,PerspectiveCamera:()=>s.ubm,Plane:()=>s.Zcv,PlaneGeometry:()=>s.bdM,PlaneHelper:()=>s.ZM4,PointLight:()=>s.HiM,PointLightHelper:()=>s.F1l,Points:()=>s.ONl,PointsMaterial:()=>s.BH$,PolarGridHelper:()=>s.hzE,PolyhedronGeometry:()=>s.pFK,PositionalAudio:()=>s.xZx,PropertyBinding:()=>s.Nwf,PropertyMixer:()=>s.N2s,QuadraticBezierCurve:()=>s.dAo,QuadraticBezierCurve3:()=>s.CV9,Quaternion:()=>s.PTz,QuaternionKeyframeTrack:()=>s.MBL,QuaternionLinearInterpolant:()=>s.GBG,RED_GREEN_RGTC2_Format:()=>s.HO_,RED_RGTC1_Format:()=>s.Kef,REVISION:()=>s.sPf,RGBADepthPacking:()=>s.N5j,RGBAFormat:()=>s.GWd,RGBAIntegerFormat:()=>s.c90,RGBA_ASTC_10x10_Format:()=>s.y3Z,RGBA_ASTC_10x5_Format:()=>s.uB5,RGBA_ASTC_10x6_Format:()=>s.lyL,RGBA_ASTC_10x8_Format:()=>s.bC7,RGBA_ASTC_12x10_Format:()=>s.ojs,RGBA_ASTC_12x12_Format:()=>s.S$4,RGBA_ASTC_4x4_Format:()=>s.qa3,RGBA_ASTC_5x4_Format:()=>s.B_h,RGBA_ASTC_5x5_Format:()=>s.czI,RGBA_ASTC_6x5_Format:()=>s.rSH,RGBA_ASTC_6x6_Format:()=>s.Qrf,RGBA_ASTC_8x5_Format:()=>s.psI,RGBA_ASTC_8x6_Format:()=>s.a5J,RGBA_ASTC_8x8_Format:()=>s._QJ,RGBA_BPTC_Format:()=>s.Fn,RGBA_ETC2_EAC_Format:()=>s.KDk,RGBA_PVRTC_2BPPV1_Format:()=>s.pBf,RGBA_PVRTC_4BPPV1_Format:()=>s.HXV,RGBA_S3TC_DXT1_Format:()=>s.Nz6,RGBA_S3TC_DXT3_Format:()=>s.jR7,RGBA_S3TC_DXT5_Format:()=>s.BXX,RGBDepthPacking:()=>s.wTz,RGBFormat:()=>s.HIg,RGBIntegerFormat:()=>s.VGF,RGB_BPTC_SIGNED_Format:()=>s.H23,RGB_BPTC_UNSIGNED_Format:()=>s.W9U,RGB_ETC1_Format:()=>s.CVz,RGB_ETC2_Format:()=>s.Riy,RGB_PVRTC_2BPPV1_Format:()=>s.kTp,RGB_PVRTC_4BPPV1_Format:()=>s.k6Q,RGB_S3TC_DXT1_Format:()=>s.IE4,RGDepthPacking:()=>s.k8v,RGFormat:()=>s.paN,RGIntegerFormat:()=>s.TkQ,RawShaderMaterial:()=>s.D$Q,Ray:()=>s.RlV,Raycaster:()=>s.tBo,RectAreaLight:()=>s.ure,RedFormat:()=>s.VT0,RedIntegerFormat:()=>s.ZQM,ReinhardToneMapping:()=>s.Mjd,RenderTarget:()=>s.O0B,RenderTarget3D:()=>s.XMJ,RenderTargetArray:()=>s.rrX,RepeatWrapping:()=>s.GJx,ReplaceStencilOp:()=>s.kG0,ReverseSubtractEquation:()=>s.nST,RingGeometry:()=>s.rKP,SIGNED_RED_GREEN_RGTC2_Format:()=>s.CWW,SIGNED_RED_RGTC1_Format:()=>s.XG_,SRGBColorSpace:()=>s.er$,SRGBTransfer:()=>s.KLL,Scene:()=>s.Z58,ShaderChunk:()=>u,ShaderLib:()=>h,ShaderMaterial:()=>s.BKk,ShadowMaterial:()=>s.q2,Shape:()=>s.ypk,ShapeGeometry:()=>s.MSw,ShapePath:()=>s.Ld9,ShapeUtils:()=>s.xJ6,ShortType:()=>s.fBL,Skeleton:()=>s.EAD,SkeletonHelper:()=>s._xc,SkinnedMesh:()=>s.I46,Source:()=>s.kLi,Sphere:()=>s.iyt,SphereGeometry:()=>s.Gu$,Spherical:()=>s.YHV,SphericalHarmonics3:()=>s.xOk,SplineCurve:()=>s.xfg,SpotLight:()=>s.nCl,SpotLightHelper:()=>s.Fpm,Sprite:()=>s.kxk,SpriteMaterial:()=>s.RoJ,SrcAlphaFactor:()=>s.ie2,SrcAlphaSaturateFactor:()=>s.hgQ,SrcColorFactor:()=>s.f4X,StaticCopyUsage:()=>s.Hrq,StaticDrawUsage:()=>s.agE,StaticReadUsage:()=>s.uXQ,StereoCamera:()=>s.keZ,StreamCopyUsage:()=>s.rOG,StreamDrawUsage:()=>s.Ktl,StreamReadUsage:()=>s.uov,StringKeyframeTrack:()=>s.hZF,SubtractEquation:()=>s.FXf,SubtractiveBlending:()=>s.Kwu,TOUCH:()=>s.wtR,TangentSpaceNormalMap:()=>s.bI3,TetrahedronGeometry:()=>s.Zpd,Texture:()=>s.gPd,TextureLoader:()=>s.Tap,TextureUtils:()=>s.Vwu,TimestampQuery:()=>s.v9J,TorusGeometry:()=>s.O3Y,TorusKnotGeometry:()=>s.UPV,Triangle:()=>s.lMl,TriangleFanDrawMode:()=>s.rYR,TriangleStripDrawMode:()=>s.O49,TrianglesDrawMode:()=>s.RJ4,TubeGeometry:()=>s.j6,UVMapping:()=>s.UTZ,Uint16BufferAttribute:()=>s.A$4,Uint32BufferAttribute:()=>s.MW4,Uint8BufferAttribute:()=>s.baL,Uint8ClampedBufferAttribute:()=>s.fc6,Uniform:()=>s.nc$,UniformsGroup:()=>s.dzP,UniformsLib:()=>d,UniformsUtils:()=>s.LlO,UnsignedByteType:()=>s.OUM,UnsignedInt248Type:()=>s.V3x,UnsignedInt5999Type:()=>s.Dmk,UnsignedIntType:()=>s.bkx,UnsignedShort4444Type:()=>s.Wew,UnsignedShort5551Type:()=>s.gJ2,UnsignedShortType:()=>s.cHt,VSMShadowMap:()=>s.RyA,Vector2:()=>s.I9Y,Vector3:()=>s.Pq0,Vector4:()=>s.IUQ,VectorKeyframeTrack:()=>s.RiT,VideoFrameTexture:()=>s.SYV,VideoTexture:()=>s.Nv2,WebGL3DRenderTarget:()=>s.ALV,WebGLArrayRenderTarget:()=>s.y9J,WebGLCoordinateSystem:()=>s.TdN,WebGLCubeRenderTarget:()=>s.o6l,WebGLRenderTarget:()=>s.nWS,WebGLRenderer:()=>Qt,WebGLUtils:()=>Nt,WebGPUCoordinateSystem:()=>s.i7u,WebXRController:()=>s.R3r,WireframeGeometry:()=>s.XJ7,WrapAroundEnding:()=>s.dhZ,ZeroCurvatureEnding:()=>s.rQf,ZeroFactor:()=>s.ojh,ZeroSlopeEnding:()=>s.h2z,ZeroStencilOp:()=>s.kqe,createCanvasElement:()=>s.lPF});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>eB,hasStandardBrowserEnv:()=>nB,hasStandardBrowserWebWorkerEnv:()=>rB,navigator:()=>tB,origin:()=>iB});var r={};n.r(r),n.d(r,{scaleBand:()=>Kie,scaleDiverging:()=>wue,scaleDivergingLog:()=>Cue,scaleDivergingPow:()=>Sue,scaleDivergingSqrt:()=>_ue,scaleDivergingSymlog:()=>Eue,scaleIdentity:()=>zae,scaleImplicit:()=>$ie,scaleLinear:()=>Uae,scaleLog:()=>Kae,scaleOrdinal:()=>Xie,scalePoint:()=>Jie,scalePow:()=>ose,scaleQuantile:()=>vse,scaleQuantize:()=>yse,scaleRadial:()=>lse,scaleSequential:()=>mue,scaleSequentialLog:()=>gue,scaleSequentialPow:()=>yue,scaleSequentialQuantile:()=>Aue,scaleSequentialSqrt:()=>bue,scaleSequentialSymlog:()=>vue,scaleSqrt:()=>ase,scaleSymlog:()=>ese,scaleThreshold:()=>bse,scaleTime:()=>due,scaleUtc:()=>hue,tickFormat:()=>Fae});var i=n(5043),o=n.t(i,2),a=n(4391),s=n(9435);function l(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function c(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,o=r.byteLength,a=e.createBuffer();let s;if(e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,o=n.updateRanges;if(e.bindBuffer(r,t),0===o.length)e.bufferSubData(r,0,i);else{o.sort(((e,t)=>e.start-t.start));let t=0;for(let e=1;e<o.length;e++){const n=o[t],r=o[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,o[t]=r)}o.length=t+1;for(let n=0,a=o.length;n<a;n++){const t=o[n];e.bufferSubData(r,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}const u={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},d={common:{diffuse:{value:new s.Q1f(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new s.dwI},alphaMap:{value:null},alphaMapTransform:{value:new s.dwI},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new s.dwI}},envmap:{envMap:{value:null},envMapRotation:{value:new s.dwI},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new s.dwI}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new s.dwI}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new s.dwI},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new s.dwI},normalScale:{value:new s.I9Y(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new s.dwI},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new s.dwI}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new s.dwI}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new s.dwI}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new s.Q1f(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new s.Q1f(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new s.dwI},alphaTest:{value:0},uvTransform:{value:new s.dwI}},sprite:{diffuse:{value:new s.Q1f(16777215)},opacity:{value:1},center:{value:new s.I9Y(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new s.dwI},alphaMap:{value:null},alphaMapTransform:{value:new s.dwI},alphaTest:{value:0}}},h={basic:{uniforms:(0,s.Iit)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.fog]),vertexShader:u.meshbasic_vert,fragmentShader:u.meshbasic_frag},lambert:{uniforms:(0,s.Iit)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.fog,d.lights,{emissive:{value:new s.Q1f(0)}}]),vertexShader:u.meshlambert_vert,fragmentShader:u.meshlambert_frag},phong:{uniforms:(0,s.Iit)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.fog,d.lights,{emissive:{value:new s.Q1f(0)},specular:{value:new s.Q1f(1118481)},shininess:{value:30}}]),vertexShader:u.meshphong_vert,fragmentShader:u.meshphong_frag},standard:{uniforms:(0,s.Iit)([d.common,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.roughnessmap,d.metalnessmap,d.fog,d.lights,{emissive:{value:new s.Q1f(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:u.meshphysical_vert,fragmentShader:u.meshphysical_frag},toon:{uniforms:(0,s.Iit)([d.common,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.gradientmap,d.fog,d.lights,{emissive:{value:new s.Q1f(0)}}]),vertexShader:u.meshtoon_vert,fragmentShader:u.meshtoon_frag},matcap:{uniforms:(0,s.Iit)([d.common,d.bumpmap,d.normalmap,d.displacementmap,d.fog,{matcap:{value:null}}]),vertexShader:u.meshmatcap_vert,fragmentShader:u.meshmatcap_frag},points:{uniforms:(0,s.Iit)([d.points,d.fog]),vertexShader:u.points_vert,fragmentShader:u.points_frag},dashed:{uniforms:(0,s.Iit)([d.common,d.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:u.linedashed_vert,fragmentShader:u.linedashed_frag},depth:{uniforms:(0,s.Iit)([d.common,d.displacementmap]),vertexShader:u.depth_vert,fragmentShader:u.depth_frag},normal:{uniforms:(0,s.Iit)([d.common,d.bumpmap,d.normalmap,d.displacementmap,{opacity:{value:1}}]),vertexShader:u.meshnormal_vert,fragmentShader:u.meshnormal_frag},sprite:{uniforms:(0,s.Iit)([d.sprite,d.fog]),vertexShader:u.sprite_vert,fragmentShader:u.sprite_frag},background:{uniforms:{uvTransform:{value:new s.dwI},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:u.background_vert,fragmentShader:u.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new s.dwI}},vertexShader:u.backgroundCube_vert,fragmentShader:u.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:u.cube_vert,fragmentShader:u.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:u.equirect_vert,fragmentShader:u.equirect_frag},distanceRGBA:{uniforms:(0,s.Iit)([d.common,d.displacementmap,{referencePosition:{value:new s.Pq0},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:u.distanceRGBA_vert,fragmentShader:u.distanceRGBA_frag},shadow:{uniforms:(0,s.Iit)([d.lights,d.fog,{color:{value:new s.Q1f(0)},opacity:{value:1}}]),vertexShader:u.shadow_vert,fragmentShader:u.shadow_frag}};h.physical={uniforms:(0,s.Iit)([h.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new s.dwI},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new s.dwI},clearcoatNormalScale:{value:new s.I9Y(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new s.dwI},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new s.dwI},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new s.dwI},sheen:{value:0},sheenColor:{value:new s.Q1f(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new s.dwI},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new s.dwI},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new s.dwI},transmissionSamplerSize:{value:new s.I9Y},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new s.dwI},attenuationDistance:{value:0},attenuationColor:{value:new s.Q1f(0)},specularColor:{value:new s.Q1f(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new s.dwI},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new s.dwI},anisotropyVector:{value:new s.I9Y},anisotropyMap:{value:null},anisotropyMapTransform:{value:new s.dwI}}]),vertexShader:u.meshphysical_vert,fragmentShader:u.meshphysical_frag};const p={r:0,b:0,g:0},f=new s.O9p,m=new s.kn4;function g(e,t,n,r,i,o,a){const l=new s.Q1f(0);let c,u,d=!0===o?0:1,g=null,v=0,y=null;function b(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function A(t,n){t.getRGB(p,(0,s._Ut)(e)),r.buffers.color.setClear(p.r,p.g,p.b,n,a)}return{getClearColor:function(){return l},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),d=t,A(l,d)},getClearAlpha:function(){return d},setClearAlpha:function(e){d=e,A(l,d)},render:function(t){let n=!1;const i=b(t);null===i?A(l,d):i&&i.isColor&&(A(i,1),n=!0);const o=e.xr.getEnvironmentBlendMode();"additive"===o?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===o&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=b(n);r&&(r.isCubeTexture||r.mapping===s.Om)?(void 0===u&&(u=new s.eaF(new s.iNn(1e4,1e4,1e4),new s.BKk({name:"BackgroundCubeMaterial",uniforms:(0,s.lxW)(h.backgroundCube.uniforms),vertexShader:h.backgroundCube.vertexShader,fragmentShader:h.backgroundCube.fragmentShader,side:s.hsX,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),f.copy(n.backgroundRotation),f.x*=-1,f.y*=-1,f.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(f.y*=-1,f.z*=-1),u.material.uniforms.envMap.value=r,u.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(m.makeRotationFromEuler(f)),u.material.toneMapped=s.ppV.getTransfer(r.colorSpace)!==s.KLL,g===r&&v===r.version&&y===e.toneMapping||(u.material.needsUpdate=!0,g=r,v=r.version,y=e.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):r&&r.isTexture&&(void 0===c&&(c=new s.eaF(new s.bdM(2,2),new s.BKk({name:"BackgroundMaterial",uniforms:(0,s.lxW)(h.background.uniforms),vertexShader:h.background.vertexShader,fragmentShader:h.background.fragmentShader,side:s.hB5,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=r,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.toneMapped=s.ppV.getTransfer(r.colorSpace)!==s.KLL,!0===r.matrixAutoUpdate&&r.updateMatrix(),c.material.uniforms.uvTransform.value.copy(r.matrix),g===r&&v===r.version&&y===e.toneMapping||(c.material.needsUpdate=!0,g=r,v=r.version,y=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null))},dispose:function(){void 0!==u&&(u.geometry.dispose(),u.material.dispose(),u=void 0),void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}}}function v(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=u(null);let o=i,a=!1;function l(t){return e.bindVertexArray(t)}function c(t){return e.deleteVertexArray(t)}function u(e){const t=[],r=[],i=[];for(let o=0;o<n;o++)t[o]=0,r[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function d(){const e=o.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function h(e){p(e,0)}function p(t,n){const r=o.newAttributes,i=o.enabledAttributes,a=o.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),a[t]!==n&&(e.vertexAttribDivisor(t,n),a[t]=n)}function f(){const t=o.newAttributes,n=o.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function m(t,n,r,i,o,a,s){!0===s?e.vertexAttribIPointer(t,n,r,o,a):e.vertexAttribPointer(t,n,r,i,o,a)}function g(){v(),a=!0,o!==i&&(o=i,l(o.object))}function v(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,c,g,v){let y=!1;const b=function(t,n,i){const o=!0===i.wireframe;let a=r[t.id];void 0===a&&(a={},r[t.id]=a);let s=a[n.id];void 0===s&&(s={},a[n.id]=s);let l=s[o];void 0===l&&(l=u(e.createVertexArray()),s[o]=l);return l}(g,c,i);o!==b&&(o=b,l(o.object)),y=function(e,t,n,r){const i=o.attributes,a=t.attributes;let s=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){const t=i[o];let n=a[o];if(void 0===n&&("instanceMatrix"===o&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return o.attributesNum!==s||o.index!==r}(n,g,c,v),y&&function(e,t,n,r){const i={},a=t.attributes;let s=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){let t=a[o];void 0===t&&("instanceMatrix"===o&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[o]=n,s++}}o.attributes=i,o.attributesNum=s,o.index=r}(n,g,c,v),null!==v&&t.update(v,e.ELEMENT_ARRAY_BUFFER),(y||a)&&(a=!1,function(n,r,i,o){d();const a=o.attributes,l=i.getAttributes(),c=r.defaultAttributeValues;for(const u in l){const r=l[u];if(r.location>=0){let i=a[u];if(void 0===i&&("instanceMatrix"===u&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===u&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const a=i.normalized,l=i.itemSize,c=t.get(i);if(void 0===c)continue;const u=c.buffer,d=c.type,f=c.bytesPerElement,g=d===e.INT||d===e.UNSIGNED_INT||i.gpuType===s.Yuy;if(i.isInterleavedBufferAttribute){const t=i.data,s=t.stride,c=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)p(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<r.locationSize;e++)m(r.location+e,l/r.locationSize,d,a,s*f,(c+l/r.locationSize*e)*f,g)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)p(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<r.locationSize;e++)m(r.location+e,l/r.locationSize,d,a,l*f,l/r.locationSize*e*f,g)}}else if(void 0!==c){const t=c[u];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}f()}(n,i,c,g),null!==v&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(v).buffer))},reset:g,resetDefaultState:v,dispose:function(){g();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)c(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)c(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)c(i[e].object),delete i[e];delete n[e.id]}},initAttributes:d,enableAttribute:h,disableUnusedAttributes:f}}function y(e,t,n){let r;function i(t,i,o){0!==o&&(e.drawArraysInstanced(r,t,i,o),n.update(i,r,o))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,o);let a=0;for(let t=0;t<o;t++)a+=i[t];n.update(a,r,1)},this.renderMultiDrawInstances=function(e,o,a,s){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],o[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,o,0,s,0,a);let t=0;for(let e=0;e<a;e++)t+=o[e]*s[e];n.update(t,r,1)}}}function b(e,t,n,r){let i;function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a=void 0!==n.precision?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=!0===n.logarithmicDepthBuffer,u=!0===n.reverseDepthBuffer&&t.has("EXT_clip_control"),d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,textureFormatReadable:function(t){return t===s.GWd||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===s.ix0&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==s.OUM&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==s.RQf&&!i)},precision:a,logarithmicDepthBuffer:c,reverseDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:h>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function A(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new s.Zcv,l=new s.dwI,c={value:null,needsUpdate:!1};function u(e,n,r,i){const o=null!==e?e.length:0;let s=null;if(0!==o){if(s=c.value,!0!==i||null===s){const t=r+4*o,i=n.matrixWorldInverse;l.getNormalMatrix(i),(null===s||s.length<t)&&(s=new Float32Array(t));for(let n=0,c=r;n!==o;++n,c+=4)a.copy(e[n]).applyMatrix4(i,l),a.normal.toArray(s,c),s[c+3]=a.constant}c.value=s,c.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,s}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(a,s,l){const d=a.clippingPlanes,h=a.clipIntersection,p=a.clipShadows,f=e.get(a);if(!i||null===d||0===d.length||o&&!p)o?u(null):function(){c.value!==n&&(c.value=n,c.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=o?0:r,t=4*e;let i=f.clippingState||null;c.value=i,i=u(d,s,t,l);for(let r=0;r!==t;++r)i[r]=n[r];f.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function x(e){let t=new WeakMap;function n(e,t){return t===s.wfO?e.mapping=s.hy7:t===s.uV5&&(e.mapping=s.xFO),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(o===s.wfO||o===s.uV5){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=new s.o6l(o.height);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const w=[.125,.215,.35,.446,.526,.582],C=20,E=new s.qUd,S=new s.Q1f;let _=null,M=0,I=0,T=!1;const R=(1+Math.sqrt(5))/2,k=1/R,P=[new s.Pq0(-R,k,0),new s.Pq0(R,k,0),new s.Pq0(-k,0,R),new s.Pq0(k,0,R),new s.Pq0(0,R,-k),new s.Pq0(0,R,k),new s.Pq0(-1,1,-1),new s.Pq0(1,1,-1),new s.Pq0(-1,1,1),new s.Pq0(1,1,1)];class B{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;_=this._renderer.getRenderTarget(),M=this._renderer.getActiveCubeFace(),I=this._renderer.getActiveMipmapLevel(),T=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=N(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=D(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_,M,I),this._renderer.xr.enabled=T,e.scissorTest=!1,L(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===s.hy7||e.mapping===s.xFO?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_=this._renderer.getRenderTarget(),M=this._renderer.getActiveCubeFace(),I=this._renderer.getActiveMipmapLevel(),T=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:s.k6q,minFilter:s.k6q,generateMipmaps:!1,type:s.ix0,format:s.GWd,colorSpace:s.Zr2,depthBuffer:!1},r=O(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=O(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-4+1+w.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>e-4?l=w[a-e+4-1]:0===a&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,f=6,m=3,g=2,v=1,y=new Float32Array(m*f*p),b=new Float32Array(g*f*p),A=new Float32Array(v*f*p);for(let e=0;e<p;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];y.set(r,m*f*e),b.set(h,g*f*e);const i=[e,e,e,e,e,e];A.set(i,v*f*e)}const x=new s.LoY;x.setAttribute("position",new s.THS(y,m)),x.setAttribute("uv",new s.THS(b,g)),x.setAttribute("faceIndex",new s.THS(A,v)),t.push(x),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(C),i=new s.Pq0(0,1,0),o=new s.BKk({name:"SphericalGaussianBlur",defines:{n:C,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:F(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:s.XIg,depthTest:!1,depthWrite:!1});return o}(r,e,t)}return r}_compileMaterial(e){const t=new s.eaF(this._lodPlanes[0],e);this._renderer.compile(t,E)}_sceneToCubeUV(e,t,n,r){const i=new s.ubm(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(S),l.toneMapping=s.y_p,l.autoClear=!1;const d=new s.V9B({name:"PMREM.Background",side:s.hsX,depthWrite:!1,depthTest:!1}),h=new s.eaF(new s.iNn,d);let p=!1;const f=e.background;f?f.isColor&&(d.color.copy(f),e.background=null,p=!0):(d.color.copy(S),p=!0);for(let s=0;s<6;s++){const t=s%3;0===t?(i.up.set(0,o[s],0),i.lookAt(a[s],0,0)):1===t?(i.up.set(0,0,o[s]),i.lookAt(0,a[s],0)):(i.up.set(0,o[s],0),i.lookAt(0,0,a[s]));const n=this._cubeSize;L(r,t*n,s>2?n:0,n,n),l.setRenderTarget(r),p&&l.render(h,i),l.render(e,i)}h.geometry.dispose(),h.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=f}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===s.hy7||e.mapping===s.xFO;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=N()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=D());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new s.eaF(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;L(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,E)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=P[(r-i-1)%P.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new s.eaF(this._lodPlanes[r],c),d=c.uniforms,h=this._sizeLods[n]-1,p=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/p,m=isFinite(i)?1+Math.floor(3*f):C;m>C&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const g=[];let v=0;for(let s=0;s<C;++s){const e=s/f,t=Math.exp(-e*e/2);g.push(t),0===s?v+=t:s<m&&(v+=2*t)}for(let s=0;s<g.length;s++)g[s]=g[s]/v;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=g,d.latitudinal.value="latitudinal"===o,a&&(d.poleAxis.value=a);const{_lodMax:y}=this;d.dTheta.value=p,d.mipInt.value=y-n;const b=this._sizeLods[r];L(t,3*b*(r>y-4?r-y+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(t),l.render(u,E)}}function O(e,t,n){const r=new s.nWS(e,t,n);return r.texture.mapping=s.Om,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function L(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function D(){return new s.BKk({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:F(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:s.XIg,depthTest:!1,depthWrite:!1})}function N(){return new s.BKk({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:F(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:s.XIg,depthTest:!1,depthWrite:!1})}function F(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function j(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,a=o===s.wfO||o===s.uV5,l=o===s.hy7||o===s.xFO;if(a||l){let o=t.get(i);const s=void 0!==o?o.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==s)return null===n&&(n=new B(e)),o=a?n.fromEquirectangular(i,o):n.fromCubemap(i,o),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),o.texture;if(void 0!==o)return o.texture;{const s=i.image;return a&&s&&s.height>0||l&&s&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(s)?(null===n&&(n=new B(e)),o=a?n.fromEquirectangular(i):n.fromCubemap(i),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),i.addEventListener("dispose",r),o.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function U(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&(0,s.mcG)("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function z(e,t,n,r){const i={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function l(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const l=new((0,s.AQS)(n)?s.MW4:s.A$4)(n,1);l.version=a;const c=o.get(e);c&&t.remove(c),o.set(e,l)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const i in r)t.update(r[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&l(e)}else l(e);return o.get(e)}}}function H(e,t,n){let r,i,o;function a(t,a,s){0!==s&&(e.drawElementsInstanced(r,a,i,t*o,s),n.update(a,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,a){e.drawElements(r,a,i,t*o),n.update(a,r,1)},this.renderInstances=a,this.renderMultiDraw=function(e,o,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,o,0,i,e,0,a);let s=0;for(let t=0;t<a;t++)s+=o[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)a(e[t]/o,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function V(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function G(e,t,n){const r=new WeakMap,i=new s.IUQ;return{update:function(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=void 0!==u?u.length:0;let h=r.get(a);if(void 0===h||h.count!==d){void 0!==h&&h.texture.dispose();const p=void 0!==a.morphAttributes.position,f=void 0!==a.morphAttributes.normal,m=void 0!==a.morphAttributes.color,g=a.morphAttributes.position||[],v=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let b=0;!0===p&&(b=1),!0===f&&(b=2),!0===m&&(b=3);let A=a.attributes.position.count*b,x=1;A>t.maxTextureSize&&(x=Math.ceil(A/t.maxTextureSize),A=t.maxTextureSize);const w=new Float32Array(A*x*4*d),C=new s.rFo(w,A,x,d);C.type=s.RQf,C.needsUpdate=!0;const E=4*b;for(let _=0;_<d;_++){const M=g[_],I=v[_],T=y[_],R=A*x*4*_;for(let k=0;k<M.count;k++){const P=k*E;!0===p&&(i.fromBufferAttribute(M,k),w[R+P+0]=i.x,w[R+P+1]=i.y,w[R+P+2]=i.z,w[R+P+3]=0),!0===f&&(i.fromBufferAttribute(I,k),w[R+P+4]=i.x,w[R+P+5]=i.y,w[R+P+6]=i.z,w[R+P+7]=0),!0===m&&(i.fromBufferAttribute(T,k),w[R+P+8]=i.x,w[R+P+9]=i.y,w[R+P+10]=i.z,w[R+P+11]=4===T.itemSize?i.w:1)}}function S(){C.dispose(),r.delete(a),a.removeEventListener("dispose",S)}h={count:d,texture:C,size:new s.I9Y(A,x)},r.set(a,h),a.addEventListener("dispose",S)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(e,"morphTexture",o.morphTexture,n);else{let B=0;for(let L=0;L<c.length;L++)B+=c[L];const O=a.morphTargetsRelative?1:1-B;l.getUniforms().setValue(e,"morphTargetBaseInfluence",O),l.getUniforms().setValue(e,"morphTargetInfluences",c)}l.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}class Q{constructor(e,t,n){if(this.renderer=e,this.DEFAULT_NUMVIEWS=2,this.maxNumViews=0,this.gl=n,this.extensions=t,this.available=this.extensions.has("OCULUS_multiview"),this.available){const e=this.extensions.get("OCULUS_multiview");this.maxNumViews=this.gl.getParameter(e.MAX_VIEWS_OVR),this.mat4=[],this.mat3=[],this.cameraArray=[];for(var r=0;r<this.maxNumViews;r++)this.mat4[r]=new s.kn4,this.mat3[r]=new s.dwI}}getCameraArray(e){return e.isArrayCamera?e.cameras:(this.cameraArray[0]=e,this.cameraArray)}updateCameraProjectionMatricesUniform(e,t){for(var n=this.getCameraArray(e),r=0;r<n.length;r++)this.mat4[r].copy(n[r].projectionMatrix);t.setValue(this.gl,"projectionMatrices",this.mat4)}updateCameraViewMatricesUniform(e,t){for(var n=this.getCameraArray(e),r=0;r<n.length;r++)this.mat4[r].copy(n[r].matrixWorldInverse);t.setValue(this.gl,"viewMatrices",this.mat4)}updateObjectMatricesUniforms(e,t,n){for(var r=this.getCameraArray(t),i=0;i<r.length;i++)this.mat4[i].multiplyMatrices(r[i].matrixWorldInverse,e.matrixWorld),this.mat3[i].getNormalMatrix(this.mat4[i]);n.setValue(this.gl,"modelViewMatrices",this.mat4),n.setValue(this.gl,"normalMatrices",this.mat3)}}function W(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const s=r.render.frame,l=a.geometry,c=t.get(a,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),i.get(a)!==s&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,s))),a.isSkinnedMesh){const e=a.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}const q=new s.gPd,$=new s.VCu(1,1),X=new s.rFo,K=new s.dYF,Y=new s.b4q,J=[],Z=[],ee=new Float32Array(16),te=new Float32Array(9),ne=new Float32Array(4);function re(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=J[i];if(void 0===o&&(o=new Float32Array(i),J[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function ie(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function oe(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function ae(e,t){let n=Z[t];void 0===n&&(n=new Int32Array(t),Z[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function se(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function le(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ie(n,t))return;e.uniform2fv(this.addr,t),oe(n,t)}}function ce(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ie(n,t))return;e.uniform3fv(this.addr,t),oe(n,t)}}function ue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ie(n,t))return;e.uniform4fv(this.addr,t),oe(n,t)}}function de(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ie(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),oe(n,t)}else{if(ie(n,r))return;ne.set(r),e.uniformMatrix2fv(this.addr,!1,ne),oe(n,r)}}function he(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ie(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),oe(n,t)}else{if(ie(n,r))return;te.set(r),e.uniformMatrix3fv(this.addr,!1,te),oe(n,r)}}function pe(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ie(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),oe(n,t)}else{if(ie(n,r))return;ee.set(r),e.uniformMatrix4fv(this.addr,!1,ee),oe(n,r)}}function fe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function me(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ie(n,t))return;e.uniform2iv(this.addr,t),oe(n,t)}}function ge(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ie(n,t))return;e.uniform3iv(this.addr,t),oe(n,t)}}function ve(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ie(n,t))return;e.uniform4iv(this.addr,t),oe(n,t)}}function ye(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function be(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ie(n,t))return;e.uniform2uiv(this.addr,t),oe(n,t)}}function Ae(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ie(n,t))return;e.uniform3uiv(this.addr,t),oe(n,t)}}function xe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ie(n,t))return;e.uniform4uiv(this.addr,t),oe(n,t)}}function we(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let o;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?($.compareFunction=s.TiK,o=$):o=q,n.setTexture2D(t||o,i)}function Ce(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||K,i)}function Ee(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Y,i)}function Se(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||X,i)}function _e(e,t){e.uniform1fv(this.addr,t)}function Me(e,t){const n=re(t,this.size,2);e.uniform2fv(this.addr,n)}function Ie(e,t){const n=re(t,this.size,3);e.uniform3fv(this.addr,n)}function Te(e,t){const n=re(t,this.size,4);e.uniform4fv(this.addr,n)}function Re(e,t){const n=re(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ke(e,t){const n=re(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Pe(e,t){const n=re(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Be(e,t){e.uniform1iv(this.addr,t)}function Oe(e,t){e.uniform2iv(this.addr,t)}function Le(e,t){e.uniform3iv(this.addr,t)}function De(e,t){e.uniform4iv(this.addr,t)}function Ne(e,t){e.uniform1uiv(this.addr,t)}function Fe(e,t){e.uniform2uiv(this.addr,t)}function je(e,t){e.uniform3uiv(this.addr,t)}function Ue(e,t){e.uniform4uiv(this.addr,t)}function ze(e,t,n){const r=this.cache,i=t.length,o=ae(n,i);ie(r,o)||(e.uniform1iv(this.addr,o),oe(r,o));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||q,o[a])}function He(e,t,n){const r=this.cache,i=t.length,o=ae(n,i);ie(r,o)||(e.uniform1iv(this.addr,o),oe(r,o));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||K,o[a])}function Ve(e,t,n){const r=this.cache,i=t.length,o=ae(n,i);ie(r,o)||(e.uniform1iv(this.addr,o),oe(r,o));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||Y,o[a])}function Ge(e,t,n){const r=this.cache,i=t.length,o=ae(n,i);ie(r,o)||(e.uniform1iv(this.addr,o),oe(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||X,o[a])}class Qe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return se;case 35664:return le;case 35665:return ce;case 35666:return ue;case 35674:return de;case 35675:return he;case 35676:return pe;case 5124:case 35670:return fe;case 35667:case 35671:return me;case 35668:case 35672:return ge;case 35669:case 35673:return ve;case 5125:return ye;case 36294:return be;case 36295:return Ae;case 36296:return xe;case 35678:case 36198:case 36298:case 36306:case 35682:return we;case 35679:case 36299:case 36307:return Ce;case 35680:case 36300:case 36308:case 36293:return Ee;case 36289:case 36303:case 36311:case 36292:return Se}}(t.type)}}class We{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return _e;case 35664:return Me;case 35665:return Ie;case 35666:return Te;case 35674:return Re;case 35675:return ke;case 35676:return Pe;case 5124:case 35670:return Be;case 35667:case 35671:return Oe;case 35668:case 35672:return Le;case 35669:case 35673:return De;case 5125:return Ne;case 36294:return Fe;case 36295:return je;case 36296:return Ue;case 35678:case 36198:case 36298:case 36306:case 35682:return ze;case 35679:case 36299:case 36307:return He;case 35680:case 36300:case 36308:case 36293:return Ve;case 36289:case 36303:case 36311:case 36292:return Ge}}(t.type)}}class qe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const $e=/(\w+)(\])?(\[|\.)?/g;function Xe(e,t){e.seq.push(t),e.map[t.id]=t}function Ke(e,t,n){const r=e.name,i=r.length;for($e.lastIndex=0;;){const o=$e.exec(r),a=$e.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){Xe(n,void 0===c?new Qe(s,e,t):new We(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new qe(s),Xe(n,e)),n=e}}}class Ye{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);Ke(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Je(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Ze=0;const et=new s.dwI;function tt(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=i;a<o;a++){const e=a+1;r.push(`${e===t?">":" "} ${e}: ${n[a]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function nt(e,t){const n=function(e){s.ppV._getMatrix(et,s.ppV.workingColorSpace,e);const t=`mat3( ${et.elements.map((e=>e.toFixed(4)))} )`;switch(s.ppV.getTransfer(e)){case s.VxR:return[t,"LinearTransferOETF"];case s.KLL:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function rt(e,t){let n;switch(t){case s.kyO:n="Linear";break;case s.Mjd:n="Reinhard";break;case s.nNL:n="Cineon";break;case s.FV:n="ACESFilmic";break;case s.LAk:n="AgX";break;case s.aJ8:n="Neutral";break;case s.g7M:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const it=new s.Pq0;function ot(){s.ppV.getLuminanceCoefficients(it);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${it.x.toFixed(4)}, ${it.y.toFixed(4)}, ${it.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function at(e){return""!==e}function st(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function lt(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ct=/^[ \t]*#include +<([\w\d./]+)>/gm;function ut(e){return e.replace(ct,ht)}const dt=new Map;function ht(e,t){let n=u[t];if(void 0===n){const e=dt.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=u[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return ut(n)}const pt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ft(e){return e.replace(pt,mt)}function mt(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function gt(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function vt(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,l=n.fragmentShader;const c=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===s.QP0?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===s.Wk7?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===s.RyA&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case s.hy7:case s.xFO:t="ENVMAP_TYPE_CUBE";break;case s.Om:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===s.xFO&&(t="ENVMAP_MODE_REFRACTION");return t}(n),p=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case s.caT:t="ENVMAP_BLENDING_MULTIPLY";break;case s.KRh:t="ENVMAP_BLENDING_MIX";break;case s.XrR:t="ENVMAP_BLENDING_ADD"}return t}(n),f=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),m=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(at).join("\n")}(n),g=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),v=i.createProgram();let y,b,A=n.glslVersion?"#version "+n.glslVersion+"\n":"";const x=n.numMultiviewViews;n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(at).join("\n"),y.length>0&&(y+="\n"),b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(at).join("\n"),b.length>0&&(b+="\n")):(y=[gt(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(at).join("\n"),b=[gt(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==s.y_p?"#define TONE_MAPPING":"",n.toneMapping!==s.y_p?u.tonemapping_pars_fragment:"",n.toneMapping!==s.y_p?rt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",u.colorspace_pars_fragment,nt("linearToOutputTexel",n.outputColorSpace),ot(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(at).join("\n")),a=ut(a),a=st(a,n),a=lt(a,n),l=ut(l),l=st(l,n),l=lt(l,n),a=ft(a),l=ft(l),!0!==n.isRawShaderMaterial&&(A="#version 300 es\n",y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,b=["#define varying in",n.glslVersion===s.Wdf?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===s.Wdf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b,x>0&&(y=["#extension GL_OVR_multiview : require","layout(num_views = "+x+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n")+"\n"+y,y=y.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+x+"];","uniform mat4 projectionMatrices["+x+"];","uniform mat4 viewMatrices["+x+"];","uniform mat3 normalMatrices["+x+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),b=["#extension GL_OVR_multiview : require","#define VIEW_ID gl_ViewID_OVR"].join("\n")+"\n"+b,b=b.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+x+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n"))));const w=A+y+a,C=A+b+l,E=Je(i,i.VERTEX_SHADER,w),S=Je(i,i.FRAGMENT_SHADER,C);function _(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(v).trim(),r=i.getShaderInfoLog(E).trim(),o=i.getShaderInfoLog(S).trim();let a=!0,s=!0;if(!1===i.getProgramParameter(v,i.LINK_STATUS))if(a=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,v,E,S);else{const e=tt(i,E,"vertex"),r=tt(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==o||(s=!1);s&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:r,prefix:y},fragmentShader:{log:o,prefix:b}})}i.deleteShader(E),i.deleteShader(S),M=new Ye(i,v),I=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}(i,v)}let M,I;i.attachShader(v,E),i.attachShader(v,S),void 0!==n.index0AttributeName?i.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),this.getUniforms=function(){return void 0===M&&_(this),M},this.getAttributes=function(){return void 0===I&&_(this),I};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(v,37297)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Ze++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=S,this.numMultiviewViews=x,this}let yt=0;class bt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new At(e),t.set(e,n)),n}}class At{constructor(e){this.id=yt++,this.code=e,this.usedTimes=0}}function xt(e,t,n,r,i,o,a){const l=new s.zgK,c=new bt,u=new Set,d=[],p=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return u.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(o,l,d,y,b){const A=y.fog,x=b.geometry,w=o.isMeshStandardMaterial?y.environment:null,C=(o.isMeshStandardMaterial?n:t).get(o.envMap||w),E=C&&C.mapping===s.Om?C.image.height:null,S=g[o.type];null!==o.precision&&(m=i.getMaxPrecision(o.precision),m!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",m,"instead."));const _=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,M=void 0!==_?_.length:0;let I,T,R,k,P=0;if(void 0!==x.morphAttributes.position&&(P=1),void 0!==x.morphAttributes.normal&&(P=2),void 0!==x.morphAttributes.color&&(P=3),S){const e=h[S];I=e.vertexShader,T=e.fragmentShader}else I=o.vertexShader,T=o.fragmentShader,c.update(o),R=c.getVertexShaderID(o),k=c.getFragmentShaderID(o);const B=e.getRenderTarget(),O=e.state.buffers.depth.getReversed(),L=B&&B.isWebGLMultiviewRenderTarget?B.numViews:0,D=!0===b.isInstancedMesh,N=!0===b.isBatchedMesh,F=!!o.map,j=!!o.matcap,U=!!C,z=!!o.aoMap,H=!!o.lightMap,V=!!o.bumpMap,G=!!o.normalMap,Q=!!o.displacementMap,W=!!o.emissiveMap,q=!!o.metalnessMap,$=!!o.roughnessMap,X=o.anisotropy>0,K=o.clearcoat>0,Y=o.dispersion>0,J=o.iridescence>0,Z=o.sheen>0,ee=o.transmission>0,te=X&&!!o.anisotropyMap,ne=K&&!!o.clearcoatMap,re=K&&!!o.clearcoatNormalMap,ie=K&&!!o.clearcoatRoughnessMap,oe=J&&!!o.iridescenceMap,ae=J&&!!o.iridescenceThicknessMap,se=Z&&!!o.sheenColorMap,le=Z&&!!o.sheenRoughnessMap,ce=!!o.specularMap,ue=!!o.specularColorMap,de=!!o.specularIntensityMap,he=ee&&!!o.transmissionMap,pe=ee&&!!o.thicknessMap,fe=!!o.gradientMap,me=!!o.alphaMap,ge=o.alphaTest>0,ve=!!o.alphaHash,ye=!!o.extensions;let be=s.y_p;o.toneMapped&&(null!==B&&!0!==B.isXRRenderTarget||(be=e.toneMapping));const Ae={shaderID:S,shaderType:o.type,shaderName:o.name,vertexShader:I,fragmentShader:T,defines:o.defines,customVertexShaderID:R,customFragmentShaderID:k,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:m,batching:N,batchingColor:N&&null!==b._colorsTexture,instancing:D,instancingColor:D&&null!==b.instanceColor,instancingMorph:D&&null!==b.morphTexture,supportsVertexTextures:f,numMultiviewViews:L,outputColorSpace:null===B?e.outputColorSpace:!0===B.isXRRenderTarget?B.texture.colorSpace:s.Zr2,alphaToCoverage:!!o.alphaToCoverage,map:F,matcap:j,envMap:U,envMapMode:U&&C.mapping,envMapCubeUVHeight:E,aoMap:z,lightMap:H,bumpMap:V,normalMap:G,displacementMap:f&&Q,emissiveMap:W,normalMapObjectSpace:G&&o.normalMapType===s.vyJ,normalMapTangentSpace:G&&o.normalMapType===s.bI3,metalnessMap:q,roughnessMap:$,anisotropy:X,anisotropyMap:te,clearcoat:K,clearcoatMap:ne,clearcoatNormalMap:re,clearcoatRoughnessMap:ie,dispersion:Y,iridescence:J,iridescenceMap:oe,iridescenceThicknessMap:ae,sheen:Z,sheenColorMap:se,sheenRoughnessMap:le,specularMap:ce,specularColorMap:ue,specularIntensityMap:de,transmission:ee,transmissionMap:he,thicknessMap:pe,gradientMap:fe,opaque:!1===o.transparent&&o.blending===s.NTi&&!1===o.alphaToCoverage,alphaMap:me,alphaTest:ge,alphaHash:ve,combine:o.combine,mapUv:F&&v(o.map.channel),aoMapUv:z&&v(o.aoMap.channel),lightMapUv:H&&v(o.lightMap.channel),bumpMapUv:V&&v(o.bumpMap.channel),normalMapUv:G&&v(o.normalMap.channel),displacementMapUv:Q&&v(o.displacementMap.channel),emissiveMapUv:W&&v(o.emissiveMap.channel),metalnessMapUv:q&&v(o.metalnessMap.channel),roughnessMapUv:$&&v(o.roughnessMap.channel),anisotropyMapUv:te&&v(o.anisotropyMap.channel),clearcoatMapUv:ne&&v(o.clearcoatMap.channel),clearcoatNormalMapUv:re&&v(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ie&&v(o.clearcoatRoughnessMap.channel),iridescenceMapUv:oe&&v(o.iridescenceMap.channel),iridescenceThicknessMapUv:ae&&v(o.iridescenceThicknessMap.channel),sheenColorMapUv:se&&v(o.sheenColorMap.channel),sheenRoughnessMapUv:le&&v(o.sheenRoughnessMap.channel),specularMapUv:ce&&v(o.specularMap.channel),specularColorMapUv:ue&&v(o.specularColorMap.channel),specularIntensityMapUv:de&&v(o.specularIntensityMap.channel),transmissionMapUv:he&&v(o.transmissionMap.channel),thicknessMapUv:pe&&v(o.thicknessMap.channel),alphaMapUv:me&&v(o.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(G||X),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,pointsUvs:!0===b.isPoints&&!!x.attributes.uv&&(F||me),fog:!!A,useFog:!0===o.fog,fogExp2:!!A&&A.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:p,reverseDepthBuffer:O,skinning:!0===b.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:M,morphTextureStride:P,numDirLights:l.directional.length,numPointLights:l.point.length,numSpotLights:l.spot.length,numSpotLightMaps:l.spotLightMap.length,numRectAreaLights:l.rectArea.length,numHemiLights:l.hemi.length,numDirLightShadows:l.directionalShadowMap.length,numPointLightShadows:l.pointShadowMap.length,numSpotLightShadows:l.spotShadowMap.length,numSpotLightShadowsWithMaps:l.numSpotLightShadowsWithMaps,numLightProbes:l.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:be,decodeVideoTexture:F&&!0===o.map.isVideoTexture&&s.ppV.getTransfer(o.map.colorSpace)===s.KLL,decodeVideoTextureEmissive:W&&!0===o.emissiveMap.isVideoTexture&&s.ppV.getTransfer(o.emissiveMap.colorSpace)===s.KLL,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===s.$EB,flipSided:o.side===s.hsX,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:ye&&!0===o.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ye&&!0===o.extensions.multiDraw||N)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return Ae.vertexUv1s=u.has(1),Ae.vertexUv2s=u.has(2),Ae.vertexUv3s=u.has(3),u.clear(),Ae},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){l.disableAll(),t.supportsVertexTextures&&l.enable(0);t.instancing&&l.enable(1);t.instancingColor&&l.enable(2);t.instancingMorph&&l.enable(3);t.matcap&&l.enable(4);t.envMap&&l.enable(5);t.normalMapObjectSpace&&l.enable(6);t.normalMapTangentSpace&&l.enable(7);t.clearcoat&&l.enable(8);t.iridescence&&l.enable(9);t.alphaTest&&l.enable(10);t.vertexColors&&l.enable(11);t.vertexAlphas&&l.enable(12);t.vertexUv1s&&l.enable(13);t.vertexUv2s&&l.enable(14);t.vertexUv3s&&l.enable(15);t.vertexTangents&&l.enable(16);t.anisotropy&&l.enable(17);t.alphaHash&&l.enable(18);t.batching&&l.enable(19);t.dispersion&&l.enable(20);t.batchingColor&&l.enable(21);e.push(l.mask),l.disableAll(),t.fog&&l.enable(0);t.useFog&&l.enable(1);t.flatShading&&l.enable(2);t.logarithmicDepthBuffer&&l.enable(3);t.reverseDepthBuffer&&l.enable(4);t.skinning&&l.enable(5);t.morphTargets&&l.enable(6);t.morphNormals&&l.enable(7);t.morphColors&&l.enable(8);t.premultipliedAlpha&&l.enable(9);t.shadowMapEnabled&&l.enable(10);t.doubleSided&&l.enable(11);t.flipSided&&l.enable(12);t.useDepthPacking&&l.enable(13);t.dithering&&l.enable(14);t.transmission&&l.enable(15);t.sheen&&l.enable(16);t.opaque&&l.enable(17);t.pointsUvs&&l.enable(18);t.decodeVideoTexture&&l.enable(19);t.decodeVideoTextureEmissive&&l.enable(20);t.alphaToCoverage&&l.enable(21);t.numMultiviewViews&&l.enable(21);e.push(l.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=g[e.type];let n;if(t){const e=h[t];n=s.LlO.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=d.length;e<i;e++){const t=d[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new vt(e,n,t,o),d.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=d.indexOf(e);d[t]=d[d.length-1],d.pop(),e.destroy()}},releaseShaderCache:function(e){c.remove(e)},programs:d,dispose:function(){c.dispose()}}}function wt(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ct(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Et(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function St(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ct),r.length>1&&r.sort(t||Et),i.length>1&&i.sort(t||Et)}}}function _t(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new St,e.set(t,[i])):n>=r.length?(i=new St,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Mt(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new s.Pq0,color:new s.Q1f};break;case"SpotLight":n={position:new s.Pq0,direction:new s.Pq0,color:new s.Q1f,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new s.Pq0,color:new s.Q1f,distance:0,decay:0};break;case"HemisphereLight":n={direction:new s.Pq0,skyColor:new s.Q1f,groundColor:new s.Q1f};break;case"RectAreaLight":n={color:new s.Q1f,position:new s.Pq0,halfWidth:new s.Pq0,halfHeight:new s.Pq0}}return e[t.id]=n,n}}}let It=0;function Tt(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Rt(e){const t=new Mt,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new s.I9Y};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new s.I9Y,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)r.probe.push(new s.Pq0);const i=new s.Pq0,o=new s.kn4,a=new s.kn4;return{setup:function(i){let o=0,a=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,h=0,p=0,f=0,m=0,g=0,v=0,y=0,b=0;i.sort(Tt);for(let e=0,d=i.length;e<d;e++){const d=i[e],A=d.color,x=d.intensity,w=d.distance,C=d.shadow&&d.shadow.map?d.shadow.map.texture:null;if(d.isAmbientLight)o+=A.r*x,a+=A.g*x,s+=A.b*x;else if(d.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(d.sh.coefficients[e],x);b++}else if(d.isDirectionalLight){const e=t.get(d);if(e.color.copy(d.color).multiplyScalar(d.intensity),d.castShadow){const e=d.shadow,t=n.get(d);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=C,r.directionalShadowMatrix[l]=d.shadow.matrix,f++}r.directional[l]=e,l++}else if(d.isSpotLight){const e=t.get(d);e.position.setFromMatrixPosition(d.matrixWorld),e.color.copy(A).multiplyScalar(x),e.distance=w,e.coneCos=Math.cos(d.angle),e.penumbraCos=Math.cos(d.angle*(1-d.penumbra)),e.decay=d.decay,r.spot[u]=e;const i=d.shadow;if(d.map&&(r.spotLightMap[v]=d.map,v++,i.updateMatrices(d),d.castShadow&&y++),r.spotLightMatrix[u]=i.matrix,d.castShadow){const e=n.get(d);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=C,g++}u++}else if(d.isRectAreaLight){const e=t.get(d);e.color.copy(A).multiplyScalar(x),e.halfWidth.set(.5*d.width,0,0),e.halfHeight.set(0,.5*d.height,0),r.rectArea[h]=e,h++}else if(d.isPointLight){const e=t.get(d);if(e.color.copy(d.color).multiplyScalar(d.intensity),e.distance=d.distance,e.decay=d.decay,d.castShadow){const e=d.shadow,t=n.get(d);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=C,r.pointShadowMatrix[c]=d.shadow.matrix,m++}r.point[c]=e,c++}else if(d.isHemisphereLight){const e=t.get(d);e.skyColor.copy(d.color).multiplyScalar(x),e.groundColor.copy(d.groundColor).multiplyScalar(x),r.hemi[p]=e,p++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=d.LTC_FLOAT_1,r.rectAreaLTC2=d.LTC_FLOAT_2):(r.rectAreaLTC1=d.LTC_HALF_1,r.rectAreaLTC2=d.LTC_HALF_2)),r.ambient[0]=o,r.ambient[1]=a,r.ambient[2]=s;const A=r.hash;A.directionalLength===l&&A.pointLength===c&&A.spotLength===u&&A.rectAreaLength===h&&A.hemiLength===p&&A.numDirectionalShadows===f&&A.numPointShadows===m&&A.numSpotShadows===g&&A.numSpotMaps===v&&A.numLightProbes===b||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=p,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=g,r.spotShadowMap.length=g,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=m,r.spotLightMatrix.length=g+v-y,r.spotLightMap.length=v,r.numSpotLightShadowsWithMaps=y,r.numLightProbes=b,A.directionalLength=l,A.pointLength=c,A.spotLength=u,A.rectAreaLength=h,A.hemiLength=p,A.numDirectionalShadows=f,A.numPointShadows=m,A.numSpotShadows=g,A.numSpotMaps=v,A.numLightProbes=b,r.version=It++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,p=e.length;h<p;h++){const t=e[h];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),a.identity(),o.copy(t.matrixWorld),o.premultiply(d),a.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function kt(e){const t=new Rt(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function Pt(e){let t=new WeakMap;return{get:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=t.get(n);let o;return void 0===i?(o=new kt(e),t.set(n,[o])):r>=i.length?(o=new kt(e),i.push(o)):o=i[r],o},dispose:function(){t=new WeakMap}}}function Bt(e,t,n){let r=new s.PPD;const i=new s.I9Y,o=new s.I9Y,a=new s.IUQ,l=new s.CSG({depthPacking:s.N5j}),c=new s.aVO,u={},d=n.maxTextureSize,h={[s.hB5]:s.hsX,[s.hsX]:s.hB5,[s.$EB]:s.$EB},p=new s.BKk({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new s.I9Y},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=p.clone();f.defines.HORIZONTAL_PASS=1;const m=new s.LoY;m.setAttribute("position",new s.THS(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new s.eaF(m,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s.QP0;let y=this.type;function b(n,r){const o=t.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new s.nWS(i.x,i.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,p,g,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,f,g,null)}function A(t,n,r,i){let o=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?c:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i,n.addEventListener("dispose",w)),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,i===s.RyA?o.side=null!==n.shadowSide?n.shadowSide:n.side:o.side=null!==n.shadowSide?n.shadowSide:h[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=r}return o}function x(n,i,o,a,l){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&l===s.RyA)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),s=n.material;if(Array.isArray(s)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=s[u.materialIndex];if(d&&d.visible){const t=A(n,d,a,l);n.onBeforeShadow(e,n,i,o,r,t,u),e.renderBufferDirect(o,null,r,t,n,u),n.onAfterShadow(e,n,i,o,r,t,u)}}}else if(s.visible){const t=A(n,s,a,l);n.onBeforeShadow(e,n,i,o,r,t,null),e.renderBufferDirect(o,null,r,t,n,null),n.onAfterShadow(e,n,i,o,r,t,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)x(c[e],i,o,a,l)}function w(e){e.target.removeEventListener("dispose",w);for(const t in u){const n=u[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,l){if(!1===v.enabled)return;if(!1===v.autoUpdate&&!1===v.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.state;p.setBlending(s.XIg),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);const f=y!==s.RyA&&this.type===s.RyA,m=y===s.RyA&&this.type!==s.RyA;for(let g=0,v=t.length;g<v;g++){const c=t[g],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;i.copy(u.mapSize);const h=u.getFrameExtents();if(i.multiply(h),o.copy(u.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(o.x=Math.floor(d/h.x),i.x=o.x*h.x,u.mapSize.x=o.x),i.y>d&&(o.y=Math.floor(d/h.y),i.y=o.y*h.y,u.mapSize.y=o.y)),null===u.map||!0===f||!0===m){const e=this.type!==s.RyA?{minFilter:s.hxR,magFilter:s.hxR}:{};null!==u.map&&u.map.dispose(),u.map=new s.nWS(i.x,i.y,e),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()}e.setRenderTarget(u.map),e.clear();const v=u.getViewportCount();for(let e=0;e<v;e++){const t=u.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),p.viewport(a),u.updateMatrices(c,e),r=u.getFrustum(),x(n,l,u.camera,c,this.type)}!0!==u.isPointLightShadow&&this.type===s.RyA&&b(u,l),u.needsUpdate=!1}y=this.type,v.needsUpdate=!1,e.setRenderTarget(c,u,h)}}const Ot={[s.eHc]:s.lGu,[s.brA]:s.K52,[s.U3G]:s.bw0,[s.xSv]:s.Gwm,[s.lGu]:s.eHc,[s.K52]:s.brA,[s.bw0]:s.U3G,[s.Gwm]:s.xSv};function Lt(e,t){const n=new function(){let t=!1;const n=new s.IUQ;let r=null;const i=new s.IUQ(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,o=null,a=null;return{setReversed:function(e){if(r!==e){const e=t.get("EXT_clip_control");r?e.clipControlEXT(e.LOWER_LEFT_EXT,e.ZERO_TO_ONE_EXT):e.clipControlEXT(e.LOWER_LEFT_EXT,e.NEGATIVE_ONE_TO_ONE_EXT);const n=a;a=null,this.setClear(n)}r=e},getReversed:function(){return r},setTest:function(t){t?z(e.DEPTH_TEST):H(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=Ot[t]),o!==t){switch(t){case s.eHc:e.depthFunc(e.NEVER);break;case s.lGu:e.depthFunc(e.ALWAYS);break;case s.brA:e.depthFunc(e.LESS);break;case s.xSv:e.depthFunc(e.LEQUAL);break;case s.U3G:e.depthFunc(e.EQUAL);break;case s.Gwm:e.depthFunc(e.GEQUAL);break;case s.K52:e.depthFunc(e.GREATER);break;case s.bw0:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}o=t}},setLocked:function(e){n=e},setClear:function(t){a!==t&&(r&&(t=1-t),e.clearDepth(t),a=t)},reset:function(){n=!1,i=null,o=null,a=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?z(e.STENCIL_TEST):H(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},o=new WeakMap,a=new WeakMap;let l={},c={},u=new WeakMap,d=[],h=null,p=!1,f=null,m=null,g=null,v=null,y=null,b=null,A=null,x=new s.Q1f(0,0,0),w=0,C=!1,E=null,S=null,_=null,M=null,I=null;const T=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let R=!1,k=0;const P=e.getParameter(e.VERSION);-1!==P.indexOf("WebGL")?(k=parseFloat(/^WebGL (\d)/.exec(P)[1]),R=k>=1):-1!==P.indexOf("OpenGL ES")&&(k=parseFloat(/^OpenGL ES (\d)/.exec(P)[1]),R=k>=2);let B=null,O={};const L=e.getParameter(e.SCISSOR_BOX),D=e.getParameter(e.VIEWPORT),N=(new s.IUQ).fromArray(L),F=(new s.IUQ).fromArray(D);function j(t,n,r,i){const o=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return a}const U={};function z(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function H(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}U[e.TEXTURE_2D]=j(e.TEXTURE_2D,e.TEXTURE_2D,1),U[e.TEXTURE_CUBE_MAP]=j(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),U[e.TEXTURE_2D_ARRAY]=j(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),U[e.TEXTURE_3D]=j(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),z(e.DEPTH_TEST),r.setFunc(s.xSv),W(!1),q(s.Vb5),z(e.CULL_FACE),Q(s.XIg);const V={[s.gO9]:e.FUNC_ADD,[s.FXf]:e.FUNC_SUBTRACT,[s.nST]:e.FUNC_REVERSE_SUBTRACT};V[s.znC]=e.MIN,V[s.$ei]=e.MAX;const G={[s.ojh]:e.ZERO,[s.qad]:e.ONE,[s.f4X]:e.SRC_COLOR,[s.ie2]:e.SRC_ALPHA,[s.hgQ]:e.SRC_ALPHA_SATURATE,[s.wn6]:e.DST_COLOR,[s.hdd]:e.DST_ALPHA,[s.LiQ]:e.ONE_MINUS_SRC_COLOR,[s.OuU]:e.ONE_MINUS_SRC_ALPHA,[s.aEY]:e.ONE_MINUS_DST_COLOR,[s.Nt7]:e.ONE_MINUS_DST_ALPHA,[s.RrE]:e.CONSTANT_COLOR,[s.$Yl]:e.ONE_MINUS_CONSTANT_COLOR,[s.e0p]:e.CONSTANT_ALPHA,[s.ov9]:e.ONE_MINUS_CONSTANT_ALPHA};function Q(t,n,r,i,o,a,l,c,u,d){if(t!==s.XIg){if(!1===p&&(z(e.BLEND),p=!0),t===s.bCz)o=o||n,a=a||r,l=l||i,n===m&&o===y||(e.blendEquationSeparate(V[n],V[o]),m=n,y=o),r===g&&i===v&&a===b&&l===A||(e.blendFuncSeparate(G[r],G[i],G[a],G[l]),g=r,v=i,b=a,A=l),!1!==c.equals(x)&&u===w||(e.blendColor(c.r,c.g,c.b,u),x.copy(c),w=u),f=t,C=!1;else if(t!==f||d!==C){if(m===s.gO9&&y===s.gO9||(e.blendEquation(e.FUNC_ADD),m=s.gO9,y=s.gO9),d)switch(t){case s.NTi:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case s.EZo:e.blendFunc(e.ONE,e.ONE);break;case s.Kwu:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case s.EdD:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case s.NTi:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case s.EZo:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case s.Kwu:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case s.EdD:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,v=null,b=null,A=null,x.set(0,0,0),w=0,f=t,C=d}}else!0===p&&(H(e.BLEND),p=!1)}function W(t){E!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),E=t)}function q(t){t!==s.WNZ?(z(e.CULL_FACE),t!==S&&(t===s.Vb5?e.cullFace(e.BACK):t===s.Jnc?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):H(e.CULL_FACE),S=t}function $(t,n,r){t?(z(e.POLYGON_OFFSET_FILL),M===n&&I===r||(e.polygonOffset(n,r),M=n,I=r)):H(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:z,disable:H,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=d,i=!1;if(t){r=u.get(n),void 0===r&&(r=[],u.set(n,r));const o=t.textures;if(r.length!==o.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=o.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=o.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return h!==t&&(e.useProgram(t),h=t,!0)},setBlending:Q,setMaterial:function(t,o){t.side===s.$EB?H(e.CULL_FACE):z(e.CULL_FACE);let a=t.side===s.hsX;o&&(a=!a),W(a),t.blending===s.NTi&&!1===t.transparent?Q(s.XIg):Q(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const l=t.stencilWrite;i.setTest(l),l&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),$(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?z(e.SAMPLE_ALPHA_TO_COVERAGE):H(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:q,setLineWidth:function(t){t!==_&&(R&&e.lineWidth(t),_=t)},setPolygonOffset:$,setScissorTest:function(t){t?z(e.SCISSOR_TEST):H(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+T-1),B!==t&&(e.activeTexture(t),B=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===B?e.TEXTURE0+T-1:B);let i=O[r];void 0===i&&(i={type:void 0,texture:void 0},O[r]=i),i.type===t&&i.texture===n||(B!==r&&(e.activeTexture(r),B=r),e.bindTexture(t,n||U[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=O[B];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){let r=a.get(n);void 0===r&&(r=new WeakMap,a.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=a.get(n).get(t);o.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),o.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},B=null,O={},c={},u=new WeakMap,d=[],h=null,p=!1,f=null,m=null,g=null,v=null,y=null,b=null,A=null,x=new s.Q1f(0,0,0),w=0,C=!1,E=null,S=null,_=null,M=null,I=null,N.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function Dt(e,t,n,r,i,o,a){const l=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,c="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),u=t.has("OCULUS_multiview")?t.get("OCULUS_multiview"):null,d=new s.I9Y,h=new WeakMap;let p;const f=new WeakMap;let m=[],g=!1,v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch($){}function y(e,t){return v?new OffscreenCanvas(e,t):(0,s.qq$)("canvas")}function b(e,t,n){let r=1;const i=q(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),o=Math.floor(r*i.height);void 0===p&&(p=y(n,o));const a=t?y(n,o):p;a.width=n,a.height=o;return a.getContext("2d").drawImage(e,0,0,n,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+o+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function A(e){return e.generateMipmaps}function x(t){e.generateMipmap(t)}function w(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function C(n,r,i,o){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;if(r===e.RED&&(i===e.FLOAT&&(l=e.R32F),i===e.HALF_FLOAT&&(l=e.R16F),i===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.R8UI),i===e.UNSIGNED_SHORT&&(l=e.R16UI),i===e.UNSIGNED_INT&&(l=e.R32UI),i===e.BYTE&&(l=e.R8I),i===e.SHORT&&(l=e.R16I),i===e.INT&&(l=e.R32I)),r===e.RG&&(i===e.FLOAT&&(l=e.RG32F),i===e.HALF_FLOAT&&(l=e.RG16F),i===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RG8UI),i===e.UNSIGNED_SHORT&&(l=e.RG16UI),i===e.UNSIGNED_INT&&(l=e.RG32UI),i===e.BYTE&&(l=e.RG8I),i===e.SHORT&&(l=e.RG16I),i===e.INT&&(l=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RGB8UI),i===e.UNSIGNED_SHORT&&(l=e.RGB16UI),i===e.UNSIGNED_INT&&(l=e.RGB32UI),i===e.BYTE&&(l=e.RGB8I),i===e.SHORT&&(l=e.RGB16I),i===e.INT&&(l=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(l=e.RGBA16UI),i===e.UNSIGNED_INT&&(l=e.RGBA32UI),i===e.BYTE&&(l=e.RGBA8I),i===e.SHORT&&(l=e.RGBA16I),i===e.INT&&(l=e.RGBA32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(l=e.RGB9_E5),r===e.RGBA){const t=a?s.VxR:s.ppV.getTransfer(o);i===e.FLOAT&&(l=e.RGBA32F),i===e.HALF_FLOAT&&(l=e.RGBA16F),i===e.UNSIGNED_BYTE&&(l=t===s.KLL?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)}return l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function E(t,n){let r;return t?null===n||n===s.bkx||n===s.V3x?r=e.DEPTH24_STENCIL8:n===s.RQf?r=e.DEPTH32F_STENCIL8:n===s.cHt&&(r=e.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===s.bkx||n===s.V3x?r=e.DEPTH_COMPONENT24:n===s.RQf?r=e.DEPTH_COMPONENT32F:n===s.cHt&&(r=e.DEPTH_COMPONENT16),r}function S(e,t){return!0===A(e)||e.isFramebufferTexture&&e.minFilter!==s.hxR&&e.minFilter!==s.k6q?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){const t=e.target;t.removeEventListener("dispose",_),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=f.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&I(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&h.delete(t)}function M(t){const n=t.target;n.removeEventListener("dispose",M),function(t){const n=r.get(t);t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture));if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let o=0,s=i.length;o<s;o++){const t=r.get(i[o]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(i[o])}r.remove(t)}(n)}function I(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete f.get(i)[n.__cacheKey],a.memory.textures--}let T=0;function R(t,i){const o=r.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;h.get(e)!==t&&(h.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(!1===e.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else if(N(o,t,i))return}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}function k(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?N(o,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)}const P={[s.GJx]:e.REPEAT,[s.ghU]:e.CLAMP_TO_EDGE,[s.kTW]:e.MIRRORED_REPEAT},B={[s.hxR]:e.NEAREST,[s.pHI]:e.NEAREST_MIPMAP_NEAREST,[s.Cfg]:e.NEAREST_MIPMAP_LINEAR,[s.k6q]:e.LINEAR,[s.kRr]:e.LINEAR_MIPMAP_NEAREST,[s.$_I]:e.LINEAR_MIPMAP_LINEAR},O={[s.amv]:e.NEVER,[s.FFZ]:e.ALWAYS,[s.vim]:e.LESS,[s.TiK]:e.LEQUAL,[s.kO0]:e.EQUAL,[s.gWB]:e.GEQUAL,[s.eoi]:e.GREATER,[s.jzd]:e.NOTEQUAL};function L(n,o){if(o.type!==s.RQf||!1!==t.has("OES_texture_float_linear")||o.magFilter!==s.k6q&&o.magFilter!==s.kRr&&o.magFilter!==s.Cfg&&o.magFilter!==s.$_I&&o.minFilter!==s.k6q&&o.minFilter!==s.kRr&&o.minFilter!==s.Cfg&&o.minFilter!==s.$_I||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,P[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,P[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,P[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,B[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,B[o.minFilter]),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,O[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(o.magFilter===s.hxR)return;if(o.minFilter!==s.Cfg&&o.minFilter!==s.$_I)return;if(o.type===s.RQf&&!1===t.has("OES_texture_float_linear"))return;if(o.anisotropy>1||r.get(o).__currentAnisotropy){const a=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy}}}function D(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));const i=n.source;let o=f.get(i);void 0===o&&(o={},f.set(i,o));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&I(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function N(t,a,l){if(g)return a.isPendingDeferredUpload||(a.isPendingDeferredUpload=!0,m.push({textureProperties:t,texture:a,slot:l})),!1;let c=e.TEXTURE_2D;(a.isDataArrayTexture||a.isCompressedArrayTexture)&&(c=e.TEXTURE_2D_ARRAY),a.isData3DTexture&&(c=e.TEXTURE_3D);const u=D(t,a),d=a.source;n.bindTexture(c,t.__webglTexture,e.TEXTURE0+l);const h=r.get(d);if(d.version!==h.__version||!0===u){n.activeTexture(e.TEXTURE0+l);const t=s.ppV.getPrimaries(s.ppV.workingColorSpace),r=a.colorSpace===s.jf0?null:s.ppV.getPrimaries(a.colorSpace),p=a.colorSpace===s.jf0||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let f=b(a.image,!1,i.maxTextureSize);f=W(a,f);const m=o.convert(a.format,a.colorSpace),g=o.convert(a.type);let v,y=C(a.internalFormat,m,g,a.colorSpace,a.isVideoTexture);L(c,a);const w=a.mipmaps,_=!0!==a.isVideoTexture,M=void 0===h.__version||!0===u,I=d.dataReady,T=S(a,f);if(a.isDepthTexture)y=E(a.format===s.dcC,a.type),M&&(_?n.texStorage2D(e.TEXTURE_2D,1,y,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,y,f.width,f.height,0,m,g,null));else if(a.isDataTexture)if(w.length>0){_&&M&&n.texStorage2D(e.TEXTURE_2D,T,y,w[0].width,w[0].height);for(let t=0,r=w.length;t<r;t++)v=w[t],_?I&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,v.width,v.height,m,g,v.data):n.texImage2D(e.TEXTURE_2D,t,y,v.width,v.height,0,m,g,v.data);a.generateMipmaps=!1}else _?(M&&n.texStorage2D(e.TEXTURE_2D,T,y,f.width,f.height),I&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,f.width,f.height,m,g,f.data)):n.texImage2D(e.TEXTURE_2D,0,y,f.width,f.height,0,m,g,f.data);else if(a.isCompressedTexture)if(a.isCompressedArrayTexture){_&&M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,T,y,w[0].width,w[0].height,f.depth);for(let t=0,r=w.length;t<r;t++)if(v=w[t],a.format!==s.GWd)if(null!==m)if(_){if(I)if(a.layerUpdates.size>0){const r=(0,s.Nex)(v.width,v.height,a.format,a.type);for(const i of a.layerUpdates){const o=v.data.subarray(i*r/v.data.BYTES_PER_ELEMENT,(i+1)*r/v.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,v.width,v.height,1,m,o)}a.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,v.width,v.height,f.depth,m,v.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,y,v.width,v.height,f.depth,0,v.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else _?I&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,v.width,v.height,f.depth,m,g,v.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,y,v.width,v.height,f.depth,0,m,g,v.data)}else{_&&M&&n.texStorage2D(e.TEXTURE_2D,T,y,w[0].width,w[0].height);for(let t=0,r=w.length;t<r;t++)v=w[t],a.format!==s.GWd?null!==m?_?I&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,v.width,v.height,m,v.data):n.compressedTexImage2D(e.TEXTURE_2D,t,y,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_?I&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,v.width,v.height,m,g,v.data):n.texImage2D(e.TEXTURE_2D,t,y,v.width,v.height,0,m,g,v.data)}else if(a.isDataArrayTexture)if(_){if(M&&n.texStorage3D(e.TEXTURE_2D_ARRAY,T,y,f.width,f.height,f.depth),I)if(a.layerUpdates.size>0){const t=(0,s.Nex)(f.width,f.height,a.format,a.type);for(const r of a.layerUpdates){const i=f.data.subarray(r*t/f.data.BYTES_PER_ELEMENT,(r+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,f.width,f.height,1,m,g,i)}a.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,m,g,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,y,f.width,f.height,f.depth,0,m,g,f.data);else if(a.isData3DTexture)_?(M&&n.texStorage3D(e.TEXTURE_3D,T,y,f.width,f.height,f.depth),I&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,m,g,f.data)):n.texImage3D(e.TEXTURE_3D,0,y,f.width,f.height,f.depth,0,m,g,f.data);else if(a.isFramebufferTexture){if(M)if(_)n.texStorage2D(e.TEXTURE_2D,T,y,f.width,f.height);else{let t=f.width,r=f.height;for(let i=0;i<T;i++)n.texImage2D(e.TEXTURE_2D,i,y,t,r,0,m,g,null),t>>=1,r>>=1}}else if(w.length>0){if(_&&M){const t=q(w[0]);n.texStorage2D(e.TEXTURE_2D,T,y,t.width,t.height)}for(let t=0,r=w.length;t<r;t++)v=w[t],_?I&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,m,g,v):n.texImage2D(e.TEXTURE_2D,t,y,m,g,v);a.generateMipmaps=!1}else if(_){if(M){const t=q(f);n.texStorage2D(e.TEXTURE_2D,T,y,t.width,t.height)}I&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,m,g,f)}else n.texImage2D(e.TEXTURE_2D,0,y,m,g,f);A(a)&&x(c),h.__version=d.version,a.onUpdate&&a.onUpdate(a)}return t.__version=a.version,!0}function F(t,i,a,s,c,d){const h=o.convert(a.format,a.colorSpace),p=o.convert(a.type),f=C(a.internalFormat,h,p,a.colorSpace),m=r.get(i),g=r.get(a);if(g.__renderTarget=i,!m.__hasExternalTextures){const t=Math.max(1,i.width>>d),r=Math.max(1,i.height>>d);!0===i.isWebGLMultiviewRenderTarget?n.texStorage3D(e.TEXTURE_2D_ARRAY,0,f,i.width,i.height,i.numViews):c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,d,f,t,r,i.depth,0,h,p,null):n.texImage2D(c,d,f,t,r,0,h,p,null)}n.bindFramebuffer(e.FRAMEBUFFER,t);const v=Q(i);!0===i.isWebGLMultiviewRenderTarget?v?u.framebufferTextureMultisampleMultiviewOVR(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,g.__webglTexture,0,G(i),0,i.numViews):u.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,g.__webglTexture,0,0,i.numViews):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&(v?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,c,g.__webglTexture,0,G(i)):e.framebufferTexture2D(e.FRAMEBUFFER,s,c,g.__webglTexture,d)),n.bindFramebuffer(e.FRAMEBUFFER,null)}function j(t,n,i){if(e.bindRenderbuffer(e.RENDERBUFFER,t),!0===n.isWebGLMultiviewRenderTarget){const t=Q(n),i=n.numViews,o=n.depthTexture;let a=e.DEPTH_COMPONENT24,l=e.DEPTH_ATTACHMENT;o&&o.isDepthTexture&&(o.type===s.RQf?a=e.DEPTH_COMPONENT32F:o.type===s.V3x&&(a=e.DEPTH24_STENCIL8,l=e.DEPTH_STENCIL_ATTACHMENT));let c=r.get(n.depthTexture).__webglTexture;void 0===c&&(c=e.createTexture(),e.bindTexture(e.TEXTURE_2D_ARRAY,c),e.texStorage3D(e.TEXTURE_2D_ARRAY,1,a,n.width,n.height,i)),t?u.framebufferTextureMultisampleMultiviewOVR(e.FRAMEBUFFER,l,c,0,G(n),0,i):u.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,l,c,0,0,i)}else if(n.depthBuffer){const r=n.depthTexture,o=r&&r.isDepthTexture?r.type:null,a=E(n.stencilBuffer,o),s=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=G(n);Q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,a,n.width,n.height):i?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,a,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,s,e.RENDERBUFFER,t)}else{const t=n.textures;for(let r=0;r<t.length;r++){const a=t[r],s=o.convert(a.format,a.colorSpace),c=o.convert(a.type),u=C(a.internalFormat,s,c,a.colorSpace),d=G(n);i&&!1===Q(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):Q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function U(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const o=r.get(i.depthTexture);o.__renderTarget=i,o.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),1!=i.depthTexture.image.depth?k(i.depthTexture,0):R(i.depthTexture,0);const a=o.__webglTexture,c=G(i);if(!0===i.isWebGLMultiviewRenderTarget){const t=Q(i),n=i.numViews;if(i.depthTexture.format===s.zdS)t?u.framebufferTextureMultisampleMultiviewOVR(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,a,0,c,0,n):u.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,a,0,0,n);else{if(i.depthTexture.format!==s.dcC)throw new Error("Unknown depthTexture format");t?u.framebufferTextureMultisampleMultiviewOVR(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,a,0,c,0,n):u.framebufferTextureMultiviewOVR(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,a,0,0,n)}}else if(i.depthTexture.format===s.zdS)Q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==s.dcC)throw new Error("Unknown depthTexture format");Q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}function z(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");U(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),j(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,o=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,o),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,o)}}else if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),j(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}n.bindFramebuffer(e.FRAMEBUFFER,null)}const H=[],V=[];function G(e){return Math.min(i.maxSamples,e.samples)}function Q(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function W(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==s.Zr2&&n!==s.jf0&&(s.ppV.getTransfer(n)===s.KLL?r===s.GWd&&i===s.OUM||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function q(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(d.width=e.naturalWidth||e.width,d.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(d.width=e.displayWidth,d.height=e.displayHeight):(d.width=e.width,d.height=e.height),d}this.allocateTextureUnit=function(){const e=T;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),T+=1,e},this.resetTextureUnits=function(){T=0},this.setTexture2D=R,this.setTexture2DArray=k,this.setTexture3D=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?N(o,t,i):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,a){const l=r.get(t);t.version>0&&l.__version!==t.version?function(t,a,l){if(6!==a.image.length)return;const c=D(t,a),u=a.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+l);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+l);const t=s.ppV.getPrimaries(s.ppV.workingColorSpace),r=a.colorSpace===s.jf0?null:s.ppV.getPrimaries(a.colorSpace),h=a.colorSpace===s.jf0||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const p=a.isCompressedTexture||a.image[0].isCompressedTexture,f=a.image[0]&&a.image[0].isDataTexture,m=[];for(let e=0;e<6;e++)m[e]=p||f?f?a.image[e].image:a.image[e]:b(a.image[e],!0,i.maxCubemapSize),m[e]=W(a,m[e]);const g=m[0],v=o.convert(a.format,a.colorSpace),y=o.convert(a.type),w=C(a.internalFormat,v,y,a.colorSpace),E=!0!==a.isVideoTexture,_=void 0===d.__version||!0===c,M=u.dataReady;let I,T=S(a,g);if(L(e.TEXTURE_CUBE_MAP,a),p){E&&_&&n.texStorage2D(e.TEXTURE_CUBE_MAP,T,w,g.width,g.height);for(let t=0;t<6;t++){I=m[t].mipmaps;for(let r=0;r<I.length;r++){const i=I[r];a.format!==s.GWd?null!==v?E?M&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,v,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,w,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):E?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,v,y,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,w,i.width,i.height,0,v,y,i.data)}}}else{if(I=a.mipmaps,E&&_){I.length>0&&T++;const t=q(m[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,T,w,t.width,t.height)}for(let t=0;t<6;t++)if(f){E?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m[t].width,m[t].height,v,y,m[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,w,m[t].width,m[t].height,0,v,y,m[t].data);for(let r=0;r<I.length;r++){const i=I[r].image[t].image;E?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,v,y,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,w,i.width,i.height,0,v,y,i.data)}}else{E?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,v,y,m[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,w,v,y,m[t]);for(let r=0;r<I.length;r++){const i=I[r];E?M&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,v,y,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,w,v,y,i.image[t])}}}A(a)&&x(e.TEXTURE_CUBE_MAP),d.__version=u.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}(l,t,a):n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture,e.TEXTURE0+a)},this.rebindTextures=function(t,n,i){const o=r.get(t);void 0!==n&&F(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&z(t)},this.uploadTexture=N,this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",M);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,a.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),a.memory.textures++)}if(t.samples>0&&!1===Q(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=o.convert(r.format,r.colorSpace),a=o.convert(r.type),l=C(r.internalFormat,i,a,r.colorSpace,!0===t.isXRRenderTarget),u=G(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),j(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),L(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)F(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else F(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);A(i)&&x(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,o=c.length;i<o;i++){const o=c[i],a=r.get(o);n.bindTexture(e.TEXTURE_2D,a.__webglTexture),L(e.TEXTURE_2D,o),F(s.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),A(o)&&x(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),!0===t.isWebGLMultiviewRenderTarget&&(r=e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),L(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)F(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else F(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);A(i)&&x(r),n.unbindTexture()}(t.depthBuffer||!0===t.isWebGLMultiviewRenderTarget)&&this.setupDepthRenderbuffer(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,o=t.length;i<o;i++){const o=t[i];if(A(o)){const t=w(e),i=r.get(o).__webglTexture;n.bindTexture(t,i),x(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===Q(t)){const i=t.textures,o=t.width,a=t.height;let s=e.COLOR_BUFFER_BIT;const l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,e.NEAREST),!0===c&&(H.length=0,V.length=0,H.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(H.push(l),V.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,V)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,H))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&c){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthTexture=U,this.setupDepthRenderbuffer=z,this.setupFrameBufferTexture=F,this.useMultisampledRTT=Q,this.runDeferredUploads=function(){const e=g;g=!1;for(const t of m)N(t.textureProperties,t.texture,t.slot),t.texture.isPendingDeferredUpload=!1;m=[],g=e},this.setDeferTextureUploads=function(e){g=e}}function Nt(e,t){return{convert:function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.jf0;const o=s.ppV.getTransfer(i);if(n===s.OUM)return e.UNSIGNED_BYTE;if(n===s.Wew)return e.UNSIGNED_SHORT_4_4_4_4;if(n===s.gJ2)return e.UNSIGNED_SHORT_5_5_5_1;if(n===s.Dmk)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===s.tJf)return e.BYTE;if(n===s.fBL)return e.SHORT;if(n===s.cHt)return e.UNSIGNED_SHORT;if(n===s.Yuy)return e.INT;if(n===s.bkx)return e.UNSIGNED_INT;if(n===s.RQf)return e.FLOAT;if(n===s.ix0)return e.HALF_FLOAT;if(n===s.wrO)return e.ALPHA;if(n===s.HIg)return e.RGB;if(n===s.GWd)return e.RGBA;if(n===s.Kzv)return e.LUMINANCE;if(n===s.CMB)return e.LUMINANCE_ALPHA;if(n===s.zdS)return e.DEPTH_COMPONENT;if(n===s.dcC)return e.DEPTH_STENCIL;if(n===s.VT0)return e.RED;if(n===s.ZQM)return e.RED_INTEGER;if(n===s.paN)return e.RG;if(n===s.TkQ)return e.RG_INTEGER;if(n===s.c90)return e.RGBA_INTEGER;if(n===s.IE4||n===s.Nz6||n===s.jR7||n===s.BXX)if(o===s.KLL){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===s.IE4)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===s.Nz6)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===s.jR7)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===s.BXX)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===s.IE4)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===s.Nz6)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===s.jR7)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===s.BXX)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===s.k6Q||n===s.kTp||n===s.HXV||n===s.pBf){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===s.k6Q)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===s.kTp)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===s.HXV)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===s.pBf)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===s.CVz||n===s.Riy||n===s.KDk){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===s.CVz||n===s.Riy)return o===s.KLL?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===s.KDk)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===s.qa3||n===s.B_h||n===s.czI||n===s.rSH||n===s.Qrf||n===s.psI||n===s.a5J||n===s._QJ||n===s.uB5||n===s.lyL||n===s.bC7||n===s.y3Z||n===s.ojs||n===s.S$4){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===s.qa3)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===s.B_h)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===s.czI)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===s.rSH)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===s.Qrf)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===s.psI)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===s.a5J)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===s._QJ)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===s.uB5)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===s.lyL)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===s.bC7)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===s.y3Z)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===s.ojs)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===s.S$4)return o===s.KLL?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===s.Fn||n===s.H23||n===s.W9U){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===s.Fn)return o===s.KLL?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===s.H23)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===s.W9U)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===s.Kef||n===s.XG_||n===s.HO_||n===s.CWW){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===s.Fn)return r.COMPRESSED_RED_RGTC1_EXT;if(n===s.XG_)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===s.HO_)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===s.CWW)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===s.V3x?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Ft extends s.nWS{constructor(e,t,n){super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}copy(e){return super.copy(e),this.numViews=e.numViews,this}}Ft.prototype.isWebGLMultiviewRenderTarget=!0;class jt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new s.gPd;e.properties.get(r).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new s.BKk({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new s.eaF(new s.bdM(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Ut extends s.Qev{constructor(e,t,n,r){super();const i=this;let o=null,a=1;var c=null;let u=null,d="local-floor",h=1,p=null,f=null;var m=[];let g=null,v=null,y=null,b=null;const A=new jt,x=t.getContextAttributes();let w=null,C=null;const E=[],S=[],_=new s.I9Y;let M=null;const I=new s.ubm;I.viewport=new s.IUQ;const T=new s.ubm;T.viewport=new s.IUQ;const R=[I,T],k=new s.nZQ;let P=null,B=null;function O(e){const t=S.indexOf(e.inputSource);if(-1===t)return;const n=E[t];void 0!==n&&(n.update(e.inputSource,e.frame,p||u),n.dispatchEvent({type:e.type,data:e.inputSource}))}function L(){o.removeEventListener("select",O),o.removeEventListener("selectstart",O),o.removeEventListener("selectend",O),o.removeEventListener("squeeze",O),o.removeEventListener("squeezestart",O),o.removeEventListener("squeezeend",O),o.removeEventListener("end",L),o.removeEventListener("inputsourceschange",D);for(let e=0;e<E.length;e++){const t=S[e];null!==t&&(S[e]=null,E[e].disconnect(t))}P=null,B=null,A.reset(),e.setRenderTarget(w),y=null,v=null,g=null,o=null,C=null,z.stop(),i.isPresenting=!1,e.setPixelRatio(M),e.setSize(_.width,_.height,!1),i.dispatchEvent({type:"sessionend"})}function D(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=S.indexOf(n);r>=0&&(S[r]=null,E[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=S.indexOf(n);if(-1===r){for(let e=0;e<E.length;e++){if(e>=S.length){S.push(n),r=e;break}if(null===S[e]){S[e]=n,r=e;break}}if(-1===r)break}const i=E[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.isMultiview=!1,this.getCameraPose=function(){return f},this.getController=function(e){let t=E[e];return void 0===t&&(t=new s.R3r,E[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=E[e];return void 0===t&&(t=new s.R3r,E[e]=t),t.getGripSpace()},this.getHand=function(e){let t=E[e];return void 0===t&&(t=new s.R3r,E[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){a=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){d=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||u},this.setReferenceSpace=function(e){p=e},this.getBaseLayer=function(){return null!==v?v:y},this.getBinding=function(){return g},this.getRenderTarget=function(){return C},this.getFrame=function(){return b},this.getSession=function(){return o},this.setSession=async function(l){if(o=l,null!==o){w=e.getRenderTarget(),o.addEventListener("select",O),o.addEventListener("selectstart",O),o.addEventListener("selectend",O),o.addEventListener("squeeze",O),o.addEventListener("squeezestart",O),o.addEventListener("squeezeend",O),o.addEventListener("end",L),o.addEventListener("inputsourceschange",D),!0!==x.xrCompatible&&await t.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(_);if("undefined"!==typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype){let l=null,c=null,u=null;x.depth&&(u=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,l=x.stencil?s.dcC:s.zdS,c=x.stencil?s.V3x:s.bkx),i.isMultiview=r&&n.has("OCULUS_multiview");const d={colorFormat:t.RGBA8,depthFormat:u,scaleFactor:a};i.isMultiview&&(d.textureType="texture-array"),g=new XRWebGLBinding(o,t),v=g.createProjectionLayer(d),o.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1);const h={format:s.GWd,type:s.OUM,depthTexture:new s.VCu(v.textureWidth,v.textureHeight,c,void 0,void 0,void 0,void 0,void 0,void 0,l),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:!1===v.ignoreDepthValues};if(i.isMultiview){const e=n.get("OCULUS_multiview");this.maxNumViews=t.getParameter(e.MAX_VIEWS_OVR),C=new Ft(v.textureWidth,v.textureHeight,2,h)}else C=new s.nWS(v.textureWidth,v.textureHeight,h)}else{const n={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:a};y=new XRWebGLLayer(o,t,n),o.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),C=new s.nWS(y.framebufferWidth,y.framebufferHeight,{format:s.GWd,type:s.OUM,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}C.isXRRenderTarget=!0,this.setFoveation(h),p=null,u=await o.requestReferenceSpace(d),z.setContext(o),z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==o)return o.environmentBlendMode},this.addLayer=function(e){window.XRWebGLBinding&&this.layersEnabled&&o&&(m.push(e),this.updateLayers())},this.removeLayer=function(e){m.splice(m.indexOf(e),1),window.XRWebGLBinding&&this.layersEnabled&&o&&this.updateLayers()},this.updateLayers=function(){var e=m.map((function(e){return e}));e.unshift(o.renderState.layers[0]),o.updateRenderState({layers:e})},this.getDepthTexture=function(){return A.getDepthTexture()};const N=new s.Pq0,F=new s.Pq0;function j(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.setPoseTarget=function(e){void 0!==e&&(c=e)},this.updateCamera=function(e){if(null===o)return;let t=e.near,n=e.far;null!==A.texture&&(A.depthNear>0&&(t=A.depthNear),A.depthFar>0&&(n=A.depthFar)),k.near=T.near=I.near=t,k.far=T.far=I.far=n,P===k.near&&B===k.far||(o.updateRenderState({depthNear:k.near,depthFar:k.far}),P=k.near,B=k.far),I.layers.mask=2|e.layers.mask,T.layers.mask=4|e.layers.mask,k.layers.mask=I.layers.mask|T.layers.mask;const r=k.cameras;var i=c||e;const a=i.parent;j(k,a);for(let o=0;o<r.length;o++)j(r[o],a);2===r.length?function(e,t,n){N.setFromMatrixPosition(t.matrixWorld),F.setFromMatrixPosition(n.matrixWorld);const r=N.distanceTo(F),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,p=a*d,f=r/(-u+d),m=f*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=a+f,n=s+f,i=h-m,o=p+(r-m),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(i,o,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(k,I,T):k.projectionMatrix.copy(I.projectionMatrix),function(e,t,n){t.matrixWorld.decompose(t.position,t.quaternion,t.scale),null===n.parent?n.matrix.copy(t.matrixWorld):(n.matrix.copy(n.parent.matrixWorld),n.matrix.invert(),n.matrix.multiply(t.matrixWorld));n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*s.a55*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,k,i)},this.getCamera=function(){return k},this.getFoveation=function(){if(null!==v||null!==y)return h},this.setFoveation=function(e){h=e,null!==v&&(v.fixedFoveation=e),null!==y&&void 0!==y.fixedFoveation&&(y.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==A.texture},this.getDepthSensingMesh=function(){return A.getMesh(k)};let U=null;const z=new l;z.setAnimationLoop((function(t,n){if(f=n.getViewerPose(p||u),b=n,null!==f){const t=f.views;null!==y&&(e.setRenderTargetFramebuffer(C,y.framebuffer),e.setRenderTarget(C));let n=!1;t.length!==k.cameras.length&&(k.cameras.length=0,n=!0);for(let i=0;i<t.length;i++){const r=t[i];let o=null;if(null!==y)o=y.getViewport(r);else{const t=g.getViewSubImage(v,r);o=t.viewport,0===i&&(e.setRenderTargetTextures(C,t.colorTexture,v.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(C))}let a=R[i];void 0===a&&(a=new s.ubm,a.layers.enable(i),a.viewport=new s.IUQ,R[i]=a),a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(r.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===i&&(k.matrix.copy(a.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),!0===n&&k.cameras.push(a)}const r=o.enabledFeatures;if(r&&r.includes("depth-sensing")&&"gpu-optimized"==o.depthUsage&&g){const n=g.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&A.init(e,n,o.renderState)}}for(let e=0;e<E.length;e++){const t=S[e],r=E[e];null!==t&&void 0!==r&&r.update(t,n,p||u)}U&&U(t,n),n.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:n}),b=null})),this.setAnimationLoop=function(e){U=e},this.dispose=function(){}}}const zt=new s.O9p,Ht=new s.kn4;function Vt(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===s.hsX&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===s.hsX&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),o=i.envMap,a=i.envMapRotation;o&&(e.envMap.value=o,zt.copy(a),zt.x*=-1,zt.y*=-1,zt.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(zt.y*=-1,zt.z*=-1),e.envMapRotation.value.setFromMatrix4(Ht.makeRotationFromEuler(zt)),e.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,(0,s._Ut)(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,o,a,l){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===s.hsX&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,l)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Gt(e,t,n,r){let i={},o={},a=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,o=t+"_"+n;if(void 0===r[o])return r[o]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const e=r[o];if("number"===typeof i||"boolean"===typeof i){if(e!==i)return r[o]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let o=0,a=t.length;o<a;o++){const e=Array.isArray(t[o])?t[o]:[t[o]];for(let t=0,i=e.length;t<i;t++){const i=e[t],o=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=o.length;e<t;e++){const t=c(o[e]),a=n%r,s=a%t.boundary,l=a+s;n+=s,0!==l&&r-l<t.storage&&(n+=r-l),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const p=d.program;r.updateUBOMapping(n,p);const f=t.render.frame;o[n.id]!==f&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,o)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let o=0;o<n.length;o++){const a=n[o],s=c(a);"number"===typeof a||"boolean"===typeof a?(r.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):a.isMatrix3?(r.__data[0]=a.elements[0],r.__data[1]=a.elements[1],r.__data[2]=a.elements[2],r.__data[3]=0,r.__data[4]=a.elements[3],r.__data[5]=a.elements[4],r.__data[6]=a.elements[5],r.__data[7]=0,r.__data[8]=a.elements[6],r.__data[9]=a.elements[7],r.__data[10]=a.elements[8],r.__data[11]=0):(a.toArray(r.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),o[n.id]=f)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}}}class Qt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=(0,s.lPF)(),context:n=null,depth:r=!0,stencil:i=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:f=!1,multiviewStereo:m=!1}=e;let w;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");w=n.getContextAttributes().alpha}else w=o;const C=new Uint32Array(4),E=new Int32Array(4);let S=null,_=null;const M=[],I=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=s.er$,this.toneMapping=s.y_p,this.toneMappingExposure=1;const T=this;let R=!1,k=0,P=0,B=null,O=-1,L=null;const D=new s.IUQ,N=new s.IUQ;let F=null;const q=new s.Q1f(0);let $=0,X=t.width,K=t.height,Y=1,J=null,Z=null;const ee=new s.IUQ(0,0,X,K),te=new s.IUQ(0,0,X,K);let ne=!1;const re=new s.PPD;let ie=!1,oe=!1;this.transmissionResolutionScale=1;const ae=new s.kn4,se=new s.kn4,le=new s.Pq0,ce=new s.IUQ,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let de=!1;function he(){return null===B?Y:1}let pe,fe,me,ge,ve,ye,be,Ae,xe,we,Ce,Ee,Se,_e,Me,Ie,Te,Re,ke,Pe,Be,Oe,Le,De,Ne,Fe=n;function je(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${s.sPf}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",Ve,!1),t.addEventListener("webglcontextcreationerror",Ge,!1),null===Fe){const t="webgl2";if(Fe=je(t,e),null===Fe)throw je(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ct){throw console.error("THREE.WebGLRenderer: "+ct.message),ct}function Ue(){pe=new U(Fe),pe.init(),Le=new Nt(Fe,pe),fe=new b(Fe,pe,e,Le),me=new Lt(Fe,pe),fe.reverseDepthBuffer&&f&&me.buffers.depth.setReversed(!0),ge=new V(Fe),ve=new wt,ye=new Dt(Fe,pe,me,ve,fe,Le,ge),be=new x(T),Ae=new j(T),xe=new c(Fe),De=new v(Fe,xe),we=new z(Fe,xe,ge,De),Ce=new W(Fe,we,xe,ge),Pe=new G(Fe,fe,ye),Ie=new A(ve),Ee=new xt(T,be,Ae,pe,fe,De,Ie),Se=new Vt(T,ve),_e=new _t,Me=new Pt(pe),ke=new g(T,be,Ae,me,Ce,w,u),Re=new Q(T,pe,Fe),Te=new Bt(T,Ce,fe),Ne=new Gt(Fe,ge,fe,me),Be=new y(Fe,pe,ge),Oe=new H(Fe,pe,ge),ge.programs=Ee.programs,T.capabilities=fe,T.extensions=pe,T.properties=ve,T.renderLists=_e,T.shadowMap=Te,T.state=me,T.info=ge}Ue();const ze=new Ut(T,Fe);function He(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),R=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),R=!1;const e=ge.autoReset,t=Te.enabled,n=Te.autoUpdate,r=Te.needsUpdate,i=Te.type;Ue(),ge.autoReset=e,Te.enabled=t,Te.autoUpdate=n,Te.needsUpdate=r,Te.type=i}function Ge(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Qe(e){const t=e.target;t.removeEventListener("dispose",Qe),function(e){(function(e){const t=ve.get(e).programs;void 0!==t&&(t.forEach((function(e){Ee.releaseProgram(e)})),e.isShaderMaterial&&Ee.releaseShaderCache(e))})(e),ve.remove(e)}(t)}function We(e,t,n){!0===e.transparent&&e.side===s.$EB&&!1===e.forceSinglePass?(e.side=s.hsX,e.needsUpdate=!0,rt(e,t,n),e.side=s.hB5,e.needsUpdate=!0,rt(e,t,n),e.side=s.$EB):rt(e,t,n)}this.xr=ze,this.getContext=function(){return Fe},this.getContextAttributes=function(){return Fe.getContextAttributes()},this.forceContextLoss=function(){const e=pe.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=pe.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(X,K,!1))},this.getSize=function(e){return e.set(X,K)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ze.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(X=e,K=n,t.width=Math.floor(e*Y),t.height=Math.floor(n*Y),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(X*Y,K*Y).floor()},this.setDrawingBufferSize=function(e,n,r){X=e,K=n,Y=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(D)},this.getViewport=function(e){return e.copy(ee)},this.setViewport=function(e,t,n,r){e.isVector4?ee.set(e.x,e.y,e.z,e.w):ee.set(e,t,n,r),me.viewport(D.copy(ee).multiplyScalar(Y).round())},this.getScissor=function(e){return e.copy(te)},this.setScissor=function(e,t,n,r){e.isVector4?te.set(e.x,e.y,e.z,e.w):te.set(e,t,n,r),me.scissor(N.copy(te).multiplyScalar(Y).round())},this.getScissorTest=function(){return ne},this.setScissorTest=function(e){me.setScissorTest(ne=e)},this.setOpaqueSort=function(e){J=e},this.setTransparentSort=function(e){Z=e},this.getClearColor=function(e){return e.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor.apply(ke,arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha.apply(ke,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==B){const t=B.texture.format;e=t===s.c90||t===s.TkQ||t===s.ZQM}if(e){const e=B.texture.type,t=e===s.OUM||e===s.bkx||e===s.cHt||e===s.V3x||e===s.Wew||e===s.gJ2,n=ke.getClearColor(),r=ke.getClearAlpha(),i=n.r,o=n.g,a=n.b;t?(C[0]=i,C[1]=o,C[2]=a,C[3]=r,Fe.clearBufferuiv(Fe.COLOR,0,C)):(E[0]=i,E[1]=o,E[2]=a,E[3]=r,Fe.clearBufferiv(Fe.COLOR,0,E))}else n|=Fe.COLOR_BUFFER_BIT}e&&(n|=Fe.DEPTH_BUFFER_BIT),t&&(n|=Fe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Fe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",Ve,!1),t.removeEventListener("webglcontextcreationerror",Ge,!1),ke.dispose(),_e.dispose(),Me.dispose(),ve.dispose(),be.dispose(),Ae.dispose(),Ce.dispose(),De.dispose(),Ne.dispose(),Ee.dispose(),ze.dispose(),ze.removeEventListener("sessionstart",$e),ze.removeEventListener("sessionend",Xe),Ke.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=ue);const a=i.isMesh&&i.matrixWorld.determinant()<0,l=function(e,t,n,r,i){!0!==t.isScene&&(t=ue);ye.resetTextureUnits();const o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,l=null===B?T.outputColorSpace:!0===B.isXRRenderTarget?B.texture.colorSpace:s.Zr2,c=(r.isMeshStandardMaterial?Ae:be).get(r.envMap||a),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,d=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let m=s.y_p;r.toneMapped&&(null!==B&&!0!==B.isXRRenderTarget||(m=T.toneMapping));const g=B&&B.isWebGLMultiviewRenderTarget?B.numViews:0,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==v?v.length:0,b=ve.get(r),A=_.state.lights;if(!0===ie&&(!0===oe||e!==L)){const t=e===L&&r.id===O;Ie.setState(r,e,t)}let x=!1;r.version===b.__version?b.needsLights&&b.lightsStateVersion!==A.state.version||b.outputColorSpace!==l||i.isBatchedMesh&&!1===b.batching?x=!0:i.isBatchedMesh||!0!==b.batching?i.isBatchedMesh&&!0===b.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===b.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===b.instancing?x=!0:i.isInstancedMesh||!0!==b.instancing?i.isSkinnedMesh&&!1===b.skinning?x=!0:i.isSkinnedMesh||!0!==b.skinning?i.isInstancedMesh&&!0===b.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===b.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===b.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===b.instancingMorph&&null!==i.morphTexture||b.envMap!==c||!0===r.fog&&b.fog!==o?x=!0:void 0===b.numClippingPlanes||b.numClippingPlanes===Ie.numPlanes&&b.numIntersection===Ie.numIntersection?(b.vertexAlphas!==u||b.vertexTangents!==d||b.morphTargets!==h||b.morphNormals!==p||b.morphColors!==f||b.toneMapping!==m||b.morphTargetsCount!==y||b.numMultiviewViews!==g)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,b.__version=r.version);let w=b.currentProgram;!0===x&&(w=rt(r,t,i));let C=!1,E=!1,S=!1;const M=w.getUniforms(),I=b.uniforms;me.useProgram(w.program)&&(C=!0,E=!0,S=!0);r.id!==O&&(O=r.id,E=!0);if(C||L!==e){if(w.numMultiviewViews>0)Re.updateCameraProjectionMatricesUniform(e,M),Re.updateCameraViewMatricesUniform(e,M);else{me.buffers.depth.getReversed()?(ae.copy(e.projectionMatrix),(0,s.xiE)(ae),(0,s.Mmk)(ae),M.setValue(Fe,"projectionMatrix",ae)):M.setValue(Fe,"projectionMatrix",e.projectionMatrix),M.setValue(Fe,"viewMatrix",e.matrixWorldInverse)}const t=M.map.cameraPosition;void 0!==t&&t.setValue(Fe,le.setFromMatrixPosition(e.matrixWorld)),fe.logarithmicDepthBuffer&&M.setValue(Fe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(Fe,"isOrthographic",!0===e.isOrthographicCamera),L!==e&&(L=e,E=!0,S=!0)}if(i.isSkinnedMesh){M.setOptional(Fe,i,"bindMatrix"),M.setOptional(Fe,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),M.setValue(Fe,"boneTexture",e.boneTexture,ye))}i.isBatchedMesh&&(M.setOptional(Fe,i,"batchingTexture"),M.setValue(Fe,"batchingTexture",i._matricesTexture,ye),M.setOptional(Fe,i,"batchingIdTexture"),M.setValue(Fe,"batchingIdTexture",i._indirectTexture,ye),M.setOptional(Fe,i,"batchingColorTexture"),null!==i._colorsTexture&&M.setValue(Fe,"batchingColorTexture",i._colorsTexture,ye));const R=n.morphAttributes;void 0===R.position&&void 0===R.normal&&void 0===R.color||Pe.update(i,n,w);(E||b.receiveShadow!==i.receiveShadow)&&(b.receiveShadow=i.receiveShadow,M.setValue(Fe,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(I.envMap.value=c,I.flipEnvMap.value=c.isCubeTexture&&!1===c.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(I.envMapIntensity.value=t.environmentIntensity);E&&(M.setValue(Fe,"toneMappingExposure",T.toneMappingExposure),b.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(I,S),o&&!0===r.fog&&Se.refreshFogUniforms(I,o),Se.refreshMaterialUniforms(I,r,Y,K,_.state.transmissionRenderTarget[e.id]),Ye.upload(Fe,it(b),I,ye));r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ye.upload(Fe,it(b),I,ye),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&M.setValue(Fe,"center",i.center);w.numMultiviewViews>0?Re.updateObjectMatricesUniforms(i,e,M):(M.setValue(Fe,"modelViewMatrix",i.modelViewMatrix),M.setValue(Fe,"normalMatrix",i.normalMatrix));if(M.setValue(Fe,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];Ne.update(n,w),Ne.bind(n,w)}}return w}(e,t,n,r,i);me.setMaterial(r,a);let c=n.index,u=1;if(!0===r.wireframe){if(c=we.getWireframeAttribute(n),void 0===c)return;u=2}const d=n.drawRange,h=n.attributes.position;let p=d.start*u,f=(d.start+d.count)*u;null!==o&&(p=Math.max(p,o.start*u),f=Math.min(f,(o.start+o.count)*u)),null!==c?(p=Math.max(p,0),f=Math.min(f,c.count)):void 0!==h&&null!==h&&(p=Math.max(p,0),f=Math.min(f,h.count));const m=f-p;if(m<0||m===1/0)return;let g;De.setup(i,r,l,n,c);let v=Be;if(null!==c&&(g=xe.get(c),v=Oe,v.setIndex(g)),i.isMesh)!0===r.wireframe?(me.setLineWidth(r.wireframeLinewidth*he()),v.setMode(Fe.LINES)):v.setMode(Fe.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),me.setLineWidth(e*he()),i.isLineSegments?v.setMode(Fe.LINES):i.isLineLoop?v.setMode(Fe.LINE_LOOP):v.setMode(Fe.LINE_STRIP)}else i.isPoints?v.setMode(Fe.POINTS):i.isSprite&&v.setMode(Fe.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(pe.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,o=c?xe.get(c).bytesPerElement:1,a=ve.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)a.setValue(Fe,"_gl_DrawID",r),v.render(e[r]/o,t[r])}else if(i.isInstancedMesh)v.renderInstances(p,m,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(p,m,t)}else v.render(p,m)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),_=Me.get(n),_.init(t),I.push(_),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(_.pushLight(e),e.castShadow&&_.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(_.pushLight(e),e.castShadow&&_.pushShadow(e))})),_.setupLights();const r=new Set;return e.traverse((function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const o=t[i];We(o,n,e),r.add(o)}else We(t,n,e),r.add(t)})),I.pop(),_=null,r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise((t=>{function n(){r.forEach((function(e){ve.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==pe.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let qe=null;function $e(){Ke.stop()}function Xe(){Ke.start()}const Ke=new l;function Je(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)_.pushLight(e),e.castShadow&&_.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||re.intersectsSprite(e)){r&&ce.setFromMatrixPosition(e.matrixWorld).applyMatrix4(se);const t=Ce.update(e),i=e.material;i.visible&&S.push(e,t,i,n,ce.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||re.intersectsObject(e))){const t=Ce.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ce.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),ce.copy(t.boundingSphere.center)),ce.applyMatrix4(e.matrixWorld).applyMatrix4(se)),Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&S.push(e,t,s,n,ce.z,a)}}else i.visible&&S.push(e,t,i,n,ce.z,null)}const i=e.children;for(let o=0,a=i.length;o<a;o++)Je(i[o],t,n,r)}function Ze(e,t,n,r){const i=e.opaque,o=e.transmissive,a=e.transparent;_.setupLightsView(n),!0===ie&&Ie.setGlobalState(T.clippingPlanes,n),r&&me.viewport(D.copy(r)),i.length>0&&tt(i,t,n),o.length>0&&tt(o,t,n),a.length>0&&tt(a,t,n),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1)}function et(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===_.state.transmissionRenderTarget[r.id]&&(_.state.transmissionRenderTarget[r.id]=new s.nWS(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")||pe.has("EXT_color_buffer_float")?s.ix0:s.OUM,minFilter:s.$_I,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:s.ppV.workingColorSpace}));const o=_.state.transmissionRenderTarget[r.id],a=r.viewport||D;o.setSize(a.z*T.transmissionResolutionScale,a.w*T.transmissionResolutionScale);const l=T.getRenderTarget();T.setRenderTarget(o),T.getClearColor(q),$=T.getClearAlpha(),$<1&&T.setClearColor(16777215,.5),T.clear(),de&&ke.render(n);const c=T.toneMapping;T.toneMapping=s.y_p;const u=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),_.setupLightsView(r),!0===ie&&Ie.setGlobalState(T.clippingPlanes,r),tt(e,n,r),ye.updateMultisampleRenderTarget(o),ye.updateRenderTargetMipmap(o),!1===pe.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,o=t.length;i<o;i++){const o=t[i],a=o.object,l=o.geometry,c=o.material,u=o.group;if(c.side===s.$EB&&a.layers.test(r.layers)){const t=c.side;c.side=s.hsX,c.needsUpdate=!0,nt(a,n,r,l,c,u),c.side=t,c.needsUpdate=!0,e=!0}}!0===e&&(ye.updateMultisampleRenderTarget(o),ye.updateRenderTargetMipmap(o))}T.setRenderTarget(l),T.setClearColor(q,$),void 0!==u&&(r.viewport=u),T.toneMapping=c}function tt(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&nt(a,t,n,s,l,c)}}function nt(e,t,n,r,i,o){e.onBeforeRender(T,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(T,t,n,r,e,o),!0===i.transparent&&i.side===s.$EB&&!1===i.forceSinglePass?(i.side=s.hsX,i.needsUpdate=!0,T.renderBufferDirect(n,t,r,i,e,o),i.side=s.hB5,i.needsUpdate=!0,T.renderBufferDirect(n,t,r,i,e,o),i.side=s.$EB):T.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(T,t,n,r,i,o)}function rt(e,t,n){!0!==t.isScene&&(t=ue);const r=ve.get(e),i=_.state.lights,o=_.state.shadowsArray,a=i.state.version,s=Ee.getParameters(e,i.state,o,t,n),l=Ee.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Ae:be).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Qe),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return ot(e,s),u}else s.uniforms=Ee.getUniforms(e),e.onBeforeCompile(s,T),u=Ee.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=Ie.uniform),ot(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function it(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Ye.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function ot(e,t){const n=ve.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping,n.numMultiviewViews=t.numMultiviewViews}Ke.setAnimationLoop((function(e){qe&&qe(e)})),"undefined"!==typeof self&&Ke.setContext(self),this.setAnimationLoop=function(e){qe=e,ze.setAnimationLoop(e),null===e?Ke.stop():Ke.start()},ze.addEventListener("sessionstart",$e),ze.addEventListener("sessionend",Xe),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===R)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ze.enabled&&!0===ze.isPresenting&&(!0===ze.cameraAutoUpdate&&ze.updateCamera(t),t=ze.getCamera()),!0===e.isScene&&e.onBeforeRender(T,e,t,B),_=Me.get(e,I.length),_.init(t),I.push(_),se.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),re.setFromProjectionMatrix(se),oe=this.localClippingEnabled,ie=Ie.init(this.clippingPlanes,oe),S=_e.get(e,M.length),S.init(),M.push(S),!0===ze.enabled&&!0===ze.isPresenting){const e=T.xr.getDepthSensingMesh();null!==e&&Je(e,t,-1/0,T.sortObjects)}Je(e,t,0,T.sortObjects),S.finish(),!0===T.sortObjects&&S.sort(J,Z),de=!1===ze.enabled||!1===ze.isPresenting||!1===ze.hasDepthSensing(),de&&ke.addToRenderList(S,e),this.info.render.frame++,!0===ie&&Ie.beginShadows();const n=_.state.shadowsArray;Te.render(n,e,t),!0===ie&&Ie.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=S.opaque,i=S.transmissive;if(_.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,o=n.length;t<o;t++){et(r,i,e,n[t])}if(de&&ke.render(e),ze.enabled&&ze.isMultiview)ye.setDeferTextureUploads(!0),Ze(S,e,t,t.cameras[0].viewport);else for(let t=0,r=n.length;t<r;t++){const r=n[t];Ze(S,e,r,r.viewport)}}else i.length>0&&et(r,i,e,t),de&&ke.render(e),Ze(S,e,t);null!==B&&0===P&&(ye.updateMultisampleRenderTarget(B),ye.updateRenderTargetMipmap(B)),!0===e.isScene&&e.onAfterRender(T,e,t),De.resetDefaultState(),O=-1,L=null,I.pop(),I.length>0?(_=I[I.length-1],!0===ie&&Ie.setGlobalState(T.clippingPlanes,_.state.camera)):_=null,M.pop(),S=M.length>0?M[M.length-1]:null},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),ye.setTexture2D(t,n)}}(),this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(e,t,n){ve.get(e.texture).__webglTexture=t,ve.get(e.depthTexture).__webglTexture=n;const r=ve.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||B&&B.isWebGLMultiviewRenderTarget||!0===pe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=ve.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const at=Fe.createFramebuffer();this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;null===e&&this.xr.isPresenting&&(e=this.xr.getRenderTarget()),B=e,k=t,P=n;let r=!0,i=null,o=!1,a=!1;if(e){const s=ve.get(e);if(void 0!==s.__useDefaultFramebuffer)me.bindFramebuffer(Fe.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)ye.setupRenderTarget(e);else if(s.__hasExternalTextures)ye.rebindTextures(e,ve.get(e.texture).__webglTexture,ve.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&ve.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ye.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=ve.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],o=!0):i=e.samples>0&&!1===ye.useMultisampledRTT(e)?ve.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,D.copy(e.viewport),N.copy(e.scissor),F=e.scissorTest}else D.copy(ee).multiplyScalar(Y).floor(),N.copy(te).multiplyScalar(Y).floor(),F=ne;0!==n&&(i=at);if(me.bindFramebuffer(Fe.FRAMEBUFFER,i)&&r&&me.drawBuffers(e,i),me.viewport(D),me.scissor(N),me.setScissorTest(F),o){const r=ve.get(e.texture);Fe.framebufferTexture2D(Fe.FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=ve.get(e.texture),i=t;Fe.framebufferTextureLayer(Fe.FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,r.__webglTexture,n,i)}else if(null!==e&&0!==n){const t=ve.get(e.texture);Fe.framebufferTexture2D(Fe.FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,t.__webglTexture,n)}O=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=ve.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){me.bindFramebuffer(Fe.FRAMEBUFFER,s);try{const a=e.texture,s=a.format,l=a.type;if(!fe.textureFormatReadable(s))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!fe.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Fe.readPixels(t,n,r,i,Le.convert(s),Le.convert(l),o)}finally{const e=null!==B?ve.get(B).__webglFramebuffer:null;me.bindFramebuffer(Fe.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=ve.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(l=l[a]),l){const a=e.texture,c=a.format,u=a.type;if(!fe.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!fe.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){me.bindFramebuffer(Fe.FRAMEBUFFER,l);const e=Fe.createBuffer();Fe.bindBuffer(Fe.PIXEL_PACK_BUFFER,e),Fe.bufferData(Fe.PIXEL_PACK_BUFFER,o.byteLength,Fe.STREAM_READ),Fe.readPixels(t,n,r,i,Le.convert(c),Le.convert(u),0);const a=null!==B?ve.get(B).__webglFramebuffer:null;me.bindFramebuffer(Fe.FRAMEBUFFER,a);const d=Fe.fenceSync(Fe.SYNC_GPU_COMMANDS_COMPLETE,0);return Fe.flush(),await(0,s.jej)(Fe,d,4),Fe.bindBuffer(Fe.PIXEL_PACK_BUFFER,e),Fe.getBufferSubData(Fe.PIXEL_PACK_BUFFER,0,o),Fe.deleteBuffer(e),Fe.deleteSync(d),o}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!0!==e.isTexture&&((0,s.mcG)("WebGLRenderer: copyFramebufferToTexture function signature has changed."),t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r),a=null!==t?t.x:0,l=null!==t?t.y:0;ye.setTexture2D(e,0),Fe.copyTexSubImage2D(Fe.TEXTURE_2D,n,0,0,a,l,i,o),me.unbindTexture()};const st=Fe.createFramebuffer(),lt=Fe.createFramebuffer();this.copyTextureToTexture=function(e,t){let n,r,i,o,a,l,c,u,d,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;!0!==e.isTexture&&((0,s.mcG)("WebGLRenderer: copyTextureToTexture function signature has changed."),p=arguments[0]||null,e=arguments[1],t=arguments[2],m=arguments[3]||0,h=null),null===m&&(0!==f?((0,s.mcG)("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),m=f,f=0):m=0);const g=e.isCompressedTexture?e.mipmaps[m]:e.image;if(null!==h)n=h.max.x-h.min.x,r=h.max.y-h.min.y,i=h.isBox3?h.max.z-h.min.z:1,o=h.min.x,a=h.min.y,l=h.isBox3?h.min.z:0;else{const t=Math.pow(2,-f);n=Math.floor(g.width*t),r=Math.floor(g.height*t),i=e.isDataArrayTexture?g.depth:e.isData3DTexture?Math.floor(g.depth*t):1,o=0,a=0,l=0}null!==p?(c=p.x,u=p.y,d=p.z):(c=0,u=0,d=0);const v=Le.convert(t.format),y=Le.convert(t.type);let b;t.isData3DTexture?(ye.setTexture3D(t,0),b=Fe.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(ye.setTexture2DArray(t,0),b=Fe.TEXTURE_2D_ARRAY):(ye.setTexture2D(t,0),b=Fe.TEXTURE_2D),Fe.pixelStorei(Fe.UNPACK_FLIP_Y_WEBGL,t.flipY),Fe.pixelStorei(Fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Fe.pixelStorei(Fe.UNPACK_ALIGNMENT,t.unpackAlignment);const A=Fe.getParameter(Fe.UNPACK_ROW_LENGTH),x=Fe.getParameter(Fe.UNPACK_IMAGE_HEIGHT),w=Fe.getParameter(Fe.UNPACK_SKIP_PIXELS),C=Fe.getParameter(Fe.UNPACK_SKIP_ROWS),E=Fe.getParameter(Fe.UNPACK_SKIP_IMAGES);Fe.pixelStorei(Fe.UNPACK_ROW_LENGTH,g.width),Fe.pixelStorei(Fe.UNPACK_IMAGE_HEIGHT,g.height),Fe.pixelStorei(Fe.UNPACK_SKIP_PIXELS,o),Fe.pixelStorei(Fe.UNPACK_SKIP_ROWS,a),Fe.pixelStorei(Fe.UNPACK_SKIP_IMAGES,l);const S=e.isDataArrayTexture||e.isData3DTexture,_=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const s=ve.get(e),h=ve.get(t),p=ve.get(s.__renderTarget),g=ve.get(h.__renderTarget);me.bindFramebuffer(Fe.READ_FRAMEBUFFER,p.__webglFramebuffer),me.bindFramebuffer(Fe.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let v=0;v<i;v++)S&&(Fe.framebufferTextureLayer(Fe.READ_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,ve.get(e).__webglTexture,f,l+v),Fe.framebufferTextureLayer(Fe.DRAW_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,ve.get(t).__webglTexture,m,d+v)),Fe.blitFramebuffer(o,a,n,r,c,u,n,r,Fe.DEPTH_BUFFER_BIT,Fe.NEAREST);me.bindFramebuffer(Fe.READ_FRAMEBUFFER,null),me.bindFramebuffer(Fe.DRAW_FRAMEBUFFER,null)}else if(0!==f||e.isRenderTargetTexture||ve.has(e)){const s=ve.get(e),h=ve.get(t);me.bindFramebuffer(Fe.READ_FRAMEBUFFER,st),me.bindFramebuffer(Fe.DRAW_FRAMEBUFFER,lt);for(let e=0;e<i;e++)S?Fe.framebufferTextureLayer(Fe.READ_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,s.__webglTexture,f,l+e):Fe.framebufferTexture2D(Fe.READ_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,s.__webglTexture,f),_?Fe.framebufferTextureLayer(Fe.DRAW_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,h.__webglTexture,m,d+e):Fe.framebufferTexture2D(Fe.DRAW_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,h.__webglTexture,m),0!==f?Fe.blitFramebuffer(o,a,n,r,c,u,n,r,Fe.COLOR_BUFFER_BIT,Fe.NEAREST):_?Fe.copyTexSubImage3D(b,m,c,u,d+e,o,a,n,r):Fe.copyTexSubImage2D(b,m,c,u,o,a,n,r);me.bindFramebuffer(Fe.READ_FRAMEBUFFER,null),me.bindFramebuffer(Fe.DRAW_FRAMEBUFFER,null)}else _?e.isDataTexture||e.isData3DTexture?Fe.texSubImage3D(b,m,c,u,d,n,r,i,v,y,g.data):t.isCompressedArrayTexture?Fe.compressedTexSubImage3D(b,m,c,u,d,n,r,i,v,g.data):Fe.texSubImage3D(b,m,c,u,d,n,r,i,v,y,g):e.isDataTexture?Fe.texSubImage2D(Fe.TEXTURE_2D,m,c,u,n,r,v,y,g.data):e.isCompressedTexture?Fe.compressedTexSubImage2D(Fe.TEXTURE_2D,m,c,u,g.width,g.height,v,g.data):Fe.texSubImage2D(Fe.TEXTURE_2D,m,c,u,n,r,v,y,g);Fe.pixelStorei(Fe.UNPACK_ROW_LENGTH,A),Fe.pixelStorei(Fe.UNPACK_IMAGE_HEIGHT,x),Fe.pixelStorei(Fe.UNPACK_SKIP_PIXELS,w),Fe.pixelStorei(Fe.UNPACK_SKIP_ROWS,C),Fe.pixelStorei(Fe.UNPACK_SKIP_IMAGES,E),0===m&&t.generateMipmaps&&Fe.generateMipmap(b),me.unbindTexture()},this.copyTextureToTexture3D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return!0!==e.isTexture&&((0,s.mcG)("WebGLRenderer: copyTextureToTexture3D function signature has changed."),n=arguments[0]||null,r=arguments[1]||null,e=arguments[2],t=arguments[3],i=arguments[4]||0),(0,s.mcG)('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,i)},this.initRenderTarget=function(e){void 0===ve.get(e).__webglFramebuffer&&ye.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ye.setTextureCube(e,0):e.isData3DTexture?ye.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ye.setTexture2DArray(e,0):ye.setTexture2D(e,0),me.unbindTexture()},this.resetState=function(){k=0,P=0,B=null,me.reset(),De.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return s.TdN}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=s.ppV._getDrawingBufferColorSpace(e),t.unpackColorSpace=s.ppV._getUnpackColorSpace()}}var Wt={8167:e=>{var t=Object.prototype.toString;e.exports=function(e){return e.BYTES_PER_ELEMENT&&"[object ArrayBuffer]"===t.call(e.buffer)||Array.isArray(e)}},5734:e=>{e.exports=function(e,t){return"number"==typeof e?e:"number"==typeof t?t:0}},7961:(e,t)=>{t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},911:(e,t,n)=>{var r=n(9922).hp;e.exports=function(e,t){if(r.isBuffer(e)&&r.isBuffer(t)){if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}}},9922:(e,t,n)=>{const r=n(7961),i=n(1024),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function A(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(K(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return $(W(t,e.length-n),e,n,r)}function w(e,t,n,r){return $(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return $(q(t),e,n,r)}function E(e,t,n,r){return $(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=M));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n);for(let l=0;l<s;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Y[e[o]];return i}function k(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function L(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){V(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||B(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||B(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);B(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const j={};function U(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function H(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||G(t,e.length-(n+1))}(r,i,o)}function V(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,n){if(Math.floor(e)!==e)throw V(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=z(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=z(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const Q=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},9089:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},6492:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},963:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},8878:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_BASE_URL:"https://dev.satisfactorytracker.com",REACT_APP_API_BASE_URL_LOCAL:"http://localhost:5000/",REACT_APP_RECAPTCHA_SITE_KEY:"6LeyCZ0qAAAAAAj6Hid0OE_wtQsoTd57FfSskc3k",REACT_APP_RUN_MODE:"prod"}.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(8945)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},8945:(e,t,n)=>{e.exports=function(e){function t(e){let n,i,o,a=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(!s.enabled)return;const o=s,a=Number(new Date),l=a-(n||a);o.diff=l,o.prev=n,o.curr=a,n=a,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");let c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,((e,n)=>{if("%%"===e)return"%";c++;const i=t.formatters[n];if("function"==typeof i){const t=r[c];e=i.call(o,t),r.splice(c,1),c--}return e})),t.formatArgs.call(o,r),(o.log||t.log).apply(o,r)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(9192),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},1124:(e,t,n)=>{var r=n(6240),i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e,t,n){var o=t[n];if(null!=o){if(i.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");i.call(e,n)&&r(o)?e[n]=s(Object(e[n]),t[n]):e[n]=o}}function s(e,t){if(e===t)return e;for(var n in t=Object(t))i.call(t,n)&&a(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),s=0;s<r.length;s++)o.call(t,r[s])&&a(e,t,r[s]);return e}e.exports=function(e){e=function(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}(e);for(var t=1;t<arguments.length;t++)s(e,arguments[t]);return e}},8480:e=>{e.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},919:(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},1024:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}},2225:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},8847:e=>{e.exports=function(e){if(!e)return!1;var n=t.call(e);return"[object Function]"===n||"function"==typeof e&&"[object RegExp]"!==n||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},6240:e=>{e.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},5651:(e,t,n)=>{var r=n(5406),i=n(4597),o=n(5734),a=["x","e","a","o","n","s","r","c","u","m","v","w","z"],s=["m","w"],l=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],c="\t".charCodeAt(0),u=" ".charCodeAt(0);function d(e){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(e)}function h(e){return new Function(["return function "+e+"() {","  return this._"+e,"}"].join("\n"))()}function p(e,t){if(!e.chars||0===e.chars.length)return null;var n=m(e.chars,t);return n>=0?e.chars[n]:null}function f(e,t,n){if(!e.kernings||0===e.kernings.length)return 0;for(var r=e.kernings,i=0;i<r.length;i++){var o=r[i];if(o.first===t&&o.second===n)return o.amount}return 0}function m(e,t,n){for(var r=n=n||0;r<e.length;r++)if(e[r].id===t)return r;return-1}e.exports=function(e){return new d(e)},d.prototype.update=function(e){if(e=i({measure:this._measure},e),this._opt=e,this._opt.tabSize=o(this._opt.tabSize,4),!e.font)throw new Error("must provide a valid bitmap font");var t=this.glyphs,n=e.text||"",s=e.font;this._setupSpaceGlyphs(s);var c=r.lines(n,e),u=e.width||0;t.length=0;var d=c.reduce((function(e,t){return Math.max(e,t.width,u)}),0),h=0,p=0,g=o(e.lineHeight,s.common.lineHeight),v=s.common.base,y=g-v,b=e.letterSpacing||0,A=g*c.length-y,x=function(e){return"center"===e?1:"right"===e?2:0}(this._opt.align);p-=A,this._width=d,this._height=A,this._descender=g-v,this._baseline=v,this._xHeight=function(e){for(var t=0;t<a.length;t++){var n=a[t].charCodeAt(0),r=m(e.chars,n);if(r>=0)return e.chars[r].height}return 0}(s),this._capHeight=function(e){for(var t=0;t<l.length;t++){var n=l[t].charCodeAt(0),r=m(e.chars,n);if(r>=0)return e.chars[r].height}return 0}(s),this._lineHeight=g,this._ascender=g-y-this._xHeight;var w=this;c.forEach((function(e,r){for(var i,o=e.start,a=e.end,l=e.width,c=o;c<a;c++){var u=n.charCodeAt(c),m=w.getGlyph(s,u);if(m){i&&(h+=f(s,i.id,m.id));var v=h;1===x?v+=(d-l)/2:2===x&&(v+=d-l),t.push({position:[v,p],data:m,index:c,line:r}),h+=m.xadvance+b,i=m}}p+=g,h=0})),this._linesTotal=c.length},d.prototype._setupSpaceGlyphs=function(e){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,e.chars&&0!==e.chars.length){var t=p(e,u)||function(e){for(var t=0;t<s.length;t++){var n=s[t].charCodeAt(0),r=m(e.chars,n);if(r>=0)return e.chars[r]}return 0}(e)||e.chars[0],n=this._opt.tabSize*t.xadvance;this._fallbackSpaceGlyph=t,this._fallbackTabGlyph=i(t,{x:0,y:0,xadvance:n,id:c,xoffset:0,yoffset:0,width:0,height:0})}},d.prototype.getGlyph=function(e,t){return p(e,t)||(t===c?this._fallbackTabGlyph:t===u?this._fallbackSpaceGlyph:null)},d.prototype.computeMetrics=function(e,t,n,r){var i,o=this._opt.letterSpacing||0,a=this._opt.font,s=0,l=0,c=0;if(!a.chars||0===a.chars.length)return{start:t,end:t,width:0};n=Math.min(e.length,n);for(var u=t;u<n;u++){var d,h=e.charCodeAt(u);if(d=this.getGlyph(a,h)){d.xoffset;var p=(s+=i?f(a,i.id,d.id):0)+d.xadvance+o,m=s+d.width;if(m>=r||p>=r)break;s=p,l=m,i=d}c++}return i&&(l+=i.xoffset),{start:t,end:t+c,width:l}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach((function(e){Object.defineProperty(d.prototype,e,{get:h(e),configurable:!0})}))},5751:(e,t,n)=>{var r=n(9922).hp,i=n(3558),o=function(){},a=n(1476),s=n(7034),l=n(7480),c=n(573),u=n(4597),d=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;e.exports=function(e,t){t="function"==typeof t?t:o,"string"==typeof e?e={uri:e}:e||(e={}),e.binary&&(e=function(e){if(d)return u(e,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;return t.overrideMimeType("text/plain; charset=x-user-defined"),u({xhr:t},e)}(e)),i(e,(function(n,i,u){if(n)return t(n);if(!/^2/.test(i.statusCode))return t(new Error("http status code: "+i.statusCode));if(!u)return t(new Error("no body result"));var d,h,p=!1;if(d=u,"[object ArrayBuffer]"===Object.prototype.toString.call(d)){var f=new Uint8Array(u);u=r.from(f,"binary")}c(u)&&(p=!0,"string"==typeof u&&(u=r.from(u,"binary"))),p||(r.isBuffer(u)&&(u=u.toString(e.encoding)),u=u.trim());try{var m=i.headers["content-type"];h=p?l(u):/json/.test(m)||"{"===u.charAt(0)?JSON.parse(u):/xml/.test(m)||"<"===u.charAt(0)?s(u):a(u)}catch(e){t(new Error("error parsing font "+e.message)),t=o}t(null,h)}))}},573:(e,t,n)=>{var r=n(9922).hp,i=n(911),o=r.from([66,77,70,3]);e.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&i(e.slice(0,4),o)}},9192:e=>{var t=1e3,n=60*t,r=60*n,i=24*r,o=7*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,s){s=s||{};var l,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(l=e,(c=Math.abs(l))>=i?a(l,c,i,"day"):c>=r?a(l,c,r,"hour"):c>=n?a(l,c,n,"minute"):c>=t?a(l,c,t,"second"):l+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1476:e=>{function t(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var r=e.indexOf(" ");if(-1===r)throw new Error("no named row at line "+t);var i=e.substring(0,r);e=(e=(e=(e=e.substring(r+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map((function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));for(var o=[],a=0;a<e.length;a++){var s=e[a];0===a?o.push({key:s[0],data:""}):a===e.length-1?o[o.length-1].data=n(s[0]):(o[o.length-1].data=n(s[0]),o.push({key:s[1],data:""}))}var l={key:i,data:{}};return o.forEach((function(e){l.data[e.key]=e.data})),l}function n(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?function(e){return e.split(",").map((function(e){return parseInt(e,10)}))}(e):parseInt(e,10):""}e.exports=function(e){if(!e)throw new Error("no data provided");var n={pages:[],chars:[],kernings:[]},r=(e=e.toString().trim()).split(/\r\n?|\n/g);if(0===r.length)throw new Error("no data in BMFont file");for(var i=0;i<r.length;i++){var o=t(r[i],i);if(o)if("page"===o.key){if("number"!=typeof o.data.id)throw new Error("malformed file at line "+i+" -- needs page id=N");if("string"!=typeof o.data.file)throw new Error("malformed file at line "+i+' -- needs page file="path"');n.pages[o.data.id]=o.data.file}else"chars"===o.key||"kernings"===o.key||("char"===o.key?n.chars.push(o.data):"kerning"===o.key?n.kernings.push(o.data):n[o.key]=o.data)}return n}},7480:e=>{var t=[66,77,70];function n(e,t,n){if(n>t.length-1)return 0;var i=t.readUInt8(n++),o=t.readInt32LE(n);switch(n+=4,i){case 1:e.info=function(e,t){var n={};n.size=e.readInt16LE(t);var i=e.readUInt8(t+2);return n.smooth=i>>7&1,n.unicode=i>>6&1,n.italic=i>>5&1,n.bold=i>>4&1,i>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=function(e,t){return r(e,t).toString("utf8")}(e,t+14),n}(t,n);break;case 2:e.common=function(e,t){var n={};return n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}(t,n);break;case 3:e.pages=function(e,t,n){for(var i=[],o=r(e,t),a=o.length+1,s=n/a,l=0;l<s;l++)i[l]=e.slice(t,t+o.length).toString("utf8"),t+=a;return i}(t,n,o);break;case 4:e.chars=function(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var a={},s=20*o;a.id=e.readUInt32LE(t+0+s),a.x=e.readUInt16LE(t+4+s),a.y=e.readUInt16LE(t+6+s),a.width=e.readUInt16LE(t+8+s),a.height=e.readUInt16LE(t+10+s),a.xoffset=e.readInt16LE(t+12+s),a.yoffset=e.readInt16LE(t+14+s),a.xadvance=e.readInt16LE(t+16+s),a.page=e.readUInt8(t+18+s),a.chnl=e.readUInt8(t+19+s),r[o]=a}return r}(t,n,o);break;case 5:e.kernings=function(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var a={},s=10*o;a.first=e.readUInt32LE(t+0+s),a.second=e.readUInt32LE(t+4+s),a.amount=e.readInt16LE(t+8+s),r[o]=a}return r}(t,n,o)}return 5+o}function r(e,t){for(var n=t;n<e.length&&0!==e[n];n++);return e.slice(t,n)}e.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var r=t.every((function(t,n){return e.readUInt8(n)===t}));if(!r)throw new Error("BMFont missing BMF byte header");var i=3;if(e.readUInt8(i++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var o={kernings:[],chars:[]},a=0;a<5;a++)i+=n(o,e,i);return o}},7034:(e,t,n)=>{var r=n(7829),i=n(1896),o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function a(e){var t=function(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}(e);return t.reduce((function(e,t){var n;return e[(n=t.nodeName,o[n.toLowerCase()]||n)]=t.nodeValue,e}),{})}e.exports=function(e){e=e.toString();var t=i(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var i=t.getElementsByTagName(e)[0];i&&(n[e]=r(a(i)))}));var o=t.getElementsByTagName("pages")[0];if(!o)throw new Error("malformed file -- no <pages> element");for(var s=o.getElementsByTagName("page"),l=0;l<s.length;l++){var c=s[l],u=parseInt(c.getAttribute("id"),10),d=c.getAttribute("file");if(isNaN(u))throw new Error('malformed file -- page "id" attribute is NaN');if(!d)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(u,10)]=d}return["chars","kernings"].forEach((function(e){var i=t.getElementsByTagName(e)[0];if(i)for(var o=e.substring(0,e.length-1),s=i.getElementsByTagName(o),l=0;l<s.length;l++){var c=s[l];n[e].push(r(a(c)))}})),n}},7829:e=>{var t="chasrset";e.exports=function(e){for(var n in e=Object.assign({},e),t in e&&(e.charset=e[t],delete e[t]),e)"face"!==n&&"charset"!==n&&(e[n]="padding"===n||"spacing"===n?e[n].split(",").map((function(e){return parseInt(e,10)})):parseInt(e[n],10));return e}},3216:e=>{var t=function(e){return e.replace(/^\s+|\s+$/g,"")};e.exports=function(e){if(!e)return{};for(var n,r={},i=t(e).split("\n"),o=0;o<i.length;o++){var a=i[o],s=a.indexOf(":"),l=t(a.slice(0,s)).toLowerCase(),c=t(a.slice(s+1));void 0===r[l]?r[l]=c:(n=r[l],"[object Array]"===Object.prototype.toString.call(n)?r[l].push(c):r[l]=[r[l],c])}return r}},9035:(e,t,n)=>{var r=n(8480),i=n(8167),o=n(2225),a=[0,2,3],s=[2,1,3];e.exports=function(e,t){e&&(i(e)||o(e))||(t=e||{},e=null);for(var n="string"==typeof(t="number"==typeof t?{count:t}:t||{}).type?t.type:"uint16",l="number"==typeof t.count?t.count:1,c=t.start||0,u=!1!==t.clockwise?a:s,d=u[0],h=u[1],p=u[2],f=6*l,m=e||new(r(n))(f),g=0,v=0;g<f;g+=6,v+=4){var y=g+c;m[y+0]=v+0,m[y+1]=v+1,m[y+2]=v+2,m[y+3]=v+d,m[y+4]=v+h,m[y+5]=v+p}return m}},4433:(e,t,n)=>{var r=n(5651),i=n(9035),o=n(7106),a=n(1684);e.exports=function(e){return new s(e)};class s extends THREE.BufferGeometry{constructor(e){super(),"string"==typeof e&&(e={text:e}),this._opt=Object.assign({},e),e&&this.update(e)}update(e){if("string"==typeof e&&(e={text:e}),!(e=Object.assign({},this._opt,e)).font)throw new TypeError("must specify a { font } in options");this.layout=r(e);var t=!1!==e.flipY,n=e.font,a=n.common.scaleW,s=n.common.scaleH,l=this.layout.glyphs.filter((function(e){var t=e.data;return t.width*t.height>0}));this.visibleGlyphs=l;var c=o.positions(l),u=o.uvs(l,a,s,t),d=i([],{clockwise:!0,type:"uint16",count:l.length});if(this.setIndex(d),this.setAttribute("position",new THREE.BufferAttribute(c,2)),this.setAttribute("uv",new THREE.BufferAttribute(u,2)),!e.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(e.multipage){var h=o.pages(l);this.setAttribute("page",new THREE.BufferAttribute(h,1))}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array,t=this.attributes.position.itemSize;if(!e||!t||e.length<2)return this.boundingSphere.radius=0,void this.boundingSphere.center.set(0,0,0);a.computeSphere(e,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.boundingBox,t=this.attributes.position.array,n=this.attributes.position.itemSize;!t||!n||t.length<2?e.makeEmpty():a.computeBox(t,e)}}},1684:e=>{var t={min:[0,0],max:[0,0]};function n(e){var n=e.length/2;t.min[0]=e[0],t.min[1]=e[1],t.max[0]=e[0],t.max[1]=e[1];for(var r=0;r<n;r++){var i=e[2*r+0],o=e[2*r+1];t.min[0]=Math.min(i,t.min[0]),t.min[1]=Math.min(o,t.min[1]),t.max[0]=Math.max(i,t.max[0]),t.max[1]=Math.max(o,t.max[1])}}e.exports.computeBox=function(e,r){n(e),r.min.set(t.min[0],t.min[1],0),r.max.set(t.max[0],t.max[1],0)},e.exports.computeSphere=function(e,r){n(e);var i=t.min[0],o=t.min[1],a=t.max[0]-i,s=t.max[1]-o,l=Math.sqrt(a*a+s*s);r.center.set(i+a/2,o+s/2,0),r.radius=l/2}},7106:e=>{e.exports.pages=function(e){var t=new Float32Array(4*e.length*1),n=0;return e.forEach((function(e){var r=e.data.page||0;t[n++]=r,t[n++]=r,t[n++]=r,t[n++]=r})),t},e.exports.uvs=function(e,t,n,r){var i=new Float32Array(4*e.length*2),o=0;return e.forEach((function(e){var a=e.data,s=a.x+a.width,l=a.y+a.height,c=a.x/t,u=a.y/n,d=s/t,h=l/n;r&&(u=(n-a.y)/n,h=(n-l)/n),i[o++]=c,i[o++]=u,i[o++]=c,i[o++]=h,i[o++]=d,i[o++]=h,i[o++]=d,i[o++]=u})),i},e.exports.positions=function(e){var t=new Float32Array(4*e.length*2),n=0;return e.forEach((function(e){var r=e.data,i=e.position[0]+r.xoffset,o=e.position[1]+r.yoffset,a=r.width,s=r.height;t[n++]=i,t[n++]=o,t[n++]=i,t[n++]=o+s,t[n++]=i+a,t[n++]=o+s,t[n++]=i+a,t[n++]=o})),t}},5406:e=>{var t=/\n/,n=/\s/;function r(e,t,n,r){var i=e.indexOf(t,n);return-1===i||i>r?r:i}function i(e){return n.test(e)}function o(e,t,n,r){return{start:t,end:t+Math.min(r,n-t)}}e.exports=function(t,n){return e.exports.lines(t,n).map((function(e){return t.substring(e.start,e.end)})).join("\n")},e.exports.lines=function(e,n){if(0===(n=n||{}).width&&"nowrap"!==n.mode)return[];e=e||"";var a="number"==typeof n.width?n.width:Number.MAX_VALUE,s=Math.max(0,n.start||0),l="number"==typeof n.end?n.end:e.length,c=n.mode,u=n.measure||o;return"pre"===c?function(e,n,r,i,o){for(var a=[],s=r,l=r;l<i&&l<n.length;l++){var c=n.charAt(l),u=t.test(c);if(u||l===i-1){var d=e(n,s,u?l:l+1,o);a.push(d),s=l+1}}return a}(u,e,s,l,a):function(e,t,n,o,a,s){var l=[],c=a;for("nowrap"===s&&(c=Number.MAX_VALUE);n<o&&n<t.length;){for(var u=r(t,"\n",n,o);n<u&&i(t.charAt(n));)n++;var d=e(t,n,u,c),h=n+(d.end-d.start),p=h+1;if(h<u){for(;h>n&&!i(t.charAt(h));)h--;if(h===n)p>n+1&&p--,h=p;else for(p=h;h>n&&i(t.charAt(h-1));)h--}if(h>=n){var f=e(t,n,h,c);l.push(f)}n=p}return l}(u,e,s,l,a,c)}},3558:(e,t,n)=>{var r=n(919),i=n(8847),o=n(3216),a=n(4597);function s(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function l(e,t,n){return c(t=s(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(u),v)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function a(){if(!c){var t;clearTimeout(d),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var i=y,a=null;return 0!==t?(i={body:r(),statusCode:t,method:p,headers:{},url:h,rawRequest:u},u.getAllResponseHeaders&&(i.headers=o(u.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,i,i.body)}}var s,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var d,h=u.url=e.uri||e.url,p=u.method=e.method||"GET",f=e.body||e.data,m=u.headers=e.headers||{},g=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:u};if("json"in e&&!1!==e.json&&(v=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(a,0)},u.onload=a,u.onerror=i,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=i,u.open(p,h,!g,e.username,e.password),g||(u.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(d=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(s in m)m.hasOwnProperty(s)&&u.setRequestHeader(s,m[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}e.exports=l,e.exports.default=l,l.XMLHttpRequest=r.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),c(n)}}))},1896:e=>{e.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},4597:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},8132:()=>{window.aframeStats=function(e){var t=null,n=e;return{update:function(){var e;t("te").set((e=n.querySelectorAll("*"),Array.prototype.slice.call(e).filter((function(e){return e.isEntity})),e.length)),window.performance.getEntriesByName&&t("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))},start:function(){},end:function(){},attach:function(e){t=e},values:{te:{caption:"Entities"},lt:{caption:"Load Time"}},groups:[{caption:"A-Frame",values:["te","lt"]}],fractions:[]}}},3729:e=>{window.glStats=function(){var e=null,t=0,n=0,r=0,i=0,o=0,a=0,s=0;function l(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}return WebGLRenderingContext.prototype.drawArrays=l(WebGLRenderingContext.prototype.drawArrays,(function(){t++,arguments[0]==this.POINTS?a+=arguments[2]:o+=arguments[2]})),WebGLRenderingContext.prototype.drawElements=l(WebGLRenderingContext.prototype.drawElements,(function(){n++,i+=arguments[1]/3,o+=arguments[1]})),WebGLRenderingContext.prototype.useProgram=l(WebGLRenderingContext.prototype.useProgram,(function(){r++})),WebGLRenderingContext.prototype.bindTexture=l(WebGLRenderingContext.prototype.bindTexture,(function(){s++})),{update:function(){e("allcalls").set(t+n),e("drawElements").set(n),e("drawArrays").set(t),e("bindTexture").set(s),e("useProgram").set(r),e("glfaces").set(i),e("glvertices").set(o),e("glpoints").set(a)},start:function(){t=0,n=0,r=0,i=0,o=0,a=0,s=0},end:function(){},attach:function(t){e=t},values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){var t=null;return{update:function(){t("renderer.info.memory.geometries").set(e.info.memory.geometries),t("renderer.info.programs").set(e.info.programs?.length??NaN),t("renderer.info.memory.textures").set(e.info.memory.textures),t("renderer.info.render.calls").set(e.info.render.calls),t("renderer.info.render.triangles").set(e.info.render.triangles),t("renderer.info.render.points").set(e.info.render.points)},start:function(){},end:function(){},attach:function(e){t=e},values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],fractions:[]}},window.BrowserStats=function(){var e=null,t=0,n=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),0===performance.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var r=Math.log(1024);function i(e){var t=Math.floor(Math.log(e)/r);return Math.round(100*e/Math.pow(1024,t))/100}return{update:function(){t=i(performance.memory.usedJSHeapSize),n=i(performance.memory.totalJSHeapSize),e("memory").set(t),e("total").set(n)},start:function(){t=0},end:function(){},attach:function(t){e=t},values:{memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},groups:[{caption:"Browser",values:["memory","total"]}],fractions:[{base:"total",steps:["memory"]}]}},e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},282:e=>{!function(){"performance"in window==0&&(window.performance={});var e=window.performance;if("now"in e==0){var t=Date.now();e.timing&&e.timing.navigationStart&&(t=e.timing.navigationStart),e.now=function(){return Date.now()-t}}e.mark||(e.mark=function(){}),e.measure||(e.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),r=0,i=n.length;r<i;r++)t(n[r])}var n=e||{},r=n.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],i=(n.CSSPath?n.CSSPath:"")+"rStats.css";(n.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",i]).forEach((function(e){var t,n;t=e,(n=document.createElement("link")).href=t,n.rel="stylesheet",n.type="text/css",document.getElementsByTagName("head")[0].appendChild(n)})),n.values||(n.values={});var o,a,s=10,l={};function c(e,t,n){var r=n||{},i=document.createElement("canvas"),o=i.getContext("2d"),a=0,l=0,c=r.color?r.color:"#666666",u=document.createElement("canvas"),d=u.getContext("2d");u.width=1,u.height=20,d.fillStyle="#444444",d.fillRect(0,0,1,20),d.fillStyle=c,d.fillRect(0,s,1,s),d.fillStyle="#ffffff",d.globalAlpha=.5,d.fillRect(0,s,1,1),d.globalAlpha=1;var h=document.createElement("canvas"),p=h.getContext("2d");return h.width=1,h.height=20,p.fillStyle="#444444",p.fillRect(0,0,1,20),p.fillStyle="#b70000",p.fillRect(0,s,1,s),p.globalAlpha=.5,p.fillStyle="#ffffff",p.fillRect(0,s,1,1),p.globalAlpha=1,i.width=200,i.height=s,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height),{draw:function(e,t){(l+=.1*(e-l))>(a*=.99)&&(a=l),o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height),t?o.drawImage(h,i.width-1,i.height-l*i.height/a-s):o.drawImage(u,i.width-1,i.height-l*i.height/a-s)}}}function u(e,n){var i=document.createElement("canvas"),o=i.getContext("2d");return i.width=200,i.height=s*n,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),o.fillStyle="#444444",o.fillRect(0,0,i.width,i.height),{draw:function(e){o.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height);var n=0;t(e,(function(t){var a=e[t]*i.height;o.fillStyle=r[t],o.fillRect(i.width-1,n,1,a),n+=a}))}}}function d(e,t){var r,i=e,o=0,s=0,l=0,u=0,d=performance.now(),h=0,p=document.createElement("div"),f=document.createElement("span"),m=document.createElement("div"),g=document.createTextNode(""),v=n?n.values[i.toLowerCase()]:null,y=new c(p,i,v),b=!1;function A(e){if(v&&v.average){u+=e,h++;var t=performance.now();t-d>=(v.avgMs||1e3)&&(l=u/h,u=0,d=t,h=0)}}function x(){r=performance.now(),n.userTimingAPI&&performance.mark(i+"-start"),b=!0}function w(){o=performance.now()-r,n.userTimingAPI&&(performance.mark(i+"-end"),b&&performance.measure(i,i+"-start",i+"-end")),A(o)}return f.className="rs-counter-id",f.textContent=v&&v.caption?v.caption:i,m.className="rs-counter-value",m.appendChild(g),p.appendChild(f),p.appendChild(m),t?t.div.appendChild(p):a.appendChild(p),r=performance.now(),{set:function(e){A(o=e)},start:x,tick:function(){w(),x()},end:w,frame:function(){var e=performance.now(),t=e-r;s++,t>1e3&&(o=v&&!1===v.interpolate?s:1e3*s/t,s=0,r=e,A(o))},value:function(){return o},draw:function(){var e=v&&v.average?l:o;g.nodeValue=Math.round(100*e)/100;var t=v&&(v.below&&o<v.below||v.over&&o>v.over);y.draw(o,t),p.className=t?"rs-counter-base alarm":"rs-counter-base"}}}function h(e){var r=e.toLowerCase();if(void 0===r&&(r="default"),l[r])return l[r];var i=null;n&&n.groups&&t(n.groups,(function(e){var t=n.groups[parseInt(e,10)];i||-1===t.values.indexOf(r.toLowerCase())||(i=t)}));var o=new d(r,i);return l[r]=o,o}function p(){t(n.plugins,(function(e){n.plugins[e].update()})),t(l,(function(e){l[e].draw()})),n&&n.fractions&&t(n.fractions,(function(e){var r=n.fractions[parseInt(e,10)],i=[],o=l[r.base.toLowerCase()];o&&(o=o.value(),t(n.fractions[e].steps,(function(t){var r=n.fractions[e].steps[parseInt(t,10)].toLowerCase(),a=l[r];a&&i.push(a.value()/o)}))),r.graph.draw(i)}))}return function(){if(n.plugins){n.values||(n.values={}),n.groups||(n.groups=[]),n.fractions||(n.fractions=[]);for(var e=0;e<n.plugins.length;e++)n.plugins[e].attach(h),t(n.plugins[e].values,(function(t){n.values[t]=n.plugins[e].values[t]})),n.groups=n.groups.concat(n.plugins[e].groups),n.fractions=n.fractions.concat(n.plugins[e].fractions)}else n.plugins={};(o=document.createElement("div")).className="rs-base",(a=document.createElement("div")).className="rs-container",a.style.height="auto",o.appendChild(a),document.body.appendChild(o),n&&(n.groups&&t(n.groups,(function(e){var t=n.groups[parseInt(e,10)],r=document.createElement("div");r.className="rs-group",t.div=r;var i=document.createElement("h1");i.textContent=t.caption,i.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(r)),a.appendChild(i),a.appendChild(r)})),n.fractions&&t(n.fractions,(function(e){var i=n.fractions[parseInt(e,10)],o=document.createElement("div");o.className="rs-fraction";var l=document.createElement("div");l.className="rs-legend";var c=0;t(n.fractions[e].steps,(function(t){var i=document.createElement("p");i.textContent=n.fractions[e].steps[t],i.style.color=r[c],l.appendChild(i),c++})),o.appendChild(l),o.style.height=c*s+"px",i.div=o;var d=new u(o,c);i.graph=d,a.appendChild(o)})))}(),function(e){return e?h(e):{element:o,update:p}}},e.exports=window.rStats},2535:e=>{var t={base64:function(e,t){return"data:"+e+";base64,"+t},isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},isIFrame:function(){try{return window.self!==window.top}catch(e){return!0}},appendQueryParameter:function(e,t,n){var r=e.indexOf("?")<0?"?":"&";return e+(r+t+"=")+n},getQueryParameter:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},isLandscapeMode:function(){return 90==window.orientation||-90==window.orientation}};e.exports=t},5928:(e,t,n)=>{var r,i=n(2535);e.exports=(r=navigator.userAgent||navigator.vendor||window.opera).match(/iPhone/i)||r.match(/iPod/i)?function(){var e=null;this.request=function(){e||(e=setInterval((function(){window.location.href="/",setTimeout(window.stop,0)}),15e3))},this.release=function(){e&&(clearInterval(e),e=null)}}:function(){var e=document.createElement("video");e.addEventListener("ended",(function(){e.play()})),this.request=function(){e.paused&&(e.src=i.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),e.play())},this.release=function(){e.pause(),e.src=""}}},8217:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(963),i=n.n(r),o=n(9089),a=n.n(o),s=n(6492),l=n.n(s),c=new URL(n(9169),n.b),u=new URL(n(6085),n.b),d=new URL(n(3931),n.b),h=new URL(n(7889),n.b),p=new URL(n(6517),n.b),f=a()(i()),m=l()(c),g=l()(u),v=l()(d),y=l()(h),b=l()(p);f.push([e.id,`/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar.xr {\n  right: 90px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url(${m}) 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url(${g}) 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url(${v});\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url(${y}) center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: "Insert phone into Cardboard holder.";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url(${b}) no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n`,"",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:["/* .a-fullscreen means not embedded. */\nhtml.a-fullscreen {\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n}\n\nhtml.a-fullscreen body {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  padding: 0;\n  width: 100%;\n}\n\n/* Class is removed when doing <a-scene embedded>. */\nhtml.a-fullscreen .a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: fixed !important;\n}\n\nhtml:not(.a-fullscreen) .a-enter-vr,\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 5px;\n  bottom: 5px;\n}\n\nhtml:not(.a-fullscreen) .a-enter-ar {\n  right: 60px;\n}\n\n/* In chrome mobile the user agent stylesheet set it to white  */\n:-webkit-full-screen {\n  background-color: transparent;\n}\n\n.a-hidden {\n  display: none !important;\n}\n\n.a-canvas {\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.a-canvas.a-grab-cursor:hover {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\ncanvas.a-canvas.a-mouse-cursor-hover:hover {\n  cursor: pointer;\n}\n\n.a-inspector-loader {\n  background-color: #ed3160;\n  position: fixed;\n  left: 3px;\n  top: 3px;\n  padding: 6px 10px;\n  color: #fff;\n  text-decoration: none;\n  font-size: 12px;\n  font-family: Roboto,sans-serif;\n  text-align: center;\n  z-index: 99999;\n  width: 204px;\n}\n\n/* Inspector loader animation */\n@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }\n@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }\n@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }\n\n.a-inspector-loader .dots span {\n  animation: dots-1 2s infinite steps(1);\n  -webkit-animation: dots-1 2s infinite steps(1);\n}\n\n.a-inspector-loader .dots span:first-child + span {\n  animation-name: dots-2;\n  -webkit-animation-name: dots-2;\n}\n\n.a-inspector-loader .dots span:first-child + span + span {\n  animation-name: dots-3;\n  -webkit-animation-name: dots-3;\n}\n\na-scene {\n  display: block;\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\na-assets,\na-scene video,\na-scene img,\na-scene audio {\n  display: none;\n}\n\n.a-enter-vr-modal,\n.a-orientation-modal {\n  font-family: Consolas, Andale Mono, Courier New, monospace;\n}\n\n.a-enter-vr-modal a {\n  border-bottom: 1px solid #fff;\n  padding: 2px 0;\n  text-decoration: none;\n  transition: .1s color ease-in;\n}\n\n.a-enter-vr-modal a:hover {\n  background-color: #fff;\n  color: #111;\n  padding: 2px 4px;\n  position: relative;\n  left: -4px;\n}\n\n.a-enter-vr,\n.a-enter-ar {\n  font-family: sans-serif, monospace;\n  font-size: 13px;\n  width: 100%;\n  font-weight: 200;\n  line-height: 16px;\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n\n.a-enter-ar.xr {\n  right: 90px;\n}\n\n.a-enter-vr-button,\n.a-enter-vr-modal,\n.a-enter-vr-modal a {\n  color: #fff;\n  user-select: none;\n  outline: none;\n}\n\n.a-enter-vr-button {\n  background: rgba(0, 0, 0, 0.35) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat;\n}\n\n.a-enter-ar-button {\n  background: rgba(0, 0, 0, 0.20) url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E\") 50% 50% no-repeat;\n}\n\n.a-enter-vr.fullscreen .a-enter-vr-button {\n  background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E\");\n}\n\n.a-enter-vr-button,\n.a-enter-ar-button {\n  background-size: 90% 90%;\n  border: 0;\n  bottom: 0;\n  cursor: pointer;\n  min-width: 58px;\n  min-height: 34px;\n  /* 1.74418604651 */\n  /*\n    In order to keep the aspect ratio when resizing\n    padding-top percentages are relative to the containing block's width.\n    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio\n  */\n  padding-right: 0;\n  padding-top: 0;\n  position: absolute;\n  right: 0;\n  transition: background-color .05s ease;\n  -webkit-transition: background-color .05s ease;\n  z-index: 9999;\n  border-radius: 8px;\n  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */\n}\n\n.a-enter-ar-button {\n  background-size: 100% 90%;\n  border-radius: 7px;\n}\n\n.a-enter-ar-button:active,\n.a-enter-ar-button:hover,\n.a-enter-vr-button:active,\n.a-enter-vr-button:hover {\n  background-color: #ef2d5e;\n}\n\n.a-enter-vr-button.resethover {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n.a-enter-vr-modal {\n  background-color: #666;\n  border-radius: 0;\n  display: none;\n  min-height: 32px;\n  margin-right: 70px;\n  padding: 9px;\n  width: 280px;\n  right: 2%;\n  position: absolute;\n}\n\n.a-enter-vr-modal:after {\n  border-bottom: 10px solid transparent;\n  border-left: 10px solid #666;\n  border-top: 10px solid transparent;\n  display: inline-block;\n  content: '';\n  position: absolute;\n  right: -5px;\n  top: 5px;\n  width: 0;\n  height: 0;\n}\n\n.a-enter-vr-modal p,\n.a-enter-vr-modal a {\n  display: inline;\n}\n\n.a-enter-vr-modal p {\n  margin: 0;\n}\n\n.a-enter-vr-modal p:after {\n  content: ' ';\n}\n\n.a-orientation-modal {\n  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-orientation-modal:after {\n  color: #666;\n  content: \"Insert phone into Cardboard holder.\";\n  display: block;\n  position: absolute;\n  text-align: center;\n  top: 70%;\n  transform: translateY(-70%);\n  width: 100%;\n}\n\n.a-orientation-modal button {\n  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;\n  border: none;\n  height: 50px;\n  text-indent: -9999px;\n  width: 50px;\n}\n\n.a-loader-title {\n  background-color: rgba(0, 0, 0, 0.6);\n  font-family: sans-serif, monospace;\n  text-align: center;\n  font-size: 20px;\n  height: 50px;\n  font-weight: 300;\n  line-height: 50px;\n  position: absolute;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  color: white;\n}\n\n.a-modal {\n  position: absolute;\n  background: rgba(0, 0, 0, 0.60);\n  background-size: 50% 50%;\n  bottom: 0;\n  font-size: 14px;\n  font-weight: 600;\n  left: 0;\n  line-height: 20px;\n  right: 0;\n  position: fixed;\n  top: 0;\n  z-index: 9999999;\n}\n\n.a-dialog {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 199995;\n  width: 300px;\n  height: 200px;\n  background-size: contain;\n  background-color: white;\n  font-family: sans-serif, monospace;\n  font-size: 20px;\n  border-radius: 3px;\n  padding: 6px;\n}\n\n.a-dialog-text-container {\n  width: 100%;\n  height: 70%;\n  align-self: flex-start;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  flex-direction: column;\n}\n\n.a-dialog-text {\n  display: inline-block;\n  font-weight: normal;\n  font-size: 14pt;\n  margin: 8px;\n}\n\n.a-dialog-buttons-container {\n  display: inline-flex;\n  align-self: flex-end;\n  width: 100%;\n  height: 30%;\n}\n\n.a-dialog-button {\n  cursor: pointer;\n  align-self: center;\n  opacity: 0.9;\n  height: 80%;\n  width: 50%;\n  font-size: 12pt;\n  margin: 4px;\n  border-radius: 2px;\n  text-align:center;\n  border: none;\n  display: inline-block;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);\n  user-select: none;\n}\n\n.a-dialog-permission-button:hover {\n  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);\n}\n\n.a-dialog-allow-button {\n  background-color: #00ceff;\n}\n\n.a-dialog-deny-button {\n  background-color: #ff005b;\n}\n\n.a-dialog-ok-button {\n  background-color: #00ceff;\n  width: 100%;\n}\n\n.a-dom-overlay:not(.a-no-style) {\n  overflow: hidden;\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  padding: 1em;\n}\n\n.a-dom-overlay:not(.a-no-style)>* {\n  pointer-events: auto;\n}\n"],sourceRoot:""}]);const A=f},2470:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(963),i=n.n(r),o=n(9089),a=n.n(o)()(i());a.push([e.id,".rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n","",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[".rs-base {\n  background-color: #333;\n  color: #fafafa;\n  border-radius: 0;\n  font: 10px monospace;\n  left: 5px;\n  line-height: 1em;\n  opacity: 0.85;\n  overflow: hidden;\n  padding: 10px;\n  position: fixed;\n  top: 5px;\n  width: 300px;\n  z-index: 10000;\n}\n\n.rs-base div.hidden {\n  display: none;\n}\n\n.rs-base h1 {\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.4em;\n  font-weight: 300;\n  margin: 0 0 5px;\n  padding: 0;\n}\n\n.rs-group {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: column-reverse;\n  flex-direction: column-reverse;\n  margin-bottom: 5px;\n}\n\n.rs-group:last-child {\n  margin-bottom: 0;\n}\n\n.rs-counter-base {\n  align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 10px;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin: 2px 0;\n}\n\n.rs-counter-base.alarm {\n  color: #b70000;\n  text-shadow: 0 0 0 #b70000,\n               0 0 1px #fff,\n               0 0 1px #fff,\n               0 0 2px #fff,\n               0 0 2px #fff,\n               0 0 3px #fff,\n               0 0 3px #fff,\n               0 0 4px #fff,\n               0 0 4px #fff;\n}\n\n.rs-counter-id {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 0;\n  -webkit-order: 0;\n  order: 0;\n  width: 54px;\n}\n\n.rs-counter-value {\n  font-weight: 300;\n  -webkit-box-ordinal-group: 1;\n  -webkit-order: 1;\n  order: 1;\n  text-align: right;\n  width: 35px;\n}\n\n.rs-canvas {\n  -webkit-box-ordinal-group: 2;\n  -webkit-order: 2;\n  order: 2;\n}\n\n@media (min-width: 480px) {\n  .rs-base {\n    left: 20px;\n    top: 20px;\n  }\n}\n"],sourceRoot:""}]);const s=a},7180:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),l=n.n(s),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(8217),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},9379:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(5072),i=n.n(r),o=n(7825),a=n.n(o),s=n(7659),l=n.n(s),c=n(5056),u=n.n(c),d=n(540),h=n.n(d),p=n(1113),f=n.n(p),m=n(2470),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=h(),i()(m.A,g);const v=m.A&&m.A.locals?m.A.locals:void 0},5072:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var h=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=i(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},7659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},3931:e=>{e.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},6085:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},9169:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},6517:e=>{e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},7889:e=>{e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"}},qt={};function $t(e){var t=qt[e];if(void 0!==t)return t.exports;var n=qt[e]={id:e,exports:{}};return Wt[e](n,n.exports,$t),n.exports}$t.m=Wt,$t.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return $t.d(t,{a:t}),t},$t.d=(e,t)=>{for(var n in t)$t.o(t,n)&&!$t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},$t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),$t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),$t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},$t.b=document.baseURI||self.location.href,$t.nc=void 0;var Xt={};$t.d(Xt,{A:()=>Bp});var Kt={};$t.r(Kt),$t.d(Kt,{computeMikkTSpaceTangents:()=>Tr,computeMorphedAttributes:()=>jr,deepCloneAttribute:()=>Pr,deinterleaveAttribute:()=>Or,deinterleaveGeometry:()=>Lr,estimateBytesUsed:()=>Dr,interleaveAttributes:()=>Br,mergeAttributes:()=>kr,mergeGeometries:()=>Rr,mergeGroups:()=>Ur,mergeVertices:()=>Nr,toCreasedNormals:()=>zr,toTrianglesDrawMode:()=>Fr});var Yt={};$t.r(Yt),$t.d(Yt,{checkARSupport:()=>va,checkHeadsetConnected:()=>ga,checkVRSupport:()=>ya,isAppleVisionPro:()=>Ea,isBrowserEnvironment:()=>Pa,isFirefoxReality:()=>Ia,isIOS:()=>Sa,isIpad:()=>Ca,isLandscape:()=>ka,isMobile:()=>xa,isMobileDeviceRequestingDesktopSite:()=>_a,isMobileVR:()=>Ta,isNodeEnvironment:()=>Ba,isOculusBrowser:()=>Ma,isR7:()=>Ra,isTablet:()=>wa,isWebXRAvailable:()=>pa});var Jt={};$t.r(Jt),$t.d(Jt,{clearObject:()=>Na,createPool:()=>Da,removeUnusedKeys:()=>Fa});var Zt={};$t.r(Zt),$t.d(Zt,{equals:()=>Qa,isCoordinate:()=>qa,isCoordinates:()=>Wa,parse:()=>Va,regex:()=>za,stringify:()=>Ga,toVector3:()=>Xa});var en={};$t.r(en),$t.d(en,{getComponentProperty:()=>Ja,getComponentPropertyPath:()=>Ya,setComponentProperty:()=>Za});var tn={};$t.r(tn),$t.d(tn,{parseUrl:()=>os,validateCubemapSrc:()=>is,validateEnvMapSrc:()=>rs,validateSrc:()=>ns});var nn={};$t.r(nn),$t.d(nn,{createCompatibleTexture:()=>vs,handleTextureEvents:()=>ms,isCompatibleTexture:()=>gs,setTextureProperties:()=>cs,updateDistortionMap:()=>hs,updateEnvMap:()=>fs,updateMap:()=>ds,updateMapMaterialFromData:()=>us});var rn={};$t.r(rn),$t.d(rn,{parse:()=>bs,stringify:()=>As,toCamelCase:()=>xs});var on={};$t.r(on),$t.d(on,{checkControllerPresentAndSetup:()=>Ms,emitIfAxesChanged:()=>Rs,findMatchingControllerWebXR:()=>Ts,isControllerPresentWebXR:()=>Is,onButtonEvent:()=>ks});var an={};$t.r(an),$t.d(an,{bind:()=>Bs,checkHeadsetConnected:()=>Os,clone:()=>Vs,coordinates:()=>Zt,debounce:()=>Us,debug:()=>sa,deepEqual:()=>Ws,device:()=>Yt,diff:()=>qs,entity:()=>en,extend:()=>zs,extendDeep:()=>Hs,findAllScenes:()=>Zs,forceCanvasResizeSafariMobile:()=>es,getElData:()=>Ks,getUrlParameter:()=>Ys,isIOS:()=>Ls,isIframed:()=>Js,isMobile:()=>Ds,material:()=>nn,objectPool:()=>Jt,shouldCaptureKeyEvent:()=>$s,split:()=>Ka,splitString:()=>Xs,srcLoader:()=>tn,styleParser:()=>rn,throttle:()=>Ns,throttleLeadingAndTrailing:()=>Fs,throttleTick:()=>js,trackedControls:()=>on});var sn={};$t.r(sn),$t.d(sn,{isSingleProperty:()=>Rl,parseProperties:()=>Ol,parseProperty:()=>Ll,process:()=>kl,processPropertyDefinition:()=>Pl,stringifyProperties:()=>Dl,stringifyProperty:()=>Nl});var ln={};$t.r(ln),$t.d(ln,{Component:()=>Jl,components:()=>Fl,registerComponent:()=>ec,registrationOrderWarnings:()=>Zl});var cn={};$t.r(cn),$t.d(cn,{System:()=>sc,registerSystem:()=>lc,systems:()=>ac});var un={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},dn={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},hn=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],pn={CSS:{},springs:{}};function fn(e,t,n){return Math.min(Math.max(e,t),n)}function mn(e,t){return e.indexOf(t)>-1}function gn(e,t){return e.apply(null,t)}var vn=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,yn=/^rgb/,bn=/^hsl/,An={arr:function(e){return Array.isArray(e)},obj:function(e){return mn(Object.prototype.toString.call(e),"Object")},pth:function(e){return An.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||An.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return vn.test(e)},rgb:function(e){return yn.test(e)},hsl:function(e){return bn.test(e)},col:function(e){return An.hex(e)||An.rgb(e)||An.hsl(e)},key:function(e){return!un.hasOwnProperty(e)&&!dn.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}},xn=/\(([^)]+)\)/;function wn(e){var t=xn.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function Cn(e,t){var n=wn(e),r=fn(An.und(n[0])?1:n[0],.1,100),i=fn(An.und(n[1])?100:n[1],.1,100),o=fn(An.und(n[2])?10:n[2],.1,100),a=fn(An.und(n[3])?0:n[3],.1,100),s=Math.sqrt(i/r),l=o/(2*Math.sqrt(i*r)),c=l<1?s*Math.sqrt(1-l*l):0,u=l<1?(l*s-a)/c:-a+s;function d(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*s)*(1*Math.cos(c*n)+u*Math.sin(c*n)):(1+u*n)*Math.exp(-n*s),0===e||1===e?e:1-n}return t?d:function(){var t=pn.springs[e];if(t)return t;for(var n=1/6,r=0,i=0;;)if(1===d(r+=n)){if(++i>=16)break}else i=0;var o=r*n*1e3;return pn.springs[e]=o,o}}function En(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=fn(e,1,10),r=fn(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function Sn(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var _n=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function i(e,i,o){return((t(i,o)*e+n(i,o))*e+r(i))*e}function o(e,i,o){return 3*t(i,o)*e*e+2*n(i,o)*e+r(i)}return function(t,n,r,a){if(0<=t&&t<=1&&0<=r&&r<=1){var s=new Float32Array(11);if(t!==n||r!==a)for(var l=0;l<11;++l)s[l]=i(l*e,t,r);return function(l){return t===n&&r===a||0===l||1===l?l:i(function(n){for(var a=0,l=1;10!==l&&s[l]<=n;++l)a+=e;--l;var c=a+(n-s[l])/(s[l+1]-s[l])*e,u=o(c,t,r);return u>=.001?function(e,t,n,r){for(var a=0;a<4;++a){var s=o(t,n,r);if(0===s)return t;t-=(i(t,n,r)-e)/s}return t}(n,c,t,r):0===u?c:function(e,t,n,r,o){var a,s,l=0;do{(a=i(s=t+(n-t)/2,r,o)-e)>0?n=s:t=s}while(Math.abs(a)>1e-7&&++l<10);return s}(n,a,a+e,t,r)}(l),n,a)}}}}(),Mn=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],En],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(n){return 1-En(e,t)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(n){return n<.5?En(e,t)(2*n)/2:1-En(e,t)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]};for(var r in t)for(var i=0,o=t[r].length;i<o;i++)n["ease"+r+e[i]]=t[r][i];return n}();function In(e,t){if(An.fnc(e))return e;var n=e.split("(")[0],r=Mn[n],i=wn(e);switch(n){case"spring":return Cn(e,t);case"cubicBezier":return gn(_n,i);case"steps":return gn(Sn,i);default:return An.fnc(r)?gn(r,i):gn(_n,r)}}function Tn(e){try{return document.querySelectorAll(e)}catch(e){return}}var Rn=[];function kn(e,t){for(var n=Rn,r=e.length,i=arguments.length>=2?arguments[1]:void 0,o=0;o<r;o++)if(o in e){var a=e[o];t.call(i,a,o,e)&&n.push(a)}return(Rn=e).length=0,n}function Pn(e,t){t||(t=[]);for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?Pn(i,t):t.push(i)}return t}function Bn(e){return An.arr(e)?e:(An.str(e)&&(e=Tn(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function On(e,t){return e.some((function(e){return e===t}))}function Ln(e){var t={};for(var n in e)t[n]=e[n];return t}function Dn(e,t){var n=Ln(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function Nn(e,t){var n=Ln(e);for(var r in t)n[r]=An.und(e[r])?t[r]:e[r];return n}var Fn=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g,jn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Un=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zn=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,Hn=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g,Vn=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function Gn(e){var t=Vn.exec(e);if(t)return t[2]}function Qn(e,t){return An.fnc(e)?e(t.target,t.id,t.total):e}function Wn(e,t){return e.getAttribute(t)}function qn(e,t,n){if(On([n,"deg","rad","turn"],Gn(t)))return t;var r=pn.CSS[t+n];if(!An.und(r))return r;var i=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+n;var a=100/i.offsetWidth;o.removeChild(i);var s=a*parseFloat(t);return pn.CSS[t+n]=s,s}function $n(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?qn(e,i,n):i}}function Xn(e,t){return An.dom(e)&&!An.inp(e)&&(Wn(e,t)||An.svg(e)&&e[t])?"attribute":An.dom(e)&&On(hn,t)?"transform":An.dom(e)&&"transform"!==t&&$n(e,t)?"css":null!=e[t]?"object":void 0}var Kn=/(\w+)\(([^)]*)\)/g;function Yn(e){if(An.dom(e)){for(var t,n=e.style.transform||"",r=new Map;t=Kn.exec(n);)r.set(t[1],t[2]);return r}}function Jn(e,t,n,r){switch(Xn(e,t)){case"transform":return function(e,t,n,r){var i=mn(t,"scale")?1:0+function(e){return mn(e,"translate")||"perspective"===e?"px":mn(e,"rotate")||mn(e,"skew")?"deg":void 0}(t),o=Yn(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?qn(e,o,r):o}(e,t,r,n);case"css":return $n(e,t,n);case"attribute":return Wn(e,t);default:return e[t]||0}}var Zn=/^(\*=|\+=|-=)/;function er(e,t){var n=Zn.exec(e);if(!n)return e;var r=Gn(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}var tr=/\s/g;function nr(e,t){if(An.col(e))return function(e){return An.rgb(e)?(t=e,(n=Fn.exec(t))?"rgba("+n[1]+",1)":t):An.hex(e)?function(e){var t=e.replace(jn,(function(e,t,n,r){return t+t+n+n+r+r})),n=Un.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):An.hsl(e)?function(e){var t,n,r,i=zn.exec(e)||Hn.exec(e),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==a)t=n=r=s;else{var u=s<.5?s*(1+a):s+a-s*a,d=2*s-u;t=c(d,u,o+1/3),n=c(d,u,o),r=c(d,u,o-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}(e):void 0;var t,n}(e);var n=Gn(e),r=n?e.substr(0,e.length-n.length):e;return t&&!tr.test(e)?r+t:r}function rr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ir(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(r+=rr(t,o)),t=o}return r}function or(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*Wn(e,"r")}(e);case"rect":return function(e){return 2*Wn(e,"width")+2*Wn(e,"height")}(e);case"line":return function(e){return rr({x:Wn(e,"x1"),y:Wn(e,"y1")},{x:Wn(e,"x2"),y:Wn(e,"y2")})}(e);case"polyline":return ir(e);case"polygon":return function(e){var t=e.points;return ir(e)+rr(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function ar(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;An.svg(t)&&(t=t.parentNode,An.svg(t.parentNode)););return t}(e),i=r.getBoundingClientRect(),o=Wn(r,"viewBox"),a=i.width,s=i.height,l=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:a/l[2],h:s/l[3]}}function sr(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=ar(e.el,e.svg),i=n(),o=n(-1),a=n(1);switch(e.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}var lr=/-?\d*\.?\d+/g;function cr(e,t){var n=nr(An.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(lr)?n.match(lr).map(Number):[0],strings:An.str(e)||t?n.split(lr):[]}}function ur(e){return kn(e?Pn(An.arr(e)?e.map(Bn):Bn(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function dr(e){var t=ur(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:Yn(e)}}}))}var hr=/^spring/;function pr(e,t){var n=Ln(t);if(hr.test(n.easing)&&(n.duration=Cn(n.easing)),An.arr(e)){var r=e.length;2!==r||An.obj(e[0])?An.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var i=An.arr(e)?e:[e];return i.map((function(e,n){var r=An.obj(e)&&!An.pth(e)?e:{value:e};return An.und(r.delay)&&(r.delay=n?0:t.delay),An.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return Nn(e,n)}))}var fr={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach((function(e,t){o+=t+"("+e+") "})),e.style.transform=o}}};function mr(e,t){for(var n=dr(e),r=0,i=n.length;r<i;r++){var o=n[r];for(var a in t){var s=Qn(t[a],o),l=o.target,c=Gn(s),u=Jn(l,a,c,o),d=er(nr(s,c||Gn(u)),u),h=Xn(l,a);fr[h](l,a,d,o.transforms,!0)}}}function gr(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,i}var vr,yr=0,br=[],Ar=[],xr=function(){function e(){vr=requestAnimationFrame(t)}function t(t){var n=br.length;if(n){for(var r=0;r<n;){var i=br[r];if(i.paused){var o=br.indexOf(i);o>-1&&(br.splice(o,1),n=br.length)}else i.tick(t);r++}e()}else vr=cancelAnimationFrame(vr)}return e}();function wr(e){void 0===e&&(e={});var t,n=0,r=0,i=0,o=0,a=null;function s(){return window.Promise&&new Promise((function(e){return a=e}))}var l=s(),c=function(e){var t=Dn(un,e),n=Dn(dn,e),r=function(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=Nn(function(e){for(var t=kn(Pn(e.map((function(e){return Object.keys(e)}))),(function(e){return An.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)An.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)An.key(i)&&n.push({name:i,tweens:pr(t[i],e)});return n}(n,e),i=dr(e.targets),o=function(e,t){return kn(Pn(e.map((function(e){return t.map((function(t){return function(e,t){var n=Xn(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=Qn(e[r],t);An.arr(i)&&1===(i=i.map((function(e){return Qn(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),o=i.value,a=An.arr(o)?o[1]:o,s=Gn(a),l=Jn(t.target,e.name,s,t),c=n?n.to.original:l,u=An.arr(o)?o[0]:c,d=Gn(u)||Gn(l),h=s||d;return An.und(a)&&(a=c),i.from=cr(u,h),i.to=cr(er(a,u),h),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=In(i.easing,i.duration),i.isPath=An.pth(o),i.isColor=An.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!An.und(e)}))}(i,r),a=gr(o,n),s=yr;return yr++,Nn(t,{id:s,children:[],animatables:i,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}(e);function u(){c.reversed=!c.reversed;for(var e=0,n=t.length;e<n;e++)t[e].reversed=c.reversed}function d(e){return c.reversed?c.duration-e:e}function h(){n=0,r=d(c.currentTime)*(1/wr.speed)}function p(e,t){t&&t.seek(e-t.timelineOffset)}function f(e){for(var t=0,n=c.animations,r=n.length;t<r;){var i=n[t],o=i.animatable,a=i.tweens,s=a.length-1,l=a[s];s&&(l=kn(a,(function(t){return e<t.end}))[0]||l);for(var u=fn(e-l.start-l.delay,0,l.duration)/l.duration,d=isNaN(u)?1:l.easing(u),h=l.to.strings,p=l.round,f=[],m=l.to.numbers.length,g=void 0,v=0;v<m;v++){var y=void 0,b=l.to.numbers[v],A=l.from.numbers[v]||0;y=l.isPath?sr(l.value,d*b):A+d*(b-A),p&&(l.isColor&&v>2||(y=Math.round(y*p)/p)),f.push(y)}var x=h.length;if(x){g=h[0];for(var w=0;w<x;w++){h[w];var C=h[w+1],E=f[w];isNaN(E)||(g+=C?E+C:E+" ")}}else g=f[0];fr[i.type](o.target,i.property,g,o.transforms),i.currentValue=g,t++}}function m(e){c[e]&&!c.passThrough&&c[e](c)}function g(e){var h=c.duration,g=c.delay,v=h-c.endDelay,y=d(e);c.progress=fn(y/h*100,0,100),c.reversePlayback=y<c.currentTime,t&&function(e){if(c.reversePlayback)for(var n=o;n--;)p(e,t[n]);else for(var r=0;r<o;r++)p(e,t[r])}(y),!c.began&&c.currentTime>0&&(c.began=!0,m("begin"),m("loopBegin")),y<=g&&0!==c.currentTime&&f(0),(y>=v&&c.currentTime!==h||!h)&&f(h),y>g&&y<v?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,m("changeBegin")),m("change"),f(y)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,m("changeComplete")),c.currentTime=fn(y,0,h),c.began&&m("update"),e>=h&&(r=0,c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining?(n=i,m("loopComplete"),m("loopBegin"),"alternate"===c.direction&&u()):(c.paused=!0,c.completed||(c.completed=!0,m("loopComplete"),m("complete"),"Promise"in window&&(a(),l=s()))))}return c.reset=function(){var e=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===e,c.remaining=c.loop,t=c.children;for(var n=o=t.length;n--;)c.children[n].reset();(c.reversed&&!0!==c.loop||"alternate"===e&&1===c.loop)&&c.remaining++,f(0)},c.set=function(e,t){return mr(e,t),c},c.tick=function(e){i=e,n||(n=i),g((i+(r-n))*wr.speed)},c.seek=function(e){g(d(e))},c.pause=function(){c.paused=!0,h()},c.play=function(){c.paused&&(c.paused=!1,br.push(c),h(),vr||xr())},c.reverse=function(){u(),h()},c.restart=function(){c.reset(),c.play()},c.finished=l,c.reset(),c.autoplay&&c.play(),c}function Cr(e,t){for(var n=t.length;n--;)On(e,t[n].animatable.target)&&t.splice(n,1)}document.addEventListener("visibilitychange",(function(){if(document.hidden){for(var e=0,t=br.length;e<t;e++)activeInstance[e].pause();Ar=br.slice(0),br=[]}else for(var n=0,r=Ar.length;n<r;n++)Ar[n].play()})),wr.version="3.0.0",wr.speed=1,wr.running=br,wr.remove=function(e){for(var t=ur(e),n=br.length;n--;){var r=br[n],i=r.animations,o=r.children;Cr(t,i);for(var a=o.length;a--;){var s=o[a],l=s.animations;Cr(t,l),l.length||s.children.length||o.splice(a,1)}i.length||o.length||r.pause()}},wr.get=Jn,wr.set=mr,wr.convertPx=qn,wr.path=function(e,t){var n=An.str(e)?Tn(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:ar(n),totalLength:or(n)*(r/100)}}},wr.setDashoffset=function(e){var t=or(e);return e.setAttribute("stroke-dasharray",t),t},wr.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?In(t.easing):null,i=t.grid,o=t.axis,a=t.from||0,s="first"===a,l="center"===a,c="last"===a,u=An.arr(e),d=u?parseFloat(e[0]):parseFloat(e),h=u?parseFloat(e[1]):0,p=Gn(u?e[1]:e)||0,f=t.start||0+(u?d:0),m=[],g=0;return function(e,t,v){if(s&&(a=0),l&&(a=(v-1)/2),c&&(a=v-1),!m.length){for(var y=0;y<v;y++){if(i){var b=l?(i[0]-1)/2:a%i[0],A=l?(i[1]-1)/2:Math.floor(a/i[0]),x=b-y%i[0],w=A-Math.floor(y/i[0]),C=Math.sqrt(x*x+w*w);"x"===o&&(C=-x),"y"===o&&(C=-w),m.push(C)}else m.push(Math.abs(a-y));g=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/g)*g}))),"reverse"===n&&(m=m.map((function(e){return o?e<0?-1*e:-e:Math.abs(g-e)})))}return f+(u?(h-d)/g:d)*(Math.round(100*m[t])/100)+p}},wr.timeline=function(e){void 0===e&&(e={});var t=wr(e);return t.duration=0,t.add=function(n,r){var i=br.indexOf(t),o=t.children;function a(e){e.passThrough=!0}i>-1&&br.splice(i,1);for(var s=0;s<o.length;s++)a(o[s]);var l=Nn(n,Dn(dn,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=An.und(r)?c:er(r,c),a(t),t.seek(l.timelineOffset);var u=wr(l);a(u),o.push(u);var d=gr(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},wr.easing=In,wr.penner=Mn,wr.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Er=wr,Sr=e,_r=new WeakMap;class Mr extends Sr.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const i=new Sr.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{this.parse(e,t,r)}),n,r)}parse(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this.decodeDracoFile(e,t,null,null,Sr.SRGBColorSpace,n).catch(n)}decodeDracoFile(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sr.LinearSRGBColorSpace,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>{};const a={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n,vertexColorSpace:i};return this.decodeGeometry(e,a).then(t).catch(o)}decodeGeometry(e,t){const n=JSON.stringify(t);if(_r.has(e)){const t=_r.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(i,o).then((n=>(r=n,new Promise(((n,o)=>{r._callbacks[i]={resolve:n,reject:o},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{r&&i&&this._releaseTask(r,i)})),_r.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new Sr.BufferGeometry;e.index&&t.setIndex(new Sr.BufferAttribute(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],i=r.name,o=r.array,a=r.itemSize,s=new Sr.BufferAttribute(o,a);"color"===i&&(this._assignVertexColorSpace(s,r.vertexColorSpace),s.normalized=o instanceof Float32Array==0),t.setAttribute(i,s)}return t}_assignVertexColorSpace(e,t){if(t!==Sr.SRGBColorSpace)return;const n=new Sr.Color;for(let r=0,i=e.count;r<i;r++)n.fromBufferAttribute(e,r),Sr.ColorManagement.toWorkingColorSpace(n,Sr.SRGBColorSpace),e.setXYZ(r,n.r,n.g,n.b)}_loadLibrary(e,t){const n=new Sr.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const r=Ir.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function Ir(){let e,t;function n(e,t,n,r,i,o){const a=o.num_components(),s=n.num_points()*a,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,o,c,l,u);const d=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:r,array:d,itemSize:a}}onmessage=function(r){const i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const r=i.buffer,o=i.taskConfig;t.then((e=>{const t=e.draco,a=new t.Decoder;try{const e=function(e,t,r,i){const o=i.attributeIDs,a=i.attributeTypes;let s,l;const c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)s=new e.Mesh,l=t.DecodeArrayToMesh(r,r.byteLength,s);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new e.PointCloud,l=t.DecodeArrayToPointCloud(r,r.byteLength,s)}if(!l.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const d in o){const r=self[a[d]];let l,c;if(i.useUniqueIDs)c=o[d],l=t.GetAttributeByUniqueId(s,c);else{if(c=t.GetAttributeId(s,e[o[d]]),-1===c)continue;l=t.GetAttribute(s,c)}const h=n(e,t,s,d,r,l);"color"===d&&(h.vertexColorSpace=i.vertexColorSpace),u.attributes.push(h)}return c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){const r=3*n.num_faces(),i=4*r,o=e._malloc(i);t.GetTrianglesUInt32Array(n,i,o);const a=new Uint32Array(e.HEAPF32.buffer,o,r).slice();return e._free(o),{array:a,itemSize:1}}(e,t,s)),e.destroy(s),u}(t,a,new Int8Array(r),o),s=e.attributes.map((e=>e.array.buffer));e.index&&s.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},s)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(a)}}))}}}function Tr(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function r(e){if(e.normalized||e.isInterleavedBufferAttribute){const t=new Float32Array(e.count*e.itemSize);for(let n=0,r=0;n<e.count;n++)t[r++]=e.getX(n),t[r++]=e.getY(n),e.itemSize>2&&(t[r++]=e.getZ(n));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}const i=e.index?e.toNonIndexed():e,o=t.generateTangents(r(i.attributes.position),r(i.attributes.normal),r(i.attributes.uv));if(n)for(let a=3;a<o.length;a+=4)o[a]*=-1;return i.setAttribute("tangent",new Sr.BufferAttribute(o,4)),e!==i&&e.copy(i),e}function Rr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),o={},a={},s=e[0].morphTargetsRelative,l=new Sr.BufferGeometry;let c=0;for(let u=0;u<e.length;++u){const d=e[u];let h=0;if(n!==(null!==d.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in d.attributes){if(!r.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===o[e]&&(o[e]=[]),o[e].push(d.attributes[e]),h++}if(h!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in d.morphAttributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===a[e]&&(a[e]=[]),a[e].push(d.morphAttributes[e])}if(t){let e;if(n)e=d.index.count;else{if(void 0===d.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;e=d.attributes.position.count}l.addGroup(c,e,u),c+=e}}if(n){let t=0;const n=[];for(let r=0;r<e.length;++r){const i=e[r].index;for(let e=0;e<i.count;++e)n.push(i.getX(e)+t);t+=e[r].attributes.position.count}l.setIndex(n)}for(const u in o){const e=kr(o[u]);if(!e)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" attribute."),null;l.setAttribute(u,e)}for(const u in a){const e=a[u][0].length;if(0===e)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[u]=[];for(let t=0;t<e;++t){const e=[];for(let r=0;r<a[u].length;++r)e.push(a[u][r][t]);const n=kr(e);if(!n)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" morphAttribute."),null;l.morphAttributes[u].push(n)}}return l}function kr(e){let t,n,r,i=-1,o=0;for(let c=0;c<e.length;++c){const a=e[c];if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=a.itemSize),n!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=a.normalized),r!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===i&&(i=a.gpuType),i!==a.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;o+=a.count*n}const a=new t(o),s=new Sr.BufferAttribute(a,n,r);let l=0;for(let c=0;c<e.length;++c){const t=e[c];if(t.isInterleavedBufferAttribute){const e=l/n;for(let r=0,i=t.count;r<i;r++)for(let o=0;o<n;o++){const n=t.getComponent(r,o);s.setComponent(r+e,o,n)}}else a.set(t.array,l);l+=t.count*n}return void 0!==i&&(s.gpuType=i),s}function Pr(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?Or(e):e.isInstancedBufferAttribute?(new Sr.InstancedBufferAttribute).copy(e):(new Sr.BufferAttribute).copy(e)}function Br(e){let t,n=0,r=0;for(let c=0,u=e.length;c<u;++c){const i=e[c];if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=i.array.length,r+=i.itemSize}const i=new Sr.InterleavedBuffer(new t(n),r);let o=0;const a=[],s=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let c=0,u=e.length;c<u;c++){const t=e[c],n=t.itemSize,r=t.count,u=new Sr.InterleavedBufferAttribute(i,n,o,t.normalized);a.push(u),o+=n;for(let e=0;e<r;e++)for(let r=0;r<n;r++)u[l[r]](e,t[s[r]](e))}return a}function Or(e){const t=e.data.array.constructor,n=e.count,r=e.itemSize,i=e.normalized,o=new t(n*r);let a;a=e.isInstancedInterleavedBufferAttribute?new Sr.InstancedBufferAttribute(o,r,i,e.meshPerAttribute):new Sr.BufferAttribute(o,r,i);for(let s=0;s<n;s++)a.setX(s,e.getX(s)),r>=2&&a.setY(s,e.getY(s)),r>=3&&a.setZ(s,e.getZ(s)),r>=4&&a.setW(s,e.getW(s));return a}function Lr(e){const t=e.attributes,n=e.morphTargets,r=new Map;for(const i in t){const e=t[i];e.isInterleavedBufferAttribute&&(r.has(e)||r.set(e,Or(e)),t[i]=r.get(e))}for(const i in n){const e=n[i];e.isInterleavedBufferAttribute&&(r.has(e)||r.set(e,Or(e)),n[i]=r.get(e))}}function Dr(e){let t=0;for(const r in e.attributes){const n=e.getAttribute(r);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}const n=e.getIndex();return t+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,t}function Nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);const n={},r=e.getIndex(),i=e.getAttribute("position"),o=r?r.count:i.count;let a=0;const s=Object.keys(e.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"];for(let y=0,b=s.length;y<b;y++){const t=s[y],n=e.attributes[t];l[t]=new n.constructor(new n.array.constructor(n.count*n.itemSize),n.itemSize,n.normalized);const r=e.morphAttributes[t];r&&(c[t]||(c[t]=[]),r.forEach(((e,n)=>{const r=new e.array.constructor(e.count*e.itemSize);c[t][n]=new e.constructor(r,e.itemSize,e.normalized)})))}const p=.5*t,f=Math.log10(1/t),m=Math.pow(10,f),g=p*m;for(let y=0;y<o;y++){const t=r?r.getX(y):y;let i="";for(let n=0,r=s.length;n<r;n++){const r=s[n],o=e.getAttribute(r),a=o.itemSize;for(let e=0;e<a;e++)i+=~~(o[d[e]](t)*m+g)+","}if(i in n)u.push(n[i]);else{for(let n=0,r=s.length;n<r;n++){const r=s[n],i=e.getAttribute(r),o=e.morphAttributes[r],u=i.itemSize,p=l[r],f=c[r];for(let e=0;e<u;e++){const n=d[e],r=h[e];if(p[r](a,i[n](t)),o)for(let e=0,i=o.length;e<i;e++)f[e][r](a,o[e][n](t))}}n[i]=a,u.push(a),a++}}const v=e.clone();for(const y in e.attributes){const e=l[y];if(v.setAttribute(y,new e.constructor(e.array.slice(0,a*e.itemSize),e.itemSize,e.normalized)),y in c)for(let t=0;t<c[y].length;t++){const e=c[y][t];v.morphAttributes[y][t]=new e.constructor(e.array.slice(0,a*e.itemSize),e.itemSize,e.normalized)}}return v.setIndex(u),v}function Fr(e,t){if(t===Sr.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===Sr.TriangleFanDrawMode||t===Sr.TriangleStripDrawMode){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,i=[];if(t===Sr.TriangleFanDrawMode)for(let e=1;e<=r;e++)i.push(n.getX(0)),i.push(n.getX(e)),i.push(n.getX(e+1));else for(let e=0;e<r;e++)e%2==0?(i.push(n.getX(e)),i.push(n.getX(e+1)),i.push(n.getX(e+2))):(i.push(n.getX(e+2)),i.push(n.getX(e+1)),i.push(n.getX(e)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=e.clone();return o.setIndex(i),o.clearGroups(),o}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function jr(e){const t=new Sr.Vector3,n=new Sr.Vector3,r=new Sr.Vector3,i=new Sr.Vector3,o=new Sr.Vector3,a=new Sr.Vector3,s=new Sr.Vector3,l=new Sr.Vector3,c=new Sr.Vector3;function u(e,u,d,h,p,f,m,g){t.fromBufferAttribute(u,p),n.fromBufferAttribute(u,f),r.fromBufferAttribute(u,m);const v=e.morphTargetInfluences;if(d&&v){s.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(let e=0,u=d.length;e<u;e++){const u=v[e],g=d[e];0!==u&&(i.fromBufferAttribute(g,p),o.fromBufferAttribute(g,f),a.fromBufferAttribute(g,m),h?(s.addScaledVector(i,u),l.addScaledVector(o,u),c.addScaledVector(a,u)):(s.addScaledVector(i.sub(t),u),l.addScaledVector(o.sub(n),u),c.addScaledVector(a.sub(r),u)))}t.add(s),n.add(l),r.add(c)}e.isSkinnedMesh&&(e.applyBoneTransform(p,t),e.applyBoneTransform(f,n),e.applyBoneTransform(m,r)),g[3*p+0]=t.x,g[3*p+1]=t.y,g[3*p+2]=t.z,g[3*f+0]=n.x,g[3*f+1]=n.y,g[3*f+2]=n.z,g[3*m+0]=r.x,g[3*m+1]=r.y,g[3*m+2]=r.z}const d=e.geometry,h=e.material;let p,f,m;const g=d.index,v=d.attributes.position,y=d.morphAttributes.position,b=d.morphTargetsRelative,A=d.attributes.normal,x=d.morphAttributes.position,w=d.groups,C=d.drawRange;let E,S,_,M,I,T,R;const k=new Float32Array(v.count*v.itemSize),P=new Float32Array(A.count*A.itemSize);if(null!==g)if(Array.isArray(h))for(E=0,_=w.length;E<_;E++)for(I=w[E],T=Math.max(I.start,C.start),R=Math.min(I.start+I.count,C.start+C.count),S=T,M=R;S<M;S+=3)p=g.getX(S),f=g.getX(S+1),m=g.getX(S+2),u(e,v,y,b,p,f,m,k),u(e,A,x,b,p,f,m,P);else for(T=Math.max(0,C.start),R=Math.min(g.count,C.start+C.count),E=T,_=R;E<_;E+=3)p=g.getX(E),f=g.getX(E+1),m=g.getX(E+2),u(e,v,y,b,p,f,m,k),u(e,A,x,b,p,f,m,P);else if(Array.isArray(h))for(E=0,_=w.length;E<_;E++)for(I=w[E],T=Math.max(I.start,C.start),R=Math.min(I.start+I.count,C.start+C.count),S=T,M=R;S<M;S+=3)p=S,f=S+1,m=S+2,u(e,v,y,b,p,f,m,k),u(e,A,x,b,p,f,m,P);else for(T=Math.max(0,C.start),R=Math.min(v.count,C.start+C.count),E=T,_=R;E<_;E+=3)p=E,f=E+1,m=E+2,u(e,v,y,b,p,f,m,k),u(e,A,x,b,p,f,m,P);return{positionAttribute:v,normalAttribute:A,morphedPositionAttribute:new Sr.Float32BufferAttribute(k,3),morphedNormalAttribute:new Sr.Float32BufferAttribute(P,3)}}function Ur(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;let t=e.groups;if(t=t.sort(((e,t)=>e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start)),null===e.getIndex()){const t=e.getAttribute("position"),n=[];for(let e=0;e<t.count;e+=3)n.push(e,e+1,e+2);e.setIndex(n)}const n=e.getIndex(),r=[];for(let a=0;a<t.length;a++){const e=t[a],i=e.start,o=i+e.count;for(let t=i;t<o;t++)r.push(n.getX(t))}e.dispose(),e.setIndex(r);let i=0;for(let a=0;a<t.length;a++){const e=t[a];e.start=i,i+=e.count}let o=t[0];e.groups=[o];for(let a=1;a<t.length;a++){const n=t[a];o.materialIndex===n.materialIndex?o.count+=n.count:(o=n,e.groups.push(o))}return e}function zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/3;const n=Math.cos(t),r=100*(1+1e-10),i=[new Sr.Vector3,new Sr.Vector3,new Sr.Vector3],o=new Sr.Vector3,a=new Sr.Vector3,s=new Sr.Vector3,l=new Sr.Vector3;function c(e){return`${~~(e.x*r)},${~~(e.y*r)},${~~(e.z*r)}`}const u=e.index?e.toNonIndexed():e,d=u.attributes.position,h={};for(let m=0,g=d.count/3;m<g;m++){const e=3*m,t=i[0].fromBufferAttribute(d,e+0),n=i[1].fromBufferAttribute(d,e+1),r=i[2].fromBufferAttribute(d,e+2);o.subVectors(r,n),a.subVectors(t,n);const s=(new Sr.Vector3).crossVectors(o,a).normalize();for(let o=0;o<3;o++){const e=c(i[o]);e in h||(h[e]=[]),h[e].push(s)}}const p=new Float32Array(3*d.count),f=new Sr.BufferAttribute(p,3,!1);for(let m=0,g=d.count/3;m<g;m++){const e=3*m,t=i[0].fromBufferAttribute(d,e+0),r=i[1].fromBufferAttribute(d,e+1),u=i[2].fromBufferAttribute(d,e+2);o.subVectors(u,r),a.subVectors(t,r),s.crossVectors(o,a).normalize();for(let o=0;o<3;o++){const t=h[c(i[o])];l.set(0,0,0);for(let e=0,r=t.length;e<r;e++){const r=t[e];s.dot(r)>n&&l.add(r)}l.normalize(),f.setXYZ(e+o,l.x,l.y,l.z)}}return u.setAttribute("normal",f),u}class Hr extends Sr.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new $r(e)})),this.register((function(e){return new Xr(e)})),this.register((function(e){return new ii(e)})),this.register((function(e){return new oi(e)})),this.register((function(e){return new ai(e)})),this.register((function(e){return new Yr(e)})),this.register((function(e){return new Jr(e)})),this.register((function(e){return new Zr(e)})),this.register((function(e){return new ei(e)})),this.register((function(e){return new qr(e)})),this.register((function(e){return new ti(e)})),this.register((function(e){return new Kr(e)})),this.register((function(e){return new ri(e)})),this.register((function(e){return new ni(e)})),this.register((function(e){return new Qr(e)})),this.register((function(e){return new si(e)})),this.register((function(e){return new li(e)}))}load(e,t,n,r){const i=this;let o;if(""!==this.resourcePath)o=this.resourcePath;else if(""!==this.path){const t=Sr.LoaderUtils.extractUrlBase(e);o=Sr.LoaderUtils.resolveURL(t,this.path)}else o=Sr.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},s=new Sr.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{i.parse(n,o,(function(n){t(n),i.manager.itemEnd(e)}),a)}catch(e){a(e)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const o={},a={},s=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(s.decode(new Uint8Array(e,0,4))===ci){try{o[Gr.KHR_BINARY_GLTF]=new ui(e)}catch(e){return void(r&&r(e))}i=JSON.parse(o[Gr.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Bi(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const e=this.pluginCallbacks[c](l);e.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[e.name]=e,o[e.name]=!0}if(i.extensionsUsed)for(let c=0;c<i.extensionsUsed.length;++c){const e=i.extensionsUsed[c],t=i.extensionsRequired||[];switch(e){case Gr.KHR_MATERIALS_UNLIT:o[e]=new Wr;break;case Gr.KHR_DRACO_MESH_COMPRESSION:o[e]=new di(i,this.dracoLoader);break;case Gr.KHR_TEXTURE_TRANSFORM:o[e]=new hi;break;case Gr.KHR_MESH_QUANTIZATION:o[e]=new pi;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function Vr(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const Gr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Qr{constructor(e){this.parser=e,this.name=Gr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let a;const s=new Sr.Color(16777215);void 0!==o.color&&s.setRGB(o.color[0],o.color[1],o.color[2],Sr.LinearSRGBColorSpace);const l=void 0!==o.range?o.range:0;switch(o.type){case"directional":a=new Sr.DirectionalLight(s),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new Sr.PointLight(s),a.distance=l;break;case"spot":a=new Sr.SpotLight(s),a.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,a.angle=o.spot.outerConeAngle,a.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return a.position.set(0,0,0),Mi(a,o),void 0!==o.intensity&&(a.intensity=o.intensity),a.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class Wr{constructor(){this.name=Gr.KHR_MATERIALS_UNLIT}getMaterialType(){return Sr.MeshBasicMaterial}extendParams(e,t,n){const r=[];e.color=new Sr.Color(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],Sr.LinearSRGBColorSpace),e.opacity=t[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,Sr.SRGBColorSpace))}return Promise.all(r)}}class qr{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class $r{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const e=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Sr.Vector2(e,e)}return Promise.all(i)}}class Xr{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.dispersion=void 0!==r.dispersion?r.dispersion:0,Promise.resolve()}}class Kr{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class Yr{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new Sr.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(void 0!==o.sheenColorFactor){const e=o.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],Sr.LinearSRGBColorSpace)}return void 0!==o.sheenRoughnessFactor&&(t.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Sr.SRGBColorSpace)),void 0!==o.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class Jr{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class Zr{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];t.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=(new Sr.Color).setRGB(a[0],a[1],a[2],Sr.LinearSRGBColorSpace),Promise.all(i)}}class ei{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class ti{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];t.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=(new Sr.Color).setRGB(a[0],a[1],a[2],Sr.LinearSRGBColorSpace),void 0!==o.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,Sr.SRGBColorSpace)),Promise.all(i)}}class ni{constructor(e){this.parser=e,this.name=Gr.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return t.bumpScale=void 0!==o.bumpFactor?o.bumpFactor:1,void 0!==o.bumpTexture&&i.push(n.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(i)}}class ri{constructor(e){this.parser=e,this.name=Gr.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?Sr.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.anisotropyStrength&&(t.anisotropy=o.anisotropyStrength),void 0!==o.anisotropyRotation&&(t.anisotropyRotation=o.anisotropyRotation),void 0!==o.anisotropyTexture&&i.push(n.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(i)}}class ii{constructor(e){this.parser=e,this.name=Gr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,o)}}class oi{constructor(e){this.parser=e,this.name=Gr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],a=r.images[o.source];let s=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,o.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class ai{constructor(e){this.parser=e,this.name=Gr.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],a=r.images[o.source];let s=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,o.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class si{constructor(e){this.name=Gr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,o=e.count,a=e.byteStride,s=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,a,s,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(o*a);return i.decodeGltfBuffer(new Uint8Array(t),o,a,s,e.mode,e.filter),t}))}))}return null}}class li{constructor(e){this.name=Gr.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const r=t.meshes[n.mesh];for(const s of r.primitives)if(s.mode!==vi.TRIANGLES&&s.mode!==vi.TRIANGLE_STRIP&&s.mode!==vi.TRIANGLE_FAN&&void 0!==s.mode)return null;const i=n.extensions[this.name].attributes,o=[],a={};for(const s in i)o.push(this.parser.getDependency("accessor",i[s]).then((e=>(a[s]=e,a[s]))));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then((e=>{const t=e.pop(),n=t.isGroup?t.children:[t],r=e[0].count,i=[];for(const o of n){const e=new Sr.Matrix4,t=new Sr.Vector3,n=new Sr.Quaternion,s=new Sr.Vector3(1,1,1),l=new Sr.InstancedMesh(o.geometry,o.material,r);for(let i=0;i<r;i++)a.TRANSLATION&&t.fromBufferAttribute(a.TRANSLATION,i),a.ROTATION&&n.fromBufferAttribute(a.ROTATION,i),a.SCALE&&s.fromBufferAttribute(a.SCALE,i),l.setMatrixAt(i,e.compose(t,n,s));for(const r in a)if("_COLOR_0"===r){const e=a[r];l.instanceColor=new Sr.InstancedBufferAttribute(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==r&&"ROTATION"!==r&&"SCALE"!==r&&o.geometry.setAttribute(r,a[r]);Sr.Object3D.prototype.copy.call(l,o),this.parser.assignFinalMaterial(l),i.push(l)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const ci="glTF";class ui{constructor(e){this.name=Gr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ci)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,i=new DataView(e,12);let o=0;for(;o<r;){const t=i.getUint32(o,!0);o+=4;const r=i.getUint32(o,!0);if(o+=4,1313821514===r){const r=new Uint8Array(e,12+o,t);this.content=n.decode(r)}else if(5130562===r){const n=12+o;this.body=e.slice(n,n+t)}o+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class di{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Gr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},l={};for(const c in o){const e=wi[c]||c.toLowerCase();a[e]=o[c]}for(const c in e.attributes){const t=wi[c]||c.toLowerCase();if(void 0!==o[c]){const r=n.accessors[e.attributes[c]],i=yi[r.componentType];l[t]=i.name,s[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t,n){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=s[t];void 0!==r&&(n.normalized=r)}t(e)}),a,l,Sr.LinearSRGBColorSpace,n)}))}))}}class hi{constructor(){this.name=Gr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class pi{constructor(){this.name=Gr.KHR_MESH_QUANTIZATION}}class fi extends Sr.Interpolant{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[i+o];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=r-t,u=(n-t)/c,d=u*u,h=d*u,p=e*l,f=p-l,m=-2*h+3*d,g=h-d,v=1-m,y=g-d+u;for(let b=0;b!==a;b++){const e=o[f+b+a],t=o[f+b+s]*c,n=o[p+b+a],r=o[p+b]*c;i[b]=v*e+y*t+m*n+g*r}return i}}const mi=new Sr.Quaternion;class gi extends fi{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return mi.fromArray(i).normalize().toArray(i),i}}const vi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},yi={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},bi={9728:Sr.NearestFilter,9729:Sr.LinearFilter,9984:Sr.NearestMipmapNearestFilter,9985:Sr.LinearMipmapNearestFilter,9986:Sr.NearestMipmapLinearFilter,9987:Sr.LinearMipmapLinearFilter},Ai={33071:Sr.ClampToEdgeWrapping,33648:Sr.MirroredRepeatWrapping,10497:Sr.RepeatWrapping},xi={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wi={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ci={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ei={CUBICSPLINE:void 0,LINEAR:Sr.InterpolateLinear,STEP:Sr.InterpolateDiscrete};function Si(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new Sr.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Sr.FrontSide})),e.DefaultMaterial}function _i(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Mi(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Ii(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ti(e){let t;const n=e.extensions&&e.extensions[Gr.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+Ri(n.attributes):e.indices+":"+Ri(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,i=e.targets.length;r<i;r++)t+=":"+Ri(e.targets[r]);return t}function Ri(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ki(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Pi=new Sr.Matrix4;class Bi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Vr,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,r=-1,i=!1,o=-1;if("undefined"!=typeof navigator){const e=navigator.userAgent;n=!0===/^((?!chrome|android).)*safari/i.test(e);const t=e.match(/Version\/(\d+)/);r=n&&t?parseInt(t[1],10):-1,i=e.indexOf("Firefox")>-1,o=i?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||n&&r<17||i&&o<98?this.textureLoader=new Sr.TextureLoader(this.options.manager):this.textureLoader=new Sr.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Sr.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};return _i(i,o,r),Mi(o,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){for(const e of o.scenes)e.updateMatrixWorld();e(o)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[r,o]of e.children.entries())i(o,t.children[r])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Gr.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(Sr.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){const e=xi[r.type],t=yi[r.componentType],n=!0===r.normalized,i=new t(r.count*e);return Promise.resolve(new Sr.BufferAttribute(i,e,n))}const i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],o=xi[r.type],a=yi[r.componentType],s=a.BYTES_PER_ELEMENT,l=s*o,c=r.byteOffset||0,u=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;let h,p;if(u&&u!==l){const e=Math.floor(c/u),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let l=t.cache.get(n);l||(h=new a(i,e*u,r.count*u/s),l=new Sr.InterleavedBuffer(h,u/s),t.cache.add(n,l)),p=new Sr.InterleavedBufferAttribute(l,o,c%u/s,d)}else h=null===i?new a(r.count*o):new a(i,c,r.count*o),p=new Sr.BufferAttribute(h,o,d);if(void 0!==r.sparse){const t=xi.SCALAR,n=yi[r.sparse.indices.componentType],s=r.sparse.indices.byteOffset||0,l=r.sparse.values.byteOffset||0,c=new n(e[1],s,r.sparse.count*t),u=new a(e[2],l,r.sparse.count*o);null!==i&&(p=new Sr.BufferAttribute(p.array.slice(),p.itemSize,p.normalized)),p.normalized=!1;for(let e=0,r=c.length;e<r;e++){const t=c[e];if(p.setX(t,u[e*o]),o>=2&&p.setY(t,u[e*o+1]),o>=3&&p.setZ(t,u[e*o+2]),o>=4&&p.setW(t,u[e*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}p.normalized=d}return p}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let o=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(o=e)}return this.loadTextureImage(e,r,o)}loadTextureImage(e,t,n){const r=this,i=this.json,o=i.textures[e],a=i.images[t],s=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[s])return this.textureCache[s];const l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=o.name||a.name||"",""===t.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const n=(i.samplers||{})[o.sampler]||{};return t.magFilter=bi[n.magFilter]||Sr.LinearFilter,t.minFilter=bi[n.minFilter]||Sr.LinearMipmapLinearFilter,t.wrapS=Ai[n.wrapS]||Sr.RepeatWrapping,t.wrapT=Ai[n.wrapT]||Sr.RepeatWrapping,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==Sr.NearestFilter&&t.minFilter!==Sr.LinearFilter,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}loadImageSource(e,t){const n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const i=n.images[e],o=self.URL||self.webkitURL;let a=i.uri||"",s=!1;if(void 0!==i.bufferView)a=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;const t=new Blob([e],{type:i.mimeType});return a=o.createObjectURL(t),a}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const l=Promise.resolve(a).then((function(e){return new Promise((function(n,i){let o=n;!0===t.isImageBitmapLoader&&(o=function(e){const t=new Sr.Texture(e);t.needsUpdate=!0,n(t)}),t.load(Sr.LoaderUtils.resolveURL(e,r.path),o,void 0,i)}))})).then((function(e){var t;return!0===s&&o.revokeObjectURL(a),Mi(e,i),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),e}));return this.sourceCache[e]=l,l}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(o){if(!o)return null;if(void 0!==n.texCoord&&n.texCoord>0&&((o=o.clone()).channel=n.texCoord),i.extensions[Gr.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[Gr.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(o);o=i.extensions[Gr.KHR_TEXTURE_TRANSFORM].extendTexture(o,e),i.associations.set(o,t)}}return void 0!==r&&(o.colorSpace=r),e[t]=o,o}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,o=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new Sr.PointsMaterial,Sr.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new Sr.LineBasicMaterial,Sr.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,this.cache.add(e,t)),n=t}if(r||i||o){let e="ClonedMaterial:"+n.uuid+":";r&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),o&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),i&&(t.vertexColors=!0),o&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}e.material=n}getMaterialType(){return Sr.MeshStandardMaterial}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let o;const a={},s=[];if((i.extensions||{})[Gr.KHR_MATERIALS_UNLIT]){const e=r[Gr.KHR_MATERIALS_UNLIT];o=e.getMaterialType(),s.push(e.extendParams(a,i,t))}else{const n=i.pbrMetallicRoughness||{};if(a.color=new Sr.Color(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;a.color.setRGB(e[0],e[1],e[2],Sr.LinearSRGBColorSpace),a.opacity=e[3]}void 0!==n.baseColorTexture&&s.push(t.assignTexture(a,"map",n.baseColorTexture,Sr.SRGBColorSpace)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(s.push(t.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),s.push(t.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),o=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))}!0===i.doubleSided&&(a.side=Sr.DoubleSide);const l=i.alphaMode||"OPAQUE";if("BLEND"===l?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===l&&(a.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&o!==Sr.MeshBasicMaterial&&(s.push(t.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new Sr.Vector2(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;a.normalScale.set(e,e)}if(void 0!==i.occlusionTexture&&o!==Sr.MeshBasicMaterial&&(s.push(t.assignTexture(a,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(a.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&o!==Sr.MeshBasicMaterial){const e=i.emissiveFactor;a.emissive=(new Sr.Color).setRGB(e[0],e[1],e[2],Sr.LinearSRGBColorSpace)}return void 0!==i.emissiveTexture&&o!==Sr.MeshBasicMaterial&&s.push(t.assignTexture(a,"emissiveMap",i.emissiveTexture,Sr.SRGBColorSpace)),Promise.all(s).then((function(){const n=new o(a);return i.name&&(n.name=i.name),Mi(n,i),t.associations.set(n,{materials:e}),i.extensions&&_i(r,n,i),n}))}createUniqueName(e){const t=Sr.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[Gr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Oi(n,e,t)}))}const o=[];for(let a=0,s=e.length;a<s;a++){const n=e[a],s=Ti(n),l=r[s];if(l)o.push(l.promise);else{let e;e=n.extensions&&n.extensions[Gr.KHR_DRACO_MESH_COMPRESSION]?i(n):Oi(new Sr.BufferGeometry,n,t),r[s]={primitive:n,promise:e},o.push(e)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],o=i.primitives,a=[];for(let s=0,l=o.length;s<l;s++){const e=void 0===o[s].material?Si(this.cache):this.getDependency("material",o[s].material);a.push(e)}return a.push(t.loadGeometries(o)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),s=n[n.length-1],l=[];for(let u=0,d=s.length;u<d;u++){const n=s[u],c=o[u];let d;const h=a[u];if(c.mode===vi.TRIANGLES||c.mode===vi.TRIANGLE_STRIP||c.mode===vi.TRIANGLE_FAN||void 0===c.mode)d=!0===i.isSkinnedMesh?new Sr.SkinnedMesh(n,h):new Sr.Mesh(n,h),!0===d.isSkinnedMesh&&d.normalizeSkinWeights(),c.mode===vi.TRIANGLE_STRIP?d.geometry=Fr(d.geometry,Sr.TriangleStripDrawMode):c.mode===vi.TRIANGLE_FAN&&(d.geometry=Fr(d.geometry,Sr.TriangleFanDrawMode));else if(c.mode===vi.LINES)d=new Sr.LineSegments(n,h);else if(c.mode===vi.LINE_STRIP)d=new Sr.Line(n,h);else if(c.mode===vi.LINE_LOOP)d=new Sr.LineLoop(n,h);else{if(c.mode!==vi.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+c.mode);d=new Sr.Points(n,h)}Object.keys(d.geometry.morphAttributes).length>0&&Ii(d,i),d.name=t.createUniqueName(i.name||"mesh_"+e),Mi(d,i),c.extensions&&_i(r,d,c),t.assignFinalMaterial(d),l.push(d)}for(let r=0,i=l.length;r<i;r++)t.associations.set(l[r],{meshes:e,primitives:r});if(1===l.length)return i.extensions&&_i(r,l[0],i),l[0];const c=new Sr.Group;i.extensions&&_i(r,c,i),t.associations.set(c,{meshes:e});for(let e=0,t=l.length;e<t;e++)c.add(l[e]);return c}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Sr.PerspectiveCamera(Sr.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Sr.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Mi(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let r=0,i=t.joints.length;r<i;r++)n.push(this._loadNodeShallow(t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),r=e,i=[],o=[];for(let a=0,s=r.length;a<s;a++){const e=r[a];if(e){i.push(e);const t=new Sr.Matrix4;null!==n&&t.fromArray(n.array,16*a),o.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new Sr.Skeleton(i,o)}))}loadAnimation(e){const t=this.json,n=this,r=t.animations[e],i=r.name?r.name:"animation_"+e,o=[],a=[],s=[],l=[],c=[];for(let u=0,d=r.channels.length;u<d;u++){const e=r.channels[u],t=r.samplers[e.sampler],n=e.target,i=n.node,d=void 0!==r.parameters?r.parameters[t.input]:t.input,h=void 0!==r.parameters?r.parameters[t.output]:t.output;void 0!==n.node&&(o.push(this.getDependency("node",i)),a.push(this.getDependency("accessor",d)),s.push(this.getDependency("accessor",h)),l.push(t),c.push(n))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(s),Promise.all(l),Promise.all(c)]).then((function(e){const t=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=[];for(let i=0,c=t.length;i<c;i++){const e=t[i],c=r[i],u=o[i],d=a[i],h=s[i];if(void 0===e)continue;e.updateMatrix&&e.updateMatrix();const p=n._createAnimationTracks(e,c,u,d,h);if(p)for(let t=0;t<p.length;t++)l.push(p[t])}return new Sr.AnimationClip(i,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this,n=this.json.nodes[e],r=t._loadNodeShallow(e),i=[],o=n.children||[];for(let s=0,l=o.length;s<l;s++)i.push(t.getDependency("node",o[s]));const a=void 0===n.skin?Promise.resolve(null):t.getDependency("skin",n.skin);return Promise.all([r,Promise.all(i),a]).then((function(e){const t=e[0],n=e[1],r=e[2];null!==r&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(r,Pi)}));for(let i=0,o=n.length;i<o;i++)t.add(n[i]);return t}))}_loadNodeShallow(e){const t=this.json,n=this.extensions,r=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const i=t.nodes[e],o=i.name?r.createUniqueName(i.name):"",a=[],s=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return s&&a.push(s),void 0!==i.camera&&a.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===i.isBone?new Sr.Bone:t.length>1?new Sr.Group:1===t.length?t[0]:new Sr.Object3D,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(i.name&&(a.userData.name=i.name,a.name=o),Mi(a,i),i.extensions&&_i(n,a,i),void 0!==i.matrix){const e=new Sr.Matrix4;e.fromArray(i.matrix),a.applyMatrix4(e)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,n=this.json.scenes[e],r=this,i=new Sr.Group;n.name&&(i.name=r.createUniqueName(n.name)),Mi(i,n),n.extensions&&_i(t,i,n);const o=n.nodes||[],a=[];for(let s=0,l=o.length;s<l;s++)a.push(r.getDependency("node",o[s]));return Promise.all(a).then((function(e){for(let t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=(e=>{const t=new Map;for(const[n,i]of r.associations)(n instanceof Sr.Material||n instanceof Sr.Texture)&&t.set(n,i);return e.traverse((e=>{const n=r.associations.get(e);null!=n&&t.set(e,n)})),t})(i),i}))}_createAnimationTracks(e,t,n,r,i){const o=[],a=e.name?e.name:e.uuid,s=[];let l;switch(Ci[i.path]===Ci.weights?e.traverse((function(e){e.morphTargetInfluences&&s.push(e.name?e.name:e.uuid)})):s.push(a),Ci[i.path]){case Ci.weights:l=Sr.NumberKeyframeTrack;break;case Ci.rotation:l=Sr.QuaternionKeyframeTrack;break;case Ci.position:case Ci.scale:l=Sr.VectorKeyframeTrack;break;default:l=1===n.itemSize?Sr.NumberKeyframeTrack:Sr.VectorKeyframeTrack}const c=void 0!==r.interpolation?Ei[r.interpolation]:Sr.InterpolateLinear,u=this._getArrayFromAccessor(n);for(let d=0,h=s.length;d<h;d++){const e=new l(s[d]+"."+Ci[i.path],t.array,u,c);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(e),o.push(e)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=ki(t.constructor),n=new Float32Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=t[r]*e;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof Sr.QuaternionKeyframeTrack?gi:fi)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Oi(e,t,n){const r=t.attributes,i=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const a in r){const t=wi[a]||a.toLowerCase();t in e.attributes||i.push(o(r[a],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return Sr.ColorManagement.workingColorSpace!==Sr.LinearSRGBColorSpace&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Sr.ColorManagement.workingColorSpace}" not supported.`),Mi(e,t),function(e,t,n){const r=t.attributes,i=new Sr.Box3;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,o=e.max;if(void 0===t||void 0===o)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new Sr.Vector3(t[0],t[1],t[2]),new Sr.Vector3(o[0],o[1],o[2])),e.normalized){const t=ki(yi[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const o=t.targets;if(void 0!==o){const e=new Sr.Vector3,t=new Sr.Vector3;for(let r=0,i=o.length;r<i;r++){const i=o[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],o=r.min,a=r.max;if(void 0!==o&&void 0!==a){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),r.normalized){const e=ki(yi[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const a=new Sr.Sphere;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,o=!1;for(let c=0,u=t.length;c<u;c++){const e=t[c];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),void 0!==e.COLOR_0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(e);const a=[],s=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(r){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;a.push(t)}if(i){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;s.push(t)}if(o){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then((function(t){const n=t[0],a=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),o&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}class Li{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:t,msg:n,transfer:r}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,r)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Di=9,Ni=15,Fi=16,ji=22,Ui=37,zi=43,Hi=76,Vi=83,Gi=97,Qi=100,Wi=103,qi=109,$i=165,Xi=166,Ki=1000066e3;class Yi{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Ji{constructor(e,t,n,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,n),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){const t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t){void 0===t&&(t=0);const n=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}new Uint8Array([0]);const Zi=[171,75,84,88,32,50,48,187,13,10,26,10];function eo(e){return(new TextDecoder).decode(e)}var to=$t(9922).hp;let no,ro,io;const oo={env:{emscripten_notify_memory_growth:function(e){io=new Uint8Array(ro.exports.memory.buffer)}}};class ao{init(){return no||(no="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+so).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,oo))).then(this._init):WebAssembly.instantiate(to.from(so,"base64"),oo).then(this._init),no)}_init(e){ro=e.instance,oo.env.emscripten_notify_memory_growth(0)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!ro)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=ro.exports.malloc(n);io.set(e,r),t=t||Number(ro.exports.ZSTD_findDecompressedSize(r,n));const i=ro.exports.malloc(t),o=ro.exports.ZSTD_decompress(i,t,r,n),a=io.slice(i,i+o);return ro.exports.free(r),ro.exports.free(i),a}}const so="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",lo=(Sr.SRGBTransfer,Sr.LinearTransfer,Sr.LinearTransfer,new WeakMap);let co,uo=0;class ho extends Sr.Loader{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Li,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}async detectSupportAsync(e){return this.workerConfig={astcSupported:await e.hasFeatureAsync("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:await e.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await e.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await e.hasFeatureAsync("texture-compression-bc"),bptcSupported:await e.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await e.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(e){return!0===e.isWebGPURenderer?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:e.hasFeature("texture-compression-etc1"),etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:e.hasFeature("texture-compression-bptc"),pvrtcSupported:e.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),astcHDRSupported:e.extensions.has("WEBGL_compressed_texture_astc")&&e.extensions.get("WEBGL_compressed_texture_astc").getSupportedProfiles().includes("hdr"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const e=new Sr.FileLoader(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),n=new Sr.FileLoader(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,r]).then((e=>{let[t,n]=e;const r=ho.BasisWorker.toString(),i=["/* constants */","let _EngineFormat = "+JSON.stringify(ho.EngineFormat),"let _EngineType = "+JSON.stringify(ho.EngineType),"let _TranscoderFormat = "+JSON.stringify(ho.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(ho.BasisFormat),"/* basis_transcoder.js */",t,"/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i])),this.transcoderBinary=n,this.workerPool.setWorkerCreator((()=>{const e=new Worker(this.workerSourceURL),t=this.transcoderBinary.slice(0);return e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:t},[t]),e}))})),uo>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),uo++}return this.transcoderPending}load(e,t,n,r){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new Sr.FileLoader(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{this.parse(e,t,r)}),n,r)}parse(e,t,n){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(lo.has(e))return lo.get(e).promise.then(t).catch(n);this._createTexture(e).then((e=>t?t(e):null)).catch(n)}_createTextureFrom(e,t){const{type:n,error:r,data:{faces:i,width:o,height:a,format:s,type:l,dfdFlags:c}}=e;if("error"===n)return Promise.reject(r);let u;if(6===t.faceCount)u=new Sr.CompressedCubeTexture(i,s,l);else{const e=i[0].mipmaps;u=t.layerCount>1?new Sr.CompressedArrayTexture(e,o,a,t.layerCount,s,l):new Sr.CompressedTexture(e,o,a,s,l)}return u.minFilter=1===i[0].mipmaps.length?Sr.LinearFilter:Sr.LinearMipmapLinearFilter,u.magFilter=Sr.LinearFilter,u.generateMipmaps=!1,u.needsUpdate=!0,u.colorSpace=go(t),u.premultiplyAlpha=!!(1&c),u}async _createTexture(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){const t=new Uint8Array(e.buffer,e.byteOffset,Zi.length);if(t[0]!==Zi[0]||t[1]!==Zi[1]||t[2]!==Zi[2]||t[3]!==Zi[3]||t[4]!==Zi[4]||t[5]!==Zi[5]||t[6]!==Zi[6]||t[7]!==Zi[7]||t[8]!==Zi[8]||t[9]!==Zi[9]||t[10]!==Zi[10]||t[11]!==Zi[11])throw new Error("Missing KTX 2.0 identifier.");const n=new Yi,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new Ji(e,Zi.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const o=i._nextUint32();n.supercompressionScheme=i._nextUint32();const a=i._nextUint32(),s=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),u=i._nextUint64(),d=i._nextUint64(),h=new Ji(e,Zi.length+r,3*o*8,!0);for(let B=0;B<o;B++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});const p=new Ji(e,a,s,!0),f={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},m=(f.descriptorBlockSize/4-6)/4;for(let B=0;B<m;B++){const e={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&e.channelType?(e.sampleLower=p._nextInt32(),e.sampleUpper=p._nextInt32()):(e.sampleLower=p._nextUint32(),e.sampleUpper=p._nextUint32()),f.samples[B]=e}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(f);const g=new Ji(e,l,c,!0);for(;g._offset<c;){const e=g._nextUint32(),t=g._scan(e),r=eo(t);if(n.keyValue[r]=g._nextUint8Array(e-t.byteLength-1),r.match(/^ktx/i)){const e=eo(n.keyValue[r]);n.keyValue[r]=e.substring(0,e.lastIndexOf("\0"))}g._skip(e%4?4-e%4:0)}if(d<=0)return n;const v=new Ji(e,u,d,!0),y=v._nextUint16(),b=v._nextUint16(),A=v._nextUint32(),x=v._nextUint32(),w=v._nextUint32(),C=v._nextUint32(),E=[];for(let B=0;B<o;B++)E.push({imageFlags:v._nextUint32(),rgbSliceByteOffset:v._nextUint32(),rgbSliceByteLength:v._nextUint32(),alphaSliceByteOffset:v._nextUint32(),alphaSliceByteLength:v._nextUint32()});const S=u+v._offset,_=S+A,M=_+x,I=M+w,T=new Uint8Array(e.buffer,e.byteOffset+S,A),R=new Uint8Array(e.buffer,e.byteOffset+_,x),k=new Uint8Array(e.buffer,e.byteOffset+M,w),P=new Uint8Array(e.buffer,e.byteOffset+I,C);return n.globalData={endpointCount:y,selectorCount:b,imageDescs:E,endpointsData:T,selectorsData:R,tablesData:k,extendedData:P},n}(new Uint8Array(e)),r=n.vkFormat===Ki&&167===n.dataFormatDescriptor[0].colorModel;if(0!==n.vkFormat&&(!r||this.workerConfig.astcHDRSupported))return async function(e){const{vkFormat:t}=e;if(void 0===fo[t])throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let n;2===e.supercompressionScheme&&(co||(co=new Promise((async e=>{const t=new ao;await t.init(),e(t)}))),n=await co);const r=[];for(let o=0;o<e.levels.length;o++){const i=Math.max(1,e.pixelWidth>>o),a=Math.max(1,e.pixelHeight>>o),s=e.pixelDepth?Math.max(1,e.pixelDepth>>o):0,l=e.levels[o];let c,u;if(0===e.supercompressionScheme)c=l.levelData;else{if(2!==e.supercompressionScheme)throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");c=n.decode(l.levelData,l.uncompressedByteLength)}u=mo[t]===Sr.FloatType?new Float32Array(c.buffer,c.byteOffset,c.byteLength/Float32Array.BYTES_PER_ELEMENT):mo[t]===Sr.HalfFloatType?new Uint16Array(c.buffer,c.byteOffset,c.byteLength/Uint16Array.BYTES_PER_ELEMENT):c,r.push({data:u,width:i,height:a,depth:s})}let i;if(po.has(fo[t]))i=0===e.pixelDepth?new Sr.DataTexture(r[0].data,e.pixelWidth,e.pixelHeight):new Sr.Data3DTexture(r[0].data,e.pixelWidth,e.pixelHeight,e.pixelDepth);else{if(e.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");i=new Sr.CompressedTexture(r,e.pixelWidth,e.pixelHeight),i.minFilter=1===r.length?Sr.LinearFilter:Sr.LinearMipmapLinearFilter,i.magFilter=Sr.LinearFilter}return i.mipmaps=r,i.type=mo[t],i.format=fo[t],i.colorSpace=go(e),i.needsUpdate=!0,Promise.resolve(i)}(n);const i=t,o=this.init().then((()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:i},[e]))).then((e=>this._createTextureFrom(e.data,n)));return lo.set(e,{promise:o}),o}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),uo--,this}}ho.BasisFormat={ETC1S:0,UASTC:1,UASTC_HDR:2},ho.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16,BC6H:22,RGB_HALF:24,RGBA_HALF:25},ho.EngineFormat={RGBAFormat:Sr.RGBAFormat,RGBA_ASTC_4x4_Format:Sr.RGBA_ASTC_4x4_Format,RGB_BPTC_UNSIGNED_Format:Sr.RGB_BPTC_UNSIGNED_Format,RGBA_BPTC_Format:Sr.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:Sr.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:Sr.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:Sr.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:Sr.RGB_ETC1_Format,RGB_ETC2_Format:Sr.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:Sr.RGB_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format:Sr.RGBA_S3TC_DXT1_Format},ho.EngineType={UnsignedByteType:Sr.UnsignedByteType,HalfFloatType:Sr.HalfFloatType,FloatType:Sr.FloatType},ho.BasisWorker=function(){let e,t,n;const r=_EngineFormat,i=_EngineType,o=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(r){const o=r.data;switch(o.type){case"init":e=o.config,s=o.transcoderBinary,t=new Promise((e=>{n={wasmBinary:s,onRuntimeInitialized:e},BASIS(n)})).then((()=>{n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((()=>{try{const{faces:t,buffers:r,width:s,height:d,hasAlpha:h,format:p,type:f,dfdFlags:m}=function(t){const r=new n.KTX2File(new Uint8Array(t));function o(){r.close(),r.delete()}if(!r.isValid())throw o(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");let s;if(r.isUASTC())s=a.UASTC;else if(r.isETC1S())s=a.ETC1S;else{if(!r.isHDR())throw new Error("THREE.KTX2Loader: Unknown Basis encoding");s=a.UASTC_HDR}const d=r.getWidth(),h=r.getHeight(),p=r.getLayers()||1,f=r.getLevels(),m=r.getFaces(),g=r.getHasAlpha(),v=r.getDFDFlags(),{transcoderFormat:y,engineFormat:b,engineType:A}=function(t,n,r,i){const o=l[t];for(let a=0;a<o.length;a++){const s=o[a];if((!s.if||e[s.if])&&s.basisFormat.includes(t)&&!(i&&s.transcoderFormat.length<2)&&(!s.needsPowerOfTwo||c(n)&&c(r)))return{transcoderFormat:s.transcoderFormat[i?1:0],engineFormat:s.engineFormat[i?1:0],engineType:s.engineType[0]}}throw new Error("THREE.KTX2Loader: Failed to identify transcoding target.")}(s,d,h,g);if(!d||!h||!f)throw o(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!r.startTranscoding())throw o(),new Error("THREE.KTX2Loader: .startTranscoding failed");const x=[],w=[];for(let e=0;e<m;e++){const t=[];for(let n=0;n<f;n++){const a=[];let s,l;for(let t=0;t<p;t++){const c=r.getImageLevelInfo(n,t,e);0!==e||0!==n||0!==t||c.origWidth%4==0&&c.origHeight%4==0||console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),f>1?(s=c.origWidth,l=c.origHeight):(s=c.width,l=c.height);let u=new Uint8Array(r.getImageTranscodedSizeInBytes(n,t,0,y));const d=r.transcodeImage(u,n,t,e,y,0,-1,-1);if(A===i.HalfFloatType&&(u=new Uint16Array(u.buffer,u.byteOffset,u.byteLength/Uint16Array.BYTES_PER_ELEMENT)),!d)throw o(),new Error("THREE.KTX2Loader: .transcodeImage failed.");a.push(u)}const c=u(a);t.push({data:c,width:s,height:l}),w.push(c.buffer)}x.push({mipmaps:t,width:d,height:h,format:b,type:A})}return o(),{faces:x,buffers:w,width:d,height:h,hasAlpha:g,dfdFlags:v,format:b,type:A}}(o.buffer);self.postMessage({type:"transcode",id:o.id,data:{faces:t,width:s,height:d,hasAlpha:h,format:p,type:f,dfdFlags:m}},r)}catch(e){console.error(e),self.postMessage({type:"error",id:o.id,error:e.message})}}))}var s}));const s=[{if:"astcSupported",basisFormat:[a.UASTC],transcoderFormat:[o.ASTC_4x4,o.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],engineType:[i.UnsignedByteType],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[o.BC7_M5,o.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],engineType:[i.UnsignedByteType],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[o.BC1,o.BC3],engineFormat:[r.RGBA_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],engineType:[i.UnsignedByteType],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[o.ETC1,o.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],engineType:[i.UnsignedByteType],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[o.ETC1],engineFormat:[r.RGB_ETC1_Format],engineType:[i.UnsignedByteType],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[o.PVRTC1_4_RGB,o.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],engineType:[i.UnsignedByteType],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0},{if:"bptcSupported",basisFormat:[a.UASTC_HDR],transcoderFormat:[o.BC6H],engineFormat:[r.RGB_BPTC_UNSIGNED_Format],engineType:[i.HalfFloatType],priorityHDR:1,needsPowerOfTwo:!1},{basisFormat:[a.ETC1S,a.UASTC],transcoderFormat:[o.RGBA32,o.RGBA32],engineFormat:[r.RGBAFormat,r.RGBAFormat],engineType:[i.UnsignedByteType,i.UnsignedByteType],priorityETC1S:100,priorityUASTC:100,needsPowerOfTwo:!1},{basisFormat:[a.UASTC_HDR],transcoderFormat:[o.RGBA_HALF],engineFormat:[r.RGBAFormat],engineType:[i.HalfFloatType],priorityHDR:100,needsPowerOfTwo:!1}],l={[a.ETC1S]:s.filter((e=>e.basisFormat.includes(a.ETC1S))).sort(((e,t)=>e.priorityUASTC-t.priorityUASTC)),[a.UASTC]:s.filter((e=>e.basisFormat.includes(a.UASTC))).sort(((e,t)=>e.priorityUASTC-t.priorityUASTC)),[a.UASTC_HDR]:s.filter((e=>e.basisFormat.includes(a.UASTC_HDR))).sort(((e,t)=>e.priorityHDR-t.priorityHDR))};function c(e){return e<=2||!(e&e-1)&&0!==e}function u(e){if(1===e.length)return e[0];let t=0;for(let i=0;i<e.length;i++)t+=e[i].byteLength;const n=new Uint8Array(t);let r=0;for(let i=0;i<e.length;i++){const t=e[i];n.set(t,r),r+=t.byteLength}return n}};const po=new Set([Sr.RGBAFormat,Sr.RGFormat,Sr.RedFormat]),fo={[qi]:Sr.RGBAFormat,[Gi]:Sr.RGBAFormat,[Ui]:Sr.RGBAFormat,[zi]:Sr.RGBAFormat,[Wi]:Sr.RGFormat,[Vi]:Sr.RGFormat,[Fi]:Sr.RGFormat,[ji]:Sr.RGFormat,[Qi]:Sr.RedFormat,[Hi]:Sr.RedFormat,[Ni]:Sr.RedFormat,[Di]:Sr.RedFormat,[Ki]:Sr.RGBA_ASTC_4x4_Format,[Xi]:Sr.RGBA_ASTC_6x6_Format,[$i]:Sr.RGBA_ASTC_6x6_Format},mo={[qi]:Sr.FloatType,[Gi]:Sr.HalfFloatType,[Ui]:Sr.UnsignedByteType,[zi]:Sr.UnsignedByteType,[Wi]:Sr.FloatType,[Vi]:Sr.HalfFloatType,[Fi]:Sr.UnsignedByteType,[ji]:Sr.UnsignedByteType,[Qi]:Sr.FloatType,[Hi]:Sr.HalfFloatType,[Ni]:Sr.UnsignedByteType,[Di]:Sr.UnsignedByteType,[Ki]:Sr.HalfFloatType,[Xi]:Sr.UnsignedByteType,[$i]:Sr.UnsignedByteType};function go(e){const t=e.dataFormatDescriptor[0];return 1===t.colorPrimaries?2===t.transferFunction?Sr.SRGBColorSpace:Sr.LinearSRGBColorSpace:10===t.colorPrimaries?2===t.transferFunction?"display-p3":"display-p3-linear":(0===t.colorPrimaries||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${t.colorPrimaries}"`),Sr.NoColorSpace)}const vo={c:null,u:[new Sr.Vector3,new Sr.Vector3,new Sr.Vector3],e:[]},yo={c:null,u:[new Sr.Vector3,new Sr.Vector3,new Sr.Vector3],e:[]},bo=[[],[],[]],Ao=[[],[],[]],xo=[],wo=new Sr.Vector3,Co=new Sr.Vector3,Eo=new Sr.Vector3,So=new Sr.Vector3,_o=new Sr.Vector3,Mo=new Sr.Vector3,Io=new Sr.Matrix3,To=new Sr.Box3,Ro=new Sr.Matrix4,ko=new Sr.Matrix4,Po=new Sr.Ray;class Bo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Sr.Vector3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sr.Vector3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Sr.Matrix3;this.center=e,this.halfSize=t,this.rotation=n}set(e,t,n){return this.center=e,this.halfSize=t,this.rotation=n,this}copy(e){return this.center.copy(e.center),this.halfSize.copy(e.halfSize),this.rotation.copy(e.rotation),this}clone(){return(new this.constructor).copy(this)}getSize(e){return e.copy(this.halfSize).multiplyScalar(2)}clampPoint(e,t){const n=this.halfSize;So.subVectors(e,this.center),this.rotation.extractBasis(wo,Co,Eo),t.copy(this.center);const r=Sr.MathUtils.clamp(So.dot(wo),-n.x,n.x);t.add(wo.multiplyScalar(r));const i=Sr.MathUtils.clamp(So.dot(Co),-n.y,n.y);t.add(Co.multiplyScalar(i));const o=Sr.MathUtils.clamp(So.dot(Eo),-n.z,n.z);return t.add(Eo.multiplyScalar(o)),t}containsPoint(e){return So.subVectors(e,this.center),this.rotation.extractBasis(wo,Co,Eo),Math.abs(So.dot(wo))<=this.halfSize.x&&Math.abs(So.dot(Co))<=this.halfSize.y&&Math.abs(So.dot(Eo))<=this.halfSize.z}intersectsBox3(e){return this.intersectsOBB(Oo.fromBox3(e))}intersectsSphere(e){return this.clampPoint(e.center,Mo),Mo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsOBB(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;vo.c=this.center,vo.e[0]=this.halfSize.x,vo.e[1]=this.halfSize.y,vo.e[2]=this.halfSize.z,this.rotation.extractBasis(vo.u[0],vo.u[1],vo.u[2]),yo.c=e.center,yo.e[0]=e.halfSize.x,yo.e[1]=e.halfSize.y,yo.e[2]=e.halfSize.z,e.rotation.extractBasis(yo.u[0],yo.u[1],yo.u[2]);for(let i=0;i<3;i++)for(let e=0;e<3;e++)bo[i][e]=vo.u[i].dot(yo.u[e]);So.subVectors(yo.c,vo.c),xo[0]=So.dot(vo.u[0]),xo[1]=So.dot(vo.u[1]),xo[2]=So.dot(vo.u[2]);for(let i=0;i<3;i++)for(let e=0;e<3;e++)Ao[i][e]=Math.abs(bo[i][e])+r;for(let i=0;i<3;i++)if(t=vo.e[i],n=yo.e[0]*Ao[i][0]+yo.e[1]*Ao[i][1]+yo.e[2]*Ao[i][2],Math.abs(xo[i])>t+n)return!1;for(let i=0;i<3;i++)if(t=vo.e[0]*Ao[0][i]+vo.e[1]*Ao[1][i]+vo.e[2]*Ao[2][i],n=yo.e[i],Math.abs(xo[0]*bo[0][i]+xo[1]*bo[1][i]+xo[2]*bo[2][i])>t+n)return!1;return t=vo.e[1]*Ao[2][0]+vo.e[2]*Ao[1][0],n=yo.e[1]*Ao[0][2]+yo.e[2]*Ao[0][1],!(Math.abs(xo[2]*bo[1][0]-xo[1]*bo[2][0])>t+n||(t=vo.e[1]*Ao[2][1]+vo.e[2]*Ao[1][1],n=yo.e[0]*Ao[0][2]+yo.e[2]*Ao[0][0],Math.abs(xo[2]*bo[1][1]-xo[1]*bo[2][1])>t+n||(t=vo.e[1]*Ao[2][2]+vo.e[2]*Ao[1][2],n=yo.e[0]*Ao[0][1]+yo.e[1]*Ao[0][0],Math.abs(xo[2]*bo[1][2]-xo[1]*bo[2][2])>t+n||(t=vo.e[0]*Ao[2][0]+vo.e[2]*Ao[0][0],n=yo.e[1]*Ao[1][2]+yo.e[2]*Ao[1][1],Math.abs(xo[0]*bo[2][0]-xo[2]*bo[0][0])>t+n||(t=vo.e[0]*Ao[2][1]+vo.e[2]*Ao[0][1],n=yo.e[0]*Ao[1][2]+yo.e[2]*Ao[1][0],Math.abs(xo[0]*bo[2][1]-xo[2]*bo[0][1])>t+n||(t=vo.e[0]*Ao[2][2]+vo.e[2]*Ao[0][2],n=yo.e[0]*Ao[1][1]+yo.e[1]*Ao[1][0],Math.abs(xo[0]*bo[2][2]-xo[2]*bo[0][2])>t+n||(t=vo.e[0]*Ao[1][0]+vo.e[1]*Ao[0][0],n=yo.e[1]*Ao[2][2]+yo.e[2]*Ao[2][1],Math.abs(xo[1]*bo[0][0]-xo[0]*bo[1][0])>t+n||(t=vo.e[0]*Ao[1][1]+vo.e[1]*Ao[0][1],n=yo.e[0]*Ao[2][2]+yo.e[2]*Ao[2][0],Math.abs(xo[1]*bo[0][1]-xo[0]*bo[1][1])>t+n||(t=vo.e[0]*Ao[1][2]+vo.e[1]*Ao[0][2],n=yo.e[0]*Ao[2][1]+yo.e[1]*Ao[2][0],Math.abs(xo[1]*bo[0][2]-xo[0]*bo[1][2])>t+n)))))))))}intersectsPlane(e){this.rotation.extractBasis(wo,Co,Eo);const t=this.halfSize.x*Math.abs(e.normal.dot(wo))+this.halfSize.y*Math.abs(e.normal.dot(Co))+this.halfSize.z*Math.abs(e.normal.dot(Eo)),n=e.normal.dot(this.center)-e.constant;return Math.abs(n)<=t}intersectRay(e,t){return this.getSize(_o),To.setFromCenterAndSize(So.set(0,0,0),_o),Ro.setFromMatrix3(this.rotation),Ro.setPosition(this.center),ko.copy(Ro).invert(),Po.copy(e).applyMatrix4(ko),Po.intersectBox(To,t)?t.applyMatrix4(Ro):null}intersectsRay(e){return null!==this.intersectRay(e,So)}fromBox3(e){return e.getCenter(this.center),e.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(e){return e.center.equals(this.center)&&e.halfSize.equals(this.halfSize)&&e.rotation.equals(this.rotation)}applyMatrix4(e){const t=e.elements;let n=So.set(t[0],t[1],t[2]).length();const r=So.set(t[4],t[5],t[6]).length(),i=So.set(t[8],t[9],t[10]).length();e.determinant()<0&&(n=-n),Io.setFromMatrix4(e);const o=1/n,a=1/r,s=1/i;return Io.elements[0]*=o,Io.elements[1]*=o,Io.elements[2]*=o,Io.elements[3]*=a,Io.elements[4]*=a,Io.elements[5]*=a,Io.elements[6]*=s,Io.elements[7]*=s,Io.elements[8]*=s,this.rotation.multiply(Io),this.halfSize.x*=n,this.halfSize.y*=r,this.halfSize.z*=i,So.setFromMatrixPosition(e),this.center.add(So),this}}const Oo=new Bo,Lo=/^[og]\s*(.+)?/,Do=/^mtllib /,No=/^usemtl /,Fo=/^usemap /,jo=/\s+/,Uo=new Sr.Vector3,zo=new Sr.Vector3,Ho=new Sr.Vector3,Vo=new Sr.Vector3,Go=new Sr.Vector3,Qo=new Sr.Color;function Wo(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);const n=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){const n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);const r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){const t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"==typeof n.clone){const e=n.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){const n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){const n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){const r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(e,t,n){const r=this.vertices,i=this.object.geometry.normals;Uo.fromArray(r,e),zo.fromArray(r,t),Ho.fromArray(r,n),Go.subVectors(Ho,zo),Vo.subVectors(Uo,zo),Go.cross(Vo),Go.normalize(),i.push(Go.x,Go.y,Go.z),i.push(Go.x,Go.y,Go.z),i.push(Go.x,Go.y,Go.z)},addColor:function(e,t,n){const r=this.colors,i=this.object.geometry.colors;void 0!==r[e]&&i.push(r[e+0],r[e+1],r[e+2]),void 0!==r[t]&&i.push(r[t+0],r[t+1],r[t+2]),void 0!==r[n]&&i.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){const r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,i,o,a,s,l){const c=this.vertices.length;let u=this.parseVertexIndex(e,c),d=this.parseVertexIndex(t,c),h=this.parseVertexIndex(n,c);if(this.addVertex(u,d,h),this.addColor(u,d,h),void 0!==a&&""!==a){const e=this.normals.length;u=this.parseNormalIndex(a,e),d=this.parseNormalIndex(s,e),h=this.parseNormalIndex(l,e),this.addNormal(u,d,h)}else this.addFaceNormal(u,d,h);if(void 0!==r&&""!==r){const e=this.uvs.length;u=this.parseUVIndex(r,e),d=this.parseUVIndex(i,e),h=this.parseUVIndex(o,e),this.addUV(u,d,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,r=e.length;n<r;n++){const r=this.parseVertexIndex(e[n],t);this.addVertexPoint(r),this.addColor(r)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,r=this.uvs.length;for(let i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(let i=0,o=t.length;i<o;i++)this.addUVLine(this.parseUVIndex(t[i],r))}};return e.startObject("",!1),e}class qo extends Sr.Loader{constructor(e){super(e),this.materials=null}load(e,t,n,r){const i=this,o=new Sr.FileLoader(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(n))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}setMaterials(e){return this.materials=e,this}parse(e){const t=new Wo;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const n=e.split("\n");let r=[];for(let o=0,a=n.length;o<a;o++){const e=n[o].trimStart();if(0===e.length)continue;const i=e.charAt(0);if("#"!==i)if("v"===i){const n=e.split(jo);switch(n[0]){case"v":t.vertices.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])),n.length>=7?(Qo.setRGB(parseFloat(n[4]),parseFloat(n[5]),parseFloat(n[6]),Sr.SRGBColorSpace),t.colors.push(Qo.r,Qo.g,Qo.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]));break;case"vt":t.uvs.push(parseFloat(n[1]),parseFloat(n[2]))}}else if("f"===i){const n=e.slice(1).trim().split(jo),r=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];if(t.length>0){const e=t.split("/");r.push(e)}}const i=r[0];for(let e=1,o=r.length-1;e<o;e++){const n=r[e],o=r[e+1];t.addFace(i[0],n[0],o[0],i[1],n[1],o[1],i[2],n[2],o[2])}}else if("l"===i){const n=e.substring(1).trim().split(" ");let r=[];const i=[];if(-1===e.indexOf("/"))r=n;else for(let e=0,t=n.length;e<t;e++){const t=n[e].split("/");""!==t[0]&&r.push(t[0]),""!==t[1]&&i.push(t[1])}t.addLineGeometry(r,i)}else if("p"===i){const n=e.slice(1).trim().split(" ");t.addPointGeometry(n)}else if(null!==(r=Lo.exec(e))){const e=(" "+r[0].slice(1).trim()).slice(1);t.startObject(e)}else if(No.test(e))t.object.startMaterial(e.substring(7).trim(),t.materialLibraries);else if(Do.test(e))t.materialLibraries.push(e.substring(7).trim());else if(Fo.test(e))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===i){if(r=e.split(" "),r.length>1){const e=r[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const n=t.object.currentMaterial();n&&(n.smooth=t.object.smooth)}else{if("\0"===e)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+e+'"')}}t.finalize();const i=new Sr.Group;if(i.materialLibraries=[].concat(t.materialLibraries),1==!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length))for(let o=0,a=t.objects.length;o<a;o++){const e=t.objects[o],n=e.geometry,r=e.materials,a="Line"===n.type,s="Points"===n.type;let l=!1;if(0===n.vertices.length)continue;const c=new Sr.BufferGeometry;c.setAttribute("position",new Sr.Float32BufferAttribute(n.vertices,3)),n.normals.length>0&&c.setAttribute("normal",new Sr.Float32BufferAttribute(n.normals,3)),n.colors.length>0&&(l=!0,c.setAttribute("color",new Sr.Float32BufferAttribute(n.colors,3))),!0===n.hasUVIndices&&c.setAttribute("uv",new Sr.Float32BufferAttribute(n.uvs,2));const u=[];for(let i=0,o=r.length;i<o;i++){const e=r[i],n=e.name+"_"+e.smooth+"_"+l;let o=t.materials[n];if(null!==this.materials)if(o=this.materials.create(e.name),!a||!o||o instanceof Sr.LineBasicMaterial){if(s&&o&&!(o instanceof Sr.PointsMaterial)){const e=new Sr.PointsMaterial({size:10,sizeAttenuation:!1});Sr.Material.prototype.copy.call(e,o),e.color.copy(o.color),e.map=o.map,o=e}}else{const e=new Sr.LineBasicMaterial;Sr.Material.prototype.copy.call(e,o),e.color.copy(o.color),o=e}void 0===o&&(o=a?new Sr.LineBasicMaterial:s?new Sr.PointsMaterial({size:1,sizeAttenuation:!1}):new Sr.MeshPhongMaterial,o.name=e.name,o.flatShading=!e.smooth,o.vertexColors=l,t.materials[n]=o),u.push(o)}let d;if(u.length>1){for(let e=0,t=r.length;e<t;e++){const t=r[e];c.addGroup(t.groupStart,t.groupCount,e)}d=a?new Sr.LineSegments(c,u):s?new Sr.Points(c,u):new Sr.Mesh(c,u)}else d=a?new Sr.LineSegments(c,u[0]):s?new Sr.Points(c,u[0]):new Sr.Mesh(c,u[0]);d.name=e.name,i.add(d)}else if(t.vertices.length>0){const e=new Sr.PointsMaterial({size:1,sizeAttenuation:!1}),n=new Sr.BufferGeometry;n.setAttribute("position",new Sr.Float32BufferAttribute(t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(n.setAttribute("color",new Sr.Float32BufferAttribute(t.colors,3)),e.vertexColors=!0);const r=new Sr.Points(n,e);i.add(r)}return i}}class $o extends Sr.Loader{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?Sr.LoaderUtils.extractUrlBase(e):this.path,a=new Sr.FileLoader(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(n,o))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const n=e.split("\n");let r={};const i=/\s+/,o={};for(let s=0;s<n.length;s++){let e=n[s];if(e=e.trim(),0===e.length||"#"===e.charAt(0))continue;const t=e.indexOf(" ");let a=t>=0?e.substring(0,t):e;a=a.toLowerCase();let l=t>=0?e.substring(t+1):"";if(l=l.trim(),"newmtl"===a)r={name:l},o[l]=r;else if("ka"===a||"kd"===a||"ks"===a||"ke"===a){const e=l.split(i,3);r[a]=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])]}else r[a]=l}const a=new Xo(this.resourcePath||t,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(o),a}}class Xo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:Sr.FrontSide,this.wrap=void 0!==this.options.wrap?this.options.wrap:Sr.RepeatWrapping}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const n in e){const r=e[n],i={};t[n]=i;for(const e in r){let t=!0,n=r[e];const o=e.toLowerCase();switch(o){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(n=[n[0]/255,n[1]/255,n[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===n[0]&&0===n[1]&&0===n[2]&&(t=!1)}t&&(i[o]=n)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,n=this.materialsInfo[e],r={name:e,side:this.side};function i(e,n){if(r[e])return;const i=t.getTextureParams(n,r),o=t.loadTexture((a=t.baseUrl,"string"!=typeof(s=i.url)||""===s?"":/^https?:\/\//i.test(s)?s:a+s));var a,s;o.repeat.copy(i.scale),o.offset.copy(i.offset),o.wrapS=t.wrap,o.wrapT=t.wrap,"map"!==e&&"emissiveMap"!==e||(o.colorSpace=Sr.SRGBColorSpace),r[e]=o}for(const o in n){const e=n[o];let t;if(""!==e)switch(o.toLowerCase()){case"kd":r.color=Sr.ColorManagement.toWorkingColorSpace((new Sr.Color).fromArray(e),Sr.SRGBColorSpace);break;case"ks":r.specular=Sr.ColorManagement.toWorkingColorSpace((new Sr.Color).fromArray(e),Sr.SRGBColorSpace);break;case"ke":r.emissive=Sr.ColorManagement.toWorkingColorSpace((new Sr.Color).fromArray(e),Sr.SRGBColorSpace);break;case"map_kd":i("map",e);break;case"map_ks":i("specularMap",e);break;case"map_ke":i("emissiveMap",e);break;case"norm":i("normalMap",e);break;case"map_bump":case"bump":i("bumpMap",e);break;case"map_d":i("alphaMap",e),r.transparent=!0;break;case"ns":r.shininess=parseFloat(e);break;case"d":t=parseFloat(e),t<1&&(r.opacity=t,r.transparent=!0);break;case"tr":t=parseFloat(e),this.options&&this.options.invertTrProperty&&(t=1-t),t>0&&(r.opacity=1-t,r.transparent=!0)}}return this.materials[e]=new Sr.MeshPhongMaterial(r),this.materials[e]}getTextureParams(e,t){const n={scale:new Sr.Vector2(1,1),offset:new Sr.Vector2(0,0)},r=e.split(/\s+/);let i;return i=r.indexOf("-bm"),i>=0&&(t.bumpScale=parseFloat(r[i+1]),r.splice(i,2)),i=r.indexOf("-s"),i>=0&&(n.scale.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),i=r.indexOf("-o"),i>=0&&(n.offset.set(parseFloat(r[i+1]),parseFloat(r[i+2])),r.splice(i,4)),n.url=r.join(" ").trim(),n}loadTexture(e,t,n,r,i){const o=void 0!==this.manager?this.manager:Sr.DefaultLoadingManager;let a=o.getHandler(e);null===a&&(a=new Sr.TextureLoader(o)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const s=a.load(e,n,r,i);return void 0!==t&&(s.mapping=t),s}}class Ko{static fromCubeTexture(e){let t=0;const n=new Sr.Vector3,r=new Sr.Vector3,i=new Sr.Color,o=[0,0,0,0,0,0,0,0,0],a=new Sr.SphericalHarmonics3,s=a.coefficients;for(let c=0;c<6;c++){const a=e.image[c],l=a.width,u=a.height,d=document.createElement("canvas");d.width=l,d.height=u;const h=d.getContext("2d");h.drawImage(a,0,0,l,u);const p=h.getImageData(0,0,l,u),f=p.data,m=p.width,g=2/m;for(let v=0,y=f.length;v<y;v+=4){i.setRGB(f[v]/255,f[v+1]/255,f[v+2]/255),Yo(i,e.colorSpace);const a=v/4,l=(a%m+.5)*g-1,u=1-(Math.floor(a/m)+.5)*g;switch(c){case 0:n.set(-1,u,-l);break;case 1:n.set(1,u,l);break;case 2:n.set(-l,1,-u);break;case 3:n.set(-l,-1,u);break;case 4:n.set(-l,u,1);break;case 5:n.set(l,u,-1)}const d=n.lengthSq(),h=4/(Math.sqrt(d)*d);t+=h,r.copy(n).normalize(),Sr.SphericalHarmonics3.getBasisAt(r,o);for(let e=0;e<9;e++)s[e].x+=o[e]*i.r*h,s[e].y+=o[e]*i.g*h,s[e].z+=o[e]*i.b*h}}const l=4*Math.PI/t;for(let c=0;c<9;c++)s[c].x*=l,s[c].y*=l,s[c].z*=l;return new Sr.LightProbe(a)}static async fromCubeRenderTarget(e,t){const n=e.coordinateSystem===Sr.WebGLCoordinateSystem?-1:1;let r=0;const i=new Sr.Vector3,o=new Sr.Vector3,a=new Sr.Color,s=[0,0,0,0,0,0,0,0,0],l=new Sr.SphericalHarmonics3,c=l.coefficients,u=t.texture.type,d=t.width;let h;e.isWebGLRenderer&&(h=u===Sr.HalfFloatType?new Uint16Array(d*d*4):new Uint8Array(d*d*4));for(let f=0;f<6;f++){e.isWebGLRenderer?await e.readRenderTargetPixelsAsync(t,0,0,d,d,h,f):h=await e.readRenderTargetPixelsAsync(t,0,0,d,d,0,f);const l=2/d;for(let e=0,p=h.length;e<p;e+=4){let p,m,g;u===Sr.HalfFloatType?(p=Sr.DataUtils.fromHalfFloat(h[e]),m=Sr.DataUtils.fromHalfFloat(h[e+1]),g=Sr.DataUtils.fromHalfFloat(h[e+2])):(p=h[e]/255,m=h[e+1]/255,g=h[e+2]/255),a.setRGB(p,m,g),Yo(a,t.texture.colorSpace);const v=e/4,y=(1-(v%d+.5)*l)*n,b=1-(Math.floor(v/d)+.5)*l;switch(f){case 0:i.set(-1*n,b,y*n);break;case 1:i.set(1*n,b,-y*n);break;case 2:i.set(y,1,-b);break;case 3:i.set(y,-1,b);break;case 4:i.set(y,b,1);break;case 5:i.set(-y,b,-1)}const A=i.lengthSq(),x=4/(Math.sqrt(A)*A);r+=x,o.copy(i).normalize(),Sr.SphericalHarmonics3.getBasisAt(o,s);for(let e=0;e<9;e++)c[e].x+=s[e]*a.r*x,c[e].y+=s[e]*a.g*x,c[e].z+=s[e]*a.b*x}}const p=4*Math.PI/r;for(let f=0;f<9;f++)c[f].x*=p,c[f].y*=p,c[f].z*=p;return new Sr.LightProbe(l)}}function Yo(e,t){switch(t){case Sr.SRGBColorSpace:e.convertSRGBToLinear();break;case Sr.LinearSRGBColorSpace:case Sr.NoColorSpace:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.")}return e}var Jo=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var n,r,i,o,a=function(e){t.deviceOrientation=e},s=function(){t.screenOrientation=window.orientation||0},l=(n=new THREE.Vector3(0,0,1),r=new THREE.Euler,i=new THREE.Quaternion,o=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,t,a,s,l){r.set(a,t,-s,"YXZ"),e.setFromEuler(r),e.multiply(o),e.multiply(i.setFromAxisAngle(n,-l))});this.connect=function(){s(),window.addEventListener("orientationchange",s,!1),window.addEventListener("deviceorientation",a,!1),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",s,!1),window.removeEventListener("deviceorientation",a,!1),t.enabled=!1},this.update=function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var n=e.alpha?THREE.MathUtils.degToRad(e.alpha)+t.alphaOffset:0,r=e.beta?THREE.MathUtils.degToRad(e.beta):0,i=e.gamma?THREE.MathUtils.degToRad(e.gamma):0,o=t.screenOrientation?THREE.MathUtils.degToRad(t.screenOrientation):0;l(t.object.quaternion,n,r,i,o)}}},this.dispose=function(){t.disconnect()},this.connect()},Zo=globalThis.THREE={...Sr};Zo.DRACOLoader=Mr,Zo.GLTFLoader=Hr,Zo.KTX2Loader=ho,Zo.OBJLoader=qo,Zo.MTLLoader=$o,Zo.OBB=Bo,Zo.BufferGeometryUtils=Kt,Zo.LightProbeGenerator=Ko,Zo.DeviceOrientationControls=Jo,Zo.Cache.enabled=!0;const ea=Zo;var ta=window.AFRAME_CDN_ROOT||"https://cdn.aframe.io/",na="aframe-injected",ra=$t(8878),ia=$t.n(ra),oa={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}};ia().formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" "),this.useColors){var t;this.color=(t=function(e){var t=e.split(":");return t[t.length-1]}(this.namespace),oa.colors&&oa.colors[t]||null);var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)}};var aa=function(){try{return window.localStorage}catch(e){}}();aa&&(parseInt(aa.logs,10)||"true"===aa.logs)?ia().enable("*"):ia().enable("*:error,*:info,*:warn");const sa=ia();var la=$t(1124),ca=$t.n(la),ua=sa("device:error"),da=!1,ha=!1,pa=void 0!==navigator.xr;if(pa){var fa=function(){var e=document.querySelector("a-scene");e?e.hasLoaded?e.components["xr-mode-ui"].updateEnterInterfaces():e.addEventListener("loaded",fa):window.addEventListener("DOMContentLoaded",fa)},ma=function(e){ua("WebXR session support error: "+e.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then((function(e){da=e,fa()})).catch(ma),navigator.xr.isSessionSupported("immersive-ar").then((function(e){ha=e,fa()})).catch((function(){}))):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then((function(){da=!0,fa()})).catch(ma),navigator.xr.supportsSession("immersive-ar").then((function(){ha=!0,fa()})).catch((function(){}))):ua("WebXR has neither isSessionSupported or supportsSession?!")}function ga(){return da||ha}function va(){return ha}function ya(){return da}var ba,Aa,xa=(ba=!1,Aa=window.navigator.userAgent||window.navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Aa)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Aa.substr(0,4)))&&(ba=!0),(Sa()||wa()||Ra())&&(ba=!0),Ta()&&(ba=!1),function(){return ba});function wa(e){var t=e||window.navigator.userAgent;return/Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)||Ca()}function Ca(e,t,n){var r=e||window.navigator.userAgent,i=t||window.navigator.platform,o=n||window.navigator.maxTouchPoints||0;return("iPad"===i||"MacIntel"===i)&&o>0&&/Macintosh|Intel|iPad|ipad/i.test(r)&&!window.MSStream}function Ea(){var e=navigator.userAgent.includes("Macintosh"),t=5===navigator.maxTouchPoints;return e&&t&&pa}function Sa(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}function _a(){return!xa()&&!Ta()&&void 0!==window.orientation}function Ma(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}function Ia(){return/(Mobile VR)/i.test(window.navigator.userAgent)}function Ta(){return Ma()||Ia()||Ea()}function Ra(){return/R7 Build/.test(window.navigator.userAgent)}function ka(){var e=window.orientation;return Ra()&&(e+=90),90===e||-90===e}var Pa="undefined"==typeof process,Ba=!Pa,Oa=Object.freeze(Object.create(null));function La(){return{}}function Da(e){var t=[],n=null;function r(r){var i,o;if((r=void 0===r?t.length:r)>0&&null==n&&(n=0),r>0)for(i=t.length,t.length+=Number(r),o=i;o<t.length;o++)t[o]=e();return t.length}return e=e||La,{grow:r,pool:t,recycle:function(e){e instanceof Object&&(null!==n&&-1!==n?t[--n]=e:t[t.length]=e)},size:function(){return t.length},use:function(){var e;return null!==n&&n!==t.length||r(t.length||5),e=t[n],t[n++]=Oa,Na(e),e}}}function Na(e){var t;if(e&&e.constructor===Object)for(t in e)e[t]=void 0}function Fa(e,t){var n;if(e&&e.constructor===Object)for(n in e)n in t||delete e[n]}var ja=sa("utils:coordinates:warn"),Ua=["x","y","z","w"],za=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/,Ha=/\s+/g;function Va(e,t,n){var r,i,o,a,s,l,c,u,d=n&&"object"==typeof n?n:{};if(e&&e instanceof Object)return s=void 0===e.x?t&&t.x:e.x,l=void 0===e.y?t&&t.y:e.y,c=void 0===e.z?t&&t.z:e.z,u=void 0===e.w?t&&t.w:e.w,null!=s&&(d.x=$a(s)),null!=l&&(d.y=$a(l)),null!=c&&(d.z=$a(c)),null!=u&&(d.w=$a(u)),d;if(null==e)return"object"==typeof t?Object.assign(d,t):t;for(r=e.trim().split(Ha),a=0;a<Ua.length;a++)if(o=Ua[a],r[a])d[o]=parseFloat(r[a],10);else{if(void 0===(i=t&&t[o]))continue;d[o]=$a(i)}return d}function Ga(e){var t;return"object"!=typeof e?e:(t=e.x+" "+e.y,null!=e.z&&(t+=" "+e.z),null!=e.w&&(t+=" "+e.w),t)}function Qa(e,t){return"object"!=typeof e||"object"!=typeof t?e===t:e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w}function Wa(e){return za.test(e)}function qa(e){return ja("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),Wa(e)}function $a(e){return null!=e&&e.constructor===String?parseFloat(e,10):e}function Xa(e){return new Sr.Vector3(e.x,e.y,e.z)}var Ka=function(){var e={};return function(t,n){return n in e||(e[n]={}),t in e[n]||(e[n][t]=t.split(n)),e[n][t]}}();function Ya(e,t){var n=Ka(e,t=t||".");return 1===n.length?n[0]:n}function Ja(e,t,n){var r;return n=n||".",-1!==t.indexOf(n)?(r=Ya(t,n)).constructor===String?e.getAttribute(r):e.getAttribute(r[0])[r[1]]:e.getAttribute(t)}function Za(e,t,n,r){var i;r=r||".",-1===t.indexOf(r)?e.setAttribute(t,n):(i=Ya(t,r)).constructor===String?e.setAttribute(i,n):e.setAttribute(i[0],i[1],n)}function es(e){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t,10)+1+"px",e.style.height=parseInt(n,10)+1+"px",setTimeout((function(){e.style.width=t,e.style.height=n}),200)}var ts=sa("utils:src-loader:warn");function ns(e,t,n){!function(e,t){var n;e.tagName?t("IMG"===e.tagName):((n=new XMLHttpRequest).open("HEAD",e),n.addEventListener("load",(function(r){var i;n.status>=200&&n.status<300?null==(i=n.getResponseHeader("Content-Type"))?as(e,t):i.startsWith("image")?t(!0):t(!1):as(e,t),n.abort()})),n.send())}(e,(function(r){r?t(e):n(e)}))}function rs(e,t,n){var r,i,o,a="",s=[];if("string"==typeof e){for(i=0;i<5;i++)a+="(url\\((?:[^\\)]+)\\),\\s*)";function l(e){s.push(e),6===s.length&&t(s)}if(a+="(url\\((?:[^\\)]+)\\)\\s*)",o=e.match(new RegExp(a))){for(i=1;i<7;i++)ns(os(o[i]),l);return}if(!e.startsWith("#"))return void ns(os(e)||e,n)}if(r=e.tagName?e:function(e){try{var t=document.querySelector(e);return t||ts('No element was found matching the selector: "%s"',e),t}catch(t){return void ts('"%s" is not a valid selector',e)}}(e))return"A-CUBEMAP"===r.tagName&&r.srcs?t(r.srcs):"IMG"===r.tagName?n(r):void ts('Selector "%s" does not point to <a-cubemap> or <img>',e)}function is(e,t){return rs(e,t,(function(){ts("Expected cubemap but got image")}))}function os(e){var t=e.match(/url\((.+)\)/);if(t)return t[1]}function as(e,t){var n=new Image;n.addEventListener("load",(function(){t(!0)})),n.addEventListener("error",(function(){t(!1)})),n.src=e}var ss=sa("utils:material:warn"),ls=new Set(["emissiveMap","envMap","map","specularMap"]);function cs(e,t){var n=t.offset||{x:0,y:0},r=t.repeat||{x:1,y:1},i=t.npot||!1,o=t.anisotropy||Sr.Texture.DEFAULT_ANISOTROPY,a=e.wrapS,s=e.wrapT,l=e.magFilter,c=e.minFilter;i&&(a=Sr.ClampToEdgeWrapping,s=Sr.ClampToEdgeWrapping,l=Sr.LinearFilter,c=Sr.LinearFilter),1===r.x&&1===r.y||(a=Sr.RepeatWrapping,s=Sr.RepeatWrapping),e.offset.set(n.x,n.y),e.repeat.set(r.x,r.y),e.wrapS===a&&e.wrapT===s&&e.magFilter===l&&e.minFilter===c&&e.anisotropy===o||(e.wrapS=a,e.wrapT=s,e.magFilter=l,e.minFilter=c,e.anisotropy=o,e.needsUpdate=!0)}function us(e,t,n,r){var i=n.el,o=n.material,a=i.sceneEl.systems.renderer,s=r[t];if(n.materialSrcs||(n.materialSrcs={}),!s)return delete n.materialSrcs[e],void l(null);function l(t){o[e]!==t&&(o[e]&&o[e].dispose(),o[e]=t,o.needsUpdate=!0,ms(i,t))}s===n.materialSrcs[e]&&o[e]?cs(o[e],r):(n.materialSrcs[e]=s,s instanceof Sr.Texture?l(s):i.sceneEl.systems.material.loadTextureSource(s,(function(t){if(n.materialSrcs[e]===s){var i=o[e];!i||null!==t&&gs(i,t)||(i=null),!i&&t&&(i=vs(t)),i&&(i.source!==t&&(i.source=t,i.needsUpdate=!0),ls.has(e)&&a.applyColorCorrection(i),cs(i,r)),l(i)}})))}function ds(e,t){return us("map","src",e,t)}function hs(e,t,n){var r=e;"ambientOcclusion"===e&&(r="ao");var i={};return i.src=n[e+"Map"],i.offset=n[e+"TextureOffset"],i.repeat=n[e+"TextureRepeat"],i.wrap=n[e+"TextureWrap"],us(r+"Map","src",t,i)}var ps={};function fs(e,t){var n=e.material,r=e.el,i="envMap",o=t.envMap,a=t.sphericalEnvMap,s=t.refract;if(a&&(o=a,ss("`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. Use `envMap` property with a CubeMap or Equirectangular image instead.")),e.materialSrcs||(e.materialSrcs={}),!o)return delete e.materialSrcs[i],n.envMap=null,void(n.needsUpdate=!0);function l(t){e.materialSrcs[i]===o&&(n.envMap=t,n.needsUpdate=!0,ms(r,t))}e.materialSrcs[i]=o,ps[o]?ps[o].then(l):ps[o]=new Promise((function(e){rs(o,(function(t){r.sceneEl.systems.material.loadCubeMapTexture(t,(function(t){t.mapping=s?Sr.CubeRefractionMapping:Sr.CubeReflectionMapping,l(t),e(t)}))}),(function(t){r.sceneEl.systems.material.loadTexture(t,{src:t},(function(t){t.mapping=s?Sr.EquirectangularRefractionMapping:Sr.EquirectangularReflectionMapping,l(t),e(t)}))}))}))}function ms(e,t){function n(){e.emit("materialvideoloadeddata",{src:t.image,texture:t})}function r(){e.emit("materialvideoended",{src:t.image,texture:t})}t&&(e.emit("materialtextureloaded",{src:t.image,texture:t}),t.image&&"VIDEO"===t.image.tagName&&(t.image.addEventListener("loadeddata",n),t.image.addEventListener("ended",r),t.addEventListener("dispose",(function(){t.image.removeEventListener("loadeddata",n),t.image.removeEventListener("ended",r)}))))}function gs(e,t){return e.source===t&&(t.data instanceof HTMLCanvasElement?e.isCanvasTexture:t.data instanceof HTMLVideoElement?e.isVideoTexture:e.isTexture&&!e.isCanvasTexture&&!e.isVideoTexture)}function vs(e){var t;return(t=e.data instanceof HTMLCanvasElement?new Sr.CanvasTexture:e.data instanceof HTMLVideoElement?new Sr.VideoTexture(e.data):new Sr.Texture).source=e,t.needsUpdate=!0,t}var ys=/-([a-z])/g;function bs(e,t){var n;return"string"!=typeof e?e:(n=function(e,t){var n,r,i,o,a,s;for(t=t||{},n=Es(e),r=0;r<n.length;r++)(i=n[r])&&(o=i.indexOf(":"),a=i.substr(0,o).trim(),s=i.substr(o+1).trim(),t[xs(a)]=s);return t}(e,t),n[""]?e:n)}function As(e){return"string"==typeof e?e:function(e){var t,n=0,r=0,i="";for(t in e)n++;for(t in e)i+=t+": "+e[t],r<n-1&&(i+="; "),r++;return i}(e)}function xs(e){return e.replace(ys,Ss)}var ws,Cs,Es=(ws=[],Cs=/url\([^)]+$/,function(e){var t,n="",r=0;for(ws.length=0;r<e.length;)-1===(t=e.indexOf(";",r))&&(t=e.length),n+=e.substring(r,t),Cs.test(n)?(n+=";",r=t+1):(ws.push(n.trim()),n="",r=t+1);return ws});function Ss(e){return e[1].toUpperCase()}var _s=["x","y","z","w"];function Ms(e,t,n){var r,i,o=e.el;if((i=!!(r=Is(e,t,n)))===e.controllerPresent)return i;e.controllerPresent=i,i?(e.addEventListeners(),e.injectTrackedControls(r),o.emit("controllerconnected",{name:e.name,component:e})):(e.removeEventListeners(),o.emit("controllerdisconnected",{name:e.name,component:e}))}function Is(e,t,n){var r,i=e.el.sceneEl,o=i&&i.systems["tracked-controls"];return!!o&&!(!(r=o.controllers)||!r.length)&&Ts(r,t,n.hand,n.index,n.iterateControllerProfiles,n.handTracking)}function Ts(e,t,n,r,i,o){var a,s,l,c,u=!1;for(a=0;a<e.length;a++){if(c=(l=e[a]).profiles,o)u=l.hand;else if(i)for(s=0;s<c.length&&!(u=c[s].startsWith(t));s++);else u=c.length>0&&c[0].startsWith(t);if(u)if("right"===l.handedness||"left"===l.handedness){if(l.handedness===n)return e[a]}else if(a===r)return e[a]}}function Rs(e,t,n){var r,i,o,a,s;for(i in t){for(r=t[i],o=!1,s=0;s<r.length;s++)n.detail.changed[r[s]]&&(o=!0);if(o){for(a={},s=0;s<r.length;s++)a[_s[s]]=n.detail.axis[r[s]];e.el.emit(i+"moved",a)}}}function ks(e,t,n,r){var i=(r?n.mapping[r]:n.mapping).buttons[e];n.el.emit(i+t),n.updateModel&&n.updateModel(i,t)}var Ps=sa("utils:warn");function Bs(e){return e.bind.apply(e,Array.prototype.slice.call(arguments,1))}function Os(){return Ps("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),ga()}function Ls(){return Ps("`utils.isIOS` has moved to `utils.device.isIOS`"),Sa()}function Ds(){return Ps("`utils.isMobile has moved to `utils.device.isMobile`"),xa(arguments)}function Ns(e,t,n){var r;return n&&(e=e.bind(n)),function(){var n=Date.now();(void 0===r||(void 0===r?t:n-r)>=t)&&(r=n,e.apply(null,arguments))}}function Fs(e,t,n){var r,i,o;n&&(e=e.bind(n));var a=function(){r=Date.now(),e.apply(this,o),i=void 0};return function(){var n=Date.now(),s=void 0===r?t:n-r;s>=t?(clearTimeout(i),i=void 0,r=n,e.apply(null,arguments)):(i=i||setTimeout(a,t-s),o=arguments)}}function js(e,t,n){var r;return n&&(e=e.bind(n)),function(n,i){var o=void 0===r?i:n-r;(void 0===r||o>=t)&&(r=n,e(n,o))}}function Us(e,t,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(i,o)}),t),a&&e.apply(i,o)}}var zs=Object.assign,Hs=ca();function Vs(e){return JSON.parse(JSON.stringify(e))}var Gs,Qs,Ws=(Gs=Da((function(){return[]})),function(e,t){var n,r,i,o,a,s;if(void 0===e||void 0===t||null===e||null===t||!(e&&t&&e.constructor===Object&&t.constructor===Object||e.constructor===Array&&t.constructor===Array))return e===t;for(n in r=Gs.use(),i=Gs.use(),r.length=0,i.length=0,e)r.push(n);for(n in t)i.push(n);if(r.length!==i.length)return Gs.recycle(r),Gs.recycle(i),!1;for(o=0;o<r.length;++o)if(a=e[r[o]],s=t[r[o]],"object"==typeof a||"object"==typeof s||Array.isArray(a)&&Array.isArray(s)){if(a===s)continue;if(!Ws(a,s))return Gs.recycle(r),Gs.recycle(i),!1}else if(a!==s)return Gs.recycle(r),Gs.recycle(i),!1;return Gs.recycle(r),Gs.recycle(i),!0}),qs=(Qs=[],function(e,t,n){var r,i,o,a,s,l,c;for(s in a=n||{},Qs.length=0,e)Qs.push(s);if(!t)return a;for(o in t)-1===Qs.indexOf(o)&&Qs.push(o);for(l=0;l<Qs.length;l++)r=e[s=Qs[l]],i=t[s],((c=r&&i&&r.constructor===Object&&i.constructor===Object)&&!Ws(r,i)||!c&&r!==i)&&(a[s]=i);return a});function $s(e){return!e.metaKey&&document.activeElement===document.body}function Xs(e,t){void 0===t&&(t=" ");var n=new RegExp(t,"g");return(e=(e||"").replace(n,t)).split(t)}function Ks(e,t){t=t||{};var n={};return Object.keys(t).forEach((function(t){e.hasAttribute(t)&&(n[t]=e.getAttribute(t))})),n}function Ys(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function Js(){return window.top!==window.self}function Zs(e){for(var t=[],n=e.getElementsByTagName("*"),r=0,i=n.length;r<i;r++)n[r].isScene&&t.push(n[r]);return t}var el,tl=[rl({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),rl({name:"mobile-web-app-capable",content:"yes"}),rl({name:"theme-color",content:"black"})],nl=[rl({name:"apple-mobile-web-app-capable",content:"yes"}),rl({name:"apple-mobile-web-app-status-bar-style",content:"black"}),(el={rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"},{tagName:"link",attributes:el,exists:function(){return document.querySelector('link[rel="'+el.rel+'"]')}})];function rl(e){return{tagName:"meta",attributes:e,exists:function(){return document.querySelector('meta[name="'+e.name+'"]')}}}var il,ol,al,sl=$t(5928),ll=$t.n(sl),cl=rn,ul="loading-screen";function dl(e){var t=il.hasAttribute("embedded"),n=al(il.canvas,t,il.maxCanvasSize,il.is("vr-mode"));e.aspect=n.width/n.height,e.updateProjectionMatrix(),il.renderer.setSize(n.width,n.height,!1)}const hl=[];var pl=ia()("core:propertyTypes:warn"),fl={},ml=/[,> .[\]:]/,gl=/url\((.+)\)/;function vl(e,t,n,r,i,o){if(e in fl)throw new Error("Property type "+e+" is already registered.");fl[e]={default:t,parse:n||xl,stringify:r||wl,equals:i||Cl,isCacheable:!1!==o}}function yl(e,t){if(!Array.isArray(e)||!Array.isArray(t))return e===t;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function bl(e){var t,n;return"string"!=typeof e?e:(n=e.match(gl))?n[1]:"#"===e.charAt(0)?(t=document.getElementById(e.substring(1)))?"CANVAS"===t.tagName||"VIDEO"===t.tagName||"IMG"===t.tagName?t:t.getAttribute("src"):void pl('"'+e+'" asset not found.'):e}function Al(e){return e.getAttribute?e.getAttribute("id")?"#"+e.getAttribute("id"):e.getAttribute("src"):wl(e)}function xl(e){return e}function wl(e){return null===e?"null":e.toString()}function Cl(e,t){return e===t}function El(e){return parseInt(e,10)}function Sl(e,t,n){return Va(e,t,n)}function _l(e,t){if(null===e)return!0;if("object"!=typeof e)return!1;if(Object.keys(e).length!==t)return!1;var n=e.x,r=e.y,i=e.z,o=e.w;return!("number"!=typeof n||"number"!=typeof r||t>2&&"number"!=typeof i||t>3&&"number"!=typeof o)}vl("audio","",bl,Al),vl("array",[],(function(e){return Array.isArray(e)?e:e&&"string"==typeof e?e.split(",").map((function(e){return e.trim()})):[]}),(function(e){return e.join(", ")}),yl),vl("asset","",bl,Al),vl("boolean",!1,(function(e){return"false"!==e&&!1!==e})),vl("color","#FFF"),vl("int",0,El),vl("number",0,(function(e){return parseFloat(e,10)})),vl("map","",bl,Al),vl("model","",bl,Al),vl("selector",null,(function(e){return e?"string"!=typeof e?e:"#"!==e[0]||ml.test(e)?document.querySelector(e):document.getElementById(e.substring(1)):null}),(function(e){return e.getAttribute?"#"+e.getAttribute("id"):wl(e)}),Cl,!1),vl("selectorAll",null,(function(e){return e?"string"!=typeof e?e:Array.prototype.slice.call(document.querySelectorAll(e),0):null}),(function(e){return e instanceof Array?e.map((function(e){return"#"+e.getAttribute("id")})).join(", "):wl(e)}),yl,!1),vl("src","",(function(e){return pl("`src` property type is deprecated. Use `asset` instead."),bl(e)}),Al),vl("string",""),vl("time",0,El),vl("vec2",{x:0,y:0},Sl,Ga,Qa),vl("vec3",{x:0,y:0,z:0},Sl,Ga,Qa),vl("vec4",{x:0,y:0,z:0,w:1},Sl,Ga,Qa);var Ml=function(e,t){return("audio"!==e||"string"==typeof t)&&!("array"===e&&!Array.isArray(t))&&("asset"!==e||"string"==typeof t)&&("boolean"!==e||"boolean"==typeof t)&&("color"!==e||"string"==typeof t)&&("int"!==e||"number"==typeof t)&&("number"!==e||"number"==typeof t)&&("map"!==e||"string"==typeof t)&&("model"!==e||"string"==typeof t)&&("selector"!==e||"string"==typeof t||null===t)&&("selectorAll"!==e||"string"==typeof t||null===t)&&("src"!==e||"string"==typeof t)&&("string"!==e||"string"==typeof t)&&("time"!==e||"number"==typeof t)&&("vec2"===e?_l(t,2):"vec3"===e?_l(t,3):"vec4"!==e||_l(t,4))},Il=fl,Tl=sa("core:schema:warn");function Rl(e){return"type"in e?"string"==typeof e.type:"default"in e}function kl(e,t){var n;if(Rl(e))return Pl(e,t);for(n in e)e[n]=Pl(e[n],t);return e}function Pl(e,t){var n,r,i=e.default,o=e.type;return e.type?"bool"===e.type?o="boolean":"float"===e.type&&(o="number"):o=void 0===i||"boolean"!=typeof i&&"number"!=typeof i?Array.isArray(i)?"array":"string":typeof i,(r=Il[o])||Tl("Unknown property type for component `"+t+"`: "+o),n=!!e.parse,e.parse=e.parse||r.parse,e.stringify=e.stringify||r.stringify,e.equals=e.equals||r.equals,e.isCacheable=!0===e.isCacheable||r.isCacheable,e.type=o,"default"in e?n||Ml(o,i)||Tl("Default value `"+i+"` does not match type `"+o+"` in component `"+t+"`"):e.default=r.default,e}var Bl,Ol=(Bl=[],function(e,t,n,r,i){var o,a,s,l;for(a in Bl.length=0,n?e:t)n&&void 0===e[a]||Bl.push(a);if(null===e||"object"!=typeof e)return e;for(a in e)void 0===e[a]||t[a]||i||Tl("Unknown property `"+a+"` for component/system `"+r+"`.");for(o=0;o<Bl.length;o++){if(s=t[a=Bl[o]],l=e[a],!t[a])return;e[a]=Ll(l,s)}return e});function Ll(e,t,n){return null!=e&&""!==e||(e=t.default,Array.isArray(e)&&(e=e.slice())),t.parse(e,t.default,n)}function Dl(e,t){var n,r,i,o,a={};for(n in e)r=t[n],"object"==typeof(o=i=e[n])&&(o=Nl(i,r),r||Tl("Unknown component property: "+n)),void 0!==o&&(a[n]=o);return a}function Nl(e,t){return"object"!=typeof e?e:t&&null!==e?t.stringify(e):JSON.stringify(e)}var Fl={},jl=Ll,Ul=kl,zl=Rl,Hl=Dl,Vl=Nl,Gl=rn,Ql=sa("core:component:warn"),Wl=document.currentScript,ql=new RegExp("[A-Z]+"),$l={},Xl=Object.freeze({}),Kl=[],Yl={get:function(e,t){return e.getComputedPropertyValue(t)},set:function(e,t,n){return t in e.schema?e.recomputeProperty(t,n):void 0!==n&&e.handleUnknownProperty(t,n),!0}},Jl=function(e,t,n){var r=this;if(this.sceneOnly&&!e.isScene)throw new Error("Component `"+this.name+"` can only be applied to <a-scene>");if(n&&!this.multiple)throw new Error("Trying to initialize multiple components of type `"+this.name+"`. There can only be one component of this type per entity.");this.el=e,this.id=n,this.attrName=this.name+(n?"__"+n:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=$l[this.name];var i=this.events;this.events={},function(e,t){var n;for(n in t)e.events[n]=t[n].bind(e)}(this,i),this.attrValue=void 0,this.isObjectBased?(this.data=this.objectPool.use(),Fa(this.data,this.schema),this.oldData=this.objectPool.use(),Fa(this.oldData,this.schema),this.attrValueProxy=new Proxy(this,Yl)):(this.data=void 0,this.oldData=void 0,this.attrValueProxy=void 0),this.deferUnknownPropertyWarnings=!!this.updateSchema,this.throttledEmitComponentChanged=Fs((function(){e.emit("componentchanged",r.evtDetail,!1)}),200),this.updateProperties(t,!0)};Jl.prototype={schema:{},init:function(){},events:{},update:function(e){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},stringify:function(e){var t=this.schema;return"string"==typeof e?e:this.isSingleProperty?Vl(e,t):(e=Hl(e,t),Gl.stringify(e))},flushToDOM:function(e){var t=e?this.data:this.attrValue;null!=t&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(t))},updateProperties:function(e,t){var n=this.el;this.updateData(e,t),(n.hasLoaded||n.isLoading)&&(this.initialized?this.callUpdateHandler():this.initComponent())},initComponent:function(){var e,t=this.el;t.initializingComponents[this.name]||(t.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete t.initializingComponents[this.name],e=this.isObjectBased?Xl:void 0,this.dataChanged=!1,this.storeOldData(),this.update(e),t.isPlaying&&this.play(),t.emit("componentinitialized",this.evtDetail,!1))},updateData:function(e,t){this.isSingleProperty?this.recomputeProperty(void 0,e):(t?(Na(this.attrValue),this.recomputeData(e),this.schemaChangeRequired=!!this.updateSchema):"string"==typeof e?Gl.parse(e,this.attrValueProxy):zs(this.attrValueProxy,e),this.updateSchemaIfNeeded(e))},updateSchemaIfNeeded:function(e){if(this.schemaChangeRequired&&this.updateSchema)for(var t in Kl.length=0,this.updateSchema(this.data),Fa(this.data,this.schema),this.recomputeData(e),this.schemaChangeRequired=!1,this.attrValue)void 0!==this.attrValue[t]&&-1===Kl.indexOf(t)&&(t in this.schema||Ql("Unknown property `"+t+"` for component `"+this.name+"`."));for(var n=0;n<Kl.length;n++)Ql("Unknown property `"+Kl[n]+"` for component `"+this.name+"`.");Kl.length=0},callUpdateHandler:function(){if(this.isPositionRotationScale||this.dataChanged){this.dataChanged=!1;var e=this.oldData;this.oldDataInUse=!0,this.update(e),e!==this.oldData&&this.objectPool.recycle(e),this.oldDataInUse=!1,this.storeOldData(),this.throttledEmitComponentChanged()}},handleMixinUpdate:function(){this.recomputeData(),this.updateSchemaIfNeeded(),this.callUpdateHandler()},resetProperty:function(e){(this.isSingleProperty||e in this.schema)&&(e?this.attrValue[e]=void 0:(this.isObjectBased&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0),this.recomputeProperty(e,void 0),this.updateSchemaIfNeeded(),this.callUpdateHandler())},extendSchema:function(e){var t;t=zs({},Fl[this.name].schema),zs(t,e),this.schema=Ul(t),this.el.emit("schemachanged",this.evtDetail)},getComputedPropertyValue:function(e){var t=this.el.mixinEls,n=this.attrValue&&e?this.attrValue[e]:this.attrValue;if(void 0!==n)return n;for(var r=t.length-1;r>=0;r--){var i=t[r].getAttribute(this.attrName);if(null!==i&&(!e||e in i))return e?i[e]:i}return e?this.schema[e].default:this.schema.default},recomputeProperty:function(e,t){var n=e?this.schema[e]:this.schema;if(null!=t){void 0===this.attrValue&&this.isObjectBased&&(this.attrValue=this.objectPool.use());var r=e?this.attrValue[e]:this.attrValue;"string"==typeof(r=n.isCacheable?jl(t,n,r):t)&&(r=""===t?void 0:t),e?this.attrValue[e]=r:this.attrValue=r}this.oldDataInUse&&(this.oldData=this.objectPool.use(),Fa(this.oldData,this.schema),this.storeOldData(),this.oldDataInUse=!1);var i=e?this.oldData[e]:this.oldData,o=e?this.data[e]:this.data,a=jl(this.getComputedPropertyValue(e),n,o);return"array"!==n.type||e||(a=Vs(a)),n.equals(a,i)||(this.dataChanged=!0,n.schemaChange&&(this.schemaChangeRequired=!0)),e?this.data[e]=a:this.data=a,a},handleUnknownProperty:function(e,t){void 0===this.attrValue&&(this.attrValue=this.objectPool.use()),this.attrValue[e]=t,this.deferUnknownPropertyWarnings?Kl.push(e):this.silenceUnknownPropertyWarnings||Ql("Unknown property `"+e+"` for component `"+this.name+"`.")},storeOldData:function(){var e;if(this.isObjectBased)if(this.isSingleProperty)this.oldData=jl(this.data,this.schema,this.oldData);else for(e in this.schema)void 0!==this.data[e]&&(this.data[e]&&"object"==typeof this.data[e]?this.oldData[e]=jl(this.data[e],this.schema[e],this.oldData[e]):this.oldData[e]=this.data[e]);else this.oldData=this.data},recomputeData:function(e){var t;if(this.isSingleProperty)this.recomputeProperty(void 0,e);else{for(t in this.schema)this.attrValueProxy[t]=void 0;e&&"object"==typeof e?zs(this.attrValueProxy,e):"string"==typeof e&&Gl.parse(e,this.attrValueProxy)}},eventsAttach:function(){var e;for(e in this.eventsDetach(),this.events)this.el.addEventListener(e,this.events[e])},eventsDetach:function(){var e;for(e in this.events)this.el.removeEventListener(e,this.events[e])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.data),this.objectPool.recycle(this.oldData),this.attrValue=this.data=this.oldData=this.attrValueProxy=void 0}};var Zl={};function ec(e,t){var n,r,i,o,a,s={};if(document.currentScript&&document.currentScript!==Wl&&hl.forEach((function(t){t.hasLoaded||document.currentScript.compareDocumentPosition(t)!==Node.DOCUMENT_POSITION_FOLLOWING&&(Ql("The component `"+e+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(Zl[e]=!0))})),!0===ql.test(e)&&Ql("The component name `"+e+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+e.toLowerCase()+"`"),-1!==e.indexOf("__"))throw new Error("The component name `"+e+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(t).forEach((function(e){s[e]={value:t[e],writable:!0}})),Fl[e])throw new Error("The component `"+e+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");((n=function(e,t,n){Jl.call(this,e,t,n)}).prototype=Object.create(Jl.prototype,s)).name=e,n.prototype.isPositionRotationScale="position"===e||"rotation"===e||"scale"===e,n.prototype.constructor=n,n.prototype.system=cn&&ac[e],n.prototype.play=(o=n.prototype.play,function(){var e=this.el.sceneEl,t=this.el.isPlaying&&!this.isPlaying;this.initialized&&t&&(o.call(this),this.isPlaying=!0,this.eventsAttach(),tc(this)&&e.addBehavior(this))}),n.prototype.pause=(a=n.prototype.pause,function(){var e=this.el.sceneEl;this.isPlaying&&(a.call(this),this.isPlaying=!1,this.eventsDetach(),tc(this)&&e.removeBehavior(this))}),r=zs(Ul(n.prototype.schema,n.prototype.name)),n.prototype.isSingleProperty=i=zl(n.prototype.schema),n.prototype.isObjectBased=!i||i&&(nc(r.default)||nc(jl(void 0,r))),$l[e]=Da(),Fl[e]={Component:n,dependencies:n.prototype.dependencies,before:n.prototype.before,after:n.prototype.after,isSingleProperty:n.prototype.isSingleProperty,isObjectBased:n.prototype.isObjectBased,multiple:n.prototype.multiple,sceneOnly:n.prototype.sceneOnly,name:e,schema:r,stringify:n.prototype.stringify};for(var l=0;l<hl.length;l++)hl[l].emit("componentregistered",{name:e},!1);return n}function tc(e){return e.tick||e.tock}function nc(e){return e&&e.constructor===Object&&!(e instanceof window.HTMLElement)}var rc=!1;function ic(){rc||(rc=!0,setTimeout((function(){document.dispatchEvent(new CustomEvent("aframeready"))})))}var oc=rn,ac={},sc=function(e){var t=ln&&Fl[this.name];this.el=e,this.sceneEl=e,t&&(t.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};function lc(e,t){var n,r,i={},o=Zs(document);if(Object.keys(t).forEach((function(e){i[e]={value:t[e],writable:!0}})),ac[e])throw new Error("The system `"+e+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");if(r=function(e){sc.call(this,e)},(r.prototype=Object.create(sc.prototype,i)).name=e,r.prototype.constructor=r,r.prototype.schema=zs(kl(r.prototype.schema)),ac[e]=r,rc)for(n=0;n<o.length;n++)o[n].initSystem(e)}sc.prototype={schema:{},init:function(){},update:function(e){},updateProperties:function(e){var t=this.data;0!==Object.keys(this.schema).length&&(this.buildData(e),this.update(t))},buildData:function(e){var t=this.schema;0!==Object.keys(t).length&&(e=e||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),Rl(t)?this.data=Ll(e,t):this.data=Ol(oc.parse(e)||{},t,!1,this.name))},tick:void 0,tock:void 0,play:function(){},pause:function(){}};var cc=sa("core:a-node:warn"),uc={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function dc(e){return e.tagName.toLowerCase()in uc||e.isANode}class hc extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isANode=!0,this.mixinEls=[]}connectedCallback(){rc?this.doConnectedCallback():document.addEventListener("aframeready",this.connectedCallback.bind(this))}doConnectedCallback(){var e;this.sceneEl=this.closestScene(),this.sceneEl||cc("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(e=this.getAttribute("mixin"))&&this.updateMixins(e)}attributeChangedCallback(e,t,n){n!==this.computedMixinStr&&("mixin"!==e||this.isMixin||this.updateMixins(n,t))}closestScene(){for(var e=this;e&&!e.isScene;)e=e.parentElement;return e}closest(e){for(var t=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,n=this;n&&!t.call(n,e);)n=n.parentElement;return n}disconnectedCallback(){this.hasLoaded=!1}load(e,t){var n,r=this;this.hasLoaded||(t=t||dc,n=this.getChildren().filter(t).map((function(e){return new Promise((function(t,n){if(e.hasLoaded)return t();e.addEventListener("loaded",t),e.addEventListener("error",n)}))})),Promise.allSettled(n).then((function(t){t.forEach((function(e){"rejected"===e.status&&cc("Rendering scene with errors on node: ",e.reason.target)})),r.isLoading=!0,r.setupMutationObserver(),e&&e(),r.isLoading=!1,r.hasLoaded=!0,r.emit("loaded-private",void 0,!1),r.emit("loaded",void 0,!1)})))}setupMutationObserver(){var e=this;new MutationObserver((function(t){var n;for(n=0;n<t.length;n++)if("attributes"===t[n].type){var r=t[n].attributeName,i=window.HTMLElement.prototype.getAttribute.call(e,r),o=t[n].oldValue;e.attributeChangedCallback(r,o,i)}})).observe(this,{attributes:!0,attributeOldValue:!0})}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(e,t){var n,r,i,o=hc.newMixinIdArray,a=hc.oldMixinIdArray,s=hc.mixinIds;for(o.length=0,a.length=0,r=e?Ka(e.trim(),/\s+/):o,i=t?Ka(t.trim(),/\s+/):a,s.newMixinIds=r,s.oldMixinIds=i,n=0;n<i.length;n++)-1===r.indexOf(i[n])&&this.unregisterMixin(i[n]);for(this.computedMixinStr="",this.mixinEls.length=0,n=0;n<r.length;n++)this.registerMixin(r[n]);return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),0===r.length&&window.HTMLElement.prototype.removeAttribute.call(this,"mixin"),s}registerMixin(e){var t,n,r,i=document.getElementById(e);if(i){if(r=i.getAttribute("mixin"))for(t=Ka(r.trim(),/\s+/),n=0;n<t.length;n++)this.registerMixin(t[n]);this.computedMixinStr=this.computedMixinStr+" "+i.id,this.mixinEls.push(i)}else cc("No mixin was found with id `%s`",e)}setAttribute(e,t){"mixin"===e&&this.updateMixins(t),window.HTMLElement.prototype.setAttribute.call(this,e,t)}unregisterMixin(e){var t,n=this.mixinEls;for(t=0;t<n.length;++t)if(e===n[t].id){n.splice(t,1);break}}emit(e,t,n,r){var i=hc.evtData;void 0===n&&(n=!0),i.bubbles=!!n,i.detail=t,r&&(i=zs({},r,i)),this.dispatchEvent(new CustomEvent(e,i))}}hc.evtData={},hc.newMixinIdArray=[],hc.oldMixinIdArray=[],hc.mixinIds={},customElements.define("a-node",hc);var pc=sa("core:a-entity:debug"),fc=sa("core:a-entity:warn"),mc="__",gc=["position","rotation","scale","visible"],vc={once:!0};class yc extends hc{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new Sr.Group,this.object3D.rotation.order="YXZ",this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(e,t,n){var r=this.components[e];super.attributeChangedCallback(),r&&r.justInitialized&&""===n?delete r.justInitialized:(r||null!==n)&&this.setEntityAttribute(e,t,n)}doConnectedCallback(){var e,t,n=this;super.doConnectedCallback(),t=this.sceneEl,this.addToParent(),this.isScene||(t?!(e=t.querySelector("a-assets"))||e.hasLoaded?this.load():e.addEventListener("loaded",(function(){n.load()})):this.load())}disconnectedCallback(){var e;if(this.parentEl){for(e in this.components)this.removeComponent(e,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(e){return this.object3DMap[e]}setObject3D(e,t){var n,r=this;if(!(t instanceof Sr.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");(n=this.getObject3D(e))&&this.object3D.remove(n),t.el=this,t.children.length&&t.traverse((function(e){e.el=r})),this.object3D.add(t),this.object3DMap[e]=t,this.emit("object3dset",{object:t,type:e})}removeObject3D(e){var t=this.getObject3D(e);t?(this.object3D.remove(t),delete this.object3DMap[e],this.emit("object3dremove",{type:e})):fc("Tried to remove `Object3D` of type:",e,"which was not defined.")}getOrCreateObject3D(e,t){var n=this.getObject3D(e);return!n&&t&&(n=new t,this.setObject3D(e,n)),fc("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),n}add(e){if(!e.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(e.object3D),this.emit("child-attached",{el:e})}addToParent(){var e=this.parentEl=this.parentNode;e&&e.add&&!this.attachedToParent&&(e.add(this),this.attachedToParent=!0)}removeFromParent(){var e=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,e.emit("child-detached",{el:this})}load(){var e=this;!this.hasLoaded&&this.parentEl&&super.load.call(this,(function(){e.parentEl&&(e.updateComponents(),(e.isScene||e.parentEl.isPlaying)&&e.play())}))}remove(e){e?this.object3D.remove(e.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var e=this.children,t=[],n=0;n<e.length;n++){var r=e[n];r instanceof yc&&t.push(r)}return t}initComponent(e,t,n){var r,i,o,a;a=(o=Ka(e,mc))[0],i=o.length>2?o.slice(1).join("__"):o[1],Fl[a]&&(bc(this,e)||void 0!==t||n)&&(e in this.components||(this.initComponentDependencies(a),r=new Fl[a].Component(this,t,i),this.isPlaying&&r.play(),this.hasAttribute(e)||(r.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,e,"")),pc("Component initialized: %s",e)))}initComponentDependencies(e){var t,n;if(Fl[e]&&(t=Fl[e].dependencies))for(n=0;n<t.length;n++)this.initComponent(t[n],window.HTMLElement.prototype.getAttribute.call(this,t[n])||void 0,!0)}removeComponent(e,t){var n;(n=this.components[e])&&(n.initialized?(n.pause(),n.remove(),t&&(n.destroy(),delete this.components[e],this.hasAttribute(e)&&window.HTMLElement.prototype.removeAttribute.call(this,e)),this.emit("componentremoved",n.evtDetail,!1)):this.addEventListener("componentinitialized",(function n(r){r.detail.name===e&&(this.removeComponent(e,t),this.removeEventListener("componentinitialized",n))})))}updateComponents(){var e,t,n,r,i,o,a=this.componentsToUpdate;if(this.hasLoaded||this.isLoading){for(n=0;n<this.mixinEls.length;n++)for(r in this.mixinEls[n].componentCache)Ac(r)&&(a[r]=!0);if(this.getExtraComponents)for(r in t=this.getExtraComponents())Ac(r)&&(a[r]=!0);for(n=0;n<this.attributes.length;++n)r=this.attributes[n].name,-1===gc.indexOf(r)&&Ac(r)&&(a[r]=!0);for(n=0;n<gc.length;n++)r=gc[n],this.hasAttribute(r)&&this.updateComponent(r,this.getDOMAttribute(r));for(r in a)i=this.getDOMAttribute(r),e=(o=t&&t[r])?o.constructor===Object?zs(o,bs(i||{})):i||o:i,this.updateComponent(r,e),delete a[r]}}updateComponent(e,t,n){var r=this.components[e];if(r)return null!==t||bc(this,e)?void r.updateProperties(t,n):void this.removeComponent(e,!0);this.initComponent(e,t,!1)}removeAttribute(e,t){var n=this.components[e];n&&void 0===t&&this.removeComponent(e,!0),n&&void 0!==t?n.resetProperty(t):("mixin"===e&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,e))}play(){var e,t,n;if(!this.isPlaying&&(this.hasLoaded||this.isLoading)){for(n in this.isPlaying=!0,this.components)this.components[n].play();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].play();this.emit("play")}}pause(){var e,t,n;if(this.isPlaying){for(n in this.isPlaying=!1,this.components)this.components[n].pause();for(e=this.getChildEntities(),t=0;t<e.length;t++)e[t].pause();this.emit("pause")}}setEntityAttribute(e,t,n){if(Fl[e]||this.components[e])this.updateComponent(e,n);else if("mixin"===e){if(n===this.computedMixinStr)return;this.mixinUpdate(n,t)}}mixinUpdate(e,t,n){var r,i,o,a,s=yc.componentsUpdated,l=this;if(n||(t=t||this.getAttribute("mixin")),this.hasLoaded){for(o=this.updateMixins(e,t),s.length=0,a=0;a<this.mixinEls.length;a++)for(r in this.mixinEls[a].componentCache)-1===s.indexOf(r)&&(this.components[r]?this.components[r].handleMixinUpdate():this.initComponent(r,null),s.push(r));for(a=0;a<o.oldMixinIds.length;a++)if(i=document.getElementById(o.oldMixinIds[a]))for(r in i.componentCache)-1===s.indexOf(r)&&this.components[r]&&(this.getDOMAttribute(r)?this.components[r].handleMixinUpdate():this.removeComponent(r,!0))}else this.addEventListener("loaded-private",(function(){l.mixinUpdate(e,t,!0)}),vc)}setAttribute(e,t,n){var r,i,o,a,s,l=yc.singlePropUpdate;if(o=(a=e.indexOf(mc))>0?e.substring(0,a):e,!Fl[o])return"mixin"===e&&this.mixinUpdate(t),void super.setAttribute.call(this,e,t);if(!this.components[e]&&this.hasAttribute(e)&&this.updateComponent(e,window.HTMLElement.prototype.getAttribute.call(this,e)),void 0!==n&&"string"==typeof t&&t.length>0&&"string"==typeof bs(t)){for(s in l)delete l[s];(r=l)[t]=n,i=!1}else r=t,i=!0===n;this.updateComponent(e,r,i),this.sceneEl&&this.sceneEl.getAttribute("debug")&&this.components[e].flushToDOM()}flushToDOM(e){var t,n,r,i=this.components,o=this.children;for(r in i)i[r].flushToDOM();if(e)for(n=0;n<o.length;++n)(t=o[n]).flushToDOM&&t.flushToDOM(e)}getAttribute(e){var t,n,r,i;return"position"===e?this.object3D.position:"rotation"===e?(n=Sr.MathUtils.radToDeg,r=this.object3D.rotation,(i=this.rotationObj).x=n(r.x),i.y=n(r.y),i.z=n(r.z),i):"scale"===e?this.object3D.scale:"visible"===e?this.object3D.visible:(t=this.components[e])?t.data:window.HTMLElement.prototype.getAttribute.call(this,e)}getDOMAttribute(e){var t=this.components[e];return t?t.attrValue:window.HTMLElement.prototype.getAttribute.call(this,e)}addState(e){this.is(e)||(this.states.push(e),this.emit("stateadded",e))}removeState(e){var t=this.states.indexOf(e);-1!==t&&(this.states.splice(t,1),this.emit("stateremoved",e))}is(e){return-1!==this.states.indexOf(e)}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var e;if(this.parentNode)fc("Entity can only be destroyed if detached from scenegraph.");else for(e in this.components)this.components[e].destroy()}}function bc(e,t){return!(!e.components[t]||!e.components[t].attrValue)||function(e,t){var n,r=!1;for(n=0;n<t.length&&!(r=t[n].hasAttribute(e));++n);return r}(t,e.mixinEls)}function Ac(e){return-1!==e.indexOf(mc)&&(e=Ka(e,mc)[0]),!!Fl[e]}function xc(e){if(e.data&&"vr"===e.data.type)switch(e.data.data){case"enter":this.enterVR();break;case"exit":this.exitVR()}}yc.componentsUpdated=[],yc.singlePropUpdate={},customElements.define("a-entity",yc),Sa()&&window.addEventListener("orientationchange",(function(){document.documentElement.style.height="initial",setTimeout((function(){document.documentElement.style.height="100%",setTimeout((function(){window.scrollTo(0,1)}),500)}),500)}));var wc=sa("core:a-scene:warn"),Cc=Sa(),Ec=xa(),Sc=pa;class _c extends yc{constructor(){var e;super(),(e=this).clock=new Sr.Clock,e.isIOS=Cc,e.isMobile=Ec,e.hasWebXR=Sc,e.isAR=!1,e.isScene=!0,e.object3D=new Sr.Scene,e.resize=e.resize.bind(e),e.render=e.render.bind(e),e.systems={},e.systemNames=[],e.time=e.delta=0,e.usedOfferSession=!1,e.componentOrder=[],e.behaviors={},e.hasLoaded=!1,e.isPlaying=!1,e.originalHTML=e.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}doConnectedCallback(){var e=this,t=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("xr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.doConnectedCallback(),function(e){var t;function n(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||e.exitVR(),document.activeElement.blur(),document.body.focus()}(t=document.createElement("canvas")).classList.add("a-canvas"),t.dataset.aframeCanvas=!0,e.appendChild(t),document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("MSFullscreenChange",n),t.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1}),e.canvas=t,e.emit("render-target-loaded",{target:t}),setTimeout(e.resize.bind(e),0)}(this),this.setupRenderer(),function(e,t){al=t;var n,r,i,o,a,s,l,c,u,d,h=(il=e).hasAttribute(ul)?cl.parse(il.getAttribute(ul)):void 0,p=h&&h.dotsColor||"white",f=h&&h.backgroundColor||"#24CAFF";(void 0===h||"true"===h.enabled||void 0===h.enabled)&&(n=new Sr.Scene,r=new Sr.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),i=new Sr.MeshBasicMaterial({color:p}),o=new Sr.Mesh(r,i),a=o.clone(),s=o.clone(),l=new Sr.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),c=new Sr.Clock,u=0,d=function(){il.renderer.render(n,l),u=c.getElapsedTime()%4,o.visible=u>=1,a.visible=u>=2,s.visible=u>=3},n.background=new Sr.Color(f),n.add(l),o.position.set(-1,0,-15),a.position.set(0,0,-15),s.position.set(1,0,-15),l.add(o),l.add(a),l.add(s),(ol=document.createElement("div")).className="a-loader-title",ol.innerHTML=document.title,ol.style.display="none",ol.setAttribute(na,""),il.appendChild(ol),setTimeout((function(){il.hasLoaded||(dl(l),ol.style.display="block",window.addEventListener("resize",(function(){dl(l)})),il.renderer.setAnimationLoop(d))}),200))}(this,Tc),this.resize(),t||this.addFullScreenStyles(),Js()&&window.addEventListener("message",xc.bind(this)),function(e){var t,n=document.head,r=n.querySelector("script"),i=[];return tl.forEach(o),e.isIOS&&nl.forEach(o),i;function o(e){e&&!e.exists()&&(t=function(e){if(e&&e.tagName){var t=document.createElement(e.tagName);return t.setAttribute(na,""),zs(t,e.attributes)}}(e),t&&(r?r.parentNode.insertBefore(t,r):n.appendChild(t),i.push(t)))}}(this),function(e){if(e.isMobile){var t=e.wakelock=new(ll());e.addEventListener("enter-vr",(function(){t.request()})),e.addEventListener("exit-vr",(function(){t.release()}))}}(this),this.enterVRBound=function(){e.enterVR()},this.exitVRBound=function(){e.exitVR()},window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",(function(){e.attachedCallbackPostCamera()})),this.initSystems(),this.componentOrder=Mc(Fl,this.componentOrder),this.addEventListener("componentregistered",(function(){e.componentOrder=Mc(Fl,e.componentOrder)})),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",(function(){e.enterVR()}))}attachedCallbackPostCamera(){var e=this;window.addEventListener("load",void 0),window.addEventListener("resize",(function(){e.isIOS?setTimeout(e.resize,100):e.resize()})),this.play(),hl.push(this)}initSystems(){var e;for(e in this.initSystem("camera"),ac)"camera"!==e&&this.initSystem(e)}initSystem(e){this.systems[e]||(this.systems[e]=new ac[e](this),this.systemNames.push(e))}disconnectedCallback(){var e=hl.indexOf(this);super.disconnectedCallback(),hl.splice(e,1),window.removeEventListener("sessionend",this.resize),this.removeFullScreenStyles(),this.renderer.dispose()}addBehavior(e){var t,n,r=this.behaviors[e.name];for(n in r||(r=this.behaviors[e.name]={tick:{inUse:!1,array:[],markedForRemoval:[]},tock:{inUse:!1,array:[],markedForRemoval:[]}}),r)if(e[n]){if((t=r[n]).inUse){var i=t.markedForRemoval.indexOf(e);-1!==i&&t.markedForRemoval.splice(i,1)}-1===t.array.indexOf(e)&&t.array.push(e)}}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return ga()}enterAR(){var e;if(!this.hasWebXR)throw e="Failed to enter AR mode, WebXR not supported.",new Error(e);if(!va())throw e="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(e);return this.enterVR(!0)}enterVR(e,t){var n,r=this,i=r.renderer.xr;if(t&&(!navigator.xr||!navigator.xr.offerSession))return Promise.resolve("OfferSession is not supported.");if(r.usedOfferSession&&t)return Promise.resolve("OfferSession was already called.");if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var o=r.getAttribute("renderer");if(i.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var a=this.sceneEl.systems.webxr.sessionReferenceSpaceType;i.setReferenceSpaceType(a);var s=e?"immersive-ar":"immersive-vr";return n=this.sceneEl.systems.webxr.sessionConfiguration,new Promise((function(e,a){var c=t?navigator.xr.offerSession.bind(navigator.xr):navigator.xr.requestSession.bind(navigator.xr);r.usedOfferSession|=t,c(s,n).then((function(a){t&&(r.usedOfferSession=!1),i.layersEnabled=-1!==n.requiredFeatures.indexOf("layers"),i.setSession(a).then((function(){i.setFoveation(o.foveationLevel),r.xrSession=a,r.systems.renderer.setWebXRFrameRate(a),a.addEventListener("end",r.exitVRBound),l(e)}))}),(function(e){a(new Error("Failed to enter "+("immersive-ar"===s?"AR":"VR")+" mode (`requestSession`)",{cause:e}))}))}))}throw new Error("Failed to enter "+(e?"AR":"VR")+" no WebXR")}return l(),Promise.resolve();function l(t){var n;e?r.addState("ar-mode"):r.addState("vr-mode"),r.emit("enter-vr",{target:r}),!r.hasWebXR&&r.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),r.addFullScreenStyles(),r.isMobile||r.checkHeadsetConnected()||((n=r.canvas).requestFullscreen||n.webkitRequestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen).apply(n,[{navigationUI:"hide"}]),r.resize(),t&&t()}}exitVR(){var e=this,t=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(t.enabled=!1,!this.hasWebXR)throw Error("Failed to exit VR - no WebXR");this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then((function(){}),(function(){})),this.xrSession=void 0}else(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen());return e.removeState("vr-mode"),e.removeState("ar-mode"),e.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.hasAttribute("embedded")&&e.removeFullScreenStyles(),e.resize(),e.isIOS&&es(e.canvas),e.renderer.setPixelRatio(window.devicePixelRatio),e.emit("exit-vr",{target:e}),Promise.resolve()}getAttribute(e){var t=this.systems[e];return t?t.data:yc.prototype.getAttribute.call(this,e)}getDOMAttribute(e){var t=this.systems[e];return t?t.data:yc.prototype.getDOMAttribute.call(this,e)}setAttribute(e,t,n){if(ac[e]){hc.prototype.setAttribute.call(this,e,t);var r=this.systems[e];r&&r.updateProperties(t)}else yc.prototype.setAttribute.call(this,e,t,n)}removeBehavior(e){var t,n,r,i=this.behaviors[e.name];for(n in i)e[n]&&-1!==(r=(t=i[n]).array.indexOf(e))&&(t.inUse?-1===t.markedForRemoval.indexOf(e)&&t.markedForRemoval.push(e):(t.array[r]=t.array[t.array.length-1],t.array.pop()))}resize(){var e,t,n=this.camera,r=this.canvas,i=this.renderer.xr.isPresenting;e=this.renderer.xr.enabled&&i,!n||!r||this.is("vr-mode")&&(this.isMobile||e)||(t=Tc(r,this.getAttribute("embedded")&&!this.is("vr-mode"),this.maxCanvasSize,this.is("vr-mode")),n.aspect=t.width/t.height,n.updateProjectionMatrix(),this.renderer.setSize(t.width,t.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var e,t,n,r=this;n={alpha:!0,antialias:!Ec,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:-1,width:-1},this.hasAttribute("renderer")&&((t=bs(this.getAttribute("renderer"))).precision&&(n.precision=t.precision+"p"),t.antialias&&"auto"!==t.antialias&&(n.antialias="true"===t.antialias),t.logarithmicDepthBuffer&&"auto"!==t.logarithmicDepthBuffer&&(n.logarithmicDepthBuffer="true"===t.logarithmicDepthBuffer),t.alpha&&(n.alpha="true"===t.alpha),t.stencil&&(n.stencil="true"===t.stencil),t.multiviewStereo&&(n.multiviewStereo="true"===t.multiviewStereo),this.maxCanvasSize={width:t.maxCanvasWidth?parseInt(t.maxCanvasWidth):this.maxCanvasSize.width,height:t.maxCanvasHeight?parseInt(t.maxCanvasHeight):this.maxCanvasSize.height});var i=["WebGLRenderer","WebGPURenderer"].find((function(e){return Sr[e]}));(e=this.renderer=new Sr[i](n)).xr.setPoseTarget||(e.xr.setPoseTarget=function(){}),e.setPixelRatio(window.devicePixelRatio),this.camera&&e.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",(function(){e.xr.setPoseTarget(r.camera.el.object3D)}))}play(){var e=this,t=this;this.renderStarted?yc.prototype.play.call(this):(this.addEventListener("loaded",(function(){var e=this.renderer;yc.prototype.play.call(this),t.renderStarted||(t.resize(),t.renderer&&(window.performance&&window.performance.mark("render-started"),window.removeEventListener("resize",dl),ol&&(ol.style.display="none"),e.setAnimationLoop(this.render),t.renderStarted=!0,t.emit("renderstart")))})),setTimeout((function(){yc.prototype.load.call(e)})))}updateComponent(e){e in ac||yc.prototype.updateComponent.apply(this,arguments)}tick(e,t){var n,r=this.systems;for(this.callComponentBehaviors("tick",e,t),n=0;n<this.systemNames.length;n++)r[this.systemNames[n]].tick&&r[this.systemNames[n]].tick(e,t)}tock(e,t,n){var r,i=this.systems;for(this.callComponentBehaviors("tock",e,t),r=0;r<this.systemNames.length;r++)i[this.systemNames[r]].tock&&i[this.systemNames[r]].tock(e,t,n)}render(e,t){var n=this.renderer;this.frame=t,this.delta=1e3*this.clock.getDelta(),this.time=1e3*this.clock.elapsedTime,this.isPlaying&&this.tick(this.time,this.delta);var r=null;if(this.is("ar-mode")&&(r=this.object3D.background,this.object3D.background=null),n.render(this.object3D,this.camera),r&&(this.object3D.background=r),this.isPlaying){var i=n.xr.isPresenting?n.xr.getCamera():this.camera;this.tock(this.time,this.delta,i)}}callComponentBehaviors(e,t,n){for(var r,i=0;i<this.componentOrder.length;i++){var o=this.behaviors[this.componentOrder[i]];if(o){var a=o[e];for(a.inUse=!0,r=0;r<a.array.length;r++)a.array[r].isPlaying&&a.array[r][e](t,n);for(a.inUse=!1,r=0;r<a.markedForRemoval.length;r++)this.removeBehavior(a.markedForRemoval[r]);a.markedForRemoval.length=0}}}}function Mc(e,t){var n,r,i={},o=t||[];for(r in o.length=0,e){var a=e[r];if(void 0!==a){var s=a.before?a.before.slice(0):[],l=a.after?a.after.slice(0):[];i[r]={before:s,after:l,visited:!1,done:!1}}}for(r in i)for(n=0;n<i[r].before.length;n++){var c=i[r].before[n];c in i?i[c].after.push(r):wc("Invalid ordering constraint, no component named `"+c+"` referenced by `"+r+"`")}function u(e){if(e in i&&!i[e].done)if(i[e].visited)wc("Cycle detected, ignoring one or more before/after constraints. The resulting order might be incorrect");else{i[e].visited=!0;for(var t=0;t<i[e].after.length;t++){var n=i[e].after[t];n in i||wc("Invalid before/after constraint, no component named `"+n+"` referenced in `"+e+"`"),u(n)}i[e].done=!0,o.push(e)}}for(r in i)i[r].done||u(r);return o}function Ic(e,t){var n,r=window.devicePixelRatio;return!t||-1===t.width&&-1===t.height||e.width*r<t.width&&e.height*r<t.height||(n=e.width/e.height,e.width*r>t.width&&-1!==t.width&&(e.width=Math.round(t.width/r),e.height=Math.round(t.width/n/r)),e.height*r>t.height&&-1!==t.height&&(e.height=Math.round(t.height/r),e.width=Math.round(t.height*n/r))),e}function Tc(e,t,n,r){return e.parentElement?t?Ic({height:e.parentElement.offsetHeight,width:e.parentElement.offsetWidth},n):function(e,t){var n;return n={height:document.body.offsetHeight,width:document.body.offsetWidth},t?n:Ic(n,e)}(n,r):{height:0,width:0}}customElements.define("a-scene",_c);var Rc=kl,kc={},Pc=[],Bc=function(){};function Oc(e,t){var n,r={};if(Object.keys(t).forEach((function(e){r[e]={value:t[e],writable:!0}})),kc[e])throw new Error("The geometry `"+e+"` has been already registered");return((n=function(){Bc.call(this)}).prototype=Object.create(Bc.prototype,r)).name=e,n.prototype.constructor=n,kc[e]={Geometry:n,schema:Rc(n.prototype.schema)},Pc.push(e),n}Bc.prototype={schema:{},init:function(e){return this.geometry=new Sr.BufferGeometry,this.geometry},update:function(e){}};var Lc=sa,Dc=Za,Nc=Lc("extras:primitives:debug"),Fc=Lc("extras:primitives:warn"),jc=Lc("extras:primitives:error"),Uc={};function zc(e,t){if(e=e.toLowerCase(),!uc[e]){uc[e]=!0,Nc("Registering <%s>",e),t.defaultAttributes&&Fc("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var n=t.mappings||{},r=class extends yc{constructor(){super(),this.defaultComponentsFromPrimitive=t.defaultComponents||t.defaultAttributes||{},this.deprecated=t.deprecated||null,this.deprecatedMappings=t.deprecatedMappings||{},this.mappings=n,t.deprecated&&console.warn(t.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var e=this.mappings,t=this;Object.keys(e).forEach((function(n){var r;n!==n.toLowerCase()&&Fc("Mapping keys should be specified in lower case. The mapping key "+n+" may not be recognized"),Fl[n]&&(r=e[n].replace(".","-"),e[r]=e[n],delete e[n],console.warn("The primitive "+t.tagName.toLowerCase()+" has a mapping collision. The attribute "+n+" has the same name as a registered component and has been renamed to "+r))}))}getExtraComponents(){var e,t,n,r,i,o=this;for(t=Vs(this.defaultComponentsFromPrimitive),(i=this.getAttribute("mixin"))&&(i=Ka(i.trim(),/\s+/)).forEach((function(e){var n,i,c=document.getElementById(e);if(c){var u=c.rawAttributeCache,d=c.componentCache;for(var h in u){if(r=o.mappings[h])return void Hc(r,u[h],t);h in d&&(t[h]=(n=t[h],i=d[h],a(n)?s(i):a(i)?s(n):l(n)&&l(i)?Hs(n,i):s(i)))}}})),n=0;n<this.attributes.length;n++)e=this.attributes[n],(r=this.mappings[e.name])&&Hc(r,e.value,t);return t;function a(e){return void 0===e}function s(e){return l(e)?Hs({},e):e}function l(e){return null!==e&&e.constructor===Object}}attributeChangedCallback(e,t,n){var r=this.mappings[e];e in this.deprecatedMappings&&console.warn(this.deprecatedMappings[e]),e&&r?Dc(this,r,n):super.attributeChangedCallback(e,t,n)}};return customElements.define(e,r),r.mappings=n,Uc[e]=r,r}jc("Trying to register primitive "+e+" that has been already previously registered")}function Hc(e,t,n){var r=Ya(e);r.constructor===Array?(n[r[0]]=n[r[0]]||{},n[r[0]][r[1]]=t.trim()):n[r]=t.trim()}var Vc={},Gc=[],Qc={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},Wc=function(){};function qc(e,t){var n,r={};if(Object.keys(t).forEach((function(e){r[e]={value:t[e],writable:!0}})),Vc[e])throw new Error("The shader "+e+" has already been registered");return((n=function(){Wc.call(this)}).prototype=Object.create(Wc.prototype,r)).name=e,n.prototype.constructor=n,Vc[e]={Shader:n,schema:kl(n.prototype.schema)},Gc.push(e),n}Wc.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(e){return this.uniforms=this.initUniforms(),this.material=new(this.raw?Sr.RawShaderMaterial:Sr.ShaderMaterial)({uniforms:this.uniforms,glslVersion:this.raw||this.glsl3?Sr.GLSL3:null,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initUniforms:function(){var e,t,n=this.schema,r={};for(e in n)"uniform"===n[e].is&&(t=Qc[n[e].type],r[e]={type:t,value:void 0});return r},update:function(e){var t,n,r=this.schema,i=this.uniforms;for(t in e)if(r[t]&&"uniform"===r[t].is)if("map"!==r[t].type)i[t].value=this.parseValue(r[t].type,e[t]),i[t].needsUpdate=!0;else{if(!i[t]||i[t].value===e[t])continue;n="_texture_"+t,this.setMapOnTextureLoad(i,t,n),us(n,t,this,e)}},parseValue:function(e,t){var n;switch(e){case"vec2":return new Sr.Vector2(t.x,t.y);case"vec3":return new Sr.Vector3(t.x,t.y,t.z);case"vec4":return new Sr.Vector4(t.x,t.y,t.z,t.w);case"color":return n=new Sr.Color(t),new Sr.Vector3(n.r,n.g,n.b);default:return t}},setMapOnTextureLoad:function(e,t,n){var r=this;this.el.addEventListener("materialtextureloaded",(function(){e[t].value=r.material[n],e[t].needsUpdate=!0}))}};var $c=new Sr.FileLoader,Xc=sa("core:a-assets:warn");function Kc(e){if(e.hasAttribute("autoplay")||"auto"===e.getAttribute("preload"))return new Promise((function(t,n){if(4===e.readyState)return t();if(e.error)return n();function r(){for(var n=0,r=0;r<e.buffered.length;r++)n+=e.buffered.end(r)-e.buffered.start(r);n>=e.duration&&("VIDEO"===e.tagName&&Sr.Cache.add(e.getAttribute("src"),e),t())}e.addEventListener("loadeddata",r,!1),e.addEventListener("progress",r,!1),e.addEventListener("error",n,!1)}))}function Yc(e){var t=function(e){var t,n,r;if(e.hasAttribute("crossorigin"))return e;if(null!==(t=e.getAttribute("src"))){if(-1===t.indexOf("://"))return e;if((r=(n=t).indexOf("://")>-1?n.split("/")[2]:n.split("/")[0]).substring(0,r.indexOf(":"))===window.location.host)return e}return Xc('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',t),e.crossOrigin="anonymous",e.cloneNode(!0)}(e);return t.tagName&&"video"===t.tagName.toLowerCase()&&(t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline","")),t!==e&&(e.parentNode.appendChild(t),e.parentNode.removeChild(e)),t}customElements.define("a-assets",class extends hc{constructor(){super(),this.isAssets=!0,this.fileLoader=$c,this.timeout=null}doConnectedCallback(){var e,t,n,r,i,o,a=this,s=[];if(super.doConnectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(i=this.querySelectorAll("img"),e=0;e<i.length;e++)r=Yc(i[e]),s.push(new Promise((function(t,n){Sr.Cache.add(i[e].getAttribute("src"),r),r.complete?t():(r.onload=t,r.onerror=n)})));for(n=this.querySelectorAll("audio, video"),e=0;e<n.length;e++)(t=Yc(n[e])).src||t.srcObject||Xc("Audio/video asset has neither `src` nor `srcObject` attributes."),s.push(Kc(t));this.getChildren().forEach((function(e){e.isAssetItem&&e.hasAttribute("src")&&s.push(new Promise((function(t,n){if(e.hasLoaded)return t();e.addEventListener("loaded",t),e.addEventListener("error",n)})))})),Promise.allSettled(s).then((function(){null!==a.timeout&&a.load()})),o=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout((function(){a.hasLoaded||(Xc("Asset loading timed out in",o,"ms"),a.timeout=null,a.emit("timeout"),a.load())}),o)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,(function(){return!1}))}}),customElements.define("a-asset-item",class extends hc{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var e=this,t=this.getAttribute("src");$c.setResponseType(this.getAttribute("response-type")||function(e){var t=function(e){var t=document.createElement("a");t.href=e;var n=t.search.replace(/^\?/,""),r=e.replace(n,"").replace("?","");return r.substring(r.lastIndexOf("/")+1)}(e),n=t.lastIndexOf(".");return n>=0&&".glb"===t.slice(n,e.search(/\?|#|$/))?"arraybuffer":"text"}(t)),$c.load(t,(function(t){e.data=t,hc.prototype.load.call(e)}),(function(t){e.emit("progress",{loadedBytes:t.loaded,totalBytes:t.total,xhr:t})}),(function(t){e.emit("error",{xhr:t},!1)}))}});var Jc=sa("core:cubemap:warn");class Zc extends HTMLElement{constructor(e){return super(e)}onReadyStateChange(){"complete"===document.readyState&&this.doConnectedCallback()}connectedCallback(){"complete"===document.readyState?Zc.prototype.doConnectedCallback.call(this):document.addEventListener("readystatechange",this.onReadyStateChange.bind(this))}doConnectedCallback(){this.srcs=this.validate()}validate(){var e,t=this.querySelectorAll("[src]"),n=[];if(6===t.length){for(e=0;e<t.length;e++)"IMG"===t[e].tagName?n.push(t[e]):n.push(t[e].getAttribute("src"));return n}Jc("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",Zc),customElements.define("a-mixin",class extends hc{constructor(){super(),this.componentCache={},this.rawAttributeCache={},this.isMixin=!0}doConnectedCallback(){super.doConnectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(e,t,n){super.attributeChangedCallback(),this.cacheAttribute(e,n),this.updateEntities()}setAttribute(e,t){window.HTMLElement.prototype.setAttribute.call(this,e,t),this.cacheAttribute(e,t)}cacheAttribute(e,t){var n,r;r=Ka(e,"__")[0],n=Fl[r],void 0===t&&(t=window.HTMLElement.prototype.getAttribute.call(this,e)),this.rawAttributeCache[e]=t,n&&(this.componentCache[e]=this.parseComponentAttrValue(n,t))}parseComponentAttrValue(e,t){var n;return"string"!=typeof t?t:(e.isSingleProperty?"string"==typeof(n=e.schema.parse(t))&&(n=t):n=bs(t),n)}getAttribute(e){return this.componentCache[e]||window.HTMLElement.prototype.getAttribute.call(this,e)}cacheAttributes(){var e,t,n=this.attributes;for(t=0;t<n.length;t++)e=n[t].name,this.cacheAttribute(e)}updateEntities(){var e,t,n;if(this.sceneEl)for(t=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),n=0;n<t.length;n++)(e=t[n]).hasLoaded&&!e.isMixin&&e.mixinUpdate(this.id)}});const eu="1.7.0";var tu=new Sr.Color,nu=new Sr.Color,ru=Ja,iu=Za,ou={},au="color",su="rotation",lu="components";function cu(e){e.x=Sr.MathUtils.degToRad(e.x),e.y=Sr.MathUtils.degToRad(e.y),e.z=Sr.MathUtils.degToRad(e.z)}function uu(e,t,n){var r;for(r=0;r<t.length;r++)e.addEventListener(t[r],n)}function du(e,t,n){var r;for(r=0;r<t.length;r++)e.removeEventListener(t[r],n)}function hu(e,t){var n,r,i;for(r=fu(t),i=e,n=0;n<r.length;n++)i=i[r[n]];if(void 0===i)throw console.log(e),new Error("[animation] property ("+t+") could not be found");return i}function pu(e,t,n,r){var i,o,a,s;for(t.startsWith("object3D.rotation")&&(n=Sr.MathUtils.degToRad(n)),o=fu(t),s=e,i=0;i<o.length-1;i++)s=s[o[i]];a=o[o.length-1],r!==au?s[a]=n:"r"in s[a]?(s[a].r=n.r,s[a].g=n.g,s[a].b=n.b):(s[a].x=n.r,s[a].y=n.g,s[a].z=n.b)}function fu(e){return e in ou||(ou[e]=e.split(".")),ou[e]}function mu(e){return e.isRawProperty||e.property.startsWith(lu)||e.property.startsWith("object3D")}ec("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&parseInt(e,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit("animationcomplete",e.eventDetail,!1),e.id&&e.el.emit("animationcomplete__"+e.id,e.eventDetail,!1)}}},update:function(e){var t=this.config,n=this.data;this.animationIsPlaying=!1,this.data.enabled&&n.property&&(t.autoplay=!1,t.direction=n.dir,t.duration=n.dur,t.easing=n.easing,t.elasticity=n.elasticity,t.loop=n.loop,t.round=n.round,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=Er(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length||(e.delay?setTimeout(this.beginAnimation,e.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=Er(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var e,t,n,r=this.config,i=this.data,o=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(t in e=""===i.from?hu(o,i.property):i.from,n=i.to,this.setColorConfig(e,n),e=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray,n)r[t]=n[t];var a;r.update=(a={},function(e){var t;(t=e.animatables[0].target).r===a.r&&t.g===a.g&&t.b===a.b||pu(o,i.property,t,i.type)})}},updateConfigForDefault:function(){var e,t,n,r,i=this.config,o=this.data,a=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(e=""===o.from?mu(o)?hu(a,o.property):ru(a,o.property):o.from,n=o.to,isNaN(e||n)?(e=e?e.toString():e,n=n?n.toString():n):(e=parseFloat(e),n=parseFloat(n)),(t="true"===o.to||"false"===o.to||!0===o.to||!1===o.to)&&(e="true"===o.from||!0===o.from?1:0,n="true"===o.to||!0===o.to?1:0),this.targets.aframeProperty=e,i.targets=this.targets,i.aframeProperty=n,i.update=function(e){var n;(n=e.animatables[0].target.aframeProperty)!==r&&(r=n,t&&(n=n>=1),mu(o)?pu(a,o.property,n,o.type):iu(a,o.property,n))})},updateConfigForVector:function(){var e,t,n,r,i=this.config,o=this.data,a=this.el,s=fu(o.property),l="object3D"===s[0]?s[1]:s[0];for(e in t=""!==o.from?Va(o.from):ru(a,l),n=Va(o.to),l===su&&(cu(t),cu(n)),this.targetsArray.length=0,this.targetsArray.push(t),i.targets=this.targetsArray,n)i[e]=n[e];i.update="position"!==l&&l!==su&&"scale"!==l?function(){var e={};return function(t){var n=t.animatables[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,iu(a,o.property,n))}}():(r={},function(e){var t=e.animatables[0].target;t.x===r.x&&t.y===r.y&&t.z===r.z||(r.x=t.x,r.y=t.y,r.z=t.z,a.object3D[l].set(t.x,t.y,t.z))})},updateConfig:function(){var e;e=function(e,t){var n,r,i,o;return"object3D"!==(i=t.split("."))[0]||i[2]||"position"!==i[1]&&"rotation"!==i[1]&&"scale"!==i[1]?(r=i[0],o=i[1],(n=e.components[r]||Fl[r])?o&&!n.schema[o]?null:o?n.schema[o].type:n.schema.type:null):"vec3"}(this.el,this.data.property),mu(this.data)&&this.data.type===au?this.updateConfigForRawColor():"vec2"===e||"vec3"===e||"vec4"===e?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(e){var t,n=this.data,r=this.el,i=this;return""===n.from&&!!n.property.startsWith(lu)&&(t=fu(n.property)[1],!r.components[t]&&(r.addEventListener("componentinitialized",(function n(o){o.detail.name===t&&(e(),i.animation=Er(i.config),r.removeEventListener("componentinitialized",n))})),!0))},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)e=this.el.components[t],t!==this.attrName&&"animation"===e.name&&e.animationIsPlaying&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;uu(t,e.startEvents,this.onStartEvent),uu(t,e.pauseEvents,this.pauseAnimation),uu(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;du(t,e.startEvents,this.onStartEvent),du(t,e.pauseEvents,this.pauseAnimation),du(t,e.resumeEvents,this.resumeAnimation)},setColorConfig:function(e,t){tu.set(e),nu.set(t),e=this.fromColor,t=this.toColor,e.r=tu.r,e.g=tu.g,e.b=tu.b,t.r=nu.r,t.g=nu.g,t.b=nu.b}});var gu=sa("components:anchored:warn");ec("anchored",{schema:{persistent:{default:!1}},init:function(){var e=this.el.sceneEl.getAttribute("webxr"),t=e.optionalFeatures;-1===t.indexOf("anchors")&&(t.push("anchors"),this.el.sceneEl.setAttribute("webxr",e)),this.auxQuaternion=new Sr.Quaternion,this.onEnterVR=this.onEnterVR.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR)},onEnterVR:function(){this.anchor=void 0,this.requestPersistentAnchorPending=this.data.persistent,this.requestAnchorPending=!this.data.persistent},tick:function(){var e,t,n,r=this.el.sceneEl,i=r.renderer.xr,o=this.el.object3D;(r.is("ar-mode")||r.is("vr-mode"))&&(!this.anchor&&this.requestPersistentAnchorPending&&this.restorePersistentAnchor(),!this.anchor&&this.requestAnchorPending&&this.createAnchor(),this.anchor&&(e=r.frame,t=i.getReferenceSpace(),n=e.getPose(this.anchor.anchorSpace,t),o.position.copy(n.transform.position),o.quaternion.copy(n.transform.orientation)))},createAnchor:async function(e,t){var n,r,i,o,a=this.el.sceneEl,s=a.renderer.xr,l=this.el.object3D;e=e||l.position,t=t||this.auxQuaternion.setFromEuler(l.rotation),function(e){var t=e.renderer.xr.getSession();return t&&t.restorePersistentAnchor}(a)?(this.anchor&&this.deleteAnchor(),n=a.frame,r=s.getReferenceSpace(),i=new XRRigidTransform({x:e.x,y:e.y,z:e.z},{x:t.x,y:t.y,z:t.z,w:t.w}),this.requestAnchorPending=!1,o=await n.createAnchor(i,r),this.data.persistent&&(this.el.id?(this.persistentHandle=await o.requestPersistentHandle(),localStorage.setItem(this.el.id,this.persistentHandle)):gu("The anchor won't be persisted because the entity has no assigned id.")),a.object3D.attach(this.el.object3D),this.anchor=o):gu("This browser doesn't support the WebXR anchors module")},restorePersistentAnchor:async function(){var e,t=this.el.sceneEl.renderer.xr.getSession(),n=t.persistentAnchors;if(this.requestPersistentAnchorPending=!1,!this.el.id)return gu("The entity associated to the persistent anchor cannot be retrieved because it doesn't have an assigned id."),void(this.requestAnchorPending=!0);if(n){e=localStorage.getItem(this.el.id);for(var r=0;r<n.length;++r)if(e===n[r]){this.anchor=await t.restorePersistentAnchor(n[r]),this.anchor&&(this.persistentHandle=n[r]);break}this.anchor||(this.requestAnchorPending=!0)}else this.requestPersistentAnchorPending=!0},deleteAnchor:function(){var e,t=this.anchor;t&&(e=this.el.sceneEl.renderer.xr.getSession(),t.delete(),this.el.sceneEl.object3D.add(this.el.object3D),this.persistentHandle&&e.deletePersistentAnchor(this.persistentHandle),this.anchor=void 0)}}),ec("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var e,t=this.el;e=this.camera=new Sr.PerspectiveCamera,t.setObject3D("camera",e)},update:function(e){var t=this.data,n=this.camera;n.aspect=t.aspect||window.innerWidth/window.innerHeight,n.far=t.far,n.fov=t.fov,n.near=t.near,n.zoom=t.zoom,n.updateProjectionMatrix(),this.updateActiveCamera(e),this.updateSpectatorCamera(e)},updateActiveCamera:function(e){var t=this.data,n=this.el,r=this.system;e&&e.active===t.active||t.spectator||(t.active&&r.activeCameraEl!==n?r.setActiveCamera(n):t.active||r.activeCameraEl!==n||r.disableActiveCamera())},updateSpectatorCamera:function(e){var t=this.data,n=this.el,r=this.system;e&&e.spectator===t.spectator||(t.spectator&&r.spectatorCameraEl!==n?r.setSpectatorCamera(n):t.spectator||r.spectatorCameraEl!==n||r.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}});var vu,yu,bu,Au,xu="click",wu="mouseup",Cu="cursor-fusing",Eu="cursor-hovering",Su="cursor-hovered",_u={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},Mu={DOWN:["selectstart"],UP:["selectend"]},Iu="a-mouse-cursor-hover",Tu=(ec("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:xa()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},after:["tracked-controls"],multiple:!0,init:function(){var e=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=Us((function(){e.canvasBounds=e.el.sceneEl.canvas.getBoundingClientRect()}),500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=this.onCursorDown.bind(this),this.onCursorUp=this.onCursorUp.bind(this),this.onIntersection=this.onIntersection.bind(this),this.onIntersectionCleared=this.onIntersectionCleared.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onEnterVR=this.onEnterVR.bind(this)},update:function(e){var t=this.data.rayOrigin;t!==e.rayOrigin&&("entity"===t&&this.resetRaycaster(),this.updateMouseEventListeners(),"xrselect"!==t&&"entity"!==t||this.addWebXREventListeners(),"xrselect"!==e.rayOrigin&&"entity"!==e.rayOrigin||this.removeWebXREventListeners())},tick:function(){var e=this.el.sceneEl.frame,t=this.activeXRInput;"xrselect"===this.data.rayOrigin&&e&&t&&this.onMouseMove({frame:e,inputSource:t,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var e=this.el;e.removeState(Eu),e.removeState(Cu),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(Su),this.removeEventListeners()},addEventListeners:function(){var e,t=this.data,n=this.el,r=this;function i(){e=n.sceneEl.canvas,t.downEvents.length||t.upEvents.length||(_u.DOWN.forEach((function(t){e.addEventListener(t,r.onCursorDown,{passive:!1})})),_u.UP.forEach((function(t){e.addEventListener(t,r.onCursorUp,{passive:!1})})))}(e=n.sceneEl.canvas)?i():n.sceneEl.addEventListener("render-target-loaded",i),t.downEvents.forEach((function(e){n.addEventListener(e,r.onCursorDown)})),t.upEvents.forEach((function(e){n.addEventListener(e,r.onCursorUp)})),n.addEventListener("raycaster-intersection",this.onIntersection),n.addEventListener("raycaster-closest-entity-changed",this.onIntersection),n.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),n.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),n.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var e,t=this.data,n=this.el,r=this;!(e=n.sceneEl.canvas)||t.downEvents.length||t.upEvents.length||(_u.DOWN.forEach((function(t){e.removeEventListener(t,r.onCursorDown)})),_u.UP.forEach((function(t){e.removeEventListener(t,r.onCursorUp)}))),t.downEvents.forEach((function(e){n.removeEventListener(e,r.onCursorDown)})),t.upEvents.forEach((function(e){n.removeEventListener(e,r.onCursorUp)})),n.removeEventListener("raycaster-intersection",this.onIntersection),n.removeEventListener("raycaster-closest-entity-changed",this.onIntersection),n.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchstart",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),n.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),n.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds),this.removeWebXREventListeners()},updateMouseEventListeners:function(){var e,t=this.el;(e=t.sceneEl.canvas).removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("touchmove",this.onMouseMove),t.setAttribute("raycaster","useWorldCoordinates",!1),"mouse"===this.data.rayOrigin&&(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("touchmove",this.onMouseMove,{passive:!1}),t.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},resetRaycaster:function(){this.el.setAttribute("raycaster",{direction:(new Sr.Vector3).set(0,0,-1),origin:new Sr.Vector3})},addWebXREventListeners:function(){var e=this,t=this.el.sceneEl.xrSession;t&&(Mu.DOWN.forEach((function(n){t.addEventListener(n,e.onCursorDown)})),Mu.UP.forEach((function(n){t.addEventListener(n,e.onCursorUp)})))},removeWebXREventListeners:function(){var e=this,t=this.el.sceneEl.xrSession;t&&(Mu.DOWN.forEach((function(n){t.removeEventListener(n,e.onCursorDown)})),Mu.UP.forEach((function(n){t.removeEventListener(n,e.onCursorUp)})))},onMouseMove:(vu=new Sr.Vector3,yu=new Sr.Vector2,bu=new Sr.Vector3,Au={origin:bu,direction:vu},function(e){var t,n,r,i,o,a,s,l,c,u=this.canvasBounds,d=this.el.sceneEl.camera;d.parent.updateMatrixWorld(),n=(r="touchmove"===e.type||"touchstart"===e.type?e.touches.item(0):e).clientX-u.left,i=r.clientY-u.top,yu.x=n/u.width*2-1,yu.y=-i/u.height*2+1,"xrselect"!==this.data.rayOrigin||"selectstart"!==e.type&&"fakeselectevent"!==e.type?"fakeselectout"===e.type?(vu.set(0,1,0),bu.set(0,9999,0)):d&&d.isPerspectiveCamera?(bu.setFromMatrixPosition(d.matrixWorld),vu.set(yu.x,yu.y,.5).unproject(d).sub(bu).normalize()):d&&d.isOrthographicCamera?(bu.set(yu.x,yu.y,(d.near+d.far)/(d.near-d.far)).unproject(d),vu.set(0,0,-1).transformDirection(d.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+d.type):(o=e.frame,a=e.inputSource,s=this.el.sceneEl.renderer.xr.getReferenceSpace(),(l=o.getPose(a.targetRaySpace,s))&&(c=l.transform,vu.set(0,0,-1),vu.applyQuaternion(c.orientation),bu.copy(c.position),(t=d.el.object3D.parent).localToWorld(bu),vu.transformDirection(t.matrixWorld))),this.el.setAttribute("raycaster",Au),"touchmove"===e.type&&e.preventDefault()}),onCursorDown:function(e){this.isCursorDown=!0,"mouse"===this.data.rayOrigin&&"touchstart"===e.type&&(this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),e.preventDefault()),"xrselect"===this.data.rayOrigin&&"selectstart"===e.type&&(this.activeXRInput=e.inputSource,this.onMouseMove(e),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&void 0!==this.el.sceneEl.components["ar-hit-test"]&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit("mousedown",e),this.cursorDownEl=this.intersectedEl},onCursorUp:function(e){if(this.isCursorDown&&("xrselect"!==this.data.rayOrigin||this.activeXRInput===e.inputSource)){this.isCursorDown=!1;var t=this.data;this.twoWayEmit(wu,e),!0===this.reenableARHitTest&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(wu,this.intersectedEventDetail)),t.fuse&&"mouse"!==t.rayOrigin&&"xrselect"!==t.rayOrigin||!this.intersectedEl||this.cursorDownEl!==this.intersectedEl||this.twoWayEmit(xu,e),"xrselect"===t.rayOrigin&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,"touchend"===e.type&&e.preventDefault()}},onIntersection:function(e){var t,n,r,i,o=this.el;n=e.detail.els[0]===o?1:0,i=e.detail.intersections[n],(r=e.detail.els[n])&&this.intersectedEl!==r&&(this.intersectedEl&&(t=this.el.components.raycaster.getIntersection(this.intersectedEl))&&t.distance<=i.distance||(this.clearCurrentIntersection(!0),this.setIntersection(r,i)))},onIntersectionCleared:function(e){-1!==e.detail.clearedEls.indexOf(this.intersectedEl)&&this.clearCurrentIntersection()},onEnterVR:function(){var e=this.data.rayOrigin;this.clearCurrentIntersection(!0),"xrselect"!==e&&"entity"!==e||this.addWebXREventListeners()},setIntersection:function(e,t){var n=this.el,r=this.data,i=this;this.intersectedEl!==e&&(this.intersectedEl=e,n.addState(Eu),e.addState(Su),this.twoWayEmit("mouseenter"),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.add(Iu),0!==r.fuseTimeout&&r.fuse&&"xrselect"!==r.rayOrigin&&"mouse"!==r.rayOrigin&&(n.addState(Cu),this.twoWayEmit("fusing"),this.fuseTimeout=setTimeout((function(){n.removeState(Cu),i.twoWayEmit(xu)}),r.fuseTimeout)))},clearCurrentIntersection:function(e){var t,n,r=this.el;this.intersectedEl&&(this.intersectedEl.removeState(Su),r.removeState(Eu),r.removeState(Cu),this.twoWayEmit("mouseleave"),this.data.mouseCursorStylesEnabled&&"mouse"===this.data.rayOrigin&&this.el.sceneEl.canvas.classList.remove(Iu),this.intersectedEl=null,clearTimeout(this.fuseTimeout),!0!==e&&0!==(n=this.el.components.raycaster.intersections).length&&(t=n[n[0].object.el===r?1:0])&&this.setIntersection(t.object.el,t))},twoWayEmit:function(e,t){var n,r=this.el,i=this.intersectedEl;function o(e,n){t instanceof MouseEvent?e.mouseEvent=t:"undefined"!=typeof TouchEvent&&t instanceof TouchEvent&&(e.touchEvent=t)}n=this.el.components.raycaster.getIntersection(i),this.eventDetail.intersectedEl=i,this.eventDetail.intersection=n,o(this.eventDetail),r.emit(e,this.eventDetail),i&&(this.intersectedEventDetail.intersection=n,o(this.intersectedEventDetail),i.emit(e,this.intersectedEventDetail))}}),new Sr.BufferGeometry),Ru=(ec("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:Pc,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(e){var t,n=this.data,r=this.el,i=this.system;this.geometry&&(i.unuseGeometry(e),this.geometry=null),this.geometry=i.getOrCreateGeometry(n),(t=r.getObject3D("mesh"))?t.geometry=this.geometry:((t=new Sr.Mesh).geometry=this.geometry,this.el.getAttribute("material")||(t.material=new Sr.MeshStandardMaterial({color:16777215*Math.random(),metalness:0,roughness:.5})),r.setObject3D("mesh",t))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=Tu,this.geometry=null},updateSchema:function(e){var t=this.oldData&&this.oldData.primitive,n=e.primitive,r=kc[n]&&kc[n].schema;if(!r)throw new Error("Unknown geometry schema `"+n+"`");t&&t===n||this.extendSchema(r)}}),"generic"),ku=(ec("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},disabled:{default:!1}},after:["tracked-controls"],mapping:{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]},bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var e=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.bindMethods(),this.el.addEventListener("controllerconnected",(function(t){t.detail.name!==e.name&&(e.wasControllerConnected=!0,e.removeEventListeners(),e.removeControllersUpdateListener())}))},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data,t=e.hand?e.hand:void 0;Ms(this,Ru,{hand:t,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;this.el.components["tracked-controls"]?this.removeEventListeners():(e.setAttribute("tracked-controls",{hand:t.hand,idPrefix:Ru,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel())},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.wasControllerConnected&&this.checkIfControllerPresent()},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)},initDefaultModel:function(){var e=this.modelEl=document.createElement("a-entity");e.setAttribute("geometry",{primitive:"sphere",radius:.03}),e.setAttribute("material",{color:this.data.color}),this.el.appendChild(e),this.el.emit("controllermodelready",{name:"generic-tracked-controller-controls",model:this.modelEl,rayOrigin:{origin:{x:0,y:0,z:-.01},direction:{x:0,y:0,z:-1}}})}}),sa("components:gltf-model:warn"));ec("gltf-model",{schema:{type:"model"},init:function(){var e=this,t=this.system.getDRACOLoader(),n=this.system.getMeshoptDecoder(),r=this.system.getKTX2Loader();this.model=null,this.loader=new Hr,t&&this.loader.setDRACOLoader(t),this.ready=n?n.then((function(t){e.loader.setMeshoptDecoder(t)})):Promise.resolve(),r&&this.loader.setKTX2Loader(r)},update:function(){var e=this,t=this.el,n=this.data;n&&(this.remove(),this.ready.then((function(){e.loader.load(n,(function(n){e.model=n.scene||n.scenes[0],e.model.animations=n.animations,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})}),void 0,(function(e){var r=e&&e.message?e.message:"Failed to load glTF model";ku(r),t.emit("model-error",{format:"gltf",src:n})}))})))},remove:function(){this.model&&this.el.removeObject3D("mesh")}}),ec("grabbable",{init:function(){this.el.setAttribute("obb-collider","centerModel: true")}});var Pu,Bu=ta+"controllers/oculus-hands/v4/left.glb",Ou=ta+"controllers/oculus-hands/v4/right.glb",Lu=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"];ec("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"},modelOpacity:{default:1}},after:["tracked-controls"],bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var e=0;e<this.jointEls.length;++e)this.jointEls[e].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var e=0;e<this.jointEls.length;++e)this.jointEls[e].object3D.visible=!1},init:function(){var e=this.el.sceneEl,t=e.getAttribute("webxr"),n=t.optionalFeatures;-1===n.indexOf("hand-tracking")&&(n.push("hand-tracking"),e.setAttribute("webxr",t)),this.wristObject3D=new Sr.Object3D,this.el.sceneEl.object3D.add(this.wristObject3D),this.onModelLoaded=this.onModelLoaded.bind(this),this.onChildAttached=this.onChildAttached.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new Sr.Vector3,wristRotation:new Sr.Quaternion},this.indexTipPosition=new Sr.Vector3,this.hasPoses=!1,this.jointPoses=new Float32Array(16*Lu.length),this.jointRadii=new Float32Array(Lu.length),this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace),this.el.addEventListener("child-attached",this.onChildAttached),this.wristObject3D.visible=!1},onChildAttached:function(e){this.addChildEntity(e.detail.el)},update:function(){this.updateModelMaterial()},updateModelMaterial:function(){var e=this.jointEls,t=this.skinnedMesh,n=!(1===this.data.modelOpacity);t&&(this.skinnedMesh.material.color.set(this.data.modelColor),this.skinnedMesh.material.transparent=n,this.skinnedMesh.material.opacity=this.data.modelOpacity);for(var r=0;r<e.length;r++)e[r].setAttribute("material",{color:this.data.modelColor,transparent:n,opacity:this.data.modelOpacity})},updateReferenceSpace:function(){var e=this,t=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,t){var n=e.el.sceneEl.systems.webxr.sessionReferenceSpaceType;t.requestReferenceSpace(n).then((function(t){e.referenceSpace=t})).catch((function(t){throw e.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n,"tracked-controls-webxr uses reference space "+n),t}))}},checkIfControllerPresent:function(){var e=this.data;Ms(this,"",{hand:e.hand?e.hand:void 0,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var e=this.el.sceneEl,t=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,n=e.frame,r=this.el.components["tracked-controls"],i=this.referenceSpace;t&&n&&i&&r&&(this.hasPoses=!1,t.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),this.hasPoses=n.fillPoses(t.hand.values(),i,this.jointPoses)&&n.fillJointRadii(t.hand.values(),this.jointRadii),this.updateHandModel(),this.detectGesture(),this.updateWristObject()))},updateWristObject:(Pu=new Sr.Matrix4,function(){var e=this.wristObject3D;e&&this.hasPoses&&(Pu.fromArray(this.jointPoses,0),e.position.setFromMatrixPosition(Pu),e.quaternion.setFromRotationMatrix(Pu))}),updateHandModel:function(){this.wristObject3D.visible=!0,this.el.object3D.visible=!0,"dots"===this.data.modelStyle&&this.updateHandDotsModel(),"mesh"===this.data.modelStyle&&this.updateHandMeshModel()},getBone:function(e){for(var t=this.bones,n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null},updateHandMeshModel:function(){var e=new Sr.Matrix4;return function(){var t=0,n=this.jointPoses,r=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller;if(r&&this.mesh&&(this.mesh.visible=!1,this.hasPoses))for(var i of r.hand.values()){var o=this.getBone(i.jointName);null!=o&&(this.mesh.visible=!0,e.fromArray(n,16*t),o.position.setFromMatrixPosition(e),o.quaternion.setFromRotationMatrix(e)),t++}}}(),updateHandDotsModel:function(){for(var e,t,n=this.jointPoses,r=this.jointRadii,i=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,o=0;o<i.hand.size;o++)t=(e=this.jointEls[o]).object3D,e.object3D.visible=this.hasPoses,this.hasPoses&&(t.matrix.fromArray(n,16*o),t.matrix.decompose(t.position,t.rotation,t.scale),e.setAttribute("scale",{x:r[o],y:r[o],z:r[o]}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var e=new Sr.Vector3,t=new Sr.Matrix4;return function(){var n=this.indexTipPosition,r=this.pinchEventDetail;if(this.hasPoses){e.setFromMatrixPosition(t.fromArray(this.jointPoses,64)),n.setFromMatrixPosition(t.fromArray(this.jointPoses,144)),r.wristRotation.setFromRotationMatrix(t.fromArray(this.jointPoses,0));var i=n.distanceTo(e);i<.015&&!1===this.isPinched&&(this.isPinched=!0,r.position.copy(n).add(e).multiplyScalar(.5),this.el.emit("pinchstarted",r)),i>.02&&!0===this.isPinched&&(this.isPinched=!1,r.position.copy(n).add(e).multiplyScalar(.5),this.el.emit("pinchended",r)),this.isPinched&&(r.position.copy(n).add(e).multiplyScalar(.5),this.el.emit("pinchmoved",r))}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{id:"",hand:t.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.mesh?this.mesh!==e.getObject3D("mesh")&&e.setObject3D("mesh",this.mesh):this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var e,t=this.el;this.checkIfControllerPresent(),e=t.components["tracked-controls"]&&t.components["tracked-controls"].controller,this.mesh&&e&&e.hand&&e.hand instanceof XRHand&&t.setObject3D("mesh",this.mesh)},initDefaultModel:function(){var e=this.data;"dots"===e.modelStyle&&this.initDotsModel(),"mesh"===e.modelStyle&&this.initMeshHandModel(),this.el.object3D.visible=!0,this.wristObject3D.visible=!0},initDotsModel:function(){if(0===this.jointEls.length){for(var e=0;e<Lu.length;++e){var t=this.jointEl=document.createElement("a-entity");t.setAttribute("geometry",{primitive:"sphere",radius:1}),t.object3D.visible=!1,this.el.appendChild(t),this.jointEls.push(t)}this.updateModelMaterial()}},initMeshHandModel:function(){var e="left"===this.data.hand?Bu:Ou;this.el.setAttribute("gltf-model",e)},onModelLoaded:function(){var e=this.mesh=this.el.getObject3D("mesh").children[0],t=this.skinnedMesh=e.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=t.skeleton.bones,this.el.removeObject3D("mesh"),e.position.set(0,0,0),e.rotation.set(0,0,0),t.frustumCulled=!1,t.material=new Sr.MeshStandardMaterial,this.updateModelMaterial(),this.setupChildrenEntities(),this.el.setObject3D("mesh",e))},setupChildrenEntities:function(){for(var e=this.el.children,t=0;t<e.length;++t)e[t]instanceof yc&&this.addChildEntity(e[t])},addChildEntity:function(e){e instanceof yc&&this.wristObject3D.add(e.object3D)}}),ec("hand-tracking-grab-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},color:{type:"color",default:"white"},hoverColor:{type:"color",default:"#538df1"},hoverEnabled:{default:!1}},init:function(){var e,t=this.el,n=this.data;e="right"===n.hand?"components.hand-tracking-controls.bones.3":"components.hand-tracking-controls.bones.21",t.setAttribute("hand-tracking-controls",{hand:n.hand}),t.setAttribute("obb-collider",{trackedObject3D:e,size:.04}),this.auxMatrix=new Sr.Matrix4,this.onCollisionStarted=this.onCollisionStarted.bind(this),this.el.addEventListener("obbcollisionstarted",this.onCollisionStarted),this.onCollisionEnded=this.onCollisionEnded.bind(this),this.el.addEventListener("obbcollisionended",this.onCollisionEnded),this.onPinchStarted=this.onPinchStarted.bind(this),this.el.addEventListener("pinchstarted",this.onPinchStarted),this.onPinchEnded=this.onPinchEnded.bind(this),this.el.addEventListener("pinchended",this.onPinchEnded)},transferEntityOwnership:function(){for(var e,t=this.el.sceneEl.querySelectorAll("[hand-tracking-grab-controls]"),n=0;n<t.length;++n)(e=t[n].components["hand-tracking-grab-controls"])!==this&&this.grabbedEl&&this.grabbedEl===e.grabbedEl&&e.releaseGrabbedEntity();return!1},onCollisionStarted:function(e){var t=e.detail.withEl;this.collidedEl||t.getAttribute("grabbable")&&(this.collidedEl=t,this.grabbingObject3D=e.detail.trackedObject3D,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.hoverColor))},onCollisionEnded:function(){this.collidedEl=void 0,this.grabbedEl||(this.grabbingObject3D=void 0,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.color))},onPinchStarted:function(e){this.collidedEl&&(this.grabbedEl=this.collidedEl,this.transferEntityOwnership(),this.grab())},onPinchEnded:function(){this.releaseGrabbedEntity()},releaseGrabbedEntity:function(){var e=this.grabbedEl;if(e){var t=e.object3D,n=t.parent,r=this.originalParent;t.applyMatrix4(n.matrixWorld),t.applyMatrix4(this.auxMatrix.copy(r.matrixWorld).invert()),n.remove(t),r.add(t),this.el.emit("grabended",{grabbedEl:e}),this.grabbedEl=void 0,this.originalParent=void 0}},grab:function(){var e=this.grabbedEl,t=e.object3D,n=t.parent;this.originalParent=n;var r=this.el.components["hand-tracking-controls"].wristObject3D;t.applyMatrix4(n.matrixWorld),t.applyMatrix4(this.auxMatrix.copy(r.matrixWorld).invert()),n.remove(t),r.add(t),this.el.emit("grabstarted",{grabbedEl:e})}});var Du={toonLeft:ta+"controllers/hands/leftHand.glb",toonRight:ta+"controllers/hands/rightHand.glb",lowPolyLeft:ta+"controllers/hands/leftHandLow.glb",lowPolyRight:ta+"controllers/hands/rightHandLow.glb",highPolyLeft:ta+"controllers/hands/leftHandHigh.glb",highPolyRight:ta+"controllers/hands/rightHandHigh.glb"},Nu="Point",Fu="Fist",ju="Thumb Up",Uu={};function zu(e,t){var n;if(e)return"grip"===(n=Uu[e])?n+(t?"close":"open"):"point"===n?n+(t?"up":"down"):"pointing"===n||"pistol"===n?n+(t?"start":"end"):void 0}Uu[Fu]="grip",Uu[ju]="pistol",Uu[Nu]="pointing",ec("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},after:["tracked-controls"],init:function(){var e=this,t=this.el;this.pressedButtons={},this.touchedButtons={},this.loader=new Hr,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){e.handleButton("grip","down")},this.onGripUp=function(){e.handleButton("grip","up")},this.onTrackpadDown=function(){e.handleButton("trackpad","down")},this.onTrackpadUp=function(){e.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){e.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){e.handleButton("trackpad","touchend")},this.onTriggerDown=function(){e.handleButton("trigger","down")},this.onTriggerUp=function(){e.handleButton("trigger","up")},this.onTriggerTouchStart=function(){e.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){e.handleButton("trigger","touchend")},this.onGripTouchStart=function(){e.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){e.handleButton("grip","touchend")},this.onThumbstickDown=function(){e.handleButton("thumbstick","down")},this.onThumbstickUp=function(){e.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){e.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){e.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){e.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){e.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){e.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){e.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected),t.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(e,t){var n=this.el.getObject3D("mesh");n&&n.mixer&&n.mixer.update(t/1e3)},onControllerConnected:function(e){var t=this.el,n=this.data.hand,r=this.el.getObject3D("mesh");t.object3D.visible=!0;var i="left"===n?Math.PI/2:-Math.PI/2,o=t.sceneEl.hasWebXR?-Math.PI/2:0;"pico-controls"===e.detail.name&&(o+=Math.PI/4),r.position.set(0,0,0),r.rotation.set(o,0,i)},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var e=this.el;e.addEventListener("gripdown",this.onGripDown),e.addEventListener("gripup",this.onGripUp),e.addEventListener("trackpaddown",this.onTrackpadDown),e.addEventListener("trackpadup",this.onTrackpadUp),e.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.addEventListener("triggerdown",this.onTriggerDown),e.addEventListener("triggerup",this.onTriggerUp),e.addEventListener("triggertouchstart",this.onTriggerTouchStart),e.addEventListener("triggertouchend",this.onTriggerTouchEnd),e.addEventListener("griptouchstart",this.onGripTouchStart),e.addEventListener("griptouchend",this.onGripTouchEnd),e.addEventListener("thumbstickdown",this.onThumbstickDown),e.addEventListener("thumbstickup",this.onThumbstickUp),e.addEventListener("abuttontouchstart",this.onAorXTouchStart),e.addEventListener("abuttontouchend",this.onAorXTouchEnd),e.addEventListener("bbuttontouchstart",this.onBorYTouchStart),e.addEventListener("bbuttontouchend",this.onBorYTouchEnd),e.addEventListener("xbuttontouchstart",this.onAorXTouchStart),e.addEventListener("xbuttontouchend",this.onAorXTouchEnd),e.addEventListener("ybuttontouchstart",this.onBorYTouchStart),e.addEventListener("ybuttontouchend",this.onBorYTouchEnd),e.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var e=this.el;e.removeEventListener("gripdown",this.onGripDown),e.removeEventListener("gripup",this.onGripUp),e.removeEventListener("trackpaddown",this.onTrackpadDown),e.removeEventListener("trackpadup",this.onTrackpadUp),e.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),e.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),e.removeEventListener("triggerdown",this.onTriggerDown),e.removeEventListener("triggerup",this.onTriggerUp),e.removeEventListener("triggertouchstart",this.onTriggerTouchStart),e.removeEventListener("triggertouchend",this.onTriggerTouchEnd),e.removeEventListener("griptouchstart",this.onGripTouchStart),e.removeEventListener("griptouchend",this.onGripTouchEnd),e.removeEventListener("thumbstickdown",this.onThumbstickDown),e.removeEventListener("thumbstickup",this.onThumbstickUp),e.removeEventListener("abuttontouchstart",this.onAorXTouchStart),e.removeEventListener("abuttontouchend",this.onAorXTouchEnd),e.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),e.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),e.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),e.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),e.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),e.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),e.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),e.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(e){var t,n=this.el,r=this.data.hand,i=this.data.handModelStyle,o=this.data.color,a=this;if(t={hand:r,model:!1},r!==e){var s=Du[i+r.charAt(0).toUpperCase()+r.slice(1)];this.loader.load(s,(function(e){var r=e.scene.children[0];r.mixer=new Sr.AnimationMixer(r),a.clips=e.animations,n.setObject3D("mesh",r),r.traverse((function(e){e.isMesh&&(e.material.color=new Sr.Color(o))})),n.setAttribute("magicleap-controls",t),n.setAttribute("vive-controls",t),n.setAttribute("meta-touch-controls",t),n.setAttribute("pico-controls",t),n.setAttribute("windows-motion-controls",t),n.setAttribute("hp-mixed-reality-controls",t)}))}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(e,t){var n,r="down"===t,i="touchstart"===t;if(0===t.indexOf("touch")){if(i===this.touchedButtons[e])return;this.touchedButtons[e]=i}else{if(r===this.pressedButtons[e])return;this.pressedButtons[e]=r}n=this.gesture,this.gesture=this.determineGesture(),this.gesture!==n&&(this.animateGesture(this.gesture,n),this.emitGestureEvents(this.gesture,n))},determineGesture:function(){var e,t,n,r=this.pressedButtons.grip,i=this.pressedButtons.surface||this.touchedButtons.surface,o=this.pressedButtons.trackpad||this.touchedButtons.trackpad,a=this.pressedButtons.trigger||this.touchedButtons.trigger,s=this.touchedButtons.AorX||this.touchedButtons.BorY;return(n=(t=this.el.components["tracked-controls"])&&t.controller)&&(n.id&&0===n.id.indexOf("OpenVR ")||n.profiles&&n.profiles[0]&&"htc-vive"===n.profiles[0])?r||a?e=Fu:o&&(e=Nu):r?e=i||s||o?a?Fu:Nu:a?ju:"Point + Thumb":a&&(e="Hold"),e},getClip:function(e){var t,n;for(n=0;n<this.clips.length;n++)if((t=this.clips[n]).name===e)return t},animateGesture:function(e,t){e?this.playAnimation(e||"Open",t,!1):this.playAnimation(t,t,!0)},emitGestureEvents:function(e,t){var n,r=this.el;t!==e&&((n=zu(t,!1))&&r.emit(n),(n=zu(e,!0))&&r.emit(n))},playAnimation:function(e,t,n){var r,i,o=this.el.getObject3D("mesh");if(o){if(r=this.getClip(e),i=o.mixer.clipAction(r),n)return i.paused=!1,void(i.timeScale=-1);if(i.clampWhenFinished=!0,i.loop=Sr.LoopOnce,i.repetitions=0,i.timeScale=1,i.time=0,i.weight=1,!t)return o.mixer.stopAllAction(),void i.play();r=this.getClip(t),i.reset(),i.play(),o.mixer.clipAction(r).crossFadeTo(i,.15,!0)}}}),ec("hide-on-enter-ar",{init:function(){var e=this;this.el.sceneEl.addEventListener("enter-vr",(function(){e.el.sceneEl.is("ar-mode")&&(e.el.object3D.visible=!1)})),this.el.sceneEl.addEventListener("exit-vr",(function(){e.el.object3D.visible=!0}))}}),ec("hide-on-enter-vr",{init:function(){var e=this;this.el.sceneEl.addEventListener("enter-vr",(function(){e.el.sceneEl.is("vr-mode")&&(e.el.object3D.visible=!1)})),this.el.sceneEl.addEventListener("exit-vr",(function(){e.el.object3D.visible=!0}))}});var Hu="hp-mixed-reality",Vu=ta+"controllers/hp/mixed-reality/",Gu={x:0,y:0,z:.06},Qu={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},Wu=(ec("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0}},mapping:{left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}},init:function(){var e=this;this.controllerPresent=!1,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){ks(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e,e.data.hand)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e,e.data.hand)},this.previousButtonValues={},this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;Ms(this,Hu,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:Hu,hand:t.hand,controller:this.controllerIndex}),this.data.model&&this.el.setAttribute("gltf-model",Vu+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id];n&&("trigger"===n&&(t=e.detail.state.value,console.log("analog value of trigger press: "+t)),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t=e.detail.model;this.data.model&&(t.position.copy(Gu),t.rotation.copy(Qu),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new Sr.Vector3(0,0,0)}))},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)}}),sa("components:layer:warn"));function qu(e,t,n){return(t.dot(e)-t.dot(n))/t.length()}ec("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var e=this.el.sceneEl.renderer.getContext();this.quaternion=new Sr.Quaternion,this.position=new Sr.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=e.createFramebuffer();var t=this.el.sceneEl.getAttribute("webxr"),n=t.requiredFeatures;-1===n.indexOf("layers")&&(n.push("layers"),this.el.sceneEl.setAttribute("webxr",t)),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(e){this.data.src!==e.src&&this.updateSrc()},updateSrc:function(){var e=this.data.type;this.texture=void 0,"quad"!==e?"monocubemap"!==e&&"stereocubemap"!==e||this.loadCubeMapImages():this.loadQuadImage()},loadCubeMapImages:function(){var e,t=this.xrGLFactory,n=this.el.sceneEl.frame,r=this.data.src,i=this.data.type;this.visibilityChanged=!1,this.layer&&("monocubemap"!==i&&"stereocubemap"!==i||(r.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,"monocubemap"===i?(e=t.getSubImage(this.layer,n),this.loadCubeMapImage(e.colorTexture,r,0)):(e=t.getSubImage(this.layer,n,"left"),this.loadCubeMapImage(e.colorTexture,r,0),e=t.getSubImage(this.layer,n,"right"),this.loadCubeMapImage(e.colorTexture,r,6))))},loadQuadImage:function(){var e=this.data.src,t=this;this.el.sceneEl.systems.material.loadTexture(e,{src:e},(function(n){t.el.sceneEl.renderer.initTexture(n),t.texture=n,"VIDEO"===e.tagName&&setTimeout((function(){t.textureIsVideo=!0}),1e3),t.layer&&(t.layer.height=t.data.height/2||t.texture.image.height/1e3,t.layer.width=t.data.width/2||t.texture.image.width/1e3,t.needsRedraw=!0),t.updateQuadPanel()}))},preGenerateCubeMapTextures:function(e,t){"monocubemap"===this.data.type?this.generateCubeMapTextures(e,0,t):(this.generateCubeMapTextures(e,0,t),this.generateCubeMapTextures(e,6,t))},generateCubeMapTextures:function(e,t,n){for(var r,i,o=this.data,a=this.cubeFaceSize,s=Math.min(e.width,e.height),l=[],c=0;c<6;c++){var u=document.createElement("CANVAS");u.width=u.height=a;var d=u.getContext("2d");o.rotateCubemap&&(2!==c&&3!==c||(d.save(),d.translate(a,a),d.rotate(Math.PI))),d.drawImage(e,(c+t)*s,0,s,s,0,0,a,a),d.restore(),n&&n(),l.push(u)}return o.rotateCubemap&&(r=l[0],i=l[1],l[0]=i,l[1]=r,r=l[4],i=l[5],l[4]=i,l[5]=r),n&&n(),l},loadCubeMapImage:function(e,t,n){var r,i=this.el.sceneEl.renderer.getContext();i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1),i.bindTexture(i.TEXTURE_CUBE_MAP,e),r=!t.complete||this.loadingScreen?this.loadingScreenImages:this.generateCubeMapTextures(t,n);var o=0;r.forEach((function(e,t){i.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,i.RGBA,i.UNSIGNED_BYTE,e),o=i.getError()})),0!==o&&console.log("renderingError, WebGL Error Code: "+o),i.bindTexture(i.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&this.referenceSpace&&(this.layer||!this.el.sceneEl.is("vr-mode")&&!this.el.sceneEl.is("ar-mode")||this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),(this.needsRedraw||this.layer.needsRedraw||this.textureIsVideo)&&("quad"===this.data.type&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var e=this,t=this.data.type;this.el.sceneEl.xrSession.onvisibilitychange=function(t){e.visibilityChanged="hidden"!==t.session.visibilityState},"quad"!==t?"monocubemap"!==t&&"stereocubemap"!==t||this.initCubeMapLayer():this.initQuadLayer()},initQuadLayer:function(){var e=this.el.sceneEl,t=e.renderer.getContext(),n=this.xrGLFactory=new XRWebGLBinding(e.xrSession,t);this.texture&&(this.layer=n.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),e.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var e=this.data.src,t=this.el.sceneEl,n=t.renderer.getContext(),r=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),i=this.cubeFaceSize=Math.min(r,Math.min(e.width,e.height)),o=this.xrGLFactory=new XRWebGLBinding(t.xrSession,n);this.layer=o.createCubeLayer({space:this.referenceSpace,viewPixelWidth:i,viewPixelHeight:i,layout:"monocubemap"===this.data.type?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),t.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var e=this.cubeFaceSize,t=this.loadingScreenImages=[],n=0;n<6;n++){var r=document.createElement("CANVAS");r.width=r.height=e;var i=r.getContext("2d");r.width=r.height=e,i.fillStyle="black",i.fillRect(0,0,e,e),2!==n&&3!==n&&(i.translate(e,0),i.scale(-1,1),i.fillStyle="white",i.font="30px Arial",i.fillText("Loading",e/2,e/2)),t.push(r)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(e){this.layerEnabled=e,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var e=this.quadPanelEl;this.quadPanelEl||(e=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(e)),e.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),e.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var e=this.el.sceneEl,t=this.el.sceneEl.renderer.getContext(),n=this.xrGLFactory.getSubImage(this.layer,e.frame),r=e.renderer.properties.get(this.texture).__webglTexture,i=t.getParameter(t.FRAMEBUFFER_BINDING);t.viewport(n.viewport.x,n.viewport.y,n.viewport.width,n.viewport.height),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n.colorTexture,0),function(e,t,n,r){var i=e.createFramebuffer(),o=n.viewport.x,a=n.viewport.y,s=n.viewport.x+n.viewport.width,l=n.viewport.y+n.viewport.height;"VIDEO"===r.tagName&&(e.bindTexture(e.TEXTURE_2D,t),e.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,e.RGB,e.UNSIGNED_BYTE,r)),e.bindFramebuffer(e.READ_FRAMEBUFFER,i),e.framebufferTexture2D(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.readBuffer(e.COLOR_ATTACHMENT0),e.blitFramebuffer(0,0,r.width,r.height,o,a,s,l,e.COLOR_BUFFER_BIT,e.NEAREST),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.deleteFramebuffer(i)}(t,r,n,this.data.src),t.bindFramebuffer(t.FRAMEBUFFER,i)},updateTransform:function(){var e=this.el,t=this.position,n=this.quaternion;e.object3D.updateMatrixWorld(),t.setFromMatrixPosition(e.object3D.matrixWorld),n.setFromRotationMatrix(e.object3D.matrixWorld),this.layerEnabled||t.set(0,0,1e8),this.layer.transform=new XRRigidTransform(t,n)},onEnterVR:function(){var e=this.el.sceneEl,t=e.xrSession;e.hasWebXR&&XRWebGLBinding&&t?(t.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()):Wu("The layer component requires WebXR and the layers API enabled")},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(e){this.referenceSpace=e}}),ec("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var e=this.config,t=this.data,n=this.el,r=this,i={hand:t.hand,model:t.model};function o(t){var i=e[t.detail.name];if(i){var o=zs({showLine:!0},i.raycaster||{});t.detail.rayOrigin&&(o.origin=t.detail.rayOrigin.origin,o.direction=t.detail.rayOrigin.direction,o.showLine=!0),t.detail.rayOrigin||!r.modelReady?n.setAttribute("raycaster",o):n.setAttribute("raycaster","showLine",!0),n.setAttribute("cursor",zs({fuse:!1},i.cursor))}}n.setAttribute("hp-mixed-reality-controls",i),n.setAttribute("magicleap-controls",i),n.setAttribute("oculus-go-controls",i),n.setAttribute("meta-touch-controls",i),n.setAttribute("pico-controls",i),n.setAttribute("valve-index-controls",i),n.setAttribute("vive-controls",i),n.setAttribute("vive-focus-controls",i),n.setAttribute("windows-motion-controls",i),n.setAttribute("generic-tracked-controller-controls",{hand:i.hand}),n.addEventListener("controllerconnected",o),n.addEventListener("controllerdisconnected",(function(t){e[t.detail.name]&&n.setAttribute("raycaster","showLine",!1)})),n.addEventListener("controllermodelready",(function(e){o(e),r.modelReady=!0}))},config:{"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"meta-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"pico-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}});var $u,Xu,Ku,Yu,Ju,Zu,ed,td,nd,rd,id=Sr.MathUtils.degToRad,od=sa("components:light:warn"),ad=new Sr.CubeTextureLoader,sd={};function ld(e,t){return!(!e||!t)&&e.x===t.x&&e.y===t.y&&e.z===t.z}ec("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:3.14,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var e=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(e)},update:function(e){var t=this.data,n=qs(t,e),r=this.light,i=this;if(!r||"type"in n)this.setLight(this.data),this.updateShadow();else{var o=!1;Object.keys(n).forEach((function(e){var n=t[e];switch(e){case"color":r.color.set(n);break;case"groundColor":r.groundColor.set(n);break;case"angle":r.angle=id(n);break;case"target":null===n?"spot"!==t.type&&"directional"!==t.type||(r.target=i.defaultTarget):n.hasLoaded?i.onSetTarget(n,r):n.addEventListener("loaded",i.onSetTarget.bind(i,n,r));break;case"envMap":i.updateProbeMap(t,r);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":o||(i.updateShadow(),o=!0);break;case"shadowCameraAutomatic":t.shadowCameraAutomatic?i.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(t.shadowCameraAutomatic)):i.shadowCameraAutomaticEls=[];break;default:r[e]=n}}))}},tick:($u=new Sr.Box3,Xu=new Sr.Vector3,Ku=new Sr.Vector3,Yu=new Sr.Matrix4,Ju=new Sr.Sphere,Zu=new Sr.Vector3,function(){if("directional"===this.data.type&&this.light.shadow&&this.light.shadow.camera instanceof Sr.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var e=this.light.shadow.camera;e.getWorldDirection(Xu),e.getWorldPosition(Ku),Yu.copy(e.matrixWorld),Yu.invert(),e.near=1,e.left=1e5,e.right=-1e5,e.top=-1e5,e.bottom=1e5,this.shadowCameraAutomaticEls.forEach((function(t){$u.setFromObject(t.object3D),$u.getBoundingSphere(Ju);var n,r,i,o,a,s=qu(Ku,Xu,Ju.center),l=(n=Ku,r=Xu,i=Ju.center,o=Zu,a=qu(n,r,i),o.copy(r),o.multiplyScalar(a),o.add(i),o).applyMatrix4(Yu);e.near=Math.min(-s-Ju.radius-1,e.near),e.left=Math.min(-Ju.radius+l.x,e.left),e.right=Math.max(Ju.radius+l.x,e.right),e.top=Math.max(Ju.radius+l.y,e.top),e.bottom=Math.min(-Ju.radius+l.y,e.bottom)})),e.updateProjectionMatrix()}}),setLight:function(e){var t=this.el,n=this.getLight(e);n&&(this.light&&t.removeObject3D("light"),this.light=n,this.light.el=t,t.setObject3D("light",this.light),"spot"!==e.type&&"directional"!==e.type&&"hemisphere"!==e.type||t.getObject3D("light").translateY(-1),"spot"===e.type&&(t.setObject3D("light-target",this.defaultTarget),t.getObject3D("light-target").position.set(0,0,-1)),e.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(e.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var e=this.el,t=this.data,n=this.light;n.castShadow=t.castShadow;var r=e.getObject3D("cameraHelper");if(t.shadowCameraVisible&&!r?(r=new Sr.CameraHelper(n.shadow.camera),e.setObject3D("cameraHelper",r)):!t.shadowCameraVisible&&r&&e.removeObject3D("cameraHelper"),!t.castShadow)return n;n.shadow.bias=t.shadowBias,n.shadow.radius=t.shadowRadius,n.shadow.mapSize.height=t.shadowMapHeight,n.shadow.mapSize.width=t.shadowMapWidth,n.shadow.camera.near=t.shadowCameraNear,n.shadow.camera.far=t.shadowCameraFar,n.shadow.camera instanceof Sr.OrthographicCamera?(n.shadow.camera.top=t.shadowCameraTop,n.shadow.camera.right=t.shadowCameraRight,n.shadow.camera.bottom=t.shadowCameraBottom,n.shadow.camera.left=t.shadowCameraLeft):n.shadow.camera.fov=t.shadowCameraFov,n.shadow.camera.updateProjectionMatrix(),r&&r.update()},getLight:function(e){var t=e.angle,n=new Sr.Color(e.color);n=n.getHex();var r=e.decay,i=e.distance,o=new Sr.Color(e.groundColor);o=o.getHex();var a=e.intensity,s=e.type,l=e.target,c=null;switch(s.toLowerCase()){case"ambient":return new Sr.AmbientLight(n,a);case"directional":return c=new Sr.DirectionalLight(n,a),this.defaultTarget=c.target,l&&(l.hasLoaded?this.onSetTarget(l,c):l.addEventListener("loaded",this.onSetTarget.bind(this,l,c))),c;case"hemisphere":return new Sr.HemisphereLight(n,o,a);case"point":return new Sr.PointLight(n,a,i,r);case"spot":return c=new Sr.SpotLight(n,a,i,id(t),e.penumbra,r),this.defaultTarget=c.target,l&&(l.hasLoaded?this.onSetTarget(l,c):l.addEventListener("loaded",this.onSetTarget.bind(this,l,c))),c;case"probe":return c=new Sr.LightProbe,this.updateProbeMap(e,c),c;default:od("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",s)}},updateProbeMap:function(e,t){e.envMap?(void 0===sd[e.envMap]&&(sd[e.envMap]=new window.Promise((function(t){is(e.envMap,(function(n){ad.load(n,(function(n){var r=Ko.fromCubeTexture(n);sd[e.envMap]=r,t(r)}))}))}))),sd[e.envMap]instanceof window.Promise?sd[e.envMap].then((function(e){t.copy(e)})):sd[e.envMap]instanceof Sr.LightProbe&&t.copy(sd[e.envMap])):t.copy(new Sr.LightProbe)},onSetTarget:function(e,t){t.target=e.object3D},remove:function(){var e=this.el;e.removeObject3D("light"),e.getObject3D("cameraHelper")&&e.removeObject3D("cameraHelper")}}),ec("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var e,t,n=this.data;t=this.material=new Sr.LineBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.opacity<1,visible:n.visible}),(e=this.geometry=new Sr.BufferGeometry).setAttribute("position",new Sr.BufferAttribute(new Float32Array(6),3)),this.line=new Sr.Line(e,t),this.el.setObject3D(this.attrName,this.line)},update:function(e){var t=this.data,n=this.geometry,r=!1,i=this.material,o=n.attributes.position.array;ld(t.start,e.start)||(o[0]=t.start.x,o[1]=t.start.y,o[2]=t.start.z,r=!0),ld(t.end,e.end)||(o[3]=t.end.x,o[4]=t.end.y,o[5]=t.end.z,r=!0),r&&(n.attributes.position.needsUpdate=!0,n.computeBoundingSphere()),i.color.setStyle(t.color),i.opacity=t.opacity,i.transparent=t.opacity<1,i.visible=t.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}}),ec("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new Sr.Quaternion,this.hiddenEls=[]},update:function(e){var t,n,r=this.data,i=this.el;if(r.visualAspectEnabled){var o=this.el.getAttribute("scale");this.previewDistance=15*(o.x+o.y)/2,this.initVisualAspect(),t=r.highlighted?r.highlightedColor:r.backgroundColor,n=r.highlighted?r.highlightedColor:r.borderColor,i.setAttribute("material","backgroundColor",t),i.setAttribute("material","strokeColor",n),r.on!==e.on&&this.updateEventListener(),void 0!==e.peekMode&&r.peekMode!==e.peekMode&&this.updatePeekMode(),r.image&&e.image!==r.image&&i.setAttribute("material","pano","string"==typeof r.image?r.image:r.image.src)}},updatePeekMode:function(){var e=this.el,t=this.sphereEl;this.data.peekMode?(this.hideAll(),e.getObject3D("mesh").visible=!1,t.setAttribute("visible",!0)):(this.showAll(),e.getObject3D("mesh").visible=!0,t.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var e=this.el;e.isPlaying&&(this.removeEventListener(),e.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var e=this.data.on;e&&this.el.removeEventListener(e,this.navigate)},initVisualAspect:function(){var e,t,n,r=this.el;this.data.visualAspectEnabled&&!this.visualAspectInitialized&&(n=this.textEl=this.textEl||document.createElement("a-entity"),t=this.sphereEl=this.sphereEl||document.createElement("a-entity"),e=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),r.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),r.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double",previewDistance:this.previewDistance}),n.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),n.setAttribute("position","0 1.5 0"),r.appendChild(n),e.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),e.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back",previewDistance:this.previewDistance}),e.setAttribute("rotation","0 180 0"),e.setAttribute("position","0 0 0"),e.setAttribute("visible",!1),r.appendChild(e),t.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),t.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back",previewDistance:this.previewDistance}),t.setAttribute("visible",!1),r.appendChild(t),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var e=new Sr.Vector3,t=new Sr.Vector3,n=new Sr.Quaternion,r=new Sr.Vector3;return function(){var i,o,a=this.el,s=a.object3D,l=a.sceneEl.camera,c=this.textEl;if(this.data.visualAspectEnabled)if(s.updateMatrixWorld(),l.parent.updateMatrixWorld(),l.updateMatrixWorld(),s.matrix.decompose(t,n,r),t.setFromMatrixPosition(s.matrixWorld),e.setFromMatrixPosition(l.matrixWorld),(o=t.distanceTo(e))>1.33333*this.previewDistance)this.previousQuaternion||(this.quaternionClone.copy(n),this.previousQuaternion=this.quaternionClone),s.lookAt(e);else{if(i=this.calculateCameraPortalOrientation(),o<.5){if(!0===this.semiSphereEl.getAttribute("visible"))return;c.setAttribute("text","width",1.5),i<=0?(c.setAttribute("position","0 0 0.75"),c.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(c.setAttribute("position","0 0 -0.75"),c.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),a.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=i}else i<=0?c.setAttribute("rotation","0 180 0"):c.setAttribute("rotation","0 0 0"),c.setAttribute("text","width",5),c.setAttribute("position","0 1.5 0"),a.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(s.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var e=this.el,t=this.hiddenEls,n=this;t.length>0||e.sceneEl.object3D.traverse((function(r){r&&r.el&&r.el.hasAttribute("link-controls")||r.el&&r!==e.sceneEl.object3D&&r.el!==e&&r.el!==n.sphereEl&&r.el!==e.sceneEl.cameraEl&&!1!==r.el.getAttribute("visible")&&r.el!==n.textEl&&r.el!==n.semiSphereEl&&(r.el.setAttribute("visible",!1),t.push(r.el))}))},showAll:function(){this.hiddenEls.forEach((function(e){e.setAttribute("visible",!0)})),this.hiddenEls=[]},calculateCameraPortalOrientation:(ed=new Sr.Matrix4,td=new Sr.Vector3,nd=new Sr.Vector3(0,0,1),rd=new Sr.Vector3(0,0,0),function(){var e=this.el,t=e.sceneEl.camera;return td.set(0,0,0),nd.set(0,0,1),rd.set(0,0,0),e.object3D.matrixWorld.extractRotation(ed),nd.applyMatrix4(ed),e.object3D.updateMatrixWorld(),e.object3D.localToWorld(rd),t.parent.parent.updateMatrixWorld(),t.parent.updateMatrixWorld(),t.updateMatrixWorld(),t.localToWorld(td),td.sub(rd).normalize(),nd.normalize(),Math.sign(nd.dot(td))}),remove:function(){this.removeEventListener()}}),qc("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"},previewDistance:{default:15,type:"float",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","uniform float previewDistance;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / previewDistance), 2.0), 0.0, 1.0));","}","}"].join("\n")});var cd="logitech-mx-ink",ud=ta+"controllers/logitech/",dd=(ec("logitech-mx-ink-controls",{schema:{hand:{default:"left"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:{left:{buttons:["front","back","none","none","none","tip"]},right:{buttons:["front","back","none","none","none","tip"]}},init:function(){var e=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){ks(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e,e.data.hand)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e,e.data.hand)},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),e.sceneEl.removeEventListener("enter-vr",this.onEnterVR),e.sceneEl.removeEventListener("exit-vr",this.onExitVR),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.controllerObject3D;e&&(e.visible=!1),Ms(this,cd,{hand:this.data.hand,iterateControllerProfiles:!0})},injectTrackedControls:function(){var e=this.el,t=this.data,n=cd;e.setAttribute("tracked-controls",{id:n,hand:t.hand,handTrackingEnabled:!1,iterateControllerProfiles:!0,orientationOffset:t.orientationOffset}),this.loadModel()},loadModel:function(){var e=this.controllerObject3D;if(this.data.model)return e?(e.visible=this.el.sceneEl.is("vr-mode"),void this.el.setObject3D("mesh",e)):void this.el.setAttribute("gltf-model",ud+"logitech-mx-ink.glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id];n&&("trigger"===n&&(t=e.detail.state.value,console.log("analog value of trigger press: "+t)),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){e.target===this.el&&this.data.model&&(this.el.emit("controllermodelready",{name:"logitech-mx-ink-controls",model:this.data.model,rayOrigin:new Sr.Vector3(0,0,0)}),this.controllerObject3D=this.el.getObject3D("mesh"),this.controllerObject3D.visible=this.el.sceneEl.is("vr-mode"))},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)}}),Math.PI/2),hd=(ec("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new Sr.Vector3,this.hmdQuaternion=new Sr.Quaternion,this.magicWindowAbsoluteEuler=new Sr.Euler,this.magicWindowDeltaEuler=new Sr.Euler,this.position=new Sr.Vector3,this.magicWindowObject=new Sr.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new Sr.Vector3,rotation:new Sr.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var e,t=this.data;(xa()||_a())&&(e=this.magicWindowControls=new Jo(this.magicWindowObject),"undefined"!=typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission&&(e.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?e.enabled=t.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",(function(){e.enabled=t.magicWindowTrackingEnabled}))))},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),e&&!t.magicWindowTrackingEnabled&&e.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=t.magicWindowTrackingEnabled),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(e){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this),this.onPointerLockChange=this.onPointerLockChange.bind(this),this.onPointerLockError=this.onPointerLockError.bind(this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new Sr.Object3D,this.yawObject=new Sr.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart,{passive:!0}),window.addEventListener("touchmove",this.onTouchMove,{passive:!0}),window.addEventListener("touchend",this.onTouchEnd,{passive:!0}),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):e.addEventListener("render-target-loaded",this.addEventListeners.bind(this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var e=this.el.object3D,t=this.pitchObject,n=this.yawObject,r=this.el.sceneEl;(r.is("vr-mode")||r.is("ar-mode"))&&r.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),e.rotation.x=this.magicWindowDeltaEuler.x+t.rotation.x,e.rotation.y=this.magicWindowDeltaEuler.y+n.rotation.y,e.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var e=this.magicWindowAbsoluteEuler,t=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),e.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),this.previousMagicWindowYaw||0===e.y||(this.previousMagicWindowYaw=e.y),this.previousMagicWindowYaw&&(t.x=e.x,t.y+=e.y-this.previousMagicWindowYaw,t.z=e.z,this.previousMagicWindowYaw=e.y))},onMouseMove:function(e){var t,n,r,i=this.pitchObject,o=this.previousMouseEvent,a=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(n=e.movementX||e.mozMovementX||0,r=e.movementY||e.mozMovementY||0):(n=e.screenX-o.screenX,r=e.screenY-o.screenY),this.previousMouseEvent.screenX=e.screenX,this.previousMouseEvent.screenY=e.screenY,t=this.data.reverseMouseDrag?1:-1,a.rotation.y+=.002*n*t,i.rotation.x+=.002*r*t,i.rotation.x=Math.max(-dd,Math.min(dd,i.rotation.x)))},onMouseDown:function(e){var t=this.el.sceneEl;if(this.data.enabled&&this.data.mouseEnabled&&(!t.is("vr-mode")&&!t.is("ar-mode")||!t.checkHeadsetConnected())&&0===e.button){var n=t&&t.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=e.screenX,this.previousMouseEvent.screenY=e.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(n.requestPointerLock?n.requestPointerLock():n.mozRequestPointerLock&&n.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(e){1!==e.touches.length||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,n,r=this.el.sceneEl.canvas,i=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(n=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/r.clientWidth,t=this.data.reverseTouchDrag?1:-1,i.rotation.y-=.5*n*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var e=this.el.sceneEl;e.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),e.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(e){var t=this.el.sceneEl;function n(){t.canvas.classList.add("a-grab-cursor")}function r(){t.canvas.classList.remove("a-grab-cursor")}t.canvas?e?n():r():e?t.addEventListener("render-target-loaded",n):t.addEventListener("render-target-loaded",r)},saveCameraPose:function(){var e=this.el;this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var e=this.el,t=this.savedPose;this.hasSavedPose&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}}),"magicleap-one"),pd=ta+"controllers/magicleap/magicleap-one-controller.glb",fd=(ec("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0}},mapping:{axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]},init:function(){var e=this;this.controllerPresent=!1,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;Ms(this,hd,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:hd,hand:t.hand,controller:this.controllerIndex}),this.data.model&&this.el.setAttribute("gltf-model",pd)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id];n&&("trigger"===n&&(t=e.detail.state.value,console.log("analog value of trigger press: "+t)),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){e.detail.model.scale.set(.01,.01,.01)},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)},updateModel:function(e,t){},setButtonColor:function(e,t){}}),sa("components:material:error"));function md(e,t){e.dispose(),t.unregisterMaterial(e),Object.keys(e).filter((function(t){return e[t]&&e[t].isTexture})).forEach((function(t){e[t].dispose()}))}ec("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:Gc,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0},anisotropy:{default:0,min:0}},init:function(){this.material=null},update:function(e){var t=this.data;this.shader&&t.shader===e.shader||this.updateShader(t.shader),this.shader.update(this.data),this.updateMaterial(e)},updateSchema:function(e){var t,n,r,i;n=e&&e.shader,t=this.oldData&&this.oldData.shader,(r=Vc[i=n||t]&&Vc[i].schema)||fd("Unknown shader schema "+i),t&&n===t||(this.extendSchema(r),this.updateBehavior())},updateBehavior:function(){var e,t,n=this.el.sceneEl,r=this.schema,i=this;function o(e,n){var r;for(r in t)t[r]=e;i.shader.update(t)}for(e in this.tick=void 0,t={},r)"time"===r[e].type&&(this.tick=o,t[e]=!0);n&&(this.tick?n.addBehavior(this):n.removeBehavior(this))},updateShader:function(e){var t,n=this.data,r=Vc[e]&&Vc[e].Shader;if(!r)throw new Error("Unknown shader "+e);(t=this.shader=new r).el=this.el,t.init(n),this.setMaterial(t.material),this.updateSchema(n)},updateMaterial:function(e){var t,n=this.data,r=this.material;for(t in r.alphaTest=n.alphaTest,r.depthTest=!1!==n.depthTest,r.depthWrite=!1!==n.depthWrite,r.opacity=n.opacity,r.flatShading=n.flatShading,r.side=function(e){switch(e){case"back":return Sr.BackSide;case"double":return Sr.DoubleSide;default:return Sr.FrontSide}}(n.side),r.transparent=!1!==n.transparent||n.opacity<1,r.vertexColors=n.vertexColorsEnabled,r.visible=n.visible,r.blending=function(e){switch(e){case"none":return Sr.NoBlending;case"additive":return Sr.AdditiveBlending;case"subtractive":return Sr.SubtractiveBlending;case"multiply":return Sr.MultiplyBlending;default:return Sr.NormalBlending}}(n.blending),r.dithering=n.dithering,e)break;!t||e.alphaTest===n.alphaTest&&e.side===n.side&&e.vertexColorsEnabled===n.vertexColorsEnabled||(r.needsUpdate=!0)},remove:function(){var e=new Sr.MeshBasicMaterial,t=this.material,n=this.el.getObject3D("mesh");n&&(n.material=e),md(t,this.system)},setMaterial:function(e){var t,n=this.el,r=this.system;this.material&&md(this.material,r),this.material=e,r.registerMaterial(e),(t=n.getObject3D("mesh"))?t.material=e:n.addEventListener("object3dset",(function t(r){"mesh"===r.detail.type&&r.target===n&&(n.getObject3D("mesh").material=e,n.removeEventListener("object3dset",t))}))}});var gd,vd,yd,bd,Ad,xd="oculus-touch",wd=ta+"controllers/oculus/oculus-touch-controller-",Cd=ta+"controllers/meta/",Ed={left:{modelUrl:wd+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new Sr.Vector3(-.005,.036,-.037),modelPivotRotation:new Sr.Euler(Math.PI/4.5,0,0)},right:{modelUrl:wd+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new Sr.Vector3(.005,.036,-.037),modelPivotRotation:new Sr.Euler(Math.PI/4.5,0,0)}},Sd="oculus-touch",_d={"oculus-touch":Ed,"oculus-touch-v2":{left:{modelUrl:wd+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new Sr.Vector3(0,-.007,-.021),modelPivotRotation:new Sr.Euler(-Math.PI/4,0,0)},right:{modelUrl:wd+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new Sr.Vector3(0,-.007,-.021),modelPivotRotation:new Sr.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:wd+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new Sr.Vector3(0,0,0),modelPivotRotation:new Sr.Euler(0,0,0)},right:{modelUrl:wd+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new Sr.Vector3(0,0,0),modelPivotRotation:new Sr.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:Cd+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new Sr.Vector3(0,0,0),modelPivotRotation:new Sr.Euler(0,0,0)},right:{modelUrl:Cd+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new Sr.Vector3(0,0,0),modelPivotRotation:new Sr.Euler(0,0,0)}},"meta-quest-touch-plus":{left:{modelUrl:Cd+"quest-touch-plus-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new Sr.Vector3(0,0,0),modelPivotRotation:new Sr.Euler(0,0,0)},right:{modelUrl:Cd+"quest-touch-plus-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new Sr.Vector3(0,0,0),modelPivotRotation:new Sr.Euler(0,0,0)}}},Md={schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]}},after:["tracked-controls"],mapping:{left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},bindMethods:function(){this.onButtonChanged=this.onButtonChanged.bind(this),this.onThumbstickMoved=this.onThumbstickMoved.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var e=this;this.onButtonDown=function(t){ks(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){ks(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e,e.data.hand)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e,e.data.hand)},this.controllerPresent=!1,this.previousButtonValues={},this.bindMethods(),this.triggerEuler=new Sr.Euler},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.controllerObject3D;e&&(e.visible=!1),Ms(this,xd,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(e){var t,n=this.data;if(n.model){if(this.controllerObject3D)return this.controllerObject3D.visible=!0,void this.el.setObject3D("mesh",this.controllerObject3D);if(this.displayModel=_d[n.controllerType]||_d[Sd],"auto"===n.controllerType){t=Sd;for(var r=Object.keys(_d),i=0;i<e.profiles.length;i++)if(-1!==r.indexOf(e.profiles[i])){t=e.profiles[i];break}this.displayModel=_d[t]}var o=this.displayModel[n.hand].modelUrl;this.isTouchV3orPROorPlus=this.displayModel===_d["oculus-touch-v3"]||this.displayModel===_d["meta-quest-touch-pro"]||this.displayModel===_d["meta-quest-touch-plus"],this.el.setAttribute("gltf-model",o)}},injectTrackedControls:function(e){var t=this.data,n=xd;this.el.setAttribute("tracked-controls",{id:n,hand:t.hand,handTrackingEnabled:!1,iterateControllerProfiles:!0}),this.loadModel(e)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t=this.mapping[this.data.hand].buttons[e.detail.id];if(t){if(this.isTouchV3orPROorPlus)this.onButtonChangedV3orPROorPlus(e);else{var n,r=this.buttonMeshes;"trigger"!==t&&"grip"!==t||(n=e.detail.state.value),r&&("trigger"===t&&r.trigger&&(r.trigger.rotation.x=this.originalXRotationTrigger-n*(Math.PI/26)),"grip"===t&&r.grip&&(n*="left"===this.data.hand?-1:1,r.grip.position.x=this.originalXPositionGrip+.004*n))}this.el.emit(t+"changed",e.detail.state)}},onButtonChangedV3orPROorPlus:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id],r=this.buttonObjects;r&&r[n]&&(t=e.detail.state.value,r[n].quaternion.slerpQuaternions(this.buttonRanges[n].min.quaternion,this.buttonRanges[n].max.quaternion,t),r[n].position.lerpVectors(this.buttonRanges[n].min.position,this.buttonRanges[n].max.position,t))},onModelLoaded:function(e){if(e.target===this.el&&this.data.model){if(this.isTouchV3orPROorPlus)this.onTouchV3orPROorPlusModelLoaded(e);else{var t,n=this.controllerObject3D=e.detail.model;(t=this.buttonMeshes={}).grip=n.getObjectByName("buttonHand"),this.originalXPositionGrip=t.grip&&t.grip.position.x,t.trigger=n.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=t.trigger&&t.trigger.rotation.x,t.thumbstick=n.getObjectByName("stick"),t.xbutton=n.getObjectByName("buttonX"),t.abutton=n.getObjectByName("buttonA"),t.ybutton=n.getObjectByName("buttonY"),t.bbutton=n.getObjectByName("buttonB")}for(var r in this.buttonMeshes)this.buttonMeshes[r]&&Id(this.buttonMeshes[r]);this.applyOffset(e.detail.model),this.el.emit("controllermodelready",{name:"meta-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(e){e.position.copy(this.displayModel[this.data.hand].modelPivotOffset),e.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onTouchV3orPROorPlusModelLoaded:function(e){var t=this.controllerObject3D=e.detail.model,n=this.buttonObjects={},r=this.buttonMeshes={},i=this.buttonRanges={};r.grip=t.getObjectByName("squeeze"),n.grip=t.getObjectByName("xr_standard_squeeze_pressed_value"),i.grip={min:t.getObjectByName("xr_standard_squeeze_pressed_min"),max:t.getObjectByName("xr_standard_squeeze_pressed_max")},n.grip.minX=n.grip.position.x,r.thumbstick=t.getObjectByName("thumbstick"),n.thumbstick=t.getObjectByName("xr_standard_thumbstick_pressed_value"),i.thumbstick={min:t.getObjectByName("xr_standard_thumbstick_pressed_min"),max:t.getObjectByName("xr_standard_thumbstick_pressed_max")},n.thumbstickXAxis=t.getObjectByName("xr_standard_thumbstick_xaxis_pressed_value"),i.thumbstickXAxis={min:t.getObjectByName("xr_standard_thumbstick_xaxis_pressed_min"),max:t.getObjectByName("xr_standard_thumbstick_xaxis_pressed_max")},n.thumbstickYAxis=t.getObjectByName("xr_standard_thumbstick_yaxis_pressed_value"),i.thumbstickYAxis={min:t.getObjectByName("xr_standard_thumbstick_yaxis_pressed_min"),max:t.getObjectByName("xr_standard_thumbstick_yaxis_pressed_max")},r.trigger=t.getObjectByName("trigger"),n.trigger=t.getObjectByName("xr_standard_trigger_pressed_value"),i.trigger={min:t.getObjectByName("xr_standard_trigger_pressed_min"),max:t.getObjectByName("xr_standard_trigger_pressed_max")},i.trigger.diff={x:Math.abs(i.trigger.max.rotation.x)-Math.abs(i.trigger.min.rotation.x),y:Math.abs(i.trigger.max.rotation.y)-Math.abs(i.trigger.min.rotation.y),z:Math.abs(i.trigger.max.rotation.z)-Math.abs(i.trigger.min.rotation.z)};var o="left"===this.data.hand?"x":"a",a="left"===this.data.hand?"y":"b",s=o+"button",l=a+"button";r[s]=t.getObjectByName(o+"_button"),n[s]=t.getObjectByName(o+"_button_pressed_value"),i[s]={min:t.getObjectByName(o+"_button_pressed_min"),max:t.getObjectByName(o+"_button_pressed_max")},r[l]=t.getObjectByName(a+"_button"),n[l]=t.getObjectByName(a+"_button_pressed_value"),i[l]={min:t.getObjectByName(a+"_button_pressed_min"),max:t.getObjectByName(a+"_button_pressed_max")}},onAxisMoved:function(e){Rs(this,this.mapping[this.data.hand].axes,e)},onThumbstickMoved:function(e){if(this.buttonMeshes&&this.buttonMeshes.thumbstick)if(this.isTouchV3orPROorPlus)this.updateThumbstickTouchV3orPROorPlus(e);else for(var t in e.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[t]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[t]]-Math.PI/8*e.detail[t]*("y"===t||"right"===this.data.hand?-1:1)},axisMap:{y:"x",x:"z"},updateThumbstickTouchV3orPROorPlus:function(e){var t=(e.detail.x+1)/2;this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickXAxis.min.quaternion,this.buttonRanges.thumbstickXAxis.max.quaternion,t);var n=(e.detail.y+1)/2;this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickYAxis.min.quaternion,this.buttonRanges.thumbstickYAxis.max.quaternion,n)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n,r=this.buttonMeshes;r&&r[e]&&(n="up"===t||"touchend"===t?r[e].originalColor||this.data.buttonColor:"touchstart"===t?this.data.buttonTouchColor:this.data.buttonHighlightColor,r[e].material.color.set(n))}};function Id(e){e.traverse((function(t){var n;"Mesh"===t.type&&(n=t.material.clone(),e.originalColor=t.material.color,t.material.dispose(),t.material=n)}))}ec("oculus-touch-controls",Md),ec("meta-touch-controls",Md),ec("obb-collider",{schema:{size:{default:0},trackedObject3D:{default:""},minimumColliderDimension:{default:.02},centerModel:{default:!1}},init:function(){this.previousScale=(new Sr.Vector3).copy(this.el.object3D.scale),this.auxEuler=new Sr.Euler,this.boundingBox=new Sr.Box3,this.boundingBoxSize=new Sr.Vector3,this.updateCollider=this.updateCollider.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.updateBoundingBox=this.updateBoundingBox.bind(this),this.el.addEventListener("model-loaded",this.onModelLoaded),this.updateCollider(),this.system.addCollider(this.el)},remove:function(){this.system.removeCollider(this.el)},update:function(){this.data.trackedObject3D&&(this.trackedObject3DPath=this.data.trackedObject3D.split("."))},onModelLoaded:function(){this.data.centerModel&&this.centerModel(),this.updateCollider()},centerModel:function(){var e,t=this.el,n=t.components["gltf-model"]&&t.components["gltf-model"].model;n&&(this.el.removeObject3D("mesh"),e=(new Sr.Box3).setFromObject(n).getCenter(new Sr.Vector3),n.position.x+=n.position.x-e.x,n.position.y+=n.position.y-e.y,n.position.z+=n.position.z-e.z,this.el.setObject3D("mesh",n))},updateCollider:function(){var e=this.el,t=this.boundingBoxSize,n=this.aabb=this.aabb||new Bo;this.obb=this.obb||new Bo,e.hasLoaded?(this.updateBoundingBox(),n.halfSize.copy(t).multiplyScalar(.5),this.el.sceneEl.systems["obb-collider"].data.showColliders&&this.showCollider()):e.addEventListener("loaded",this.updateCollider)},showCollider:function(){this.updateColliderMesh(),this.renderColliderMesh.visible=!0},updateColliderMesh:function(){var e=this.renderColliderMesh,t=this.boundingBoxSize;e?(e.geometry.dispose(),e.geometry=new Sr.BoxGeometry(t.x,t.y,t.z)):this.initColliderMesh()},hideCollider:function(){this.renderColliderMesh&&(this.renderColliderMesh.visible=!1)},initColliderMesh:function(){var e,t,n;e=this.boundingBoxSize,t=this.renderColliderGeometry=new Sr.BoxGeometry(e.x,e.y,e.z),(n=this.renderColliderMesh=new Sr.Mesh(t,new Sr.MeshLambertMaterial({color:65280,side:Sr.DoubleSide}))).matrixAutoUpdate=!1,n.matrixWorldAutoUpdate=!1,n.updateMatrixWorld=function(){},this.el.sceneEl.object3D.add(n)},updateBoundingBox:(gd=new Sr.Vector3,vd=new Sr.Vector3,yd=new Sr.Quaternion,bd=new Sr.Quaternion,Ad=new Sr.Matrix4,function(){var e=this.auxEuler,t=this.boundingBox,n=this.data.size,r=this.trackedObject3D||this.el.object3D,i=this.boundingBoxSize,o=this.data.minimumColliderDimension;if(n)return this.boundingBoxSize.x=n,this.boundingBoxSize.y=n,void(this.boundingBoxSize.z=n);e.copy(r.rotation),r.rotation.set(0,0,0),r.parent.matrixWorld.decompose(gd,yd,vd),Ad.compose(gd,bd,vd),r.parent.matrixWorld.copy(Ad),t.setFromObject(r,!0),t.getSize(i),i.x=i.x<o?o:i.x,i.y=i.y<o?o:i.y,i.z=i.z<o?o:i.z,r.parent.matrixWorld.compose(gd,yd,vd),this.el.object3D.rotation.copy(e)}),checkTrackedObject:function(){var e,t=this.trackedObject3DPath;if(t&&t.length&&!this.trackedObject3D){e=this.el;for(var n=0;n<t.length&&(e=e[t[n]]);n++);e&&(this.trackedObject3D=e,this.updateCollider())}return this.trackedObject3D},tick:function(){var e=new Sr.Vector3,t=new Sr.Vector3,n=new Sr.Quaternion,r=new Sr.Matrix4;return function(){var i=this.obb,o=this.renderColliderMesh,a=this.checkTrackedObject()||this.el.object3D;a&&(a.updateMatrix(),a.updateMatrixWorld(!0),a.matrixWorld.decompose(e,n,t),(Math.abs(t.x-this.previousScale.x)>1e-4||Math.abs(t.y-this.previousScale.y)>1e-4||Math.abs(t.z-this.previousScale.z)>1e-4)&&this.updateCollider(),this.previousScale.copy(t),t.set(1,1,1),r.compose(e,n,t),o&&o.matrixWorld.copy(r),i.copy(this.aabb),i.applyMatrix4(r))}}()});var Td=sa("components:obj-model:warn"),Rd=(ec("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var e=this;this.model=null,this.objLoader=new qo,this.mtlLoader=new $o(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",(function(t){e.model&&"material"===t.detail.name&&e.applyMaterial()}))},update:function(){var e=this.data;e.obj&&(this.resetMesh(),this.loadObj(e.obj,e.mtl))},remove:function(){this.resetMesh()},resetMesh:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(e,t){var n=this,r=this.el,i=this.mtlLoader,o=this.objLoader,a=this.el.sceneEl.systems.renderer,s=t.substr(0,t.lastIndexOf("/")+1);if(t)return r.hasAttribute("material")&&Td("Material component properties are ignored when a .MTL is provided"),i.setResourcePath(s),void i.load(t,(function(t){t.preload(),o.setMaterials(t),o.load(e,(function(e){n.model=e,n.model.traverse((function(e){if(e.isMesh){var t=e.material;t.map&&a.applyColorCorrection(t.map),t.emissiveMap&&a.applyColorCorrection(t.emissiveMap)}})),r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})}))}));o.load(e,(function(e){n.model=e,n.applyMaterial(),r.setObject3D("mesh",e),r.emit("model-loaded",{format:"obj",model:e})}))},applyMaterial:function(){var e=this.el.components.material;e&&this.model.traverse((function(t){t instanceof Sr.Mesh&&(t.material=e.material)}))}}),ta+"controllers/oculus/go/oculus-go-controller.gltf"),kd="oculus-go",Pd=(ec("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0}},mapping:{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var e=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){Ms(this,kd,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{hand:t.hand,idPrefix:kd}),this.data.model&&this.el.setAttribute("gltf-model",Rd)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;e.target===this.el&&this.data.model&&((t=this.buttonMeshes={}).trigger=n.getObjectByName("oculus_go_button_trigger"),t.trackpad=n.getObjectByName("oculus_go_touchpad"),t.touchpad=n.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes;if(n&&n[e]){var r;switch(t){case"down":r=this.data.buttonHighlightColor;break;case"touchstart":r=this.data.buttonTouchedColor;break;default:r=this.data.buttonColor}n[e].material.color.set(r)}}}),"pico-4"),Bd=ta+"controllers/pico/pico4/",Od=(ec("pico-controls",{schema:{hand:{default:"none"},model:{default:!0}},mapping:{left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}},init:function(){var e=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e,e.data.hand)},this.onButtonUp=function(t){ks(t.detail.id,"up",e,e.data.hand)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e,e.data.hand)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e,e.data.hand)},this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;Ms(this,Pd,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:Pd,hand:t.hand,controller:this.controllerIndex}),this.data.model&&this.el.setAttribute("gltf-model",Bd+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping[this.data.hand].buttons[e.detail.id];n&&("trigger"===n&&(t=e.detail.state.value,console.log("analog value of trigger press: "+t)),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){e.target===this.el&&this.data.model&&this.el.emit("controllermodelready",{name:"pico-controls",model:this.data.model,rayOrigin:new Sr.Vector3(0,0,0)})},onAxisMoved:function(e){Rs(this,this.mapping[this.data.hand].axes,e)}}),ec("position",{schema:{type:"vec3"},update:function(){var e=this.el.object3D,t=this.data;e.position.set(t.x,t.y,t.z)},remove:function(){this.el.object3D.position.set(0,0,0)}}),sa("components:raycaster:warn")),Ld=/^[\w\s-.,[\]#]*$/,Dd={childList:!0,attributes:!0,subtree:!0},Nd="raycaster-intersected-cleared",Fd="raycaster-intersection-cleared";function jd(e,t){var n;for(e.length=t.length,n=0;n<t.length;n++)e[n]=t[n]}ec("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new Sr.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new Sr.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new Sr.Vector3,this.otherLineEndVec3=new Sr.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(e){var t=this.data,n=this.el,r=this.raycaster;r.far=t.far,r.near=t.near,!t.showLine||t.far===e.far&&t.origin===e.origin&&t.direction===e.direction&&e.showLine||(this.unitLineEndVec3.copy(t.direction).normalize(),this.drawLine()),!t.showLine&&e.showLine&&n.removeAttribute("line"),t.objects===e.objects||Ld.test(t.objects)||Od('[raycaster] Selector "'+t.objects+'" may not update automatically with DOM changes.'),t.objects||Od('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),t.autoRefresh!==e.autoRefresh&&n.isPlaying&&(t.autoRefresh?this.addEventListeners():this.removeEventListeners()),e.enabled&&!t.enabled&&this.clearAllIntersections(),t.objects!==e.objects&&this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,Dd),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var e,t=this.data;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(e),this.dirty=!1},tock:function(e){var t=this.data,n=this.prevCheckTime;t.enabled&&(n&&e-n<t.interval||(this.prevCheckTime=e,this.checkIntersections()))},checkIntersections:function(){var e,t,n=this.clearedIntersectedEls,r=this.el,i=this.data,o=this.intersectedEls,a=this.intersections,s=this.newIntersectedEls,l=this.newIntersections,c=this.prevIntersectedEls,u=this.rawIntersections;for(this.dirty&&this.refreshObjects(),jd(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),u.length=0,this.raycaster.intersectObjects(this.objects,!0,u),a.length=0,o.length=0,e=0;e<u.length;e++)t=u[e],i.showLine&&t.object===r.getObject3D("line")||t.object.el&&(a.push(t),o.push(t.object.el));for(l.length=0,s.length=0,e=0;e<a.length;e++)-1===c.indexOf(a[e].object.el)&&(l.push(a[e]),s.push(a[e].object.el));for(n.length=0,e=0;e<c.length;e++)-1===o.indexOf(c[e])&&(c[e].emit(Nd,this.intersectedClearedDetail),n.push(c[e]));for(n.length&&r.emit(Fd,this.intersectionClearedDetail),e=0;e<s.length;e++)s[e].emit("raycaster-intersected",this.intersectedDetail);l.length&&(this.intersectionDetail.els=s,this.intersectionDetail.intersections=l,r.emit("raycaster-intersection",this.intersectionDetail)),(0===c.length&&a.length>0||c.length>0&&0===a.length||c.length&&a.length&&c[0]!==a[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=a,r.emit("raycaster-closest-entity-changed",this.intersectionDetail)),i.showLine&&setTimeout(this.updateLine)},updateLine:function(){var e,t=this.el,n=this.intersections;n.length&&(e=n[0].object.el===t&&n[1]?n[1].distance:n[0].distance),this.drawLine(e)},getIntersection:function(e){var t,n;for(t=0;t<this.intersections.length;t++)if((n=this.intersections[t]).object.el===e)return n;return null},updateOriginDirection:function(){var e=new Sr.Vector3,t=new Sr.Vector3;return function(){var n=this.el,r=this.data;r.useWorldCoordinates?this.raycaster.set(r.origin,r.direction):(n.object3D.updateMatrixWorld(),t.setFromMatrixPosition(n.object3D.matrixWorld),0===r.origin.x&&0===r.origin.y&&0===r.origin.z||(t=n.object3D.localToWorld(t.copy(r.origin))),e.copy(r.direction).transformDirection(n.object3D.matrixWorld).normalize(),this.raycaster.set(t,e))}}(),drawLine:function(e){var t,n=this.data,r=this.el;t=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,void 0===e&&(e=n.far===1/0?1e3:n.far),this.lineData.start=n.origin,this.lineData.end=t.copy(this.unitLineEndVec3).multiplyScalar(e).add(n.origin),this.lineData.color=n.lineColor,this.lineData.opacity=n.lineOpacity,r.setAttribute("line",this.lineData)},flattenObject3DMaps:function(e){var t,n,r=this.objects,i=this.el.sceneEl.object3D;function o(e){return e.parent?o(e.parent):e===i}for(r.length=0,n=0;n<e.length;n++){var a=e[n];if(a.isEntity&&a.object3D&&o(a.object3D))for(t in a.object3DMap)r.push(a.getObject3D(t))}return r},clearAllIntersections:function(){var e;for(e=0;e<this.intersectedEls.length;e++)this.intersectedEls[e].emit(Nd,this.intersectedClearedDetail);jd(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(Fd,this.intersectionClearedDetail)}});var Ud,zd,Hd,Vd,Gd=Sr.MathUtils.degToRad,Qd=(ec("rotation",{schema:{type:"vec3"},update:function(){var e=this.data;this.el.object3D.rotation.set(Gd(e.x),Gd(e.y),Gd(e.z),"YXZ")},remove:function(){this.el.object3D.rotation.set(0,0,0)}}),ec("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var e=this.data;this.el.object3D.scale.set(e.x,e.y,e.z)},remove:function(){this.el.object3D.scale.set(1,1,1)}}),ec("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=this.update.bind(this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var e=this.data;this.updateDescendants(e.cast,e.receive)},remove:function(){this.el.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(e,t){var n=this.el.sceneEl;this.el.object3D.traverse((function(r){if(r instanceof Sr.Mesh&&(r.castShadow=e,r.receiveShadow=t,n.hasLoaded&&r.material))for(var i=Array.isArray(r.material)?r.material:[r.material],o=0;o<i.length;o++)i[o].needsUpdate=!0}))}}),sa("components:sound:warn")),Wd=(ec("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},loopStart:{default:0},loopEnd:{default:0},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var e=this;this.listener=null,this.audioLoader=new Sr.AudioLoader,this.pool=new Sr.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){e.playSound()}},update:function(e){var t,n,r=this.data,i=r.src!==e.src;if(i){if(!r.src)return;this.setupSound()}for(t=0;t<this.pool.children.length;t++)n=this.pool.children[t],r.positional&&(n.setDistanceModel(r.distanceModel),n.setMaxDistance(r.maxDistance),n.setRefDistance(r.refDistance),n.setRolloffFactor(r.rolloffFactor)),n.setLoop(r.loop),n.setLoopStart(r.loopStart),0!==r.loopStart&&0===r.loopEnd?n.setLoopEnd(n.buffer.duration):n.setLoopEnd(r.loopEnd),n.setVolume(r.volume),n.isPaused=!1;if(r.on!==e.on&&this.updateEventListener(e.on),i){var o=this;this.loaded=!1,this.audioLoader.load(r.src,(function(e){for(t=0;t<o.pool.children.length;t++)(n=o.pool.children[t]).setBuffer(e);o.loaded=!0,Sr.Cache.remove(r.src),(o.data.autoplay||o.mustPlay)&&o.playSound(o.processSound),o.el.emit("sound-loaded",o.evtDetail,!1)}))}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var e;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(e=0;e<this.pool.children.length;e++)this.pool.children[e].disconnect()}catch(e){Qd("Audio source not properly disconnected")}},updateEventListener:function(e){var t=this.el;e&&t.removeEventListener(e,this.playSoundBound),t.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var e,t,n=this.el,r=n.sceneEl,i=this;this.pool.children.length>0&&(this.stopSound(),n.removeObject3D("sound"));var o=this.listener=r.audioListener||new Sr.AudioListener;for(r.audioListener=o,r.camera&&r.camera.add(o),r.addEventListener("camera-set-active",(function(e){e.detail.cameraEl.getObject3D("camera").add(o)})),this.pool=new Sr.Group,e=0;e<this.data.poolSize;e++)t=this.data.positional?new Sr.PositionalAudio(o):new Sr.Audio(o),this.pool.add(t);for(n.setObject3D(this.attrName,this.pool),e=0;e<this.pool.children.length;e++)(t=this.pool.children[e]).onEnded=function(){this.isPlaying=!1,i.el.emit("sound-ended",i.evtDetail,!1)}},pauseSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++)(t=this.pool.children[e]).source&&t.source.buffer&&t.isPlaying&&!t.isPaused&&(t.isPaused=!0,t.pause())},playSound:function(e){var t,n,r;if(!this.loaded)return Qd("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0,void(this.processSound=e);for(t=!1,this.isPlaying=!0,n=0;n<this.pool.children.length;n++)(r=this.pool.children[n]).isPlaying||!r.buffer||t||(e&&e(r),r.play(),r.isPaused=!1,t=!0);t?(this.mustPlay=!1,this.processSound=void 0):Qd("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el)},stopSound:function(){var e,t;for(this.isPlaying=!1,e=0;e<this.pool.children.length;e++){if(!(t=this.pool.children[e]).source||!t.source.buffer)return;t.stop()}}}),$t(4433)),qd=$t.n(Wd),$d=$t(5751),Xd=$t.n($d),Kd=sa("components:text:error"),Yd=sa("components:text:warn"),Jd=ta+"fonts/",Zd={aileronsemibold:Jd+"Aileron-Semibold.fnt",dejavu:Jd+"DejaVu-sdf.fnt",exo2bold:Jd+"Exo2Bold.fnt",exo2semibold:Jd+"Exo2SemiBold.fnt",kelsonsans:Jd+"KelsonSans.fnt",monoid:Jd+"Monoid.fnt",mozillavr:Jd+"mozillavr.fnt",roboto:Jd+"Roboto-msdf.json",sourcecodepro:Jd+"SourceCodePro.fnt"},eh=["roboto"],th="roboto",nh=new function(){var e=this.cache={};this.get=function(t,n){return t in e||(e[t]=n()),e[t]}},rh={},ih={},oh=/^\w+:/;function ah(e,t,n){return e||(.5+t)*n}ec("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:th},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:Vc},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=qd()(),this.createOrUpdateMaterial(),this.explicitGeoDimensionsChecked=!1},update:function(e){var t=this.data,n=this.currentFont;ih[t.font]?this.texture=ih[t.font]:(this.texture=ih[t.font]=new Sr.Texture,this.texture.anisotropy=16),this.createOrUpdateMaterial(),e.font===t.font?n&&(this.updateGeometry(this.geometry,n),this.updateLayout()):this.updateFont()},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var e,t,n,r=this.data,i=this.material,o=this.shaderData;if(n=r.shader,-1!==eh.indexOf(r.font)||r.font.indexOf("-msdf.")>=0?n="msdf":r.font in Zd&&-1===eh.indexOf(r.font)&&(n="sdf"),e=(this.shaderObject&&this.shaderObject.name)!==n,o.alphaTest=r.alphaTest,o.color=r.color,o.map=this.texture,o.opacity=r.opacity,o.side=function(e){switch(e){case"back":return Sr.FrontSide;case"double":return Sr.DoubleSide;default:return Sr.BackSide}}(r.side),o.transparent=r.transparent,o.negate=r.negate,!e)return this.shaderObject.update(o),i.transparent=o.transparent,void(i.side=o.side);t=function(e,t,n){var r,i;return(i=new Vc[t].Shader).el=e,i.init(n),i.update(n),(r=i.material).transparent=n.transparent,{material:r,shader:i}}(this.el,n,o),this.material=t.material,this.shaderObject=t.shader,this.material.side=o.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var e,t=this.data,n=this.el,r=this.geometry,i=this;t.font||Yd("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),e=this.lookupFont(t.font||th)||t.font,nh.get(e,(function(){return function(e,t){return new Promise((function(n,r){Xd()(e,(function(i,o){if(i)return Kd("Error loading font",e),void r(i);e.indexOf("/Roboto-msdf.json")>=0&&(t=30),t&&o.chars.forEach((function(e){e.yoffset+=t})),n(o)}))}))}(e,t.yOffset)})).then((function(o){var a;if(1!==o.pages.length)throw new Error("Currently only single-page bitmap fonts are supported.");rh[e]||(o.widthFactor=rh[o]=function(e){var t=0,n=0,r=0;return e.chars.forEach((function(e){t+=e.xadvance,e.id>=48&&e.id<=57&&(r++,n+=e.xadvance)})),r?n/r:t/e.chars.length}(o)),i.currentFont=o,a=i.getFontImageSrc(),nh.get(a,(function(){return function(e){return new Promise((function(t,n){(new Sr.ImageLoader).load(e,(function(e){t(e)}),void 0,(function(){Kd("Error loading font image",e),n(null)}))}))}(a)})).then((function(e){var a=i.texture;a&&(a.image=e,a.needsUpdate=!0,ih[t.font]=a,i.texture=a,i.initMesh(),i.currentFont=o,i.updateGeometry(r,o),i.updateLayout(),i.mesh.visible=!0,n.emit("textfontset",{font:t.font,fontObj:o}))})).catch((function(e){Kd(e.message),Kd(e.stack)}))})).catch((function(e){Kd(e.message),Kd(e.stack)}))},initMesh:function(){this.mesh||(this.mesh=new Sr.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var e=this.lookupFont(this.data.font||th)||this.data.font,t=this.currentFont.pages[0];return t.match(oh)&&0!==t.indexOf("http")?e.replace(/(\.fnt)|(\.json)/,".png"):Sr.LoaderUtils.extractUrlBase(e)+t},updateLayout:function(){var e,t,n,r,i,o,a,s,l,c=this.el,u=this.data,d=this.geometry,h=this.mesh;if(h&&d.layout){if(n=c.getAttribute("geometry"),r=(o=(a=u.width||n&&n.width||1)/ah(u.wrapPixels,u.wrapCount,this.currentFont.widthFactor))*((i=d.layout).height+i.descender),n&&"plane"===n.primitive&&(this.explicitGeoDimensionsChecked||(this.explicitGeoDimensionsChecked=!0,this.hasExplicitGeoWidth=!!n.width,this.hasExplicitGeoHeight=!!n.height),this.hasExplicitGeoWidth||c.setAttribute("geometry","width",a),this.hasExplicitGeoHeight||c.setAttribute("geometry","height",r)),"left"===(e="align"===u.anchor?u.align:u.anchor))s=0;else if("right"===e)s=-1*i.width;else{if("center"!==e)throw new TypeError("Invalid text.anchor property value",e);s=-1*i.width/2}if("bottom"===(t=u.baseline))l=0;else if("top"===t)l=-1*i.height+i.ascender;else{if("center"!==t)throw new TypeError("Invalid text.baseline property value",t);l=-1*i.height/2}h.position.x=s*o+u.xOffset,h.position.y=l*o,h.position.z=u.zOffset,h.scale.set(o,-1*o,o)}},lookupFont:function(e){return Zd[e]},updateGeometry:(Ud={},zd={},Hd=/\\n/g,Vd=/\\t/g,function(e,t){var n=this.data;zd.font=t,zd.lineHeight=n.lineHeight&&isFinite(n.lineHeight)?n.lineHeight:t.common.lineHeight,zd.text=n.value.toString().replace(Hd,"\n").replace(Vd,"\t"),zd.width=ah(n.wrapPixels,n.wrapCount,t.widthFactor),e.update(zs(Ud,n,zd))})});var sh,lh,ch=(ec("tracked-controls",{schema:{id:{type:"string",default:""},controller:{default:-1},autoHide:{default:!0},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},iterateControllerProfiles:{default:!1}},init:function(){this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.updateController=this.updateController.bind(this)},update:function(){this.updateController()},play:function(){var e=this.el.sceneEl;this.updateController(),e.addEventListener("controllersupdated",this.updateController)},pause:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(e){return!(!this.controller||this.controller.gamepad||"none"!==e.inputSource.handedness&&e.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=Ts(this.system.controllers,this.data.id,this.data.hand,this.data.controller,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller},tick:function(){var e=this.el.sceneEl,t=this.controller,n=e.frame;this.data.autoHide&&(this.el.object3D.visible=!!t),t&&e.frame&&this.system.referenceSpace&&(t.hand||(this.pose=n.getPose(t.gripSpace,this.system.referenceSpace),this.updatePose(),this.updateButtons()))},updatePose:function(){var e=this.el.object3D,t=this.pose;t&&(e.matrix.elements=t.transform.matrix,e.matrix.decompose(e.position,e.rotation,e.scale))},updateButtons:function(){var e,t,n,r=this.controller;if(r&&r.gamepad){for(n=r.gamepad,t=0;t<n.buttons.length;++t)this.buttonStates[t]||(this.buttonStates[t]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[t]||(this.buttonEventDetails[t]={id:t,state:this.buttonStates[t]}),e=n.buttons[t],this.handleButton(t,e);this.handleAxes()}},handleButton:function(e,t){return!!(this.handlePress(e,t)|this.handleTouch(e,t)|this.handleValue(e,t))&&(this.el.emit("buttonchanged",this.buttonEventDetails[e],!1),!0)},handleAxes:function(){var e,t=!1,n=this.controller.gamepad.axes,r=this.axis,i=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),e=0;e<n.length;++e)i.push(r[e]!==n[e]),i[e]&&(t=!0);if(!t)return!1;for(this.axis.splice(0,this.axis.length),e=0;e<n.length;e++)this.axis.push(n[e]);return this.el.emit("axismove",this.axisMoveEventDetail,!1),!0},handlePress:function(e,t){var n,r=this.buttonStates[e];return t.pressed!==r.pressed&&(n=t.pressed?"buttondown":"buttonup",this.el.emit(n,this.buttonEventDetails[e],!1),r.pressed=t.pressed,!0)},handleTouch:function(e,t){var n,r=this.buttonStates[e];return t.touched!==r.touched&&(n=t.touched?"touchstart":"touchend",this.el.emit(n,this.buttonEventDetails[e],!1),r.touched=t.touched,!0)},handleValue:function(e,t){var n=this.buttonStates[e];return t.value!==n.value&&(n.value=t.value,!0)}}),ec("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}}),ta+"controllers/valve/index/valve-index-"),uh={left:ch+"left.glb",right:ch+"right.glb"},dh="valve",hh={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},ph={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},fh=(ec("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0}},after:["tracked-controls"],mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var e=this;this.controllerPresent=!1,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data,t="right"===e.hand?0:"left"===e.hand?1:2;Ms(this,dh,{index:t,iterateControllerProfiles:!0,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:dh,controller:"right"===t.hand?1:"left"===t.hand?0:2,hand:t.hand}),this.loadModel()},loadModel:function(){var e=this.data;e.model&&this.el.setAttribute("gltf-model",""+uh[e.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(t=e.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=this.triggerOriginalRotationX-t*(Math.PI/40))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model,r=this;e.target===this.el&&this.data.model&&((t=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),this.triggerOriginalRotationX=t.trigger.rotation.x,Object.keys(t).forEach((function(e){r.setButtonColor(e,r.data.buttonColor)})),n.position.copy(ph[this.data.hand]),n.rotation.copy(hh[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controls",model:this.data.model,rayOrigin:new Sr.Vector3(0,0,0)}))},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)},updateModel:function(e,t){var n;this.data.model&&(-1!==t.indexOf("touch")||(n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,n)))},setButtonColor:function(e,t){}}),ta+"controllers/vive/vr_controller_vive.obj"),mh=ta+"controllers/vive/vr_controller_vive.mtl",gh="htc-vive",vh=(ec("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0}},after:["tracked-controls"],mapping:{axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","none"]},init:function(){var e=this;this.controllerPresent=!1,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.previousButtonValues={},this.bindMethods()},update:function(){var e=this.data;this.controllerIndex="right"===e.hand?0:"left"===e.hand?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var e=this.data;Ms(this,gh,{index:this.controllerIndex,hand:e.hand})},injectTrackedControls:function(){var e=this.el,t=this.data;e.setAttribute("tracked-controls",{idPrefix:gh,hand:t.hand,controller:this.controllerIndex}),this.data.model&&this.el.setAttribute("obj-model",{obj:fh,mtl:mh})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(e){var t,n=this.mapping.buttons[e.detail.id],r=this.buttonMeshes;n&&("trigger"===n&&(t=e.detail.state.value,r&&r.trigger&&(r.trigger.rotation.x=-t*(Math.PI/12))),this.el.emit(n+"changed",e.detail.state))},onModelLoaded:function(e){var t,n=e.detail.model,r=this;e.target===this.el&&this.data.model&&((t=this.buttonMeshes={}).grip={left:n.getObjectByName("leftgrip"),right:n.getObjectByName("rightgrip")},t.menu=n.getObjectByName("menubutton"),t.system=n.getObjectByName("systembutton"),t.trackpad=n.getObjectByName("touchpad"),t.touchpad=n.getObjectByName("touchpad"),t.trigger=n.getObjectByName("trigger"),Object.keys(t).forEach((function(e){r.setButtonColor(e,r.data.buttonColor)})),n.position.set(0,-.015,.04))},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)},updateModel:function(e,t){var n;this.data.model&&(-1!==t.indexOf("touch")||(n="up"===t?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(e,n)))},setButtonColor:function(e,t){var n=this.buttonMeshes;if(n)return"grip"===e?(n.grip.left.material.color.set(t),void n.grip.right.material.color.set(t)):void n[e].material.color.set(t)}}),ta+"controllers/vive/focus-controller/focus-controller.gltf"),yh="htc-vive-focus",bh=(ec("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0}},after:["tracked-controls"],mapping:{axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var e=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.controllerPresent=!1,this.bindMethods()},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("model-loaded",this.onModelLoaded),e.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("model-loaded",this.onModelLoaded),e.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){Ms(this,yh,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){this.el.setAttribute("tracked-controls",{idPrefix:yh}),this.data.model&&this.el.setAttribute("gltf-model",vh)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(e){var t,n=e.detail.model;e.target===this.el&&this.data.model&&((t=this.buttonMeshes={}).trigger=n.getObjectByName("BumperKey"),t.triggerPressed=n.getObjectByName("BumperKey_Press"),t.triggerPressed&&(t.triggerPressed.visible=!1),t.touchpad=n.getObjectByName("TouchPad"),t.touchpadPressed=n.getObjectByName("TouchPad_Press"),t.trackpad=n.getObjectByName("TouchPad"),t.trackpadPressed=n.getObjectByName("TouchPad_Press"),t.trackpadPressed&&(t.trackpadPressed.visible=!1))},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&this.el.emit(t+"changed",e.detail.state)},onAxisMoved:function(e){Rs(this,this.mapping.axes,e)},updateModel:function(e,t){this.data.model&&this.updateButtonModel(e,t)},updateButtonModel:function(e,t){var n=this.buttonMeshes,r=e+"Pressed";if(n&&n[e]&&n[r]){var i;switch(t){case"down":i=this.data.buttonHighlightColor;break;case"touchstart":i=this.data.buttonTouchedColor}i&&n[r].material.color.set(i),n[r].visible=!!i,n[e].visible=!i}}}),{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}),Ah=$s,xh=1e-5,wh=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];ec("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},after:["look-controls"],init:function(){this.keys={},this.easing=1.1,this.velocity=new Sr.Vector3,this.onBlur=this.onBlur.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.attachVisibilityEventListeners()},tick:function(e,t){var n=this.data,r=this.el,i=this.velocity;(i[n.adAxis]||i[n.wsAxis]||!function(e){var t;for(t in e)return!1;return!0}(this.keys))&&(t/=1e3,this.updateVelocity(t),(i[n.adAxis]||i[n.wsAxis])&&r.object3D.position.add(this.getMovementVector(t)))},update:function(e){e.adAxis!==this.data.adAxis&&(this.velocity[e.adAxis]=0),e.wsAxis!==this.data.wsAxis&&(this.velocity[e.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(e){var t,n,r,i,o,a=this.data,s=this.keys,l=this.velocity;if(n=a.adAxis,i=a.wsAxis,e>.2)return l[n]=0,void(l[i]=0);var c=Math.pow(1/this.easing,60*e);0!==l[n]&&(l[n]=l[n]*c),0!==l[i]&&(l[i]=l[i]*c),Math.abs(l[n])<xh&&(l[n]=0),Math.abs(l[i])<xh&&(l[i]=0),a.enabled&&(t=a.acceleration,a.adEnabled&&(r=a.adInverted?-1:1,(s.KeyA||s.ArrowLeft)&&(l[n]-=r*t*e),(s.KeyD||s.ArrowRight)&&(l[n]+=r*t*e)),a.wsEnabled&&(o=a.wsInverted?-1:1,(s.KeyW||s.ArrowUp)&&(l[i]-=o*t*e),(s.KeyS||s.ArrowDown)&&(l[i]+=o*t*e)))},getMovementVector:(sh=new Sr.Vector3(0,0,0),lh=new Sr.Euler(0,0,0,"YXZ"),function(e){var t,n=this.el.getAttribute("rotation"),r=this.velocity;return sh.copy(r),sh.multiplyScalar(e),n?(t=this.data.fly?n.x:0,lh.set(Sr.MathUtils.degToRad(t),Sr.MathUtils.degToRad(n.y),0),sh.applyEuler(lh),sh):sh}),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var e=Object.keys(this.keys),t=0;t<e.length;t++)delete this.keys[e[t]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(e){var t;Ah(e)&&(t=e.code||bh[e.keyCode],-1!==wh.indexOf(t)&&(this.keys[t]=!0))},onKeyUp:function(e){var t;t=e.code||bh[e.keyCode],delete this.keys[t]}});var Ch,Eh,Sh,_h=sa("components:windows-motion-controls:debug"),Mh=sa("components:windows-motion-controls:warn"),Ih=ta+"controllers/microsoft/",Th={left:"left.glb",right:"right.glb",default:"universal.glb"},Rh="windows-mixed-reality",kh=(ec("windows-motion-controls",{schema:{hand:{default:"right"},pair:{default:0},model:{default:!0}},after:["tracked-controls"],mapping:{axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},bindMethods:function(){this.onModelError=this.onModelError.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var e=this,t=this.el;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(t){ks(t.detail.id,"down",e)},this.onButtonUp=function(t){ks(t.detail.id,"up",e)},this.onButtonTouchStart=function(t){ks(t.detail.id,"touchstart",e)},this.onButtonTouchEnd=function(t){ks(t.detail.id,"touchend",e)},this.onControllerConnected=function(){e.setModelVisibility(!0)},this.onControllerDisconnected=function(){e.setModelVisibility(!1)},this.controllerPresent=!1,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new Sr.Vector3,direction:new Sr.Vector3(0,0,-1),createdFromMesh:!1},t.addEventListener("controllerconnected",this.onControllerConnected),t.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var e=this.el;e.addEventListener("buttonchanged",this.onButtonChanged),e.addEventListener("buttondown",this.onButtonDown),e.addEventListener("buttonup",this.onButtonUp),e.addEventListener("touchstart",this.onButtonTouchStart),e.addEventListener("touchend",this.onButtonTouchEnd),e.addEventListener("axismove",this.onAxisMoved),e.addEventListener("model-error",this.onModelError),e.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var e=this.el;e.removeEventListener("buttonchanged",this.onButtonChanged),e.removeEventListener("buttondown",this.onButtonDown),e.removeEventListener("buttonup",this.onButtonUp),e.removeEventListener("touchstart",this.onButtonTouchStart),e.removeEventListener("touchend",this.onButtonTouchEnd),e.removeEventListener("axismove",this.onAxisMoved),e.removeEventListener("model-error",this.onModelError),e.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){Ms(this,Rh,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(this.data.model&&!this.rayOrigin.createdFromMesh){var e=this.createControllerModelUrl();this.loadModel(e)}else this.modelReady()},createControllerModelUrl:function(e){var t=this.data.hand;return Ih+"default/"+(Th[t]||Th.default)},injectTrackedControls:function(){var e=this.data;this.el.setAttribute("tracked-controls",{idPrefix:Rh,controller:e.pair,hand:e.hand}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(e){var t=this.createControllerModelUrl(!0);e.detail.src!==t?(Mh("Failed to load controller model for device, attempting to load default."),this.loadModel(t)):Mh("Failed to load default controller model.")},loadModel:function(e){this.el.setAttribute("gltf-model","url("+e+")")},onModelLoaded:function(e){var t,n,r,i,o=this.controllerModel=e.detail.model,a=this.loadedMeshInfo;if(e.target===this.el){if(_h("Processing model"),a.buttonMeshes={},a.axisMeshes={},o){for(t=0;t<this.mapping.buttons.length;t++)(n=this.mapping.buttonMeshNames[this.mapping.buttons[t]])?(r=o.getObjectByName(n))?(i={index:t,value:s(r,"VALUE"),pressed:s(r,"PRESSED"),unpressed:s(r,"UNPRESSED")}).value&&i.pressed&&i.unpressed?a.buttonMeshes[this.mapping.buttons[t]]=i:Mh("Missing button submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", PRESSED: "+!!i.pressed+", UNPRESSED:"+!!i.unpressed+")"):Mh("Missing button mesh with name: "+n):_h("Skipping unknown button at index: "+t+" with mapped name: "+this.mapping.buttons[t]);for(t=0;t<this.mapping.axisMeshNames.length;t++)(n=this.mapping.axisMeshNames[t])?(r=o.getObjectByName(n))?(i={index:t,value:s(r,"VALUE"),min:s(r,"MIN"),max:s(r,"MAX")}).value&&i.min&&i.max?a.axisMeshes[t]=i:Mh("Missing axis submesh under mesh with name: "+n+"(VALUE: "+!!i.value+", MIN: "+!!i.min+", MAX:"+!!i.max+")"):Mh("Missing axis mesh with name: "+n):_h("Skipping unknown axis at index: "+t);this.calculateRayOriginFromMesh(o),this.setModelVisibility()}_h("Model load complete.")}function s(e,t){for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];if(i&&i.name===t)return i}}},calculateRayOriginFromMesh:function(){var e=new Sr.Quaternion;return function(t){var n;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,n=t.getObjectByName(this.mapping.pointingPoseMeshName)){var r=t.parent;r&&(t.parent=null,t.updateMatrixWorld(!0),t.parent=r),n.getWorldPosition(this.rayOrigin.origin),n.getWorldQuaternion(e),this.rayOrigin.direction.applyQuaternion(e),r&&t.updateMatrixWorld(!0)}else _h("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var e=new Sr.Quaternion;return function(t,n){var r=this.loadedMeshInfo.axisMeshes[t];if(r){var i=r.min,o=r.max,a=r.value,s=.5*n+.5;a.setRotationFromQuaternion(e.copy(i.quaternion).slerp(o.quaternion,s)),a.position.lerpVectors(i.position,o.position,s)}}}(),lerpButtonTransform:function(){var e=new Sr.Quaternion;return function(t,n){var r=this.loadedMeshInfo.buttonMeshes[t];if(r){var i=r.unpressed,o=r.pressed,a=r.value;a.setRotationFromQuaternion(e.copy(i.quaternion).slerp(o.quaternion,n)),a.position.lerpVectors(i.position,o.position,n)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(e){var t=this.mapping.buttons[e.detail.id];t&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(t,e.detail.state.value),this.el.emit(t+"changed",e.detail.state))},onAxisMoved:function(e){var t=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var n=0;n<t;n++)this.lerpAxisTransform(n,e.detail.axis[n]||0);Rs(this,this.mapping.axes,e)},setModelVisibility:function(e){var t=this.el.getObject3D("mesh");this.controllerPresent&&(e=void 0!==e?e:this.modelVisible,this.modelVisible=e,t&&(t.visible=e))}}),Ch=new Sr.Quaternion,Eh=new Sr.Vector3,function(e,t,n){t.position.copy(e.transform.position),t.quaternion.copy(e.transform.orientation),Eh.copy(n),Ch.copy(e.transform.orientation),Eh.applyQuaternion(Ch),t.position.sub(Eh)});function Ph(e,t){this.renderer=e,this.xrHitTestSource=null,e.xr.addEventListener("sessionend",function(){this.xrHitTestSource=null}.bind(this)),e.xr.addEventListener("sessionstart",function(){this.sessionStart(t)}.bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(t)}function Bh(e){console.warn(e.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}kh.tempFakePose={transform:{orientation:new Sr.Quaternion,position:new Sr.Vector3}},Ph.prototype.previousFrameAnchors=new Set,Ph.prototype.anchorToObject3D=new Map,Ph.prototype.sessionStart=function(e){this.session=this.renderer.xr.getSession(),"requestHitTestSource"in this.session?e.space?this.session.requestHitTestSource(e).then(function(e){this.xrHitTestSource=e}.bind(this)).catch(Bh):e.profile&&this.session.requestHitTestSourceForTransientInput(e).then(function(e){this.xrHitTestSource=e,this.transient=!0}.bind(this)).catch(Bh):Bh({message:"No requestHitTestSource on the session."})},Ph.prototype.anchorFromLastHitTestResult=function(e,t){var n=this.lastHitTest;if(n){var r={object3D:e,offset:t};Array.from(this.anchorToObject3D.entries()).forEach(function(t){var n=t[1].object3D,r=t[0];n===e&&(this.anchorToObject3D.delete(r),r.delete())}.bind(this)),n.createAnchor&&n.createAnchor().then(function(e){this.anchorToObject3D.set(e,r)}.bind(this)).catch((function(e){console.warn(e.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')}))}},Ph.prototype.doHit=function(e){if(this.renderer.xr.isPresenting){var t,n,r=this.renderer.xr.getReferenceSpace(),i=e.getViewerPose(r);return this.xrHitTestSource&&i?this.transient?(t=e.getHitTestResultsForTransientInput(this.xrHitTestSource)).length>0&&(n=t[0].results).length>0&&(this.lastHitTest=n[0],n[0].getPose(r)):(t=e.getHitTestResults(this.xrHitTestSource)).length>0&&(this.lastHitTest=t[0],t[0].getPose(r)):void 0}},Ph.updateAnchorPoses=function(e,t){var n=e.trackedAnchors||Ph.prototype.previousFrameAnchors;Ph.prototype.previousFrameAnchors.forEach((function(e){n.has(e)||Ph.prototype.anchorToObject3D.delete(e)})),n.forEach((function(n){var r,i,o,a;try{if(r=e.getPose(n.anchorSpace,t)){if(!(i=Ph.prototype.anchorToObject3D.get(n)))return;o=i.offset,a=i.object3D,kh(r,a,o)}}catch(e){console.error("while updating anchor poses:",e)}})),Ph.prototype.previousFrameAnchors=n},ec("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:"data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},sceneOnly:!0,init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new Sr.OrthographicCamera,this.orthoCam.layers.set(21),this.textureTarget=new Sr.WebGLRenderTarget(512,512,{}),this.basicMaterial=new Sr.MeshBasicMaterial({color:0,side:Sr.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new Sr.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var e=this.el.getAttribute("webxr"),t=e.optionalFeatures;t.includes("hit-test")&&t.includes("anchors")||(t.push("hit-test"),t.push("anchors"),this.el.setAttribute("webxr",e)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",function(){this.hitTest=null}.bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",function(){if(this.el.is("ar-mode")){var e=this.el.sceneEl.renderer,t=this.session=e.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,Sh||(Sh=new Map),t.requestReferenceSpace("viewer").then(function(t){this.viewerHitTest=this.hitTest=new Ph(e,{space:t}),this.el.emit("ar-hit-test-start")}.bind(this));var n=this;this.el.sceneEl.addEventListener("controllersupdated",(function(){var t=this.xrSession&&this.xrSession.inputSources;if(t)for(var r=0;r<t.length;++r)if("tracked-pointer"===t[r].targetRayMode){n.hitTest=new Ph(e,{space:t[r].targetRaySpace}),Sh.set(t[r],n.hitTest),n.viewerHitTest&&"function"==typeof n.viewerHitTest.cancel&&(n.viewerHitTest.cancel(),n.viewerHitTest=null);break}}));var r="generic-touchscreen",i=new Ph(e,{profile:r});t.addEventListener("selectstart",function(t){if(!0===this.data.enabled){var n=t.inputSource;this.bboxMesh.visible=!0,!0===this.hasPosedOnce&&(this.el.emit("ar-hit-test-select-start",{inputSource:n,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),n.profiles[0]===r?this.hitTest=i:(this.hitTest=Sh.get(n)||new Ph(e,{space:n.targetRaySpace}),Sh.set(n,this.hitTest)))}}.bind(this)),t.addEventListener("selectend",function(e){if(this.hitTest&&!0===this.data.enabled){var t,n=e.inputSource;!0===this.hasPosedOnce&&(this.bboxMesh.visible=!1,this.data.target&&(t=this.data.target.object3D)&&(kh.tempFakePose.transform.position.copy(this.bboxMesh.position),kh.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),kh(kh.tempFakePose,t,this.bboxOffset),t.visible=!0,this.hitTest.anchorFromLastHitTestResult(t,this.bboxOffset)),this.el.emit("ar-hit-test-select",{inputSource:n,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),this.hitTest=null)}else this.hitTest=null}.bind(this))}}.bind(this)),this.bboxOffset=new Sr.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){!1===this.data.enabled&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(21),this.data.target.object3D.traverse((function(e){e.layers.enable(21)}))):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var e=new Sr.PlaneGeometry(1,1),t=new Sr.MeshBasicMaterial({transparent:!0,color:16777215});e.rotateX(-Math.PI/2),e.rotateY(-Math.PI/2),this.bbox=new Sr.Box3,this.bboxMesh=new Sr.Mesh(e,t),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var e,t,n,r=this.el.sceneEl.renderer,i=r.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),t=r.getRenderTarget(),r.setRenderTarget(this.textureTarget),r.xr.enabled=!1,n=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,r.render(this.el.object3D,this.orthoCam),this.el.object3D.background=n,this.el.object3D.overrideMaterial=null,r.xr.enabled=i,r.setRenderTarget(t),r.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),e=this.context.getImageData(0,0,512,512);for(var o=0;o<262144;o++)0!==e.data[4*o+3]&&255!==e.data[4*o+3]&&(e.data[4*o+3]=128);this.context.putImageData(e,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var e,t,n=this.el.sceneEl.frame,r=this.el.sceneEl.renderer;n&&Ph.updateAnchorPoses(n,r.xr.getReferenceSpace()),this.bboxNeedsUpdate&&(this.bboxNeedsUpdate=!1,this.data.target&&"map"!==this.data.type||(this.textureCache.has(this.data.src)?t=this.textureCache.get(this.data.src):(t=(new Sr.TextureLoader).load(this.data.src),this.textureCache.set(this.data.src,t)),this.bboxMesh.material.map=t,this.bboxMesh.material.needsUpdate=!0),this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),"footprint"===this.data.type&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)),this.hitTest&&(e=this.hitTest.doHit(n))&&(!0!==this.hasPosedOnce&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(e.transform.position),this.bboxMesh.quaternion.copy(e.transform.orientation))}}),ec("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},sceneOnly:!0,update:function(){var e=this.data,t=this.el.object3D;e.transparent?t.background=null:t.background=new Sr.Color(e.color)},remove:function(){this.el.object3D.background=null}}),ec("debug",{schema:{default:!0},sceneOnly:!0});var Oh="a-dialog-buttons-container",Lh="a-dialog-button";function Dh(e,t){var n,r,i,o;return(n=document.createElement("div")).classList.add("a-modal"),n.setAttribute(na,""),(r=document.createElement("div")).className="a-dialog",r.setAttribute(na,""),n.appendChild(r),(i=document.createElement("div")).classList.add("a-dialog-text-container"),r.appendChild(i),(o=document.createElement("div")).classList.add("a-dialog-text"),o.innerHTML=e,i.appendChild(o),r.appendChild(t),n}ec("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},sceneOnly:!0,init:function(){var e=this;this.data.enabled&&(window.isSecureContext||this.showHTTPAlert(),"undefined"!=typeof DeviceOrientationEvent&&DeviceOrientationEvent.requestPermission?(this.onDeviceMotionDialogAllowClicked=this.onDeviceMotionDialogAllowClicked.bind(this),this.onDeviceMotionDialogDenyClicked=this.onDeviceMotionDialogDenyClicked.bind(this),DeviceOrientationEvent.requestPermission().then((function(){e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0})).catch((function(){var t,n,r,i,o,a,s,l;e.devicePermissionDialogEl=(t=e.data.denyButtonText,n=e.data.allowButtonText,r=e.data.deviceMotionMessage,i=e.onDeviceMotionDialogAllowClicked,o=e.onDeviceMotionDialogDenyClicked,(a=document.createElement("div")).classList.add(Oh),(s=document.createElement("button")).classList.add(Lh,"a-dialog-deny-button"),s.setAttribute(na,""),s.innerHTML=t,a.appendChild(s),(l=document.createElement("button")).classList.add(Lh,"a-dialog-allow-button"),l.setAttribute(na,""),l.innerHTML=n,a.appendChild(l),l.addEventListener("click",(function(e){e.stopPropagation(),i()})),s.addEventListener("click",(function(e){e.stopPropagation(),o()})),Dh(r,a)),e.el.appendChild(e.devicePermissionDialogEl)}))):this.permissionGranted=!0)},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var e,t,n,r,i,o=this,a=(e=o.data.cancelButtonText,t=o.data.httpsMessage,n=function(){o.el.removeChild(a)},(r=document.createElement("div")).classList.add(Oh),(i=document.createElement("button")).classList.add(Lh,"a-dialog-ok-button"),i.setAttribute(na,""),i.innerHTML=e,r.appendChild(i),i.addEventListener("click",(function(e){e.stopPropagation(),n()})),Dh(t,r));this.el.appendChild(a)},onDeviceMotionDialogAllowClicked:function(){var e=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t?(e.el.emit("deviceorientationpermissiongranted"),e.permissionGranted=!0):e.el.emit("deviceorientationpermissionrejected"),e.remove()})).catch(console.error)}}),ec("embedded",{dependencies:["xr-mode-ui"],schema:{default:!0},sceneOnly:!0,update:function(){var e=this.el,t=e.querySelector(".a-enter-vr");!0===this.data?(t&&t.classList.add("embedded"),e.removeFullScreenStyles()):(t&&t.classList.remove("embedded"),e.addFullScreenStyles())}}),ec("inspector",{schema:{url:{default:"https://unpkg.com/aframe-inspector@"+function(){var e=eu.split(".");return e[2]="x",e.join(".")}()+"/dist/aframe-inspector.min.js"}},sceneOnly:!0,init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var e;this.firstPlay&&"false"!==(e=Ys("inspector"))&&e&&(this.openInspector(),this.firstPlay=!1)},initOverlay:function(){this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML='Loading Inspector<span class="dots"><span>.</span><span>.</span><span>.</span></span>'},remove:function(){this.removeEventListeners()},onKeydown:function(e){73===e.keyCode&&(e.ctrlKey&&e.altKey||e.getModifierState("AltGraph"))&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(e){"INJECT_AFRAME_INSPECTOR"===e.data&&this.openInspector()},openInspector:function(e){var t,n=this;AFRAME.INSPECTOR||AFRAME.inspectorInjected?AFRAME.INSPECTOR.open(e):(this.showLoader(),(t=document.createElement("script")).src=this.data.url,t.setAttribute("data-name","aframe-inspector"),t.setAttribute(na,""),t.onload=function(){AFRAME.INSPECTOR.open(e),n.hideLoader(),n.removeEventListeners()},t.onerror=function(){n.loadingMessageEl.innerHTML="Error loading Inspector"},document.head.appendChild(t),AFRAME.inspectorInjected=!0)},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}}),ec("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},sceneOnly:!0,update:function(){var e=this.data,t=this.el,n=this.el.object3D.fog;n&&e.type===n.name?Object.keys(this.schema).forEach((function(t){var r=e[t];"color"===t&&(r=new Sr.Color(r)),n[t]=r})):t.object3D.fog=function(e){var t;return(t="exponential"===e.type?new Sr.FogExp2(e.color,e.density):new Sr.Fog(e.color,e.near,e.far)).name=e.type,t}(e)},remove:function(){var e=this.el;this.el.object3D.fog&&(e.object3D.fog=null)}}),ec("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},sceneOnly:!0,init:function(){this.onKeyup=this.onKeyup.bind(this)},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(e){var t=this.el;$s(e)&&(this.data.enterVR&&70===e.keyCode&&t.enterVR(),this.data.exitVR&&27===e.keyCode&&t.exitVR())}});var Nh=sa("components:pool:warn");ec("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},sceneOnly:!0,multiple:!0,initPool:function(){var e;for(this.availableEls=[],this.usedEls=[],this.data.mixin||Nh("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||Nh("Container "+this.data.container+" not found.")),this.container=this.container||this.el,e=0;e<this.data.size;++e)this.createEntity()},update:function(e){var t=this.data;e.mixin===t.mixin&&e.size===t.size||this.initPool()},createEntity:function(){var e;(e=document.createElement("a-entity")).play=this.wrapPlay(e.play),e.setAttribute("mixin",this.data.mixin),e.object3D.visible=!1,e.pause(),this.container.appendChild(e),this.availableEls.push(e);var t=this.usedEls;e.addEventListener("loaded",(function(){-1===t.indexOf(e)&&(e.object3DParent=e.object3D.parent,e.object3D.parent.remove(e.object3D))}))},wrapPlay:function(e){var t=this.usedEls;return function(){-1!==t.indexOf(this)&&e.call(this)}},requestEntity:function(){var e;if(0===this.availableEls.length){if(!1===this.data.dynamic)return void Nh("Requested entity from empty pool: "+this.attrName);Nh("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName),this.createEntity()}return e=this.availableEls.shift(),this.usedEls.push(e),e.object3DParent&&(e.object3DParent.add(e.object3D),this.updateRaycasters()),e.object3D.visible=!0,e},returnEntity:function(e){var t=this.usedEls.indexOf(e);if(-1!==t)return this.usedEls.splice(t,1),this.availableEls.push(e),e.object3DParent=e.object3D.parent,e.object3D.parent.remove(e.object3D),this.updateRaycasters(),e.object3D.visible=!1,e.pause(),e;Nh("The returned entity was not previously pooled from "+this.attrName)},updateRaycasters:function(){document.querySelectorAll("[raycaster]").forEach((function(e){e.components.raycaster.setDirty()}))}}),ec("real-world-meshing",{schema:{filterLabels:{type:"array"},meshesEnabled:{default:!0},meshMixin:{default:!0},planesEnabled:{default:!0},planeMixin:{default:""}},sceneOnly:!0,init:function(){var e=this.el.getAttribute("webxr"),t=e.requiredFeatures;-1===t.indexOf("mesh-detection")&&(t.push("mesh-detection"),this.el.setAttribute("webxr",e)),-1===t.indexOf("plane-detection")&&(t.push("plane-detection"),this.el.setAttribute("webxr",e)),this.meshEntities=[],this.initWorldMeshEntity=this.initWorldMeshEntity.bind(this)},tick:function(){this.el.is("ar-mode")&&(this.detectMeshes(),this.updateMeshes())},detectMeshes:function(){var e,t,n,r=this.data,i=this.el,o=this.meshEntities,a=!1,s=[],l=this.data.filterLabels;e=(n=i.frame).detectedMeshes,t=n.detectedPlanes;for(var c=0;c<o.length;c++)o[c].present=!1;if(r.meshesEnabled)for(var u of e.values())if(!l.length||-1!==l.indexOf(u.semanticLabel)){for(c=0;c<o.length;c++)if(u===o[c].mesh){a=!0,o[c].present=!0,o[c].lastChangedTime<u.lastChangedTime&&this.updateMeshGeometry(o[c].el,u),o[c].lastChangedTime=u.lastChangedTime;break}a||s.push(u),a=!1}if(r.planesEnabled)for(u of t.values())if(!l.length||-1!==l.indexOf(u.semanticLabel)){for(c=0;c<o.length;c++)if(u===o[c].mesh){a=!0,o[c].present=!0,o[c].lastChangedTime<u.lastChangedTime&&this.updateMeshGeometry(o[c].el,u),o[c].lastChangedTime=u.lastChangedTime;break}a||s.push(u),a=!1}this.deleteMeshes(),this.createNewMeshes(s)},updateMeshes:function(){var e=new Sr.Matrix4;return function(){for(var t,n,r,i=this.el,o=i.frame,a=this.meshEntities,s=i.renderer.xr.getReferenceSpace(),l=0;l<a.length;l++)r=a[l].mesh.meshSpace||a[l].mesh.planeSpace,t=o.getPose(r,s),(n=a[l].el).hasLoaded&&(e.fromArray(t.transform.matrix),e.decompose(n.object3D.position,n.object3D.quaternion,n.object3D.scale))}}(),deleteMeshes:function(){for(var e=this.meshEntities,t=[],n=0;n<e.length;n++)e[n].present?t.push(e[n]):this.el.removeChild(e[n]);this.meshEntities=t},createNewMeshes:function(e){for(var t,n=0;n<e.length;n++)t=document.createElement("a-entity"),this.meshEntities.push({mesh:e[n],el:t}),t.addEventListener("loaded",this.initWorldMeshEntity),this.el.appendChild(t)},initMeshGeometry:function(e){var t,n,r;if(e instanceof XRPlane){n=new Sr.Shape,r=e.polygon;for(var i=0;i<r.length;++i)0===i?n.moveTo(r[i].x,r[i].z):n.lineTo(r[i].x,r[i].z);return(t=new Sr.ShapeGeometry(n)).rotateX(Math.PI/2),t}return(t=new Sr.BufferGeometry).setAttribute("position",new Sr.BufferAttribute(e.vertices,3)),t.setIndex(new Sr.BufferAttribute(e.indices,1)),t},initWorldMeshEntity:function(e){for(var t,n,r,i=e.target,o=this.meshEntities,a=0;a<o.length;a++)if(o[a].el===i){r=o[a];break}t=this.initMeshGeometry(r.mesh),n=new Sr.Mesh(t,new Sr.MeshBasicMaterial({color:16777215*Math.random(),side:Sr.DoubleSide})),i.setObject3D("mesh",n),r.mesh instanceof XRPlane&&this.data.planeMixin?i.setAttribute("mixin",this.data.planeMixin):this.data.meshMixin&&i.setAttribute("mixin",this.data.meshMixin),i.setAttribute("data-world-mesh",r.mesh.semanticLabel)},updateMeshGeometry:function(e,t){var n=e.getObject3D("mesh");n.geometry.dispose(),n.geometry=this.initMeshGeometry(t)}}),ec("reflection",{schema:{directionalLight:{type:"selector"}},sceneOnly:!0,init:function(){var e=this;this.cubeRenderTarget=new Sr.WebGLCubeRenderTarget(16),this.cubeCamera=new Sr.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new Sr.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var t=this.el.getAttribute("webxr"),n=t.optionalFeatures;n.includes("light-estimation")||(n.push("light-estimation"),this.el.setAttribute("webxr",t)),this.el.addEventListener("enter-vr",(function(){e.el.is("ar-mode")&&e.el.renderer.xr.getSession().requestLightProbe&&e.startLightProbe()})),this.el.addEventListener("exit-vr",(function(){e.xrLightProbe&&e.stopLightProbe()})),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var e=this.el.renderer,t=e.xr.getSession(),n=this,r=e.getContext();if(!this.probeLight){var i=document.createElement("a-light");i.setAttribute("type","probe"),i.setAttribute("intensity",0),this.el.appendChild(i),this.probeLight=i}switch(t.preferredReflectionFormat){case"srgba8":r.getExtension("EXT_sRGB");break;case"rgba16f":r.getExtension("OES_texture_half_float")}this.glBinding=new XRWebGLBinding(t,r),r.getExtension("EXT_sRGB"),r.getExtension("OES_texture_half_float"),t.requestLightProbe().then((function(e){n.xrLightProbe=e,e.addEventListener("reflectionchange",n.updateXRCubeMap.bind(n))})).catch((function(e){console.warn("Lighting estimation not supported: "+e.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')}))},updateXRCubeMap:function(){var e=this.el.renderer,t=this.glBinding.getReflectionCubeMap(this.xrLightProbe);t&&(e.properties.get(this.lightingEstimationTexture).__webglTexture=t,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture)},tick:function(){var e=this.el.object3D,t=this.el.renderer,n=this.el.frame;if(n&&this.xrLightProbe){var r=n.getLightEstimate(this.xrLightProbe);r&&function(e,t,n,r){var i=Math.max(e.primaryLightIntensity.x,Math.max(e.primaryLightIntensity.y,e.primaryLightIntensity.z));t.sh.fromArray(e.sphericalHarmonicsCoefficients),t.intensity=3.14,n&&(n.color.setRGB(e.primaryLightIntensity.x/i,e.primaryLightIntensity.y/i,e.primaryLightIntensity.z/i),n.intensity=i,r.copy(e.primaryLightDirection))}(r,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(e.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(t,e),e.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&n&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}});var Fh=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),jh=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join("\n"),Uh=(ec("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},sceneOnly:!0,setup:function(){var e=this.el;if(!this.canvas){var t=e.renderer.getContext();t&&(this.cubeMapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.material=new Sr.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:Fh,fragmentShader:jh,side:Sr.DoubleSide}),this.quad=new Sr.Mesh(new Sr.PlaneGeometry(1,1),this.material),this.quad.visible=!1,this.camera=new Sr.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),e.object3D.add(this.quad),this.onKeyDown=this.onKeyDown.bind(this))}},getRenderTarget:function(e,t){return new Sr.WebGLRenderTarget(e,t,{colorSpace:this.el.sceneEl.renderer.outputColorSpace,minFilter:Sr.LinearFilter,magFilter:Sr.LinearFilter,wrapS:Sr.ClampToEdgeWrapping,wrapT:Sr.ClampToEdgeWrapping,format:Sr.RGBAFormat,type:Sr.UnsignedByteType})},resize:function(e,t){this.quad.scale.set(e,t,1),this.camera.left=-1*e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-1*t/2,this.camera.updateProjectionMatrix(),this.canvas.width=e,this.canvas.height=t},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(e){var t=83===e.keyCode&&e.ctrlKey&&e.altKey;if(this.data&&t){var n=e.shiftKey?"equirectangular":"perspective";this.capture(n)}},setCapture:function(e){var t,n,r,i,o=this.el;return"perspective"===e?(this.quad.visible=!1,n=this.data.camera&&this.data.camera.components.camera.camera||o.camera,t={width:this.data.width,height:this.data.height}):(n=this.camera,i=new Sr.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:Sr.RGBFormat,generateMipmaps:!0,minFilter:Sr.LinearMipmapLinearFilter,colorSpace:Sr.SRGBColorSpace}),r=new Sr.CubeCamera(o.camera.near,o.camera.far,i),o.camera.getWorldPosition(r.position),o.camera.getWorldQuaternion(r.quaternion),r.update(o.renderer,o.object3D),this.quad.material.uniforms.map.value=r.renderTarget.texture,t={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:n,size:t,projection:e}},capture:function(e){var t,n=this.el.renderer.xr.enabled,r=this.el.renderer;this.setup(),r.xr.enabled=!1,t=this.setCapture(e),this.renderCapture(t.camera,t.size,t.projection),this.saveCapture(),r.xr.enabled=n},getCanvas:function(e){var t=this.el.renderer.xr.enabled,n=this.el.renderer;this.setup();var r=this.setCapture(e);return n.xr.enabled=!1,this.renderCapture(r.camera,r.size,r.projection),n.xr.enabled=t,this.canvas},renderCapture:function(e,t,n){var r,i,o,a=this.el.renderer.autoClear,s=this.el,l=s.renderer;i=this.getRenderTarget(t.width,t.height),o=new Uint8Array(4*t.width*t.height),this.resize(t.width,t.height),l.autoClear=!0,l.clear(),l.setRenderTarget(i),l.render(s.object3D,e),l.autoClear=a,l.readRenderTargetPixels(i,0,0,t.width,t.height,o),l.setRenderTarget(null),"perspective"===n&&(o=this.flipPixelsVertically(o,t.width,t.height)),r=new ImageData(new Uint8ClampedArray(o),t.width,t.height),this.quad.visible=!1,this.ctx.putImageData(r,0,0)},flipPixelsVertically:function(e,t,n){for(var r=e.slice(0),i=0;i<t;++i)for(var o=0;o<n;++o)r[4*i+o*t*4]=e[4*i+(n-o)*t*4],r[4*i+1+o*t*4]=e[4*i+1+(n-o)*t*4],r[4*i+2+o*t*4]=e[4*i+2+(n-o)*t*4],r[4*i+3+o*t*4]=e[4*i+3+(n-o)*t*4];return r},saveCapture:function(){this.canvas.toBlob((function(e){var t="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",n=document.createElement("a"),r=URL.createObjectURL(e);n.href=r,n.setAttribute("download",t),n.innerHTML="downloading...",n.style.display="none",document.body.appendChild(n),setTimeout((function(){n.click(),document.body.removeChild(n)}),1)}),"image/png")}}),$t(282)),zh=$t.n(Uh),Hh=($t(3729),$t(8132),window.aframeStats),Vh="a-hidden",Gh=window.threeStats;ec("stats",{schema:{default:!0},sceneOnly:!0,init:function(){var e=this.el;"false"!==Ys("stats")&&(this.stats=function(e){var t=new Gh(e.renderer),n=new Hh(e),r=e.isMobile?[]:[t,n];return new(zh())({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:r})}(e),this.statsEl=document.querySelector(".rs-base"),this.hideBound=this.hide.bind(this),this.showBound=this.show.bind(this),e.addEventListener("enter-vr",this.hideBound),e.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var e=this.stats;e&&(e("rAF").tick(),e("FPS").frame(),e().update())},hide:function(){this.statsEl.classList.add(Vh)},show:function(){this.statsEl.classList.remove(Vh)}});var Qh="a-hidden";function Wh(e){e.addEventListener("touchstart",(function(){e.classList.remove("resethover")}),{passive:!0}),e.addEventListener("touchend",(function(){e.classList.add("resethover")}),{passive:!0})}ec("xr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},enterVRButton:{default:""},enterVREnabled:{default:!0},enterARButton:{default:""},enterAREnabled:{default:!0},XRMode:{default:"vr",oneOf:["vr","ar","xr"]}},sceneOnly:!0,init:function(){var e=this,t=this.el;"false"!==Ys("ui")&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),t.addEventListener("enter-vr",this.updateEnterInterfaces),t.addEventListener("exit-vr",this.updateEnterInterfaces),t.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",(function(t){"loaderReady"===t.data.type&&(e.insideLoader=!0,e.remove())})),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=this.onEnterVRButtonClick.bind(this),this.onEnterARButtonClick=this.onEnterARButtonClick.bind(this),this.onModalClick=this.onModalClick.bind(this),this.toggleOrientationModalIfNeeded=this.toggleOrientationModalIfNeeded.bind(this),this.updateEnterInterfaces=this.updateEnterInterfaces.bind(this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var e,t,n,r=this.data,i=this.el;if(!r.enabled||this.insideLoader||"false"===Ys("ui"))return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(this.enterVREl||!r.enterVREnabled||"xr"!==r.XRMode&&"vr"!==r.XRMode||(r.enterVRButton?(this.enterVREl=document.querySelector(r.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=(e=this.onEnterVRButtonClick,(n=document.createElement("div")).classList.add("a-enter-vr"),n.setAttribute(na,""),(t=document.createElement("button")).className="a-enter-vr-button",t.setAttribute("title","Enter VR mode with a headset or fullscreen without"),t.setAttribute(na,""),xa()&&Wh(t),n.appendChild(t),t.addEventListener("click",(function(t){e(),t.stopPropagation()})),n),i.appendChild(this.enterVREl))),this.enterAREl||!r.enterAREnabled||"xr"!==r.XRMode&&"ar"!==r.XRMode||(r.enterARButton?(this.enterAREl=document.querySelector(r.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=function(e,t){var n,r;return(r=document.createElement("div")).classList.add("a-enter-ar"),t&&r.classList.add("xr"),r.setAttribute(na,""),(n=document.createElement("button")).className="a-enter-ar-button",n.setAttribute("title","Enter AR mode with a headset or handheld device."),n.setAttribute(na,""),xa()&&Wh(n),r.appendChild(n),n.addEventListener("click",(function(t){e(),t.stopPropagation()})),r}(this.onEnterARButtonClick,"xr"===r.XRMode),i.appendChild(this.enterAREl))),this.orientationModalEl=function(e){var t=document.createElement("div");t.className="a-orientation-modal",t.classList.add(Qh),t.setAttribute(na,"");var n=document.createElement("button");return n.setAttribute(na,""),n.innerHTML="Exit VR",n.addEventListener("click",e),t.appendChild(n),t}(this.onModalClick),i.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var e=this.el;this.enterVREl&&(e.is("vr-mode")||(e.isMobile||_a())&&!ya()?this.enterVREl.classList.add(Qh):(ya()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(Qh),e.enterVR(!1,!0)))},toggleEnterARButtonIfNeeded:function(){var e=this.el;this.enterAREl&&(e.is("vr-mode")||!va()?this.enterAREl.classList.add(Qh):(this.enterAREl.classList.remove(Qh),e.enterVR(!0,!0)))},toggleOrientationModalIfNeeded:function(){var e=this.el,t=this.orientationModalEl;t&&e.isMobile&&(!ka()&&e.is("vr-mode")?t.classList.remove(Qh):t.classList.add(Qh))}}),Oc("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new Sr.BoxGeometry(e.width,e.height,e.depth,e.segmentsWidth,e.segmentsHeight,e.segmentsDepth)}});var qh=Sr.MathUtils.degToRad;Oc("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new Sr.CircleGeometry(e.radius,e.segments,qh(e.thetaStart),qh(e.thetaLength))}});var $h=Sr.MathUtils.degToRad;Oc("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new Sr.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,$h(e.thetaStart),$h(e.thetaLength))}});var Xh=Sr.MathUtils.degToRad;Oc("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new Sr.CylinderGeometry(e.radius,e.radius,e.height,e.segmentsRadial,e.segmentsHeight,e.openEnded,Xh(e.thetaStart),Xh(e.thetaLength))}}),Oc("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new Sr.DodecahedronGeometry(e.radius,e.detail)}}),Oc("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new Sr.IcosahedronGeometry(e.radius,e.detail)}}),Oc("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new Sr.OctahedronGeometry(e.radius,e.detail)}}),Oc("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(e){this.geometry=new Sr.PlaneGeometry(e.width,e.height,e.segmentsWidth,e.segmentsHeight)}});var Kh=Sr.MathUtils.degToRad;Oc("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(e){this.geometry=new Sr.RingGeometry(e.radiusInner,e.radiusOuter,e.segmentsTheta,e.segmentsPhi,Kh(e.thetaStart),Kh(e.thetaLength))}});var Yh=Sr.MathUtils.degToRad;Oc("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(e){this.geometry=new Sr.SphereGeometry(e.radius,e.segmentsWidth,e.segmentsHeight,Yh(e.phiStart),Yh(e.phiLength),Yh(e.thetaStart),Yh(e.thetaLength))}}),Oc("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(e){this.geometry=new Sr.TetrahedronGeometry(e.radius,e.detail)}});var Jh=Sr.MathUtils.degToRad;Oc("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(e){this.geometry=new Sr.TorusGeometry(e.radius,2*e.radiusTubular,e.segmentsRadial,e.segmentsTubular,Jh(e.arc))}}),Oc("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(e){this.geometry=new Sr.TorusKnotGeometry(e.radius,2*e.radiusTubular,e.segmentsTubular,e.segmentsRadial,e.p,e.q)}});var Zh=new Sr.Quaternion,ep=new Sr.Vector3(0,0,1),tp=new Sr.Vector2,np=new Sr.Vector2,rp=new Sr.Vector2;function ip(e,t){return t.color.set(e.color),t.fog=e.fog,t.wireframe=e.wireframe,t.toneMapped=e.toneMapped,t.wireframeLinewidth=e.wireframeLinewidth,t}function op(e,t){return t.color.set(e.color),t.emissive.set(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.fog=e.fog,t.metalness=e.metalness,t.roughness=e.roughness,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}function ap(e,t){switch(t.color.set(e.color),t.specular.set(e.specular),t.emissive.set(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.fog=e.fog,t.transparent=e.transparent,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.shininess=e.shininess,t.flatShading=e.flatShading,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.reflectivity=e.reflectivity,t.refractionRatio=e.refractionRatio,e.combine){case"mix":t.combine=Sr.MixOperation;break;case"multiply":t.combine=Sr.MultiplyOperation;break;case"add":t.combine=Sr.AddOperation}return e.normalMap&&(t.normalScale=e.normalScale),e.ambientOcclusionMap&&(t.aoMapIntensity=e.ambientOcclusionMapIntensity),e.bumpMap&&(t.bumpScale=e.bumpMapScale),e.displacementMap&&(t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias),t}Oc("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(e){var t,n,r,i,o,a,s,l,c;(r=new Sr.Triangle).a.set(e.vertexA.x,e.vertexA.y,e.vertexA.z),r.b.set(e.vertexB.x,e.vertexB.y,e.vertexB.z),r.c.set(e.vertexC.x,e.vertexC.y,e.vertexC.z),n=r.getNormal(new Sr.Vector3),Zh.setFromUnitVectors(n,ep),i=r.a.clone().applyQuaternion(Zh),o=r.b.clone().applyQuaternion(Zh),a=r.c.clone().applyQuaternion(Zh),tp.set(Math.min(i.x,o.x,a.x),Math.min(i.y,o.y,a.y)),np.set(Math.max(i.x,o.x,a.x),Math.max(i.y,o.y,a.y)),rp.set(0,0).subVectors(np,tp),i=(new Sr.Vector2).subVectors(i,tp).divide(rp),o=(new Sr.Vector2).subVectors(o,tp).divide(rp),a=(new Sr.Vector2).subVectors(a,tp).divide(rp),t=this.geometry=new Sr.BufferGeometry,s=[r.a.x,r.a.y,r.a.z,r.b.x,r.b.y,r.b.z,r.c.x,r.c.y,r.c.z],l=[n.x,n.y,n.z,n.x,n.y,n.z,n.x,n.y,n.z],c=[i.x,i.y,o.x,o.y,a.x,a.y],t.setAttribute("position",new Sr.Float32BufferAttribute(s,3)),t.setAttribute("normal",new Sr.Float32BufferAttribute(l,3)),t.setAttribute("uv",new Sr.Float32BufferAttribute(c,2))}}),qc("flat",{schema:{color:{type:"color"},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(e){this.materialData={color:new Sr.Color},ip(e,this.materialData),this.material=new Sr.MeshBasicMaterial(this.materialData)},update:function(e){this.updateMaterial(e),ds(this,e)},updateMaterial:function(e){var t;for(t in ip(e,this.materialData),this.materialData)this.material[t]=this.materialData[t]}}),qc("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(e){this.materialData={color:new Sr.Color,emissive:new Sr.Color},op(e,this.materialData),this.material=new Sr.MeshStandardMaterial(this.materialData)},update:function(e){this.updateMaterial(e),ds(this,e),hs("normal",this,e),hs("displacement",this,e),hs("ambientOcclusion",this,e),hs("metalness",this,e),hs("roughness",this,e),fs(this,e)},updateMaterial:function(e){var t,n=this.material;for(t in op(e,this.materialData),this.materialData)n[t]=this.materialData[t]}}),qc("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(e){this.materialData={color:new Sr.Color,specular:new Sr.Color,emissive:new Sr.Color},ap(e,this.materialData),this.material=new Sr.MeshPhongMaterial(this.materialData);var t=this.el.sceneEl;Object.defineProperty(this.material,"envMap",{get:function(){return this._envMap||t.object3D.environment},set:function(e){this._envMap=e}})},update:function(e){this.updateMaterial(e),ds(this,e),hs("normal",this,e),hs("displacement",this,e),hs("ambientOcclusion",this,e),hs("bump",this,e),fs(this,e)},updateMaterial:function(e){var t;for(t in ap(e,this.materialData),this.materialData)this.material[t]=this.materialData[t]}}),qc("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join("\n"),fragmentShader:["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec2 uv = vUV;","  vec4 texColor = texture(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture(map, box.xy).a, width)","      + contour(texture(map, box.zw).a, width)","      + contour(texture(map, box.xw).a, width)","      + contour(texture(map, box.zy).a, width)","    )) / 3.0;","  }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color, opacity * alpha);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join("\n"),init:function(){return this.uniforms=this.initUniforms(),Sr.UniformsUtils&&(this.uniforms=Sr.UniformsUtils.merge([Sr.UniformsLib.fog,this.uniforms])),this.material=new Sr.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}}),qc("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},vertexShader:["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join("\n"),fragmentShader:["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join("\n"),init:function(){return this.uniforms=this.initUniforms(),Sr.UniformsUtils&&(this.uniforms=Sr.UniformsUtils.merge([Sr.UniformsLib.fog,this.uniforms])),this.material=new Sr.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}}),qc("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(e){this.material=new Sr.ShadowMaterial},update:function(e){this.material.opacity=e.opacity,this.material.alphaToCoverage=e.alphaToCoverage,this.material.transparent=e.transparent}});var sp="data-aframe-default-camera";function lp(e){var t=e.primitive,n=kc[t]&&kc[t].Geometry,r=new n;if(!n)throw new Error("Unknown geometry `"+t+"`");return r.init(e),r.geometry}lc("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var e,t,n=this.sceneEl,r=this;if(!n.camera||n.camera.el.getAttribute("camera").spectator)if((e=n.querySelectorAll("a-camera, :not(a-mixin)[camera]")).length)for(this.numUserCameras=e.length,t=0;t<e.length;t++)e[t].addEventListener("object3dset",(function(e){"camera"===e.detail.type&&r.checkUserCamera(this)})),e[t].isANode?e[t].load():e[t].addEventListener("nodeready",(function(){this.load()}));else this.createDefaultCamera();else n.emit("cameraready",{cameraEl:n.camera.el})},checkUserCamera:function(e){var t,n=this.el.sceneEl;this.numUserCamerasChecked++,this.initialCameraFound||((t=e.getAttribute("camera")).active&&!t.spectator?(this.initialCameraFound=!0,n.camera=e.getObject3D("camera"),n.emit("cameraready",{cameraEl:e})):this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera())},createDefaultCamera:function(){var e,t=this.sceneEl;(e=document.createElement("a-entity")).setAttribute("camera",{active:!0}),e.setAttribute("position",{x:0,y:1.6,z:0}),e.setAttribute("wasd-controls",""),e.setAttribute("look-controls",""),e.setAttribute(na,""),e.addEventListener("object3dset",(function(n){"camera"===n.detail.type&&(t.camera=n.detail.object,t.emit("cameraready",{cameraEl:e}))})),t.appendChild(e)},disableActiveCamera:function(){var e;(e=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"))[e.length-1].setAttribute("camera","active",!0)},setActiveCamera:function(e){var t,n,r,i,o=this.activeCameraEl,a=this.sceneEl;if((i=e.getObject3D("camera"))&&e!==this.activeCameraEl){var s=a.querySelector("["+sp+"]");for(e!==(s&&s.querySelector(":not(a-mixin)[camera]"))&&function(e){var t;e.camera&&(t=e.querySelector("["+sp+"]"))&&e.removeChild(t)}(a),this.activeCameraEl=e,this.activeCameraEl.play(),a.camera=i,o&&o.setAttribute("camera","active",!1),n=a.querySelectorAll(":not(a-mixin)[camera]"),r=0;r<n.length;r++)(t=n[r]).isEntity&&e!==t&&(t.setAttribute("camera","active",!1),t.pause());a.emit("camera-set-active",{cameraEl:e})}},setSpectatorCamera:function(e){var t,n=this.spectatorCameraEl,r=this.sceneEl;e.getObject3D("camera")&&e!==this.spectatorCameraEl&&(n&&n.setAttribute("camera","spectator",!1),t=this.spectatorCameraEl=e,r.addEventListener("enter-vr",this.wrapRender),r.addEventListener("exit-vr",this.unwrapRender),t.setAttribute("camera","active",!1),t.play(),r.emit("camera-set-spectator",{cameraEl:e}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){this.spectatorCameraEl&&!this.originalRender&&(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(e,t){var n,r,i=this.sceneEl;n=i.renderer.xr.enabled,this.originalRender.call(i.renderer,e,t),this.spectatorCameraEl&&!i.isMobile&&n&&(r=this.spectatorCameraEl.components.camera.camera,i.renderer.xr.enabled=!1,this.originalRender.call(i.renderer,e,r),i.renderer.xr.enabled=n)}}),lc("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(e){var t,n,r=this.cache;return e.skipCache?lp(e):(t=r[n=this.hash(e)],function(e,t){e[t]=void 0===e[t]?1:e[t]+1}(this.cacheCount,n),t||(t=lp(e),r[n]=t,t))},unuseGeometry:function(e){var t,n=this.cache,r=this.cacheCount;e.skipCache||n[t=this.hash(e)]&&(function(e,t){e[t]--}(r,t),r[t]>0||(n[t].dispose(),delete n[t],delete r[t]))},hash:function(e){return JSON.stringify(e)}}),lc("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.7/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var e=this.data.dracoDecoderPath,t=this.data.basisTranscoderPath,n=this.data.meshoptDecoderPath;!this.dracoLoader&&e&&(this.dracoLoader=new Mr,this.dracoLoader.setDecoderPath(e)),!this.ktx2Loader&&t&&(this.ktx2Loader=new ho,this.ktx2Loader.setTranscoderPath(t).detectSupport(this.el.renderer)),!this.meshoptDecoder&&n&&(this.meshoptDecoder=function(e){return new Promise((function(t,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=t,r.onerror=n,r.async=!0,r.src=e}))}(n).then((function(){return window.MeshoptDecoder.ready})).then((function(){return window.MeshoptDecoder})))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}});var cp="data-aframe-default-light",up=(lc("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",this.setupDefaultLights.bind(this))},registerLight:function(e){e.hasAttribute(cp)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var e,t=this.sceneEl;if(this.defaultLights){e=document.querySelectorAll("["+cp+"]");for(var n=0;n<e.length;n++)t.removeChild(e[n]);this.defaultLights=!1}},setupDefaultLights:function(){var e,t,n=this.sceneEl;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||((e=document.createElement("a-entity")).setAttribute("light",{color:"#BBB",type:"ambient"}),e.setAttribute(cp,""),e.setAttribute(na,""),n.appendChild(e),(t=document.createElement("a-entity")).setAttribute("light",{color:"#FFF",intensity:1.884,castShadow:!0}),t.setAttribute("position",{x:-.5,y:1,z:1}),t.setAttribute(cp,""),t.setAttribute(na,""),n.appendChild(t),this.defaultLights=!0)}}),sa),dp=up("components:texture:error"),hp=up("components:texture:warn"),pp=new Sr.ImageLoader;lc("material",{init:function(){this.materials={},this.sourceCache={}},clearTextureSourceCache:function(){this.sourceCache={}},loadTexture:function(e,t,n){this.loadTextureSource(e,(function(e){var r=vs(e);cs(r,t),n(r)}))},loadTextureSource:function(e,t){var n=this,r=this.sourceCache,i=this.hash(e);function o(e){r[i]=Promise.resolve(e),r[i].then(t)}r[i]?r[i].then(t):"CANVAS"!==e.tagName?o(new Promise((function(t,r){ns(e,(function(e){n.loadImage(e,t)}),(function(e){n.loadVideo(e,t)}))}))):o(new Sr.Source(e))},loadCubeMapTexture:function(e,t){var n=this,r=0,i=new Sr.CubeTexture;function o(o){n.loadTextureSource(e[o],(function(e){i.images[o]=e.data,6==++r&&(i.needsUpdate=!0,t(i))}))}if(i.colorSpace=Sr.SRGBColorSpace,6===e.length)for(var a=0;a<e.length;a++)o(a);else hp("Cube map texture requires exactly 6 sources, got only %s sources",e.length)},loadImage:function(e,t){t("string"==typeof e?function(e){return new Promise((function(t,n){pp.load(e,(function(e){t(new Sr.Source(e))}),(function(){}),(function(e){dp("`$s` could not be fetched (Error code: %s; Response: %s)",e.status,e.statusText)}))}))}(e):new Sr.Source(e))},loadVideo:function(e,t){var n;"string"!=typeof e&&function(e){e.autoplay=e.hasAttribute("autoplay")&&"false"!==e.getAttribute("autoplay"),e.controls=e.hasAttribute("controls")&&"false"!==e.getAttribute("controls"),"false"===e.getAttribute("loop")&&e.removeAttribute("loop"),"false"===e.getAttribute("preload")&&(e.preload="none"),e.crossOrigin=e.crossOrigin||"anonymous",e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","")}(n=e),n=n||function(e){var t=document.createElement("video");return t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.autoplay=!0,t.loop=!0,t.crossOrigin="anonymous",t.addEventListener("error",(function(){hp("`%s` is not a valid video",e)}),!0),t.src=e,t}(e),t(new Sr.Source(n))},hash:function(e){return e.tagName&&(e.id||e.src)||e},registerMaterial:function(e){this.materials[e.uuid]=e},unregisterMaterial:function(e){delete this.materials[e.uuid]}}),lc("obb-collider",{schema:{showColliders:{default:!1}},init:function(){this.collisions=[],this.colliderEls=[]},addCollider:function(e){this.colliderEls.push(e),this.data.showColliders?e.components["obb-collider"].showCollider():e.components["obb-collider"].hideCollider(),this.tick=this.detectCollisions},removeCollider:function(e){var t=this.colliderEls,n=t.indexOf(e);e.components["obb-collider"].hideCollider(),n>-1&&t.splice(n,1),0===t.length&&(this.tick=void 0)},registerCollision:function(e,t){var n=this.collisions,r=!1,i=e.obb,o=t.obb,a=e.renderColliderMesh,s=t.renderColliderMesh;a&&a.material.color.set(16711680),s&&s.material.color.set(16711680);for(var l=0;l<n.length;l++)if(n[l].componentA.obb===i&&n[l].componentB.obb===o||n[l].componentA.obb===o&&n[l].componentB.obb===i){r=!0,n[l].detected=!0;break}r||(n.push({componentA:e,componentB:t,detected:!0}),e.el.emit("obbcollisionstarted",{trackedObject3D:e.trackedObject3D,withEl:t.el}),t.el.emit("obbcollisionstarted",{trackedObject3D:t.trackedObject3D,withEl:e.el}))},resetCollisions:function(){for(var e=this.collisions,t=0;t<e.length;t++)e[t].detected=!1},clearCollisions:function(){for(var e,t,n,r,i=this.collisions,o=[],a=0;a<i.length;a++)i[a].detected?o.push(i[a]):(e=i[a].componentA,t=i[a].componentB,n=e.renderColliderMesh,r=t.renderColliderMesh,n&&n.material.color.set(65280),e.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:t.el}),r&&r.material.color.set(65280),t.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:e.el}));this.collisions=o},detectCollisions:function(){var e,t,n,r,i=this.colliderEls;if(!(i.length<2)){this.resetCollisions();for(var o=0;o<i.length;o++)if(n=i[o].components["obb-collider"],0!==(e=i[o].components["obb-collider"].obb).halfSize.x&&0!==e.halfSize.y&&0!==e.halfSize.z)for(var a=o+1;a<i.length;a++)0!==(t=(r=i[a].components["obb-collider"]).obb).halfSize.x&&0!==t.halfSize.y&&0!==t.halfSize.z&&e.intersectsOBB(t)&&this.registerCollision(n,r);this.clearCollisions()}}});var fp=sa("components:renderer:warn");function mp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z-t.z}function gp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder-t.renderOrder}function vp(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:t.z-e.z}lc("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:Ma()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:-1},maxCanvasHeight:{default:-1},multiviewStereo:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon","AgX","neutral"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon","AgX","neutral"]},precision:{default:"high",oneOf:["high","medium","low"]},anisotropy:{default:1},sortTransparentObjects:{default:!1},colorManagement:{default:!0},alpha:{default:!0},stencil:{default:!1},foveationLevel:{default:1}},init:function(){var e=this.data,t=this.el,n=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),r=t.renderer;r.toneMapping=Sr[n+"ToneMapping"],Sr.Texture.DEFAULT_ANISOTROPY=e.anisotropy,Sr.ColorManagement.enabled=e.colorManagement,r.outputColorSpace=e.colorManagement?Sr.SRGBColorSpace:Sr.LinearSRGBColorSpace,t.hasAttribute("antialias")&&fp('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),t.hasAttribute("logarithmicDepthBuffer")&&fp('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.'),r.sortObjects=!0,r.setOpaqueSort(mp)},update:function(){var e=this.data,t=this.el.renderer,n=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);t.toneMapping=Sr[n+"ToneMapping"],t.toneMappingExposure=e.exposure,t.xr.setFoveation(e.foveationLevel),e.sortObjects&&fp('`sortObjects` property is deprecated. Use `renderer="sortTransparentObjects: true"` instead.'),e.sortTransparentObjects?t.setTransparentSort(vp):t.setTransparentSort(gp)},applyColorCorrection:function(e){this.data.colorManagement&&e&&e.isTexture&&e.colorSpace!==Sr.SRGBColorSpace&&(e.colorSpace=Sr.SRGBColorSpace,e.needsUpdate=!0)},setWebXRFrameRate:function(e){var t,n=this.data,r=e.supportedFrameRates;r&&e.updateTargetFrameRate&&(t=r.includes(90)?n.highRefreshRate?90:72:n.highRefreshRate?72:60,e.updateTargetFrameRate(t).catch((function(e){console.warn("failed to set target frame rate of "+t+". Error info: "+e)})))}});var yp={basic:Sr.BasicShadowMap,pcf:Sr.PCFShadowMap,pcfsoft:Sr.PCFSoftShadowMap};lc("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var e=this.sceneEl,t=this.data;this.shadowMapEnabled=!1,e.renderer.shadowMap.type=yp[t.type],e.renderer.shadowMap.autoUpdate=t.autoUpdate},update:function(e){e.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.shadowMapEnabled)},setShadowMapEnabled:function(e){var t=this.sceneEl,n=this.sceneEl.renderer;this.shadowMapEnabled=e;var r=this.data.enabled&&this.shadowMapEnabled;n&&r!==n.shadowMap.enabled&&(n.shadowMap.enabled=r,function(e){e.hasLoaded&&e.object3D.traverse((function(e){if(e.material)for(var t=Array.isArray(e.material)?e.material:[e.material],n=0;n<t.length;n++)t[n].needsUpdate=!0}))}(t))}}),lc("tracked-controls",{init:function(){this.controllers=[],this.onInputSourcesChange=this.onInputSourcesChange.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.el.addEventListener("enter-vr",this.onEnterVR),this.onExitVR=this.onExitVR.bind(this),this.el.addEventListener("exit-vr",this.onExitVR)},onEnterVR:function(){this.el.xrSession&&this.el.xrSession.addEventListener("inputsourceschange",this.onInputSourcesChange)},onExitVR:function(){this.referenceSpace=void 0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1)},onInputSourcesChange:function(){var e=this,t=this.el.xrSession,n=this.el.sceneEl.systems.webxr.sessionReferenceSpaceType;t.requestReferenceSpace(n).then((function(t){e.referenceSpace=t})).catch((function(t){throw e.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(n,'tracked-controls uses reference space "'+n+'".'),t})),this.controllers=t.inputSources,this.el.emit("controllersupdated",void 0,!1)}});var bp=sa("systems:webxr:warn"),Ap=(lc("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var e=this.data;this.sessionConfiguration={requiredFeatures:e.requiredFeatures,optionalFeatures:e.optionalFeatures},this.sessionReferenceSpaceType=e.referenceSpaceType,e.overlayElement&&(e.overlayElement.classList.remove("a-dom-overlay"),e.optionalFeatures.includes("dom-overlay")||(e.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",e)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:e.overlayElement},e.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(e){return"viewer"===e||"local"===e||!(!this.sessionConfiguration.requiredFeatures.includes(e)&&!this.sessionConfiguration.optionalFeatures.includes(e))},warnIfFeatureNotRequested:function(e,t){this.wasFeatureRequested(e)||bp((t?t+" ":"")+'Please add the feature "'+e+"\" to a-scene's webxr system options in requiredFeatures/optionalFeatures.")}}),{});function xp(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();"fog"===e&&(t="material-fog"),"visible"===e&&(t="material-visible"),Ap[t]="material."+e}function wp(){return{defaultComponents:{material:{}},mappings:zs({},Ap)}}Object.keys(Fl.material.schema).forEach(xp),Object.keys(Vc.standard.schema).forEach(xp);var Cp=new Sr.Vector3,Ep=new Sr.Vector3;ec("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var e=this.data,t=this.el,n=t.object3D.parent,r=t.object3D,i=new Sr.Group;Cp.copy(r.position),Ep.copy(r.rotation),n.remove(r),i.add(r),n.add(i),t.object3D=i,r.position.set(-1*e.x,-1*e.y,-1*e.z),i.position.set(e.x+Cp.x,e.y+Cp.y,e.z+Cp.z),i.rotation.copy(r.rotation),r.rotation.set(0,0,0)}}),zc("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}}),zc("a-cursor",Hs({},wp(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}})),zc("a-curvedimage",Hs({},wp(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}})),zc("a-gltf-model",{mappings:{src:"gltf-model"}}),zc("a-image",Hs({},wp(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}})),zc("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}}),zc("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}}),zc("a-obj-model",Hs({},wp(),{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}));const Sp={},_p=Sp;function Mp(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var Ip,Tp;Pc.forEach((function(e){var t=kc[e],n=Mp(e),r={};Object.keys(t.schema).forEach((function(e){r[Mp(e)]="geometry."+e}));var i="a-"+n,o=zc(i,Hs({},wp(),{defaultComponents:{geometry:{primitive:e}},mappings:r}));Sp[i]=o})),zc("a-sky",Hs({},wp(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:Hs({},_p["a-sphere"].mappings)})),zc("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}}),Ip={text:{anchor:"align",width:5}},Tp=Tp||{},Object.keys(Ip).forEach((function(e){!function(e,t){var n=Fl[e].schema;Object.keys(n).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();void 0!==t[r]&&(r=e+"-"+n),t[r]=e+"."+n}))}(e,Tp)})),zc("a-text",Hs({},null,{defaultComponents:Ip,mappings:Tp})),zc("a-video",Hs({},wp(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}})),zc("a-videosphere",Hs({},wp(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}));var Rp=sa,kp=Rp("A-Frame:error"),Pp=Rp("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&Pp("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),window.cordova||"file:"!==window.location.protocol||kp("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server."),Pa&&(window.logs=Rp,$t(7180),$t(9379)),console.log("A-Frame Version: 1.7.0 (Date 2025-02-20, Commit #ad5cef10)"),console.log("THREE Version (https://github.com/supermedium/three.js):",ea.REVISION),window.AFRAME_ASYNC||("complete"!==document.readyState?document.addEventListener("readystatechange",(function e(){"complete"===document.readyState&&(document.removeEventListener("readystatechange",e),ic())})):ic());const Bp=globalThis.AFRAME={AComponent:Jl,AEntity:yc,ANode:hc,ANIME:Er,AScene:_c,components:Fl,coreComponents:Object.keys(Fl),geometries:kc,registerComponent:ec,registerGeometry:Oc,registerPrimitive:zc,registerShader:qc,registerSystem:lc,primitives:{getMeshMixin:wp,primitives:Uc},scenes:hl,schema:sn,shaders:Vc,systems:ac,emitReady:ic,THREE:ea,utils:an,version:eu};n(3832);function Op(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const o=e[i];let a="",s=!0;for(let e=0;e<o.length;e+=1){const r=o[e];r&&(a+=(!0===s?"":" ")+t(r),s=!1,n&&n[r]&&(a+=" "+n[r]))}r[i]=a}return r}const Lp={};function Dp(e,t){const n=i.useRef(Lp);return n.current===Lp&&(n.current=e(t)),n}const Np=[];function Fp(e){i.useEffect(e,Np)}class jp{static create(){return new jp}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Up(){const e=Dp(jp.create).current;return Fp(e.disposeEffect),e}const zp="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;const Hp=function(e){const t=i.useRef(e);return zp((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current};const Vp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const Gp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:a}=e,s=Up();i.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&r?.(e,"escapeKeyDown")}}),[o,r]);const l=Hp(((e,t)=>{r?.(e,t)})),c=Hp((e=>{r&&null!=e&&s.start(e,(()=>{l(null,"timeout")}))}));i.useEffect((()=>(o&&c(t),s.clear)),[o,t,c,s]);const u=s.clear,d=i.useCallback((()=>{null!=t&&c(null!=a?a:.5*t)}),[t,a,c]),h=e=>t=>{const n=e.onFocus;n?.(t),u()},p=e=>t=>{const n=e.onMouseEnter;n?.(t),u()},f=e=>t=>{const n=e.onMouseLeave;n?.(t),d()};return i.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}}),[n,o,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...Vp(e),...Vp(t)};return{role:"presentation",...t,...n,onBlur:(r=n,e=>{const t=r.onBlur;t?.(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:f(n)};var r},onClickAway:e=>{r?.(e,"clickaway")}}};function Qp(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Wp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{Qp(t,e)}))}),t)}function qp(e){return e&&e.ownerDocument||document}function $p(e){return parseInt(i.version,10)>=19?e?.props?.ref||null:e?.ref||null}function Xp(e){return e.substring(2).toLowerCase()}function Kp(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=i.useRef(!1),l=i.useRef(null),c=i.useRef(!1),u=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=Wp($p(t),l),h=Hp((e=>{const t=u.current;u.current=!1;const r=qp(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(s.current)return void(s.current=!1);let i;i=e.composedPath?e.composedPath().includes(l.current):!r.documentElement.contains(e.target)||l.current.contains(e.target),i||!n&&t||o(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},f={ref:d};return!1!==a&&(f[a]=p(a)),i.useEffect((()=>{if(!1!==a){const e=Xp(a),t=qp(l.current),n=()=>{s.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,a]),!1!==r&&(f[r]=p(r)),i.useEffect((()=>{if(!1!==r){const e=Xp(r),t=qp(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,r]),i.cloneElement(t,f)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yp.apply(null,arguments)}var Jp=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Zp=Math.abs,ef=String.fromCharCode,tf=Object.assign;function nf(e){return e.trim()}function rf(e,t,n){return e.replace(t,n)}function of(e,t){return e.indexOf(t)}function af(e,t){return 0|e.charCodeAt(t)}function sf(e,t,n){return e.slice(t,n)}function lf(e){return e.length}function cf(e){return e.length}function uf(e,t){return t.push(e),e}var df=1,hf=1,pf=0,ff=0,mf=0,gf="";function vf(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:df,column:hf,length:a,return:""}}function yf(e,t){return tf(vf("",null,null,"",null,null,0),e,{length:-e.length},t)}function bf(){return mf=ff>0?af(gf,--ff):0,hf--,10===mf&&(hf=1,df--),mf}function Af(){return mf=ff<pf?af(gf,ff++):0,hf++,10===mf&&(hf=1,df++),mf}function xf(){return af(gf,ff)}function wf(){return ff}function Cf(e,t){return sf(gf,e,t)}function Ef(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sf(e){return df=hf=1,pf=lf(gf=e),ff=0,[]}function _f(e){return gf="",e}function Mf(e){return nf(Cf(ff-1,Rf(91===e?e+2:40===e?e+1:e)))}function If(e){for(;(mf=xf())&&mf<33;)Af();return Ef(e)>2||Ef(mf)>3?"":" "}function Tf(e,t){for(;--t&&Af()&&!(mf<48||mf>102||mf>57&&mf<65||mf>70&&mf<97););return Cf(e,wf()+(t<6&&32==xf()&&32==Af()))}function Rf(e){for(;Af();)switch(mf){case e:return ff;case 34:case 39:34!==e&&39!==e&&Rf(mf);break;case 40:41===e&&Rf(e);break;case 92:Af()}return ff}function kf(e,t){for(;Af()&&e+mf!==57&&(e+mf!==84||47!==xf()););return"/*"+Cf(t,ff-1)+"*"+ef(47===e?e:Af())}function Pf(e){for(;!Ef(xf());)Af();return Cf(e,ff)}var Bf="-ms-",Of="-moz-",Lf="-webkit-",Df="comm",Nf="rule",Ff="decl",jf="@keyframes";function Uf(e,t){for(var n="",r=cf(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function zf(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ff:return e.return=e.return||e.value;case Df:return"";case jf:return e.return=e.value+"{"+Uf(e.children,r)+"}";case Nf:e.value=e.props.join(",")}return lf(n=Uf(e.children,r))?e.return=e.value+"{"+n+"}":""}function Hf(e){return _f(Vf("",null,null,null,[""],e=Sf(e),0,[0],e))}function Vf(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",A=i,x=o,w=r,C=b;g;)switch(f=y,y=Af()){case 40:if(108!=f&&58==af(C,d-1)){-1!=of(C+=rf(Mf(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:C+=Mf(y);break;case 9:case 10:case 13:case 32:C+=If(f);break;case 92:C+=Tf(wf()-1,7);continue;case 47:switch(xf()){case 42:case 47:uf(Qf(kf(Af(),wf()),t,n),l);break;default:C+="/"}break;case 123*m:s[c++]=lf(C)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(C=rf(C,/\f/g,"")),p>0&&lf(C)-d&&uf(p>32?Wf(C+";",r,n,d-1):Wf(rf(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(uf(w=Gf(C,t,n,c,u,i,s,b,A=[],x=[],d),o),123===y)if(0===u)Vf(C,t,w,w,A,o,d,s,x);else switch(99===h&&110===af(C,3)?100:h){case 100:case 108:case 109:case 115:Vf(e,w,w,r&&uf(Gf(e,w,w,0,0,i,s,b,i,A=[],d),x),i,x,d,s,r?A:x);break;default:Vf(C,w,w,w,[""],x,0,s,x)}}c=u=p=0,m=v=1,b=C="",d=a;break;case 58:d=1+lf(C),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==bf())continue;switch(C+=ef(y),y*m){case 38:v=u>0?1:(C+="\f",-1);break;case 44:s[c++]=(lf(C)-1)*v,v=1;break;case 64:45===xf()&&(C+=Mf(Af())),h=xf(),u=d=lf(b=C+=Pf(wf())),y++;break;case 45:45===f&&2==lf(C)&&(m=0)}}return o}function Gf(e,t,n,r,i,o,a,s,l,c,u){for(var d=i-1,h=0===i?o:[""],p=cf(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=sf(e,d+1,d=Zp(m=a[f])),b=e;v<p;++v)(b=nf(m>0?h[v]+" "+y:rf(y,/&\f/g,h[v])))&&(l[g++]=b);return vf(e,t,n,0===i?Nf:s,l,c,u)}function Qf(e,t,n){return vf(e,t,n,Df,ef(mf),sf(e,2,-2),0)}function Wf(e,t,n,r){return vf(e,t,n,Ff,sf(e,0,r),sf(e,r+1,-1),r)}var qf=function(e,t,n){for(var r=0,i=0;r=i,i=xf(),38===r&&12===i&&(t[n]=1),!Ef(i);)Af();return Cf(e,ff)},$f=function(e,t){return _f(function(e,t){var n=-1,r=44;do{switch(Ef(r)){case 0:38===r&&12===xf()&&(t[n]=1),e[n]+=qf(ff-1,t,n);break;case 2:e[n]+=Mf(r);break;case 4:if(44===r){e[++n]=58===xf()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ef(r)}}while(r=Af());return e}(Sf(e),t))},Xf=new WeakMap,Kf=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Xf.get(n))&&!r){Xf.set(e,!0);for(var i=[],o=$f(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},Yf=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Jf(e,t){switch(function(e,t){return 45^af(e,0)?(((t<<2^af(e,0))<<2^af(e,1))<<2^af(e,2))<<2^af(e,3):0}(e,t)){case 5103:return Lf+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lf+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Lf+e+Of+e+Bf+e+e;case 6828:case 4268:return Lf+e+Bf+e+e;case 6165:return Lf+e+Bf+"flex-"+e+e;case 5187:return Lf+e+rf(e,/(\w+).+(:[^]+)/,Lf+"box-$1$2"+Bf+"flex-$1$2")+e;case 5443:return Lf+e+Bf+"flex-item-"+rf(e,/flex-|-self/,"")+e;case 4675:return Lf+e+Bf+"flex-line-pack"+rf(e,/align-content|flex-|-self/,"")+e;case 5548:return Lf+e+Bf+rf(e,"shrink","negative")+e;case 5292:return Lf+e+Bf+rf(e,"basis","preferred-size")+e;case 6060:return Lf+"box-"+rf(e,"-grow","")+Lf+e+Bf+rf(e,"grow","positive")+e;case 4554:return Lf+rf(e,/([^-])(transform)/g,"$1"+Lf+"$2")+e;case 6187:return rf(rf(rf(e,/(zoom-|grab)/,Lf+"$1"),/(image-set)/,Lf+"$1"),e,"")+e;case 5495:case 3959:return rf(e,/(image-set\([^]*)/,Lf+"$1$`$1");case 4968:return rf(rf(e,/(.+:)(flex-)?(.*)/,Lf+"box-pack:$3"+Bf+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lf+e+e;case 4095:case 3583:case 4068:case 2532:return rf(e,/(.+)-inline(.+)/,Lf+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(lf(e)-1-t>6)switch(af(e,t+1)){case 109:if(45!==af(e,t+4))break;case 102:return rf(e,/(.+:)(.+)-([^]+)/,"$1"+Lf+"$2-$3$1"+Of+(108==af(e,t+3)?"$3":"$2-$3"))+e;case 115:return~of(e,"stretch")?Jf(rf(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==af(e,t+1))break;case 6444:switch(af(e,lf(e)-3-(~of(e,"!important")&&10))){case 107:return rf(e,":",":"+Lf)+e;case 101:return rf(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Lf+(45===af(e,14)?"inline-":"")+"box$3$1"+Lf+"$2$3$1"+Bf+"$2box$3")+e}break;case 5936:switch(af(e,t+11)){case 114:return Lf+e+Bf+rf(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Lf+e+Bf+rf(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Lf+e+Bf+rf(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Lf+e+Bf+e+e}return e}var Zf=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ff:e.return=Jf(e.value,e.length);break;case jf:return Uf([yf(e,{value:rf(e.value,"@","@"+Lf)})],r);case Nf:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uf([yf(e,{props:[rf(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Uf([yf(e,{props:[rf(t,/:(plac\w+)/,":"+Lf+"input-$1")]}),yf(e,{props:[rf(t,/:(plac\w+)/,":-moz-$1")]}),yf(e,{props:[rf(t,/:(plac\w+)/,Bf+"input-$1")]})],r)}return""}))}}],em=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||Zf,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c,u=[zf,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=cf(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([Kf,Yf].concat(o,u));i=function(e,t,n,r){l=n,function(e){Uf(Hf(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Jp({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return h.sheet.hydrate(s),h};function tm(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var nm=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},rm=function(e,t,n){nm(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var im={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function om(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var am=/[A-Z]|^ms/g,sm=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lm=function(e){return 45===e.charCodeAt(1)},cm=function(e){return null!=e&&"boolean"!==typeof e},um=om((function(e){return lm(e)?e:e.replace(am,"-$&").toLowerCase()})),dm=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(sm,(function(e,t,n){return pm={name:t,styles:n,next:pm},t}))}return 1===im[e]||lm(e)||"number"!==typeof t||0===t?t:t+"px"};function hm(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return pm={name:i.name,styles:i.styles,next:pm},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)pm={name:a.name,styles:a.styles,next:pm},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hm(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":cm(s)&&(r+=um(o)+":"+dm(o,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=hm(e,t,a);switch(o){case"animation":case"animationName":r+=um(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<a.length;c++)cm(a[c])&&(r+=um(o)+":"+dm(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=pm,l=n(e);return pm=s,hm(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var pm,fm=/label:\s*([^\s;{]+)\s*(;|$)/g;function mm(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";pm=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=hm(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++){if(i+=hm(n,t,e[a]),r)i+=o[a]}fm.lastIndex=0;for(var s,l="";null!==(s=fm.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:pm}}var gm=!!o.useInsertionEffect&&o.useInsertionEffect,vm=gm||function(e){return e()},ym=gm||i.useLayoutEffect,bm=i.createContext("undefined"!==typeof HTMLElement?em({key:"css"}):null),Am=(bm.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(bm);return e(t,r,n)}))}),xm=i.createContext({});var wm={}.hasOwnProperty,Cm="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Em=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return nm(t,n,r),vm((function(){return rm(t,n,r)})),null},Sm=Am((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[Cm],a=[r],s="";"string"===typeof e.className?s=tm(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=mm(a,void 0,i.useContext(xm));s+=t.key+"-"+l.name;var c={};for(var u in e)wm.call(e,u)&&"css"!==u&&u!==Cm&&(c[u]=e[u]);return c.className=s,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(Em,{cache:t,serialized:l,isStringTag:"string"===typeof o}),i.createElement(o,c))})),_m=Sm,Mm=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Im=om((function(e){return Mm.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Tm=function(e){return"theme"!==e},Rm=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Im:Tm},km=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Pm=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return nm(t,n,r),vm((function(){return rm(t,n,r)})),null},Bm=function e(t,n){var r,o,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=km(t,n,a),c=l||Rm(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],p[m])}var g=Am((function(e,t,n){var r=u&&e.as||s,a="",d=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=i.useContext(xm)}"string"===typeof e.className?a=tm(t.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=mm(h.concat(d),t.registered,p);a+=t.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=u&&void 0===l?Rm(r):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,n&&(v.ref=n),i.createElement(i.Fragment,null,i.createElement(Pm,{cache:t,serialized:m,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,Yp({},n,r,{shouldForwardProp:km(g,r,!0)})).apply(void 0,h)},g}}.bind(null);function Om(e,t){return Bm(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Bm[e]=Bm(e)}));const Lm=[];function Dm(e){return Lm[0]=e,mm(Lm)}var Nm=n(528);function Fm(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function jm(e){if(i.isValidElement(e)||(0,Nm.Hy)(e)||!Fm(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=jm(e[n])})),t}function Um(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return Fm(e)&&Fm(t)&&Object.keys(t).forEach((o=>{i.isValidElement(t[o])||(0,Nm.Hy)(t[o])?r[o]=t[o]:Fm(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&Fm(e[o])?r[o]=Um(e[o],t[o],n):n.clone?r[o]=Fm(t[o])?jm(t[o]):t[o]:r[o]=t[o]})),r}function zm(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,o=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>({...e,[t.key]:t.val})),{})})(t),a=Object.keys(o);function s(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-r/100}${n})`}function c(e,i){const o=a.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:i)-r/100}${n})`}return{keys:a,values:o,up:s,down:l,between:c,only:function(e){return a.indexOf(e)+1<a.length?c(e,a[a.indexOf(e)+1]):s(e)},not:function(e){const t=a.indexOf(e);return 0===t?s(a[1]):t===a.length-1?l(a[t]):c(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...i}}const Hm={borderRadius:4},Vm={xs:0,sm:600,md:900,lg:1200,xl:1536},Gm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Vm[e]}px)`},Qm={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:Vm[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function Wm(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Gm;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||Gm;return Object.keys(t).reduce(((i,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith(`@${e}`)))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(o)}(r.containerQueries?r:Qm,o);e&&(i[e]=n(t[o],o))}else if(Object.keys(e.values||Vm).includes(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function qm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce(((t,n)=>(t[e.up(n)]={},t)),{});return t||{}}function $m(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Xm(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),`Minified MUI error #${e}; visit ${t} for the full message.`}function Km(e){if("string"!==typeof e)throw new Error(Xm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ym(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function Jm(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Ym(e,n)||i,t&&(r=t(r,i,e)),r}const Zm=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=Ym(e.theme,r)||{};return Wm(e,o,(e=>{let r=Jm(a,i,e);return e===r&&"string"===typeof e&&(r=Jm(a,i,`${t}${"default"===e?"":Km(e)}`,e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const eg=function(e,t){return t?Um(e,t,{clone:!1}):e};const tg={m:"margin",p:"padding"},ng={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rg={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ig=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!rg[e])return[e];e=rg[e]}const[t,n]=e.split(""),r=tg[t],i=ng[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),og=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ag=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],sg=[...og,...ag];function lg(e,t,n,r){const i=Ym(e,t,!0)??n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?`calc(${e} * ${i})`:i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:`-${n}`}:"function"===typeof i?i:()=>{}}function cg(e){return lg(e,"spacing",8)}function ug(e,t){return"string"===typeof t||null==t?t:e(t)}function dg(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=ug(t,n),e)),{})}(ig(n),r);return Wm(e,e[n],i)}function hg(e,t){const n=cg(e.theme);return Object.keys(e).map((r=>dg(e,t,r,n))).reduce(eg,{})}function pg(e){return hg(e,og)}function fg(e){return hg(e,ag)}function mg(e){return hg(e,sg)}pg.propTypes={},pg.filterProps=og,fg.propTypes={},fg.filterProps=ag,mg.propTypes={},mg.filterProps=sg;function gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cg({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}const vg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?eg(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function yg(e){return"number"!==typeof e?e:`${e}px solid`}function bg(e,t){return Zm({prop:e,themeKey:"borders",transform:t})}const Ag=bg("border",yg),xg=bg("borderTop",yg),wg=bg("borderRight",yg),Cg=bg("borderBottom",yg),Eg=bg("borderLeft",yg),Sg=bg("borderColor"),_g=bg("borderTopColor"),Mg=bg("borderRightColor"),Ig=bg("borderBottomColor"),Tg=bg("borderLeftColor"),Rg=bg("outline",yg),kg=bg("outlineColor"),Pg=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=lg(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:ug(t,e)});return Wm(e,e.borderRadius,n)}return null};Pg.propTypes={},Pg.filterProps=["borderRadius"];vg(Ag,xg,wg,Cg,Eg,Sg,_g,Mg,Ig,Tg,Pg,Rg,kg);const Bg=e=>{if(void 0!==e.gap&&null!==e.gap){const t=lg(e.theme,"spacing",8),n=e=>({gap:ug(t,e)});return Wm(e,e.gap,n)}return null};Bg.propTypes={},Bg.filterProps=["gap"];const Og=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=lg(e.theme,"spacing",8),n=e=>({columnGap:ug(t,e)});return Wm(e,e.columnGap,n)}return null};Og.propTypes={},Og.filterProps=["columnGap"];const Lg=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=lg(e.theme,"spacing",8),n=e=>({rowGap:ug(t,e)});return Wm(e,e.rowGap,n)}return null};Lg.propTypes={},Lg.filterProps=["rowGap"];vg(Bg,Og,Lg,Zm({prop:"gridColumn"}),Zm({prop:"gridRow"}),Zm({prop:"gridAutoFlow"}),Zm({prop:"gridAutoColumns"}),Zm({prop:"gridAutoRows"}),Zm({prop:"gridTemplateColumns"}),Zm({prop:"gridTemplateRows"}),Zm({prop:"gridTemplateAreas"}),Zm({prop:"gridArea"}));function Dg(e,t){return"grey"===t?t:e}vg(Zm({prop:"color",themeKey:"palette",transform:Dg}),Zm({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Dg}),Zm({prop:"backgroundColor",themeKey:"palette",transform:Dg}));function Ng(e){return e<=1&&0!==e?100*e+"%":e}const Fg=Zm({prop:"width",transform:Ng}),jg=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||Vm[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Ng(t)}};return Wm(e,e.maxWidth,t)}return null};jg.filterProps=["maxWidth"];const Ug=Zm({prop:"minWidth",transform:Ng}),zg=Zm({prop:"height",transform:Ng}),Hg=Zm({prop:"maxHeight",transform:Ng}),Vg=Zm({prop:"minHeight",transform:Ng}),Gg=(Zm({prop:"size",cssProperty:"width",transform:Ng}),Zm({prop:"size",cssProperty:"height",transform:Ng}),vg(Fg,jg,Ug,zg,Hg,Vg,Zm({prop:"boxSizing"})),{border:{themeKey:"borders",transform:yg},borderTop:{themeKey:"borders",transform:yg},borderRight:{themeKey:"borders",transform:yg},borderBottom:{themeKey:"borders",transform:yg},borderLeft:{themeKey:"borders",transform:yg},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:yg},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Pg},color:{themeKey:"palette",transform:Dg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Dg},backgroundColor:{themeKey:"palette",transform:Dg},p:{style:fg},pt:{style:fg},pr:{style:fg},pb:{style:fg},pl:{style:fg},px:{style:fg},py:{style:fg},padding:{style:fg},paddingTop:{style:fg},paddingRight:{style:fg},paddingBottom:{style:fg},paddingLeft:{style:fg},paddingX:{style:fg},paddingY:{style:fg},paddingInline:{style:fg},paddingInlineStart:{style:fg},paddingInlineEnd:{style:fg},paddingBlock:{style:fg},paddingBlockStart:{style:fg},paddingBlockEnd:{style:fg},m:{style:pg},mt:{style:pg},mr:{style:pg},mb:{style:pg},ml:{style:pg},mx:{style:pg},my:{style:pg},margin:{style:pg},marginTop:{style:pg},marginRight:{style:pg},marginBottom:{style:pg},marginLeft:{style:pg},marginX:{style:pg},marginY:{style:pg},marginInline:{style:pg},marginInlineStart:{style:pg},marginInlineEnd:{style:pg},marginBlock:{style:pg},marginBlockStart:{style:pg},marginBlockEnd:{style:pg},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Bg},rowGap:{style:Lg},columnGap:{style:Og},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ng},maxWidth:{style:jg},minWidth:{transform:Ng},height:{transform:Ng},maxHeight:{transform:Ng},minHeight:{transform:Ng},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}),Qg=Gg;const Wg=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:l,style:c}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=Ym(n,s)||{};if(c)return c(i);return Wm(i,t,(t=>{let n=Jm(u,l,t);return t===n&&"string"===typeof t&&(n=Jm(u,l,`${e}${"default"===t?"":Km(t)}`,t)),!1===a?n:{[a]:n}}))}return function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??Qg;function a(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const a=qm(i.breakpoints),s=Object.keys(a);let l=a;return Object.keys(r).forEach((n=>{const a=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==a&&void 0!==a)if("object"===typeof a)if(o[n])l=eg(l,e(n,a,i,o));else{const e=Wm({theme:i},a,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,a)?l=eg(l,e):l[n]=t({sx:a,theme:i})}else l=eg(l,e(n,a,i,o))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),{...t}):t}(i,$m(s,l))}return Array.isArray(r)?r.map(a):a(r)}}();Wg.filterProps=["sx"];const qg=Wg;function $g(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let r=n.getColorSchemeSelector(e);return"&"===r?t:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:t})}return n.palette.mode===e?t:{}}const Xg=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={},...o}=e;let a=Um({breakpoints:zm(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:gg(r),shape:{...Hm,...i}},o);a=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),{...e,containerQueries:i}}(a),a.applyStyles=$g;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return a=l.reduce(((e,t)=>Um(e,t)),a),a.unstable_sxConfig={...Qg,...o?.unstable_sxConfig},a.unstable_sx=function(e){return qg({sx:e,theme:this})},a};function Kg(e){const{variants:t,...n}=e,r={variants:t,style:Dm(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=Dm(e.style))})),r}const Yg=Xg();function Jg(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Zg(e){return e?(t,n)=>n[e]:null}function ev(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>ev(e,t)));if(Array.isArray(n?.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e,...r}=n;t=r}return tv(e,n.variants,[t])}return n?.isProcessed?n.style:n}function tv(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const o=t[i];if("function"===typeof o.props){if(n??={...e,...e.ownerState,ownerState:e.ownerState},!o.props(n))continue}else for(const t in o.props)if(e[t]!==o.props[t]&&e.ownerState?.[t]!==o.props[t])continue e;"function"===typeof o.style?(n??={...e,...e.ownerState,ownerState:e.ownerState},r.push(o.style(n))):r.push(o.style)}return r}function nv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Yg,rootShouldForwardProp:r=Jg,slotShouldForwardProp:i=Jg}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==qg))));const{name:n,slot:a,skipVariantsResolver:s,skipSx:l,overridesResolver:c=Zg(iv(a)),...u}=t,d=void 0!==s?s:a&&"Root"!==a&&"root"!==a||!1,h=l||!1;let p=Jg;"Root"===a||"root"===a?p=r:a?p=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(p=void 0);const f=Om(e,{shouldForwardProp:p,label:rv(n,a),...u}),m=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return ev(t,e)};if(Fm(e)){const t=Kg(e);return t.variants?function(e){return ev(e,t)}:t.style}return e},g=function(){const t=[];for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const s=i.map(m),l=[];if(t.push(o),n&&c&&l.push((function(e){const t=e.theme,r=t.components?.[n]?.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=ev(e,r[n]);return c(e,i)})),n&&!d&&l.push((function(e){const t=e.theme,r=t?.components?.[n]?.variants;return r?tv(e,r):null})),h||l.push(qg),Array.isArray(s[0])){const e=s.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const u=[...t,...s,...l],p=f(...u);return e.muiName&&(p.muiName=e.muiName),p};return f.withConfig&&(g.withConfig=f.withConfig),g}}function rv(e,t){}function iv(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const ov=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function av(e){return ov(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function sv(e){if(e.type)return e;if("#"===e.charAt(0))return sv(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Xm(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Xm(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const lv=(e,t)=>{try{return(e=>{const t=sv(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e)).join(" ")})(e)}catch(n){return e}};function cv(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=t.includes("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function uv(e){e=sv(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),cv({type:s,values:l})}function dv(e){let t="hsl"===(e=sv(e)).type||"hsla"===e.type?sv(uv(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function hv(e,t){return e=sv(e),t=av(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,cv(e)}function pv(e,t,n){try{return hv(e,t)}catch(r){return e}}function fv(e,t){if(e=sv(e),t=av(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return cv(e)}function mv(e,t,n){try{return fv(e,t)}catch(r){return e}}function gv(e,t){if(e=sv(e),t=av(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return cv(e)}function vv(e,t,n){try{return gv(e,t)}catch(r){return e}}function yv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return dv(e)>.5?fv(e,t):gv(e,t)}function bv(e,t,n){try{return yv(e,t)}catch(r){return e}}const Av={black:"#000",white:"#fff"},xv={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wv={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Cv={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ev={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Sv={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Mv={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Iv(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Av.white,default:Av.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Tv=Iv();function Rv(){return{text:{primary:Av.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Av.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const kv=Rv();function Pv(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=gv(e.main,i):"dark"===t&&(e.dark=fv(e.main,o)))}function Bv(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Sv[200],light:Sv[50],dark:Sv[400]}:{main:Sv[700],light:Sv[400],dark:Sv[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wv[200],light:wv[50],dark:wv[400]}:{main:wv[500],light:wv[300],dark:wv[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Cv[500],light:Cv[300],dark:Cv[700]}:{main:Cv[700],light:Cv[400],dark:Cv[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_v[400],light:_v[300],dark:_v[700]}:{main:_v[700],light:_v[500],dark:_v[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Mv[400],light:Mv[300],dark:Mv[700]}:{main:Mv[800],light:Mv[500],dark:Mv[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ev[400],light:Ev[300],dark:Ev[700]}:{main:"#ed6c02",light:Ev[500],dark:Ev[900]}}(t);function d(e){const t=function(e,t){const n=dv(e),r=dv(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,kv.text.primary)>=n?kv.text.primary:Tv.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t={...t},!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Xm(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error(Xm(12,n?` (${n})`:"",JSON.stringify(t.main)));return Pv(t,"light",o,r),Pv(t,"dark",a,r),t.contrastText||(t.contrastText=d(t.main)),t};let p;"light"===t?p=Iv():"dark"===t&&(p=Rv());return Um({common:{...Av},mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:xv,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function Ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const o=r[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return`var(--${e?`${e}-`:""}${n}${t(...i)})`}}function Lv(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)})),t}const Dv=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,o)=>{o===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function Nv(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},o={},a={};var s,l;return s=(e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r=`--${n?`${n}-`:""}${e.join("-")}`,l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t)(e,t);Object.assign(i,{[r]:l}),Dv(o,e,`var(${r})`,s),Dv(a,e,`var(${r}, ${l})`,s)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[i,o]=t;(!l||l&&!l([...n,i]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...n,i],Array.isArray(o)?[...r,i]:r):s([...n,i],o,r))}))}(e),{css:i,vars:o,varsWithDefaults:a}}const Fv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=g,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:o={},components:a,defaultColorScheme:s="light",...l}=e,{vars:c,css:u,varsWithDefaults:d}=Nv(l,t);let h=d;const p={},{[s]:f,...m}=o;if(Object.entries(m||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:o,varsWithDefaults:a}=Nv(r,t);h=Um(h,a),p[n]={css:o,vars:i}})),f){const{css:e,vars:n,varsWithDefaults:r}=Nv(f,t);h=Um(h,r),p[s]={css:e,vars:n}}function g(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(r=`[${i}="%s"]`),t){if("media"===r){if(e.defaultColorScheme===t)return":root";const r=o[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${r})`]:{":root":n}}}if(r)return e.defaultColorScheme===t?`:root, ${r.replace("%s",String(t))}`:r.replace("%s",String(t))}return":root"}return{vars:h,generateThemeVars:()=>{let e={...c};return Object.entries(p).forEach((t=>{let[,{vars:n}]=t;e=Um(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}a(n(void 0,{...u}),u);const{[i]:s,...l}=p;if(s){const{css:e}=s,t=o[i]?.palette?.mode,l=!r&&t?{colorScheme:t,...e}:{...e};a(n(i,{...l}),l)}return Object.entries(l).forEach((e=>{let[t,{css:i}]=e;const s=o[t]?.palette?.mode,l=!r&&s?{colorScheme:s,...i}:{...i};a(n(t,{...l}),l)})),t}}};function jv(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Uv(e){return Math.round(1e5*e)/1e5}const zv={textTransform:"uppercase"},Hv='"Roboto", "Helvetica", "Arial", sans-serif';function Vv(e,t){const{fontFamily:n=Hv,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:c,pxToRem:u,...d}="function"===typeof t?t(e):t;const h=r/14,p=u||(e=>e/l*h+"rem"),f=(e,t,r,i,o)=>({fontFamily:n,fontWeight:e,fontSize:p(t),lineHeight:r,...n===Hv?{letterSpacing:`${Uv(i/t)}em`}:{},...o,...c}),m={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(a,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(a,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(a,14,1.75,.4,zv),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,zv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Um({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...m},d,{clone:!1})}function Gv(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const Qv=["none",Gv(0,2,1,-1,0,1,1,0,0,1,3,0),Gv(0,3,1,-2,0,2,2,0,0,1,5,0),Gv(0,3,3,-2,0,3,4,0,0,1,8,0),Gv(0,2,4,-1,0,4,5,0,0,1,10,0),Gv(0,3,5,-1,0,5,8,0,0,1,14,0),Gv(0,3,5,-1,0,6,10,0,0,1,18,0),Gv(0,4,5,-2,0,7,10,1,0,2,16,1),Gv(0,5,5,-3,0,8,10,1,0,3,14,2),Gv(0,5,6,-3,0,9,12,1,0,3,16,2),Gv(0,6,6,-3,0,10,14,1,0,4,18,3),Gv(0,6,7,-4,0,11,15,1,0,4,20,3),Gv(0,7,8,-4,0,12,17,2,0,5,22,4),Gv(0,7,8,-4,0,13,19,2,0,5,24,4),Gv(0,7,9,-4,0,14,21,2,0,5,26,4),Gv(0,8,9,-5,0,15,22,2,0,6,28,5),Gv(0,8,10,-5,0,16,24,2,0,6,30,5),Gv(0,8,11,-5,0,17,26,2,0,6,32,5),Gv(0,9,11,-5,0,18,28,2,0,7,34,6),Gv(0,9,12,-6,0,19,29,2,0,7,36,6),Gv(0,10,13,-6,0,20,31,3,0,8,38,7),Gv(0,10,13,-6,0,21,33,3,0,8,40,7),Gv(0,10,14,-6,0,22,35,3,0,8,42,7),Gv(0,11,14,-7,0,23,36,3,0,9,44,8),Gv(0,11,15,-7,0,24,38,3,0,9,46,8)],Wv={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $v(e){return`${Math.round(e)}ms`}function Xv(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Kv(e){const t={...Wv,...e.easing},n={...qv,...e.duration};return{getAutoHeightDuration:Xv,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0,...s}=r;return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:$v(i)} ${o} ${"string"===typeof a?a:$v(a)}`)).join(",")},...e,easing:t,duration:n}}const Yv={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Jv(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[o,a]=n[i];!Fm(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||o.startsWith("unstable_")?delete t[o]:Fm(a)&&(t[o]={...a},e(t[o]))}var r}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}function Zv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:o={},typography:a={},shape:s,...l}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(Xm(20));const c=Bv(i),u=Xg(e);let d=Um(u,{mixins:jv(u.breakpoints,n),palette:c,shadows:Qv.slice(),typography:Vv(c,a),transitions:Kv(o),zIndex:{...Yv}});d=Um(d,l);for(var h=arguments.length,p=new Array(h>1?h-1:0),f=1;f<h;f++)p[f-1]=arguments[f];return d=p.reduce(((e,t)=>Um(e,t)),d),d.unstable_sxConfig={...Qg,...l?.unstable_sxConfig},d.unstable_sx=function(e){return qg({sx:e,theme:this})},d.toRuntimeSource=Jv,d}const ey=Zv;function ty(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const ny=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=ty(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`}));function ry(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function iy(e){return"dark"===e?ny:[]}function oy(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const ay=e=>[...[...Array(25)].map(((t,n)=>`--${e?`${e}-`:""}overlays-${n}`)),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],sy=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let o=i;if("class"===i&&(o=".%s"),"data"===i&&(o="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const i={};return ay(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===o?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:o?{[o.replace("%s",t)]:i,[`${r}, ${o.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(o&&"media"!==o)return`${r}, ${o.replace("%s",String(t))}`}else if(t){if("media"===o)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(o)return o.replace("%s",String(t))}return r};function ly(e,t,n){!e[t]&&n&&(e[t]=n)}function cy(e){return"string"===typeof e&&e.startsWith("hsl")?uv(e):e}function uy(e,t){`${t}Channel`in e||(e[`${t}Channel`]=lv(cy(e[t])))}const dy=e=>{try{return e()}catch(t){}};function hy(e,t,n,r){if(!t)return;t=!0===t?{}:t;const i="dark"===r?"dark":"light";if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,o=Bv(t);return{palette:o,opacity:{...ry(o.mode),...n},overlays:r||iy(o.mode),...i}}({...t,palette:{mode:i,...t?.palette}}));const{palette:o,...a}=ey({...n,palette:{mode:i,...t?.palette}});return e[r]={...t,palette:o,opacity:{...ry(i),...t?.opacity},overlays:t?.overlays||iy(i)},a}function py(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=oy,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),rootSelector:s=":root",...l}=e,c=Object.keys(t)[0],u=n||(t.light&&"light"!==c?"light":c),d=function(){return Ov(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[u]:h,light:p,dark:f,...m}=t,g={...m};let v=h;if(("dark"===u&&!("dark"in t)||"light"===u&&!("light"in t))&&(v=!0),!v)throw new Error(Xm(21,u));const y=hy(g,v,l,u);p&&!g.light&&hy(g,p,void 0,"light"),f&&!g.dark&&hy(g,f,void 0,"dark");let b={defaultColorScheme:u,...y,cssVarPrefix:i,colorSchemeSelector:a,rootSelector:s,getCssVar:d,colorSchemes:g,font:{...Lv(y.typography),...y.font},spacing:(A=l.spacing,"number"===typeof A?`${A}px`:"string"===typeof A||"function"===typeof A||Array.isArray(A)?A:"8px")};var A;Object.keys(b.colorSchemes).forEach((e=>{const t=b.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return d(e,t[r][i])};if("light"===t.mode&&(ly(t.common,"background","#fff"),ly(t.common,"onBackground","#000")),"dark"===t.mode&&(ly(t.common,"background","#000"),ly(t.common,"onBackground","#fff")),function(e,t){t.forEach((t=>{e[t]||(e[t]={})}))}(t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===t.mode){ly(t.Alert,"errorColor",mv(t.error.light,.6)),ly(t.Alert,"infoColor",mv(t.info.light,.6)),ly(t.Alert,"successColor",mv(t.success.light,.6)),ly(t.Alert,"warningColor",mv(t.warning.light,.6)),ly(t.Alert,"errorFilledBg",n("palette-error-main")),ly(t.Alert,"infoFilledBg",n("palette-info-main")),ly(t.Alert,"successFilledBg",n("palette-success-main")),ly(t.Alert,"warningFilledBg",n("palette-warning-main")),ly(t.Alert,"errorFilledColor",dy((()=>t.getContrastText(t.error.main)))),ly(t.Alert,"infoFilledColor",dy((()=>t.getContrastText(t.info.main)))),ly(t.Alert,"successFilledColor",dy((()=>t.getContrastText(t.success.main)))),ly(t.Alert,"warningFilledColor",dy((()=>t.getContrastText(t.warning.main)))),ly(t.Alert,"errorStandardBg",vv(t.error.light,.9)),ly(t.Alert,"infoStandardBg",vv(t.info.light,.9)),ly(t.Alert,"successStandardBg",vv(t.success.light,.9)),ly(t.Alert,"warningStandardBg",vv(t.warning.light,.9)),ly(t.Alert,"errorIconColor",n("palette-error-main")),ly(t.Alert,"infoIconColor",n("palette-info-main")),ly(t.Alert,"successIconColor",n("palette-success-main")),ly(t.Alert,"warningIconColor",n("palette-warning-main")),ly(t.AppBar,"defaultBg",n("palette-grey-100")),ly(t.Avatar,"defaultBg",n("palette-grey-400")),ly(t.Button,"inheritContainedBg",n("palette-grey-300")),ly(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),ly(t.Chip,"defaultBorder",n("palette-grey-400")),ly(t.Chip,"defaultAvatarColor",n("palette-grey-700")),ly(t.Chip,"defaultIconColor",n("palette-grey-700")),ly(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ly(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ly(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ly(t.LinearProgress,"primaryBg",vv(t.primary.main,.62)),ly(t.LinearProgress,"secondaryBg",vv(t.secondary.main,.62)),ly(t.LinearProgress,"errorBg",vv(t.error.main,.62)),ly(t.LinearProgress,"infoBg",vv(t.info.main,.62)),ly(t.LinearProgress,"successBg",vv(t.success.main,.62)),ly(t.LinearProgress,"warningBg",vv(t.warning.main,.62)),ly(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),ly(t.Slider,"primaryTrack",vv(t.primary.main,.62)),ly(t.Slider,"secondaryTrack",vv(t.secondary.main,.62)),ly(t.Slider,"errorTrack",vv(t.error.main,.62)),ly(t.Slider,"infoTrack",vv(t.info.main,.62)),ly(t.Slider,"successTrack",vv(t.success.main,.62)),ly(t.Slider,"warningTrack",vv(t.warning.main,.62));const e=bv(t.background.default,.8);ly(t.SnackbarContent,"bg",e),ly(t.SnackbarContent,"color",dy((()=>t.getContrastText(e)))),ly(t.SpeedDialAction,"fabHoverBg",bv(t.background.paper,.15)),ly(t.StepConnector,"border",n("palette-grey-400")),ly(t.StepContent,"border",n("palette-grey-400")),ly(t.Switch,"defaultColor",n("palette-common-white")),ly(t.Switch,"defaultDisabledColor",n("palette-grey-100")),ly(t.Switch,"primaryDisabledColor",vv(t.primary.main,.62)),ly(t.Switch,"secondaryDisabledColor",vv(t.secondary.main,.62)),ly(t.Switch,"errorDisabledColor",vv(t.error.main,.62)),ly(t.Switch,"infoDisabledColor",vv(t.info.main,.62)),ly(t.Switch,"successDisabledColor",vv(t.success.main,.62)),ly(t.Switch,"warningDisabledColor",vv(t.warning.main,.62)),ly(t.TableCell,"border",vv(pv(t.divider,1),.88)),ly(t.Tooltip,"bg",pv(t.grey[700],.92))}if("dark"===t.mode){ly(t.Alert,"errorColor",vv(t.error.light,.6)),ly(t.Alert,"infoColor",vv(t.info.light,.6)),ly(t.Alert,"successColor",vv(t.success.light,.6)),ly(t.Alert,"warningColor",vv(t.warning.light,.6)),ly(t.Alert,"errorFilledBg",n("palette-error-dark")),ly(t.Alert,"infoFilledBg",n("palette-info-dark")),ly(t.Alert,"successFilledBg",n("palette-success-dark")),ly(t.Alert,"warningFilledBg",n("palette-warning-dark")),ly(t.Alert,"errorFilledColor",dy((()=>t.getContrastText(t.error.dark)))),ly(t.Alert,"infoFilledColor",dy((()=>t.getContrastText(t.info.dark)))),ly(t.Alert,"successFilledColor",dy((()=>t.getContrastText(t.success.dark)))),ly(t.Alert,"warningFilledColor",dy((()=>t.getContrastText(t.warning.dark)))),ly(t.Alert,"errorStandardBg",mv(t.error.light,.9)),ly(t.Alert,"infoStandardBg",mv(t.info.light,.9)),ly(t.Alert,"successStandardBg",mv(t.success.light,.9)),ly(t.Alert,"warningStandardBg",mv(t.warning.light,.9)),ly(t.Alert,"errorIconColor",n("palette-error-main")),ly(t.Alert,"infoIconColor",n("palette-info-main")),ly(t.Alert,"successIconColor",n("palette-success-main")),ly(t.Alert,"warningIconColor",n("palette-warning-main")),ly(t.AppBar,"defaultBg",n("palette-grey-900")),ly(t.AppBar,"darkBg",n("palette-background-paper")),ly(t.AppBar,"darkColor",n("palette-text-primary")),ly(t.Avatar,"defaultBg",n("palette-grey-600")),ly(t.Button,"inheritContainedBg",n("palette-grey-800")),ly(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),ly(t.Chip,"defaultBorder",n("palette-grey-700")),ly(t.Chip,"defaultAvatarColor",n("palette-grey-300")),ly(t.Chip,"defaultIconColor",n("palette-grey-300")),ly(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ly(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ly(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ly(t.LinearProgress,"primaryBg",mv(t.primary.main,.5)),ly(t.LinearProgress,"secondaryBg",mv(t.secondary.main,.5)),ly(t.LinearProgress,"errorBg",mv(t.error.main,.5)),ly(t.LinearProgress,"infoBg",mv(t.info.main,.5)),ly(t.LinearProgress,"successBg",mv(t.success.main,.5)),ly(t.LinearProgress,"warningBg",mv(t.warning.main,.5)),ly(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),ly(t.Slider,"primaryTrack",mv(t.primary.main,.5)),ly(t.Slider,"secondaryTrack",mv(t.secondary.main,.5)),ly(t.Slider,"errorTrack",mv(t.error.main,.5)),ly(t.Slider,"infoTrack",mv(t.info.main,.5)),ly(t.Slider,"successTrack",mv(t.success.main,.5)),ly(t.Slider,"warningTrack",mv(t.warning.main,.5));const e=bv(t.background.default,.98);ly(t.SnackbarContent,"bg",e),ly(t.SnackbarContent,"color",dy((()=>t.getContrastText(e)))),ly(t.SpeedDialAction,"fabHoverBg",bv(t.background.paper,.15)),ly(t.StepConnector,"border",n("palette-grey-600")),ly(t.StepContent,"border",n("palette-grey-600")),ly(t.Switch,"defaultColor",n("palette-grey-300")),ly(t.Switch,"defaultDisabledColor",n("palette-grey-600")),ly(t.Switch,"primaryDisabledColor",mv(t.primary.main,.55)),ly(t.Switch,"secondaryDisabledColor",mv(t.secondary.main,.55)),ly(t.Switch,"errorDisabledColor",mv(t.error.main,.55)),ly(t.Switch,"infoDisabledColor",mv(t.info.main,.55)),ly(t.Switch,"successDisabledColor",mv(t.success.main,.55)),ly(t.Switch,"warningDisabledColor",mv(t.warning.main,.55)),ly(t.TableCell,"border",mv(pv(t.divider,1),.68)),ly(t.Tooltip,"bg",pv(t.grey[700],.92))}uy(t.background,"default"),uy(t.background,"paper"),uy(t.common,"background"),uy(t.common,"onBackground"),uy(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&ly(t[e],"mainChannel",lv(cy(n.main))),n.light&&ly(t[e],"lightChannel",lv(cy(n.light))),n.dark&&ly(t[e],"darkChannel",lv(cy(n.dark))),n.contrastText&&ly(t[e],"contrastTextChannel",lv(cy(n.contrastText))),"text"===e&&(uy(t[e],"primary"),uy(t[e],"secondary")),"action"===e&&(n.active&&uy(t[e],"active"),n.selected&&uy(t[e],"selected")))}))}));for(var x=arguments.length,w=new Array(x>1?x-1:0),C=1;C<x;C++)w[C-1]=arguments[C];b=w.reduce(((e,t)=>Um(e,t)),b);const E={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:sy(b)},{vars:S,generateThemeVars:_,generateStyleSheets:M}=Fv(b,E);return b.vars=S,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach((e=>{let[t,n]=e;b[t]=n})),b.generateThemeVars=_,b.generateStyleSheets=M,b.generateSpacing=function(){return gg(l.spacing,cg(this))},b.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(a),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=o,b.unstable_sxConfig={...Qg,...l?.unstable_sxConfig},b.unstable_sx=function(e){return qg({sx:e,theme:this})},b.toRuntimeSource=Jv,b}function fy(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:Bv({...!0===n?{}:n.palette,mode:t})})}function my(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=t?.mode,...o}=e,a=i||"light",s=r?.[a],l={...r,...t?{[a]:{..."boolean"!==typeof s&&s,palette:t}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return ey(e,...u);let n=t;"palette"in e||l[a]&&(!0!==l[a]?n=l[a].palette:"dark"===a&&(n={mode:"dark"}));const r=ey({...e,palette:n},...u);return r.defaultColorScheme=a,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light={...!0!==l.light&&l.light,palette:r.palette},fy(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:r.palette},fy(r,"light",l.light)),r}return t||"light"in l||"light"!==a||(l.light=!0),py({...o,colorSchemes:l,defaultColorScheme:a,..."boolean"!==typeof n&&n},...u)}const gy=my(),vy="$$material";const yy=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},by=e=>yy(e)&&"classes"!==e,Ay=nv({themeId:vy,defaultTheme:gy,rootShouldForwardProp:by});const xy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(xm);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},wy=Xg();const Cy=function(){return xy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:wy)};function Ey(){const e=Cy(gy);return e[vy]||e}const Sy={theme:void 0};const _y=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(Sy.theme=r.theme,i=Kg(e(Sy)),t=i,n=r.theme),i}},My=_y;function Iy(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]={...e[i],...n[i]};else if("componentsProps"===i||"slotProps"===i){const r=e[i],o=t[i];if(o)if(r){n[i]={...o};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=Iy(r[t],o[t])}}else n[i]=o;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}var Ty=n(579);const Ry=i.createContext(void 0);function ky(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Iy(i.defaultProps,r):i.styleOverrides||i.variants?r:Iy(i,r)}({props:t,name:n,theme:{components:i.useContext(Ry)}})}const Py=function(e){let{value:t,children:n}=e;return(0,Ty.jsx)(Ry.Provider,{value:t,children:n})};function By(e){return ky(e)}const Oy=Km;function Ly(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Dy(e,t){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dy(e,t)}function Ny(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dy(e,t)}var Fy=n(7950);const jy=!1,Uy=i.createContext(null);var zy="unmounted",Hy="exited",Vy="entering",Gy="entered",Qy="exiting",Wy=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Hy,r.appearStatus=Vy):i=Gy:i=t.unmountOnExit||t.mountOnEnter?zy:Hy,r.state={status:i},r.nextCallback=null,r}Ny(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===zy?{status:Hy}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Vy&&n!==Gy&&(t=Vy):n!==Vy&&n!==Gy||(t=Qy)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Vy){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Fy.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hy&&this.setState({status:zy})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Fy.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||jy?this.safeSetState({status:Gy},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Vy},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Gy},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Fy.findDOMNode(this);t&&!jy?(this.props.onExit(r),this.safeSetState({status:Qy},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Hy},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Hy},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Fy.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===zy)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ly(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Uy.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function qy(){}Wy.contextType=Uy,Wy.propTypes={},Wy.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qy,onEntering:qy,onEntered:qy,onExit:qy,onExiting:qy,onExited:qy},Wy.UNMOUNTED=zy,Wy.EXITED=Hy,Wy.ENTERING=Vy,Wy.ENTERED=Gy,Wy.EXITING=Qy;const $y=Wy,Xy=e=>e.scrollTop;function Ky(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:i.transitionTimingFunction??("object"===typeof r?r[t.mode]:r),delay:i.transitionDelay}}const Yy=Wp;function Jy(e){return`scale(${e}, ${e**2})`}const Zy={entering:{opacity:1,transform:Jy(1)},entered:{opacity:1,transform:"none"}},eb="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tb=i.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=$y,...v}=e,y=Up(),b=i.useRef(),A=Ey(),x=i.useRef(null),w=Yy(x,$p(o),t),C=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},E=C(u),S=C(((e,t)=>{Xy(e);const{duration:n,delay:r,easing:i}=Ky({style:f,timeout:m,easing:a},{mode:"enter"});let o;"auto"===m?(o=A.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[A.transitions.create("opacity",{duration:o,delay:r}),A.transitions.create("transform",{duration:eb?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),_=C(c),M=C(p),I=C((e=>{const{duration:t,delay:n,easing:r}=Ky({style:f,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=A.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[A.transitions.create("opacity",{duration:i,delay:n}),A.transitions.create("transform",{duration:eb?i:.666*i,delay:eb?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=Jy(.75),d&&d(e)})),T=C(h);return(0,Ty.jsx)(g,{appear:r,in:s,nodeRef:x,onEnter:S,onEntered:_,onEntering:E,onExit:I,onExited:T,onExiting:M,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),n&&n(x.current,e)},timeout:"auto"===m?null:m,...v,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(o,{style:{opacity:0,transform:Jy(.75),visibility:"exited"!==e||s?void 0:"hidden",...Zy[e],...f,...o.props.style},ref:w,...r})}})}));tb&&(tb.muiSupportAuto=!0);const nb=tb;function rb(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const ib=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rb(e))&&(r&&(r+=" "),r+=t);return r},ob=e=>e,ab=(()=>{let e=ob;return{configure(t){e=t},generate:t=>e(t),reset(){e=ob}}})(),sb={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function lb(e,t){const n=sb[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${ab.generate(e)}-${t}`}function cb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=lb(e,t,n)})),r}function ub(e){return lb("MuiPaper",e)}cb("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const db=Ay("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(My((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),hb=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiPaper"}),r=Ey(),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation",...c}=n,u={...n,component:o,elevation:a,square:s,variant:l},d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Op({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},ub,i)})(u);return(0,Ty.jsx)(db,{as:o,ownerState:u,className:ib(d.root,i),ref:t,...c,style:{..."elevation"===l&&{"--Paper-shadow":(r.vars||r).shadows[a],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[a]},...!r.vars&&"dark"===r.palette.mode&&{"--Paper-overlay":`linear-gradient(${hv("#fff",ty(a))}, ${hv("#fff",ty(a))})`}},...c.style}})})),pb=hb;function fb(e){return lb("MuiSnackbarContent",e)}cb("MuiSnackbarContent",["root","message","action"]);const mb=Ay(pb,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=yv(t.palette.background.default,n);return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}}))),gb=Ay("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),vb=Ay("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),yb=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiSnackbarContent"}),{action:r,className:i,message:o,role:a="alert",...s}=n,l=n,c=(e=>{const{classes:t}=e;return Op({root:["root"],action:["action"],message:["message"]},fb,t)})(l);return(0,Ty.jsxs)(mb,{role:a,square:!0,elevation:6,className:ib(c.root,i),ownerState:l,ref:t,...s,children:[(0,Ty.jsx)(gb,{className:c.message,ownerState:l,children:o}),r?(0,Ty.jsx)(vb,{className:c.action,ownerState:l,children:r}):null]})})),bb=yb;function Ab(e){return lb("MuiSnackbar",e)}cb("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const xb=function(e){return"string"===typeof e};const wb=function(e,t,n){return void 0===e||xb(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const Cb=function(e,t,n){return"function"===typeof e?e(t,n):e};const Eb=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const Sb=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=ib(n?.className,o,i?.className,r?.className),t={...n?.style,...i?.style,...r?.style},a={...n,...i,...r};return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=Vp({...i,...r}),s=Eb(r),l=Eb(i),c=t(a),u=ib(c?.className,n?.className,o,i?.className,r?.className),d={...c?.style,...n?.style,...i?.style,...r?.style},h={...c,...n,...l,...s};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};function _b(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,p=u[e]||r,f=Cb(d[e],i),{props:{component:m,...g},internalRef:v}=Sb({className:n,...l,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f}),y=Wp(v,f?.ref,t.ref),b="root"===e?m||c:m;return[p,wb(p,{..."root"===e&&!c&&!u[e]&&a,..."root"!==e&&!u[e]&&a,...g,...b&&!s&&{as:b},...b&&s&&{component:b},ref:y},i)]}const Mb=Ay("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Oy(n.anchorOrigin.vertical)}${Oy(n.anchorOrigin.horizontal)}`]]}})(My((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}}))),Ib=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiSnackbar"}),r=Ey(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:f=!1,message:m,onBlur:g,onClose:v,onFocus:y,onMouseEnter:b,onMouseLeave:A,open:x,resumeHideDuration:w,slots:C={},slotProps:E={},TransitionComponent:S,transitionDuration:_=o,TransitionProps:{onEnter:M,onExited:I,...T}={},...R}=n,k={...n,anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:f,TransitionComponent:S,transitionDuration:_},P=(e=>{const{classes:t,anchorOrigin:n}=e;return Op({root:["root",`anchorOrigin${Oy(n.vertical)}${Oy(n.horizontal)}`]},Ab,t)})(k),{getRootProps:B,onClickAway:O}=Gp({...k}),[L,D]=i.useState(!0),N={slots:{transition:S,...C},slotProps:{content:p,clickAwayListener:h,transition:T,...E}},[F,j]=_b("root",{ref:t,className:[P.root,d],elementType:Mb,getSlotProps:B,externalForwardedProps:{...N,...R},ownerState:k}),[U,z]=_b("clickAwayListener",{elementType:Kp,externalForwardedProps:N,getSlotProps:e=>({onClickAway:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onClickAway?.(...n),O(...n)}}),ownerState:k}),[H,V]=_b("content",{elementType:bb,shouldForwardComponentProp:!0,externalForwardedProps:N,additionalProps:{message:m,action:a},ownerState:k}),[G,Q]=_b("transition",{elementType:nb,externalForwardedProps:N,getSlotProps:e=>({onEnter:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onEnter?.(...n),((e,t)=>{D(!1),M&&M(e,t)})(...n)},onExited:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.onExited?.(...n),(e=>{D(!0),I&&I(e)})(...n)}}),additionalProps:{appear:!0,in:x,timeout:_,direction:"top"===s?"down":"up"},ownerState:k});return!x&&L?null:(0,Ty.jsx)(U,{...z,children:(0,Ty.jsx)(F,{...j,children:(0,Ty.jsx)(G,{...Q,children:u||(0,Ty.jsx)(H,{...V})})})})})),Tb=Ib;function Rb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function kb(e){return lb("MuiAlert",e)}const Pb=cb("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);let Bb=0;const Ob={...o}.useId;function Lb(e){if(void 0!==Ob){const t=Ob();return e??t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(Bb+=1,n(`mui-${Bb}`))}),[t]),r}(e)}const Db=Lb;function Nb(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const Fb=Hp;class jb{static create(){return new jb}static use(){const e=Dp(jb.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.start(...t)))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.stop(...t)))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>this.ref.current?.pulsate(...t)))}}function Ub(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function zb(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Hb(e,t,n){var r=Ub(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,c=a in r,u=t[a],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:zb(s,"exit",e),enter:zb(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:zb(s,"exit",e),enter:zb(s,"enter",e)})}})),o}var Vb=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Gb=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Ny(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,Ub(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:zb(e,"appear",n),enter:zb(e,"enter",n),exit:zb(e,"exit",n)})}))):Hb(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=Ub(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Yp({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Ly(e,["component","childFactory"]),o=this.state.contextValue,a=Vb(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Uy.Provider,{value:o},a):i.createElement(Uy.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);Gb.propTypes={},Gb.defaultProps={component:"div",childFactory:function(e){return e}};const Qb=Gb;n(219);var Wb=function(e,t){var n=arguments;if(null==t||!wm.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=_m,o[1]=function(e,t){var n={};for(var r in t)wm.call(t,r)&&(n[r]=t[r]);return n[Cm]=e,n}(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Wb||(Wb={}));var qb=Am((function(e,t){var n=mm([e.styles],void 0,i.useContext(xm)),r=i.useRef();return ym((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),i.hydrate([a])),r.current=[i,o],function(){i.flush()}}),[t]),ym((function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&rm(t,n.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",n,i,!1)}}),[t,n.name]),null}));function $b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mm(t)}function Xb(){var e=$b.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const Kb=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),p=ib(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:s,height:s,top:-s/2+a,left:-s/2+o},m=ib(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,Ty.jsx)("span",{className:p,style:f,children:(0,Ty.jsx)("span",{className:m})})};const Yb=cb("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Jb=Xb`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Zb=Xb`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,eA=Xb`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,tA=Ay("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nA=Ay(Kb,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Yb.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Jb};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${Yb.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${Yb.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Yb.childLeaving} {
    opacity: 0;
    animation-name: ${Zb};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${Yb.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${eA};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,rA=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:a,...s}=n,[l,c]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=i.useRef(!1),p=Up(),f=i.useRef(null),m=i.useRef(null),g=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;c((e=>[...e,(0,Ty.jsx)(nA,{classes:{ripple:ib(o.ripple,Yb.ripple),rippleVisible:ib(o.rippleVisible,Yb.rippleVisible),ripplePulsate:ib(o.ripplePulsate,Yb.ripplePulsate),child:ib(o.child,Yb.child),childLeaving:ib(o.childLeaving,Yb.childLeaving),childPulsate:ib(o.childPulsate,Yb.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=a}),[o]),v=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===e?.type&&h.current)return void(h.current=!1);"touchstart"===e?.type&&(h.current=!0);const s=a?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}e?.touches?null===f.current&&(f.current=()=>{g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,g,p]),y=i.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=i.useCallback(((e,t)=>{if(p.clear(),"touchend"===e?.type&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return i.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,Ty.jsx)(tA,{className:ib(Yb.root,o.root,a),ref:m,...s,children:(0,Ty.jsx)(Qb,{component:null,exit:!0,children:l})})})),iA=rA;function oA(e){return lb("MuiButtonBase",e)}const aA=cb("MuiButtonBase",["root","disabled","focusVisible"]),sA=Ay("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${aA.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),lA=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:f="a",onBlur:m,onClick:g,onContextMenu:v,onDragLeave:y,onFocus:b,onFocusVisible:A,onKeyDown:x,onKeyUp:w,onMouseDown:C,onMouseLeave:E,onMouseUp:S,onTouchEnd:_,onTouchMove:M,onTouchStart:I,tabIndex:T=0,TouchRippleProps:R,touchRippleRef:k,type:P,...B}=n,O=i.useRef(null),L=jb.use(),D=Yy(L.ref,k),[N,F]=i.useState(!1);c&&N&&F(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{F(!0),O.current.focus()}})),[]);const j=L.shouldMount&&!u&&!c;i.useEffect((()=>{N&&h&&!u&&L.pulsate()}),[u,h,N,L]);const U=cA(L,"start",C,d),z=cA(L,"stop",v,d),H=cA(L,"stop",y,d),V=cA(L,"stop",S,d),G=cA(L,"stop",(e=>{N&&e.preventDefault(),E&&E(e)}),d),Q=cA(L,"start",I,d),W=cA(L,"stop",_,d),q=cA(L,"stop",M,d),$=cA(L,"stop",(e=>{Nb(e.target)||F(!1),m&&m(e)}),!1),X=Fb((e=>{O.current||(O.current=e.currentTarget),Nb(e.target)&&(F(!0),A&&A(e)),b&&b(e)})),K=()=>{const e=O.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},Y=Fb((e=>{h&&!e.repeat&&N&&" "===e.key&&L.stop(e,(()=>{L.start(e)})),e.target===e.currentTarget&&K()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&K()&&"Enter"===e.key&&!c&&(e.preventDefault(),g&&g(e))})),J=Fb((e=>{h&&" "===e.key&&N&&!e.defaultPrevented&&L.stop(e,(()=>{L.pulsate(e)})),w&&w(e),g&&e.target===e.currentTarget&&K()&&" "===e.key&&!e.defaultPrevented&&g(e)}));let Z=l;"button"===Z&&(B.href||B.to)&&(Z=f);const ee={};"button"===Z?(ee.type=void 0===P?"button":P,ee.disabled=c):(B.href||B.to||(ee.role="button"),c&&(ee["aria-disabled"]=c));const te=Yy(t,O),ne={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:T,focusVisible:N},re=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=Op({root:["root",t&&"disabled",n&&"focusVisible"]},oA,i);return n&&r&&(o.root+=` ${r}`),o})(ne);return(0,Ty.jsxs)(sA,{as:Z,className:ib(re.root,s),ownerState:ne,onBlur:$,onClick:g,onContextMenu:z,onFocus:X,onKeyDown:Y,onKeyUp:J,onMouseDown:U,onMouseLeave:G,onMouseUp:V,onDragLeave:H,onTouchEnd:W,onTouchMove:q,onTouchStart:Q,ref:te,tabIndex:c?-1:T,type:P,...ee,...B,children:[a,j?(0,Ty.jsx)(iA,{ref:D,center:o,...R}):null]})}));function cA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fb((i=>(n&&n(i),r||e[t](i),!0)))}const uA=lA;function dA(e){return lb("MuiCircularProgress",e)}cb("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hA=44,pA=Xb`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,fA=Xb`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,mA="string"!==typeof pA?$b`
        animation: ${pA} 1.4s linear infinite;
      `:null,gA="string"!==typeof fA?$b`
        animation: ${fA} 1.4s ease-in-out infinite;
      `:null,vA=Ay("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Oy(n.color)}`]]}})(My((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:mA||{animation:`${pA} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),yA=Ay("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),bA=Ay("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Oy(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(My((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:gA||{animation:`${fA} 1.4s ease-in-out infinite`}}]}}))),AA=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:a=40,style:s,thickness:l=3.6,value:c=0,variant:u="indeterminate",...d}=n,h={...n,color:i,disableShrink:o,size:a,thickness:l,value:c,variant:u},p=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e;return Op({root:["root",n,`color${Oy(r)}`],svg:["svg"],circle:["circle",`circle${Oy(n)}`,i&&"circleDisableShrink"]},dA,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((hA-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,Ty.jsx)(vA,{className:ib(p.root,r),style:{width:a,height:a,...m,...s},ownerState:h,ref:t,role:"progressbar",...g,...d,children:(0,Ty.jsx)(yA,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,Ty.jsx)(bA,{className:p.circle,style:f,ownerState:h,cx:hA,cy:hA,r:(hA-l)/2,fill:"none",strokeWidth:l})})})})),xA=AA;function wA(e){return lb("MuiIconButton",e)}const CA=cb("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),EA=Ay(uA,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t[`color${Oy(n.color)}`],n.edge&&t[`edge${Oy(n.edge)}`],t[`size${Oy(n.size)}`]]}})(My((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),My((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hv((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${CA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${CA.loading}`]:{color:"transparent"}}}))),SA=Ay("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),_A=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium",id:u,loading:d=null,loadingIndicator:h,...p}=n,f=Db(u),m=h??(0,Ty.jsx)(xA,{"aria-labelledby":f,color:"inherit",size:16}),g={...n,edge:r,color:a,disabled:s,disableFocusRipple:l,loading:d,loadingIndicator:m,size:c},v=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o,loading:a}=e;return Op({root:["root",a&&"loading",n&&"disabled","default"!==r&&`color${Oy(r)}`,i&&`edge${Oy(i)}`,`size${Oy(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},wA,t)})(g);return(0,Ty.jsxs)(EA,{id:d?f:u,className:ib(v.root,o),centerRipple:!0,focusRipple:!l,disabled:s||d,ref:t,...p,ownerState:g,children:["boolean"===typeof d&&(0,Ty.jsx)("span",{className:v.loadingWrapper,style:{display:"contents"},children:(0,Ty.jsx)(SA,{className:v.loadingIndicator,ownerState:g,children:d&&m})}),i]})})),MA=_A;function IA(e){return lb("MuiSvgIcon",e)}cb("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const TA=Ay("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${Oy(n.color)}`],t[`fontSize${Oy(n.fontSize)}`]]}})(My((e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}}})),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),RA=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=n,f=i.isValidElement(r)&&"svg"===r.type,m={...n,color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:f},g={};u||(g.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return Op({root:["root","inherit"!==t&&`color${Oy(t)}`,`fontSize${Oy(n)}`]},IA,r)})(m);return(0,Ty.jsxs)(TA,{as:s,className:ib(v.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t,...g,...p,...f&&r.props,ownerState:m,children:[f?r.props.children:r,d?(0,Ty.jsx)("title",{children:d}):null]})}));RA.muiName="SvgIcon";const kA=RA;function PA(e,t){function n(n,r){return(0,Ty.jsx)(kA,{"data-testid":`${t}Icon`,ref:r,...n,children:e})}return n.muiName=kA.muiName,i.memo(i.forwardRef(n))}const BA=PA((0,Ty.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),OA=PA((0,Ty.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),LA=PA((0,Ty.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),DA=PA((0,Ty.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),NA=PA((0,Ty.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),FA=Ay(pb,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Oy(n.color||n.severity)}`]]}})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode?fv:gv,r="light"===t.palette.mode?gv:fv;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Rb(["light"])).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${Pb.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter(Rb(["light"])).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${Pb.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter(Rb(["dark"])).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}}))]}}))),jA=Ay("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),UA=Ay("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),zA=Ay("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),HA={success:(0,Ty.jsx)(BA,{fontSize:"inherit"}),warning:(0,Ty.jsx)(OA,{fontSize:"inherit"}),error:(0,Ty.jsx)(LA,{fontSize:"inherit"}),info:(0,Ty.jsx)(DA,{fontSize:"inherit"})},VA=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiAlert"}),{action:r,children:i,className:o,closeText:a="Close",color:s,components:l={},componentsProps:c={},icon:u,iconMapping:d=HA,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:v="standard",...y}=n,b={...n,color:s,severity:f,variant:v,colorSeverity:s||f},A=(e=>{const{variant:t,color:n,severity:r,classes:i}=e;return Op({root:["root",`color${Oy(n||r)}`,`${t}${Oy(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},kb,i)})(b),x={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...g},slotProps:{...c,...m}},[w,C]=_b("root",{ref:t,shouldForwardComponentProp:!0,className:ib(A.root,o),elementType:FA,externalForwardedProps:{...x,...y},ownerState:b,additionalProps:{role:p,elevation:0}}),[E,S]=_b("icon",{className:A.icon,elementType:jA,externalForwardedProps:x,ownerState:b}),[_,M]=_b("message",{className:A.message,elementType:UA,externalForwardedProps:x,ownerState:b}),[I,T]=_b("action",{className:A.action,elementType:zA,externalForwardedProps:x,ownerState:b}),[R,k]=_b("closeButton",{elementType:MA,externalForwardedProps:x,ownerState:b}),[P,B]=_b("closeIcon",{elementType:NA,externalForwardedProps:x,ownerState:b});return(0,Ty.jsxs)(w,{...C,children:[!1!==u?(0,Ty.jsx)(E,{...S,children:u||d[f]||HA[f]}):null,(0,Ty.jsx)(_,{...M,children:i}),null!=r?(0,Ty.jsx)(I,{...T,children:r}):null,null==r&&h?(0,Ty.jsx)(I,{...T,children:(0,Ty.jsx)(R,{size:"small","aria-label":a,title:a,color:"inherit",onClick:h,...k,children:(0,Ty.jsx)(P,{fontSize:"small",...B})})}):null]})})),GA=VA,QA=(0,i.createContext)(),WA=e=>{let{children:t}=e;const[n,r]=(0,i.useState)({open:!1,severity:"info",message:""}),o=()=>{r({...n,open:!1})};return(0,Ty.jsxs)(QA.Provider,{value:{showAlert:(e,t)=>{r({open:!0,severity:e,message:t})}},children:[t,(0,Ty.jsx)(Tb,{open:n.open,autoHideDuration:6e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,Ty.jsx)(GA,{onClose:o,severity:n.severity,elevation:6,variant:"filled",children:n.message})})]})},qA=()=>(0,i.useContext)(QA);n(3175);var $A="popstate";function XA(){return nx((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return ZA("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:ex(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function KA(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function YA(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function JA(e,t){return{usr:e.state,key:e.key,idx:t}}function ZA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?tx(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function ex(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function tx(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function nx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:ex(e);return n=n.replace(/ $/,"%20"),KA(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==c&&(c=0,a.replaceState({...a.state,idx:c},""));let p={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($A,d),l=e,()=>{i.removeEventListener($A,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=ZA(p.location,e,t);n&&n(r,e),c=u()+1;let d=JA(r,c),h=p.createHref(r);try{a.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=ZA(p.location,e,t);n&&n(r,e),c=u();let i=JA(r,c),d=p.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}new WeakMap;function rx(e,t){return ix(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function ix(e,t,n,r){let i=yx(("string"===typeof t?tx(t):t).pathname||"/",n);if(null==i)return null;let o=ox(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=vx(i);a=mx(o[s],e,r)}return a}function ox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(KA(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let s=Cx([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(KA(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),ox(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:fx(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of ax(e.path))i(e,t,n);else i(e,t)})),t}function ax(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=ax(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var sx=/^:[\w-]+$/,lx=3,cx=2,ux=1,dx=10,hx=-2,px=e=>"*"===e;function fx(e,t){let n=e.split("/"),r=n.length;return n.some(px)&&(r+=hx),t&&(r+=cx),n.filter((e=>!px(e))).reduce(((e,t)=>e+(sx.test(t)?lx:""===t?ux:dx)),r)}function mx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=gx({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=gx({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:Cx([o,u.pathname]),pathnameBase:Ex(Cx([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=Cx([o,u.pathnameBase]))}return a}function gx(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];YA("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function vx(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return YA(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yx(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function bx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ax(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function xx(e){let t=Ax(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function wx(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=tx(e):(r={...e},KA(!r.pathname||!r.pathname.includes("?"),bx("?","pathname","search",r)),KA(!r.pathname||!r.pathname.includes("#"),bx("#","pathname","hash",r)),KA(!r.search||!r.search.includes("#"),bx("#","search","hash",r)));let o,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)o=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?tx(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Sx(r),hash:_x(i)}}(r,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Cx=e=>e.join("/").replace(/\/\/+/g,"/"),Ex=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sx=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_x=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Mx(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ix=["POST","PUT","PATCH","DELETE"],Tx=(new Set(Ix),["GET",...Ix]);new Set(Tx),Symbol("ResetLoaderData");var Rx=i.createContext(null);Rx.displayName="DataRouter";var kx=i.createContext(null);kx.displayName="DataRouterState";var Px=i.createContext({isTransitioning:!1});Px.displayName="ViewTransition";var Bx=i.createContext(new Map);Bx.displayName="Fetchers";var Ox=i.createContext(null);Ox.displayName="Await";var Lx=i.createContext(null);Lx.displayName="Navigation";var Dx=i.createContext(null);Dx.displayName="Location";var Nx=i.createContext({outlet:null,matches:[],isDataRoute:!1});Nx.displayName="Route";var Fx=i.createContext(null);Fx.displayName="RouteError";function jx(){return null!=i.useContext(Dx)}function Ux(){return KA(jx(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(Dx).location}var zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(e){i.useContext(Lx).static||i.useLayoutEffect(e)}function Vx(){let{isDataRoute:e}=i.useContext(Nx);return e?function(){let{router:e}=Zx("useNavigate"),t=tw("useNavigate"),n=i.useRef(!1);Hx((()=>{n.current=!0}));let r=i.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};YA(n.current,zx),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))}),[e,t]);return r}():function(){KA(jx(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(Rx),{basename:t,navigator:n}=i.useContext(Lx),{matches:r}=i.useContext(Nx),{pathname:o}=Ux(),a=JSON.stringify(xx(r)),s=i.useRef(!1);Hx((()=>{s.current=!0}));let l=i.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(YA(s.current,zx),!s.current)return;if("number"===typeof r)return void n.go(r);let l=wx(r,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Cx([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,a,o,e]);return l}()}var Gx=i.createContext(null);function Qx(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(Nx),{pathname:r}=Ux(),o=JSON.stringify(xx(n));return i.useMemo((()=>wx(e,JSON.parse(o),r,"path"===t)),[e,o,r,t])}function Wx(e,t,n,r){KA(jx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=i.useContext(Lx),{matches:s}=i.useContext(Nx),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";iw(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,f=Ux();if(t){let e="string"===typeof t?tx(t):t;KA("/"===d||e.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||"/",g=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!a&&n&&n.matches&&n.matches.length>0?n.matches:rx(e,{pathname:g});YA(h||null!=v,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),YA(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Yx(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Cx([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:Cx([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);return t&&y?i.createElement(Dx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function qx(){let e=nw(),t=Mx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:a},"ErrorBoundary")," or"," ",i.createElement("code",{style:a},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,s)}var $x=i.createElement(qx,null),Xx=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Nx.Provider,{value:this.props.routeContext},i.createElement(Fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kx(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(Rx);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Nx.Provider,{value:t},r)}function Yx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,o=n?.errors;if(null!=o){let e=r.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));KA(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,s=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=i),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){a=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,d=!1,h=null,p=null;n&&(u=o&&l.route.id?o[l.route.id]:void 0,h=l.route.errorElement||$x,a&&(s<0&&0===c?(iw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):s===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=u?h:d?p:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(Kx,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(Xx,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function Jx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(e){let t=i.useContext(Rx);return KA(t,Jx(e)),t}function ew(e){let t=i.useContext(kx);return KA(t,Jx(e)),t}function tw(e){let t=function(e){let t=i.useContext(Nx);return KA(t,Jx(e)),t}(e),n=t.matches[t.matches.length-1];return KA(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function nw(){let e=i.useContext(Fx),t=ew("useRouteError"),n=tw("useRouteError");return void 0!==e?e:t.errors?.[n]}var rw={};function iw(e,t,n){t||rw[e]||(rw[e]=!0,YA(!1,n))}i.memo((function(e){let{routes:t,future:n,state:r}=e;return Wx(t,void 0,r,n)}));function ow(e){let{to:t,replace:n,state:r,relative:o}=e;KA(jx(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=i.useContext(Lx);YA(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=i.useContext(Nx),{pathname:l}=Ux(),c=Vx(),u=wx(t,xx(s),l,"path"===o),d=JSON.stringify(u);return i.useEffect((()=>{c(JSON.parse(d),{replace:n,state:r,relative:o})}),[c,d,o,n,r]),null}function aw(e){return function(e){let t=i.useContext(Nx).outlet;return t?i.createElement(Gx.Provider,{value:e},t):t}(e.context)}function sw(e){KA(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lw(e){let{basename:t="/",children:n=null,location:r,navigationType:o="POP",navigator:a,static:s=!1}=e;KA(!jx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof r&&(r=tx(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=i.useMemo((()=>{let e=yx(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:o}}),[l,u,d,h,p,f,o]);return YA(null!=m,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:i.createElement(Lx.Provider,{value:c},i.createElement(Dx.Provider,{children:n,value:m}))}function cw(e){let{children:t,location:n}=e;return Wx(uw(t),n)}i.Component;function uw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,uw(e.props.children,o));KA(e.type===sw,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),KA(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=uw(e.props.children,o)),n.push(a)})),n}var dw="get",hw="application/x-www-form-urlencoded";function pw(e){return null!=e&&"string"===typeof e.tagName}function fw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var mw=null;var gw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vw(e){return null==e||gw.has(e)?e:(YA(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hw}"`),null)}function yw(e,t){let n,r,i,o,a;if(function(e){return pw(e)&&"form"===e.tagName.toLowerCase()}(e)){let a=e.getAttribute("action");r=a?yx(a,t):null,n=e.getAttribute("method")||dw,i=vw(e.getAttribute("enctype"))||hw,o=new FormData(e)}else if(function(e){return pw(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return pw(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?yx(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||dw,i=vw(e.getAttribute("formenctype"))||vw(a.getAttribute("enctype"))||hw,o=new FormData(a,e),!function(){if(null===mw)try{new FormData(document.createElement("form"),0),mw=!1}catch(e){mw=!0}return mw}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(pw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dw,r=null,i=hw,a=e}return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function bw(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Aw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function xw(e){return null!=e&&"string"===typeof e.page}function ww(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Cw(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===o?t.filter(((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ew(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Sw(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!xw(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e}),[])}function _w(e){return{__html:e}}Symbol("SingleFetchRedirect");function Mw(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===yx(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}i.Component;function Iw(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,o=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Mx(t))return i.createElement(Tw,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return i.createElement(Tw,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),o)}function Tw(e){let{title:t,renderScripts:n,isOutsideRemixApp:r,children:o}=e,{routeModules:a}=Ow();return a.root?.Layout&&!r?o:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,t)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,n?i.createElement(zw,null):null)))}function Rw(e){return!0===e}function kw(){let e=i.useContext(Rx);return bw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Pw(){let e=i.useContext(kx);return bw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bw=i.createContext(void 0);function Ow(){let e=i.useContext(Bw);return bw(e,"You must render this element inside a <HydratedRouter> element"),e}function Lw(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Dw(e,t,n){if(n&&!Uw)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Nw(e){let{page:t,...n}=e,{router:r}=kw(),o=i.useMemo((()=>rx(r.routes,t,r.basename)),[r.routes,t,r.basename]);return o?i.createElement(jw,{page:t,matches:o,...n}):null}function Fw(e){let{manifest:t,routeModules:n}=Ow(),[r,o]=i.useState([]);return i.useEffect((()=>{let r=!1;return async function(e,t,n){return Sw((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Aw(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ww).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||o(e)})),()=>{r=!0}}),[e,t,n]),r}function jw(e){let{page:t,matches:n,...r}=e,o=Ux(),{manifest:a,routeModules:s}=Ow(),{basename:l}=kw(),{loaderData:c,matches:u}=Pw(),d=i.useMemo((()=>Cw(t,n,u,a,o,"data")),[t,n,u,a,o]),h=i.useMemo((()=>Cw(t,n,u,a,o,"assets")),[t,n,u,a,o]),p=i.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!d.some((e=>e.route.id===t.route.id))&&t.route.id in c&&s[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Mw(t,l);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,o,a,d,n,t,s]),f=i.useMemo((()=>Ew(h,a)),[h,a]),m=Fw(h);return i.createElement(i.Fragment,null,p.map((e=>i.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r}))),f.map((e=>i.createElement("link",{key:e,rel:"modulepreload",href:e,...r}))),m.map((e=>{let{key:t,link:n}=e;return i.createElement("link",{key:t,...n})})))}Bw.displayName="FrameworkContext";var Uw=!1;function zw(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,ssr:o,renderMeta:a}=Ow(),{router:s,static:l,staticContext:c}=kw(),{matches:u}=Pw(),d=Rw(o);a&&(a.didRenderScripts=!0);let h=Dw(u,null,r);i.useEffect((()=>{0}),[]);let p=i.useMemo((()=>{let r=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=l?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,n)=>{let r=`route${n}`,i=t.routes[e.route.id];bw(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:a,hydrateFallbackModule:s,module:l}=i,c=[...o?[{module:o,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_HydrateFallback`}]:[],{module:l,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(l)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push(`/${r.join("/")}`),r.pop();i.forEach((e=>{let r=rx(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let o=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return{...e,routes:o}}(t,s),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return i.createElement(i.Fragment,null,i.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:_w(r),type:void 0}),i.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:_w(o),type:"module",async:!0}))}),[]),f=Uw?[]:t.entry.imports.concat(Ew(h,t,{includeHydrateFallback:!0}));return Uw?null:i.createElement(i.Fragment,null,d?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),function(e){return[...new Set(e)]}(f).map((t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),p)}function Hw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Vw="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Vw&&(window.__reactRouterVersion="7.3.0")}catch(z_e){}function Gw(e){let{basename:t,children:n,window:r}=e,o=i.useRef();null==o.current&&(o.current=XA({window:r,v5Compat:!0}));let a=o.current,[s,l]=i.useState({action:a.action,location:a.location}),c=i.useCallback((e=>{i.startTransition((()=>l(e)))}),[l]);return i.useLayoutEffect((()=>a.listen(c)),[a,c]),i.createElement(lw,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}var Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ww=i.forwardRef((function(e,t){let n,{onClick:r,discover:o="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:u,target:d,to:h,preventScrollReset:p,viewTransition:f,...m}=e,{basename:g}=i.useContext(Lx),v="string"===typeof h&&Qw.test(h),y=!1;if("string"===typeof h&&v&&(n=h,Vw))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=yx(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(z_e){YA(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};KA(jx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(Lx),{hash:o,pathname:a,search:s}=Qx(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:Cx([n,a])),r.createHref({pathname:l,search:s,hash:o})}(h,{relative:s}),[A,x,w]=function(e,t){let n=i.useContext(Bw),[r,o]=i.useState(!1),[a,s]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=i.useRef(null);i.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),i.useEffect((()=>{if(r){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{o(!0)},m=()=>{o(!1),s(!1)};return n?"intent"!==e?[a,p,{}]:[a,p,{onFocus:Lw(l,f),onBlur:Lw(c,m),onMouseEnter:Lw(u,f),onMouseLeave:Lw(d,m),onTouchStart:Lw(h,f)}]:[!1,p,{}]}(a,m),C=function(e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Vx(),c=Ux(),u=Qx(e,{relative:a});return i.useCallback((i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:ex(c)===ex(u);l(e,{replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:s})}}),[c,l,u,n,r,t,e,o,a,s])}(h,{replace:c,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:f});let E=i.createElement("a",{...m,...w,href:n||b,onClick:y||l?r:function(e){r&&r(e),e.defaultPrevented||C(e)},ref:Hw(t,x),target:d,"data-discover":v||"render"!==o?void 0:"true"});return A&&!v?i.createElement(i.Fragment,null,E,i.createElement(Nw,{page:b})):E}));Ww.displayName="Link";var qw=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:c,children:u,...d}=e,h=Qx(l,{relative:d.relative}),p=Ux(),f=i.useContext(kx),{navigator:m,basename:g}=i.useContext(Lx),v=null!=f&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(Px);KA(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Kw("useViewTransitionState"),o=Qx(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=yx(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=yx(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=gx(o.pathname,s)||null!=gx(o.pathname,a)}(h)&&!0===c,y=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=p.pathname,A=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(b=b.toLowerCase(),A=A?A.toLowerCase():null,y=y.toLowerCase()),A&&g&&(A=yx(A,g)||A);const x="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,C=b===y||!a&&b.startsWith(y)&&"/"===b.charAt(x),E=null!=A&&(A===y||!a&&A.startsWith(y)&&"/"===A.charAt(y.length)),S={isActive:C,isPending:E,isTransitioning:v},_=C?n:void 0;w="function"===typeof o?o(S):[o,C?"active":null,E?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let M="function"===typeof s?s(S):s;return i.createElement(Ww,{...d,"aria-current":_,className:w,ref:t,style:M,to:l,viewTransition:c},"function"===typeof u?u(S):u)}));qw.displayName="NavLink";var $w=i.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:o,reloadDocument:a,replace:s,state:l,method:c=dw,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:f,...m}=e,g=eC(),v=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(Lx),r=i.useContext(Nx);KA(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Qx(e||".",{relative:t})},s=Ux();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:Cx([n,a.pathname]));return ex(a)}(u,{relative:h}),y="get"===c.toLowerCase()?"get":"post",b="string"===typeof u&&Qw.test(u);return i.createElement("form",{ref:t,method:y,action:v,onSubmit:a?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;g(t||e.currentTarget,{fetcherKey:r,method:n,navigate:o,replace:s,state:l,relative:h,preventScrollReset:p,viewTransition:f})},...m,"data-discover":b||"render"!==n?void 0:"true"})}));function Xw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kw(e){let t=i.useContext(Rx);return KA(t,Xw(e)),t}function Yw(e){YA("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=i.useRef(fw(e)),n=i.useRef(!1),r=Ux(),o=i.useMemo((()=>function(e,t){let n=fw(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=Vx(),s=i.useCallback(((e,t)=>{const r=fw("function"===typeof e?e(o):e);n.current=!0,a("?"+r,t)}),[a,o]);return[o,s]}$w.displayName="Form";var Jw=0,Zw=()=>`__${String(++Jw)}__`;function eC(){let{router:e}=Kw("useSubmit"),{basename:t}=i.useContext(Lx),n=tw("useRouteId");return i.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=yw(r,t);if(!1===i.navigate){let t=i.fetcherKey||Zw();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const tC=i.createContext(null);function nC(){return i.useContext(tC)}const rC="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const iC=function(e){const{children:t,theme:n}=e,r=nC(),o=i.useMemo((()=>{const e=null===r?{...n}:function(e,t){if("function"===typeof t)return t(e);return{...e,...t}}(r,n);return null!=e&&(e[rC]=null!==r),e}),[n,r]);return(0,Ty.jsx)(tC.Provider,{value:o,children:t})},oC=i.createContext();const aC=()=>i.useContext(oC)??!1,sC=function(e){let{value:t,...n}=e;return(0,Ty.jsx)(oC.Provider,{value:t??!0,...n})},lC={};function cC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo((()=>{const i=e&&t[e]||t;if("function"===typeof n){const o=n(i),a=e?{...t,[e]:o}:o;return r?()=>a:a}return e?{...t,[e]:n}:{...t,...n}}),[e,t,n,r])}const uC=function(e){const{children:t,theme:n,themeId:r}=e,i=xy(lC),o=nC()||lC,a=cC(r,i,n),s=cC(r,o,n,!0),l="rtl"===(r?a[r]:a).direction;return(0,Ty.jsx)(iC,{theme:s,children:(0,Ty.jsx)(xm.Provider,{value:a,children:(0,Ty.jsx)(sC,{value:l,children:(0,Ty.jsx)(Py,{value:r?a[r].components:a.components,children:t})})})})};function dC(e){let{theme:t,...n}=e;const r=vy in t?t[vy]:void 0;return(0,Ty.jsx)(uC,{...n,themeId:r?vy:void 0,theme:r||t})}function hC(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,Ty.jsx)(qb,{styles:r})}const pC="mode",fC="color-scheme",mC="data-color-scheme";function gC(){}const vC=e=>{let{key:t,storageWindow:n}=e;return n||"undefined"===typeof window||(n=window),{get(e){if("undefined"===typeof window)return;if(!n)return e;let r;try{r=n.localStorage.getItem(t)}catch{}return r||e},set:e=>{if(n)try{n.localStorage.setItem(t,e)}catch{}},subscribe:e=>{if(!n)return gC;const r=n=>{const r=n.newValue;n.key===t&&e(r)};return n.addEventListener("storage",r),()=>{n.removeEventListener("storage",r)}}}};function yC(){}function bC(e){if("undefined"!==typeof window&&"function"===typeof window.matchMedia&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function AC(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function xC(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:a=pC,colorSchemeStorageKey:s=fC,storageWindow:l=("undefined"===typeof window?void 0:window),storageManager:c=vC,noSsr:u=!1}=e,d=o.join(","),h=o.length>1,p=i.useMemo((()=>c?.({key:a,storageWindow:l})),[c,a,l]),f=i.useMemo((()=>c?.({key:`${s}-light`,storageWindow:l})),[c,s,l]),m=i.useMemo((()=>c?.({key:`${s}-dark`,storageWindow:l})),[c,s,l]),[g,v]=i.useState((()=>{const e=p?.get(t)||t,i=f?.get(n)||n,o=m?.get(r)||r;return{mode:e,systemMode:bC(e),lightColorScheme:i,darkColorScheme:o}})),[y,b]=i.useState(u||!h);i.useEffect((()=>{b(!0)}),[]);const A=function(e){return AC(e,(t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0))}(g),x=i.useCallback((e=>{v((n=>{if(e===n.mode)return n;const r=e??t;return p?.set(r),{...n,mode:r,systemMode:bC(r)}}))}),[p,t]),w=i.useCallback((e=>{e?"string"===typeof e?e&&!d.includes(e)?console.error(`\`${e}\` does not exist in \`theme.colorSchemes\`.`):v((t=>{const n={...t};return AC(t,(t=>{"light"===t&&(f?.set(e),n.lightColorScheme=e),"dark"===t&&(m?.set(e),n.darkColorScheme=e)})),n})):v((t=>{const i={...t},o=null===e.light?n:e.light,a=null===e.dark?r:e.dark;return o&&(d.includes(o)?(i.lightColorScheme=o,f?.set(o)):console.error(`\`${o}\` does not exist in \`theme.colorSchemes\`.`)),a&&(d.includes(a)?(i.darkColorScheme=a,m?.set(a)):console.error(`\`${a}\` does not exist in \`theme.colorSchemes\`.`)),i})):v((e=>(f?.set(n),m?.set(r),{...e,lightColorScheme:n,darkColorScheme:r})))}),[d,f,m,n,r]),C=i.useCallback((e=>{"system"===g.mode&&v((t=>{const n=e?.matches?"dark":"light";return t.systemMode===n?t:{...t,systemMode:n}}))}),[g.mode]),E=i.useRef(C);return E.current=C,i.useEffect((()=>{if("function"!==typeof window.matchMedia||!h)return;const e=function(){return E.current(...arguments)},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}}),[h]),i.useEffect((()=>{if(h){const e=p?.subscribe((e=>{e&&!["light","dark","system"].includes(e)||x(e||t)}))||yC,n=f?.subscribe((e=>{e&&!d.match(e)||w({light:e})}))||yC,r=m?.subscribe((e=>{e&&!d.match(e)||w({dark:e})}))||yC;return()=>{e(),n(),r()}}}),[w,x,d,t,l,h,p,f,m]),{...g,mode:y?g.mode:void 0,systemMode:y?g.systemMode:void 0,colorScheme:y?A:void 0,setMode:x,setColorScheme:w}}const wC={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:CC,useColorScheme:EC,getInitColorSchemeScript:SC}=function(e){const{themeId:t,theme:n={},modeStorageKey:r=pC,colorSchemeStorageKey:o=fC,disableTransitionOnChange:a=!1,defaultColorScheme:s,resolveTheme:l}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=i.createContext(void 0),d={},h={},p="string"===typeof s?s:s.light,f="string"===typeof s?s:s.dark;return{CssVarsProvider:function(e){const{children:c,theme:p,modeStorageKey:f=r,colorSchemeStorageKey:m=o,disableTransitionOnChange:g=a,storageManager:v,storageWindow:y=("undefined"===typeof window?void 0:window),documentNode:b=("undefined"===typeof document?void 0:document),colorSchemeNode:A=("undefined"===typeof document?void 0:document.documentElement),disableNestedContext:x=!1,disableStyleSheetGeneration:w=!1,defaultMode:C="system",noSsr:E}=e,S=i.useRef(!1),_=nC(),M=i.useContext(u),I=!!M&&!x,T=i.useMemo((()=>p||("function"===typeof n?n():n)),[p]),R=T[t],k=R||T,{colorSchemes:P=d,components:B=h,cssVarPrefix:O}=k,L=Object.keys(P).filter((e=>!!P[e])).join(","),D=i.useMemo((()=>L.split(",")),[L]),N="string"===typeof s?s:s.light,F="string"===typeof s?s:s.dark,j=P[N]&&P[F]?C:P[k.defaultColorScheme]?.palette?.mode||k.palette?.mode,{mode:U,setMode:z,systemMode:H,lightColorScheme:V,darkColorScheme:G,colorScheme:Q,setColorScheme:W}=xC({supportedColorSchemes:D,defaultLightColorScheme:N,defaultDarkColorScheme:F,modeStorageKey:f,colorSchemeStorageKey:m,defaultMode:j,storageManager:v,storageWindow:y,noSsr:E});let q=U,$=Q;I&&(q=M.mode,$=M.colorScheme);const X=i.useMemo((()=>{const e=$||k.defaultColorScheme,t=k.generateThemeVars?.()||k.vars,n={...k,components:B,colorSchemes:P,cssVarPrefix:O,vars:t};if("function"===typeof n.generateSpacing&&(n.spacing=n.generateSpacing()),e){const t=P[e];t&&"object"===typeof t&&Object.keys(t).forEach((e=>{t[e]&&"object"===typeof t[e]?n[e]={...n[e],...t[e]}:n[e]=t[e]}))}return l?l(n):n}),[k,$,B,P,O]),K=k.colorSchemeSelector;zp((()=>{if($&&A&&K&&"media"!==K){const e=K;let t=K;if("class"===e&&(t=".%s"),"data"===e&&(t="[data-%s]"),e?.startsWith("data-")&&!e.includes("%s")&&(t=`[${e}="%s"]`),t.startsWith("."))A.classList.remove(...D.map((e=>t.substring(1).replace("%s",e)))),A.classList.add(t.substring(1).replace("%s",$));else{const e=t.replace("%s",$).match(/\[([^\]]+)\]/);if(e){const[t,n]=e[1].split("=");n||D.forEach((e=>{A.removeAttribute(t.replace($,e))})),A.setAttribute(t,n?n.replace(/"|'/g,""):"")}else A.setAttribute(t,$)}}}),[$,K,A,D]),i.useEffect((()=>{let e;if(g&&S.current&&b){const t=b.createElement("style");t.appendChild(b.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),b.head.appendChild(t),window.getComputedStyle(b.body),e=setTimeout((()=>{b.head.removeChild(t)}),1)}return()=>{clearTimeout(e)}}),[$,g,b]),i.useEffect((()=>(S.current=!0,()=>{S.current=!1})),[]);const Y=i.useMemo((()=>({allColorSchemes:D,colorScheme:$,darkColorScheme:G,lightColorScheme:V,mode:q,setColorScheme:W,setMode:z,systemMode:H})),[D,$,G,V,q,W,z,H,X.colorSchemeSelector]);let J=!0;(w||!1===k.cssVariables||I&&_?.cssVarPrefix===O)&&(J=!1);const Z=(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(uC,{themeId:R?t:void 0,theme:X,children:c}),J&&(0,Ty.jsx)(hC,{styles:X.generateStyleSheets?.()||[]})]});return I?Z:(0,Ty.jsx)(u.Provider,{value:Y,children:Z})},useColorScheme:()=>i.useContext(u)||c,getInitColorSchemeScript:e=>function(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=pC,colorSchemeStorageKey:o=fC,attribute:a=mC,colorSchemeNode:s="document.documentElement",nonce:l}=e||{};let c="",u=a;if("class"===a&&(u=".%s"),"data"===a&&(u="[data-%s]"),u.startsWith(".")){const e=u.substring(1);c+=`${s}.classList.remove('${e}'.replace('%s', light), '${e}'.replace('%s', dark));\n      ${s}.classList.add('${e}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[e,t]=d[1].split("=");t||(c+=`${s}.removeAttribute('${e}'.replace('%s', light));\n      ${s}.removeAttribute('${e}'.replace('%s', dark));`),c+=`\n      ${s}.setAttribute('${e}'.replace('%s', colorScheme), ${t?`${t}.replace('%s', colorScheme)`:'""'});`}else c+=`${s}.setAttribute('${u}', colorScheme);`;return(0,Ty.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"===typeof window?l:"",dangerouslySetInnerHTML:{__html:`(function() {\ntry {\n  let colorScheme = '';\n  const mode = localStorage.getItem('${i}') || '${t}';\n  const dark = localStorage.getItem('${o}-dark') || '${r}';\n  const light = localStorage.getItem('${o}-light') || '${n}';\n  if (mode === 'system') {\n    // handle system mode\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = dark\n    } else {\n      colorScheme = light\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = light;\n  }\n  if (mode === 'dark') {\n    colorScheme = dark;\n  }\n  if (colorScheme) {\n    ${c}\n  }\n} catch(e){}})();`}},"mui-color-scheme-init")}({colorSchemeStorageKey:o,defaultLightColorScheme:p,defaultDarkColorScheme:f,modeStorageKey:r,...e})}}({themeId:vy,theme:()=>my({cssVariables:!0}),colorSchemeStorageKey:wC.colorSchemeStorageKey,modeStorageKey:wC.modeStorageKey,defaultColorScheme:{light:wC.defaultLightColorScheme,dark:wC.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:Vv(e.palette,e.typography)};return t.unstable_sx=function(e){return qg({sx:e,theme:this})},t}});const _C=CC;function MC(e){let{theme:t,...n}=e;if("function"===typeof t)return(0,Ty.jsx)(dC,{theme:t,...n});return"colorSchemes"in(vy in t?t[vy]:t)?(0,Ty.jsx)(_C,{theme:t,...n}):(0,Ty.jsx)(dC,{theme:t,...n})}function IC(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Qg;return Object.keys(e).forEach((r=>{n[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t})(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return Fm(e)?{...r,...e}:r}:{...r,...t},{...i,sx:o}}const TC=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=Cy(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,Ty.jsx)(hC,{styles:o})};const RC=function(e){return(0,Ty.jsx)(TC,{...e,defaultTheme:gy,themeId:vy})};function kC(e){return function(t){return(0,Ty.jsx)(RC,{styles:"function"===typeof e?n=>e({theme:n,...t}):e})}}const PC="function"===typeof kC({}),BC=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),OC=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),LC=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={};t&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={":root":{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={colorScheme:i.palette?.mode}}));let r={html:BC(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...OC(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...n};const i=e.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},DC="mui-ecs",NC=kC(PC?e=>{let{theme:t,enableColorScheme:n}=e;return LC(t,n)}:e=>{let{theme:t}=e;return(e=>{const t=LC(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[`:root:has(${DC})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const o=e.getColorSchemeSelector(r);o.startsWith("@")?n[o]={[`:root:not(:has(.${DC}))`]:{colorScheme:i.palette?.mode}}:n[o.replace(/\s*&/,"")]={[`&:not(:has(.${DC}))`]:{colorScheme:i.palette?.mode}}})),t})(t)});const FC=function(e){const t=By({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return(0,Ty.jsxs)(i.Fragment,{children:[PC&&(0,Ty.jsx)(NC,{enableColorScheme:r}),!PC&&!r&&(0,Ty.jsx)("span",{className:DC,style:{display:"none"}}),n]})};let jC="";console.log("API_CONFIG: process.env.REACT_APP_RUN_MODE is prod"),console.log("API_CONFIG: Running in production mode prod"),jC="https://dev.satisfactorytracker.com",console.log("API_CONFIG: Flask port is "+jC);const UC={tables:`${jC}/api/tables`,table_name:e=>`${jC}/api/${e}`,part_names:`${jC}/api/part_names`,alternate_recipe:`${jC}/api/alternate_recipe`,selected_recipes:`${jC}/api/selected_recipes`,recipe:`${jC}/api/recipe`,get_recipe_id:e=>`${jC}/api/recipe_id/${e}`,build_tree:`${jC}/api/build_tree`,part:`${jC}/api/part`,signup:`${jC}/api/signup`,login:`${jC}/api/login`,logout:`${jC}/api/logout`,check_login:`${jC}/api/check_login`,userinfo:`${jC}/api/user_info`,validation:`${jC}/api/validation`,tracker_data:`${jC}/api/tracker_data`,tracker_reports:`${jC}/api/tracker_reports`,add_to_tracker:`${jC}/api/tracker_add`,log:`${jC}/api/log`,upload_sav:`${jC}/api/upload_sav`,user_save:`${jC}/api/user_save`,processing_status:`${jC}/api/processing_status`,user_settings:`${jC}/api/user_settings`,production_report:`${jC}/api/production_report`,machine_report:`${jC}/api/machine_usage_report`,machine_connections:`${jC}/api/machine_connections`,connection_graph:`${jC}/api/connection_graph`,machine_metadata:`${jC}/api/machine_metadata`,pipe_network:`${jC}/api/pipe_network`,user_connection_data:`${jC}/api/user_connection_data`,user_pipe_data:`${jC}/api/user_pipe_data`,tester_registration:`${jC}/api/tester_registration`,tester_count:`${jC}/api/tester_count`,tester_requests:`${jC}/api/tester_requests`,tester_approve:`${jC}/api/tester_approve`,tester_reject:`${jC}/api/tester_reject`,change_password:`${jC}/api/change_password`,github_issue:`${jC}/api/github_issue`,upload_screenshot:`${jC}/api/upload_screenshot`},zC=parseInt(i.version,10),HC=e=>{if(zC>=19){const t=t=>e(t,t.ref??null);return t.displayName=e.displayName??e.name,t}return i.forwardRef(e)},VC=nv();function GC(e){return lb("MuiDataGrid",e)}const QC=cb("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),WC=i.createContext(void 0);const qC=()=>{const e=i.useContext(WC);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},$C=["className","children"],XC=VC("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",flexWrap:"wrap",gap:t.spacing(1),padding:t.spacing(.5,.5,0)}})),KC=HC((function(e,t){const{className:n,children:r}=e,i=Ly(e,$C),o=qC(),a=(e=>{const{classes:t}=e;return Op({root:["toolbarContainer"]},GC,t)})(o);return r?(0,Ty.jsx)(XC,Yp({className:ib(a.root,n),ownerState:o},i,{ref:t,children:r})):null})),YC=Object.is;function JC(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const i in e){if(n+=1,!YC(e[i],t[i]))return!1;if(!(i in t))return!1}for(const i in t)r+=1;return n===r}var ZC=n(9461);function eE(e){return e.acceptsApiRef}function tE(e,t){return eE(t)?t(e):t(e.current.state)}function nE(e,t,n,r){return eE(t)?t(e,n):t(e.current.state,r)}const rE=Object.is,iE=JC,oE=(e,t)=>e===t||e.length===t.length&&e.every(((e,n)=>e===t[n])),aE=()=>({state:null,equals:null,selector:null,args:void 0}),sE=[],lE=()=>null,cE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rE;const r=Dp(aE),o=null!==r.current.selector,[a,s]=i.useState(o?null:tE(e,t));r.current.state=a,r.current.equals=n,r.current.selector=t;const l=i.useCallback((()=>(r.current.subscription||(r.current.subscription=e.current.store.subscribe((()=>{const t=tE(e,r.current.selector);r.current.equals(r.current.state,t)||(r.current.state=t,s(t))}))),null)),sE),c=i.useCallback((()=>()=>{r.current.subscription&&(r.current.subscription(),r.current.subscription=void 0)}),sE);return(0,ZC.useSyncExternalStore)(c,l,lE),a},uE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rE;const o=Dp(aE),a=null!==o.current.selector,[s,l]=i.useState(a?null:nE(e,t,n,e.current.instanceId));o.current.state=s,o.current.equals=r,o.current.selector=t;const c=o.current.args;if(o.current.args=n,a&&!((e,t)=>{let n=Object.is;return t instanceof Array?n=oE:t instanceof Object&&(n=iE),n(e,t)})(c,n)){const t=nE(e,o.current.selector,o.current.args,e.current.instanceId);o.current.equals(o.current.state,t)||(o.current.state=t,l(t))}const u=i.useCallback((()=>(o.current.subscription||(o.current.subscription=e.current.store.subscribe((()=>{const t=nE(e,o.current.selector,o.current.args,e.current.instanceId);o.current.equals(o.current.state,t)||(o.current.state=t,l(t))}))),null)),sE),d=i.useCallback((()=>()=>{o.current.subscription&&(o.current.subscription(),o.current.subscription=void 0)}),sE);return(0,ZC.useSyncExternalStore)(d,u,lE),s};var dE=Symbol("NOT_FOUND");function hE(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var pE=e=>Array.isArray(e)?e:[e];function fE(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var mE=(e,t)=>e===t;function gE(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;const{length:r}=t;for(let i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}function vE(e,t){const n="object"===typeof t?t:{equalityCheck:t},{equalityCheck:r=mE,maxSize:i=1,resultEqualityCheck:o}=n,a=gE(r);let s=0;const l=i<=1?function(e){let t;return{get:n=>t&&e(t.key,n)?t.value:dE,put(e,n){t={key:e,value:n}},getEntries:()=>t?[t]:[],clear(){t=void 0}}}(a):function(e,t){let n=[];function r(e){const r=n.findIndex((n=>t(e,n.key)));if(r>-1){const e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return dE}return{get:r,put:function(t,i){r(t)===dE&&(n.unshift({key:t,value:i}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(i,a);function c(){let t=l.get(arguments);if(t===dE){if(t=e.apply(null,arguments),s++,o){const e=l.getEntries().find((e=>o(e.value,t)));e&&(t=e.value,0!==s&&s--)}l.put(arguments,t)}return t}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}var yE="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function bE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,o=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),o++,r){const e=i?.deref?.()??i;null!=e&&r(e,l)&&(l=e,0!==o&&o--);i="object"===typeof l&&null!==l||"function"===typeof l?new yE(l):l}return s.s=1,s.v=l,l}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function AE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,o=0,a=0,s={},l=t.pop();"object"===typeof l&&(s=l,l=t.pop()),hE(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...i,...s},{memoize:u,memoizeOptions:d=[],argsMemoize:h=bE,argsMemoizeOptions:p=[],devModeChecks:f={}}=c,m=pE(d),g=pE(p),v=fE(t),y=u((function(){return o++,l.apply(null,arguments)}),...m);const b=h((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r}),...g);return Object.assign(b,{resultFunc:l,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:u,argsMemoize:h})};return Object.assign(o,{withTypes:()=>o}),o}var xE=AE(bE),wE=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xE;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>wE});const CE=AE({memoize:vE,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),EE=new WeakMap;function SE(e){return"current"in e&&"instanceId"in e.current}const _E={id:"default"},ME=function(e,t,n,r,i,o){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&i&&o)a=(a,s)=>{const l=SE(a),c=s??(l?a.current.instanceId:_E),u=l?a.current.state:a,d=e(u,c),h=t(u,c),p=n(u,c),f=r(u,c),m=i(u,c);return o(d,h,p,f,m)};else if(e&&t&&n&&r&&i)a=(o,a)=>{const s=SE(o),l=a??(s?o.current.instanceId:_E),c=s?o.current.state:o,u=e(c,l),d=t(c,l),h=n(c,l),p=r(c,l);return i(u,d,h,p)};else if(e&&t&&n&&r)a=(i,o)=>{const a=SE(i),s=o??(a?i.current.instanceId:_E),l=a?i.current.state:i,c=e(l,s),u=t(l,s),d=n(l,s);return r(c,u,d)};else if(e&&t&&n)a=(r,i)=>{const o=SE(r),a=i??(o?r.current.instanceId:_E),s=o?r.current.state:r,l=e(s,a),c=t(s,a);return n(l,c)};else{if(!e||!t)throw new Error("Missing arguments");a=(n,r)=>{const i=SE(n),o=r??(i?n.current.instanceId:_E),a=i?n.current.state:n,s=e(a,o);return t(s)}}return a.acceptsApiRef=!0,a},IE=function(e,t,n,r,i,o){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");let a;if(e&&t&&n&&r&&i&&o)a=(a,s,l)=>{const c=SE(a),u=l??(c?a.current.instanceId:_E),d=c?a.current.state:a,h=e(d,s,u),p=t(d,s,u),f=n(d,s,u),m=r(d,s,u),g=i(d,s,u);return o(h,p,f,m,g,s)};else if(e&&t&&n&&r&&i)a=(o,a,s)=>{const l=SE(o),c=s??(l?o.current.instanceId:_E),u=l?o.current.state:o,d=e(u,a,c),h=t(u,a,c),p=n(u,a,c),f=r(u,a,c);return i(d,h,p,f,a)};else if(e&&t&&n&&r)a=(i,o,a)=>{const s=SE(i),l=a??(s?i.current.instanceId:_E),c=s?i.current.state:i,u=e(c,o,l),d=t(c,o,l),h=n(c,o,l);return r(u,d,h,o)};else if(e&&t&&n)a=(r,i,o)=>{const a=SE(r),s=o??(a?r.current.instanceId:_E),l=a?r.current.state:r,c=e(l,i,s),u=t(l,i,s);return n(c,u,i)};else{if(!e||!t)throw new Error("Missing arguments");a=(n,r,i)=>{const o=SE(n),a=i??(o?n.current.instanceId:_E),s=o?n.current.state:n,l=e(s,r,a);return t(l,r)}}return a.acceptsApiRef=!0,a},TE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=(e,n)=>{const r=SE(e),i=r?e.current.instanceId:n??_E,o=r?e.current.state:e;const a=EE.get(i),s=a??new Map,l=s?.get(t);if(s&&l)return l(o,i);const c=CE(...t);return a||EE.set(i,s),s.set(t,c),c(o,i)};return r.acceptsApiRef=!0,r},RE=e=>e.preferencePanel,kE=IE(RE,((e,t)=>!(!e.open||e.labelId!==t)));var PE=function(e){return e.filters="filters",e.columns="columns",e}(PE||{});const BE=i.createContext(void 0);function OE(){const e=i.useContext(BE);if(void 0===e)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join("\n"));return e}const LE=HC((function(e,t){const{slotProps:n={}}=e,r=n.button||{},i=n.tooltip||{},o=Db(),a=Db(),s=OE(),l=qC(),c=cE(s,RE);if(l.disableColumnSelector)return null;const u=c.open&&c.panelId===a;return(0,Ty.jsx)(l.slots.baseTooltip,Yp({title:s.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},l.slotProps?.baseTooltip,i,{children:(0,Ty.jsx)(l.slots.baseButton,Yp({id:o,size:"small","aria-label":s.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?a:void 0,startIcon:(0,Ty.jsx)(l.slots.columnSelectorIcon,{})},l.slotProps?.baseButton,r,{onPointerUp:e=>{c.open&&e.stopPropagation(),r.onPointerUp?.(e)},onClick:e=>{c.open&&c.openedPanelValue===PE.columns?s.current.hidePreferences():s.current.showPreferences(PE.columns,a,o),r.onClick?.(e)},ref:t,children:s.current.getLocaleText("toolbarColumns")}))}))})),DE=qp;const NE=i.createContext({});function FE(e){return lb("MuiList",e)}cb("MuiList",["root","padding","dense","subheader"]);const jE=Ay("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),UE=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiList"}),{children:r,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c,...u}=n,d=i.useMemo((()=>({dense:s})),[s]),h={...n,component:a,dense:s,disablePadding:l},p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Op({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},FE,t)})(h);return(0,Ty.jsx)(NE.Provider,{value:d,children:(0,Ty.jsxs)(jE,{as:a,className:ib(p.root,o),ref:t,ownerState:h,...u,children:[c,r]})})})),zE=UE;function HE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const VE=HE,GE=zp;function QE(e){return qp(e).defaultView||window}const WE=QE;function qE(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function $E(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function XE(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function KE(e,t,n,r,i,o){let a=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&XE(s,o)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const YE=i.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,p=i.useRef(null),f=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});GE((()=>{r&&p.current.focus()}),[r]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${VE(WE(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const m=Yy(p,t);let g=-1;i.Children.forEach(a,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===t&&(g+=1,g>=a.length&&(g=-1))}));const v=i.Children.map(a,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,Ty.jsx)(zE,{role:"menu",ref:m,className:s,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const r=DE(t).activeElement;if("ArrowDown"===n)e.preventDefault(),KE(t,r,c,l,qE);else if("ArrowUp"===n)e.preventDefault(),KE(t,r,c,l,$E);else if("Home"===n)e.preventDefault(),KE(t,null,c,l,qE);else if("End"===n)e.preventDefault(),KE(t,null,c,l,$E);else if(1===n.length){const i=f.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);const s=r&&!i.repeating&&XE(r,i);i.previousKeyMatched&&(s||KE(t,r,!1,l,qE,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1,...h,children:v})})),JE=YE;function ZE(e){return lb("MuiDivider",e)}const eS=cb("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function tS(e){return lb("MuiListItemIcon",e)}const nS=cb("MuiListItemIcon",["root","alignItemsFlexStart"]);function rS(e){return lb("MuiListItemText",e)}const iS=cb("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function oS(e){return lb("MuiMenuItem",e)}const aS=cb("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),sS=Ay(uA,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(My((e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${aS.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hv(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${aS.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${aS.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hv(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${aS.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${aS.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${eS.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${eS.inset}`]:{marginLeft:52},[`& .${iS.root}`]:{marginTop:0,marginBottom:0},[`& .${iS.inset}`]:{paddingLeft:36},[`& .${nS.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${nS.root} svg`]:{fontSize:"1.25rem"}}}]}}))),lS=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...p}=n,f=i.useContext(NE),m=i.useMemo((()=>({dense:a||f.dense||!1,disableGutters:l})),[f.dense,a,l]),g=i.useRef(null);GE((()=>{r&&g.current&&g.current.focus()}),[r]);const v={...n,dense:m.dense,divider:s,disableGutters:l},y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e,s=Op({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},oS,a);return{...a,...s}})(n),b=Yy(g,t);let A;return n.disabled||(A=void 0!==d?d:-1),(0,Ty.jsx)(NE.Provider,{value:m,children:(0,Ty.jsx)(sS,{ref:b,role:u,tabIndex:A,component:o,focusVisibleClassName:ib(y.focusVisible,c),className:ib(y.root,h),...p,ownerState:v,classes:y})})})),cS=lS,uS=Ay("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(My((e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}}))),dS=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiListItemIcon"}),{className:r,...o}=n,a=i.useContext(NE),s={...n,alignItems:a.alignItems},l=(e=>{const{alignItems:t,classes:n}=e;return Op({root:["root","flex-start"===t&&"alignItemsFlexStart"]},tS,n)})(s);return(0,Ty.jsx)(uS,{className:ib(l.root,r),ownerState:s,ref:t,...o})})),hS=dS,pS={compact:.7,comfortable:1.3,standard:1},fS=e=>e.density,mS=ME(fS,(e=>pS[e]));function gS(e){return 1===e.key.length&&!e.ctrlKey&&!e.metaKey}const vS=e=>0===e.indexOf("Arrow")||0===e.indexOf("Page")||" "===e||"Home"===e||"End"===e,yS=e=>"Tab"===e||"Escape"===e;function bS(e){return(e.ctrlKey||e.metaKey)&&"V"===String.fromCharCode(e.keyCode)&&!e.shiftKey&&!e.altKey}function AS(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xS(e){return e instanceof AS(e).Element||e instanceof Element}function wS(e){return e instanceof AS(e).HTMLElement||e instanceof HTMLElement}function CS(e){return"undefined"!==typeof ShadowRoot&&(e instanceof AS(e).ShadowRoot||e instanceof ShadowRoot)}var ES=Math.max,SS=Math.min,_S=Math.round;function MS(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function IS(){return!/^((?!chrome|android).)*safari/i.test(MS())}function TS(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&wS(e)&&(i=e.offsetWidth>0&&_S(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&_S(r.height)/e.offsetHeight||1);var a=(xS(e)?AS(e):window).visualViewport,s=!IS()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function RS(e){var t=AS(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function kS(e){return e?(e.nodeName||"").toLowerCase():null}function PS(e){return((xS(e)?e.ownerDocument:e.document)||window.document).documentElement}function BS(e){return TS(PS(e)).left+RS(e).scrollLeft}function OS(e){return AS(e).getComputedStyle(e)}function LS(e){var t=OS(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function DS(e,t,n){void 0===n&&(n=!1);var r=wS(t),i=wS(t)&&function(e){var t=e.getBoundingClientRect(),n=_S(t.width)/e.offsetWidth||1,r=_S(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=PS(t),a=TS(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==kS(t)||LS(o))&&(s=function(e){return e!==AS(e)&&wS(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:RS(e);var t}(t)),wS(t)?((l=TS(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=BS(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function NS(e){var t=TS(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function FS(e){return"html"===kS(e)?e:e.assignedSlot||e.parentNode||(CS(e)?e.host:null)||PS(e)}function jS(e){return["html","body","#document"].indexOf(kS(e))>=0?e.ownerDocument.body:wS(e)&&LS(e)?e:jS(FS(e))}function US(e,t){var n;void 0===t&&(t=[]);var r=jS(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=AS(r),a=i?[o].concat(o.visualViewport||[],LS(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(US(FS(a)))}function zS(e){return["table","td","th"].indexOf(kS(e))>=0}function HS(e){return wS(e)&&"fixed"!==OS(e).position?e.offsetParent:null}function VS(e){for(var t=AS(e),n=HS(e);n&&zS(n)&&"static"===OS(n).position;)n=HS(n);return n&&("html"===kS(n)||"body"===kS(n)&&"static"===OS(n).position)?t:n||function(e){var t=/firefox/i.test(MS());if(/Trident/i.test(MS())&&wS(e)&&"fixed"===OS(e).position)return null;var n=FS(e);for(CS(n)&&(n=n.host);wS(n)&&["html","body"].indexOf(kS(n))<0;){var r=OS(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var GS="top",QS="bottom",WS="right",qS="left",$S="auto",XS=[GS,QS,WS,qS],KS="start",YS="end",JS="viewport",ZS="popper",e_=XS.reduce((function(e,t){return e.concat([t+"-"+KS,t+"-"+YS])}),[]),t_=[].concat(XS,[$S]).reduce((function(e,t){return e.concat([t,t+"-"+KS,t+"-"+YS])}),[]),n_=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function r_(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function i_(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var o_={placement:"bottom",modifiers:[],strategy:"absolute"};function a_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function s_(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?o_:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},o_,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:xS(e)?US(e):e.contextElement?US(e.contextElement):[],popper:US(t)};var u=function(e){var t=r_(e);return n_.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(a_(t,n)){i.rects={reference:DS(t,VS(n),"fixed"===i.options.strategy),popper:NS(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:i_((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!a_(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var l_={passive:!0};function c_(e){return e.split("-")[0]}function u_(e){return e.split("-")[1]}function d_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function h_(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?c_(i):null,a=i?u_(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case GS:t={x:s,y:n.y-r.height};break;case QS:t={x:s,y:n.y+n.height};break;case WS:t={x:n.x+n.width,y:l};break;case qS:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?d_(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case KS:t[c]=t[c]-(n[u]/2-r[u]/2);break;case YS:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var p_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f_(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=qS,A=GS,x=window;if(c){var w=VS(n),C="clientHeight",E="clientWidth";if(w===AS(n)&&"static"!==OS(w=PS(n)).position&&"absolute"===s&&(C="scrollHeight",E="scrollWidth"),i===GS||(i===qS||i===WS)&&o===YS)A=QS,m-=(d&&w===x&&x.visualViewport?x.visualViewport.height:w[C])-r.height,m*=l?1:-1;if(i===qS||(i===GS||i===QS)&&o===YS)b=WS,p-=(d&&w===x&&x.visualViewport?x.visualViewport.width:w[E])-r.width,p*=l?1:-1}var S,_=Object.assign({position:s},c&&p_),M=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:_S(n*i)/i||0,y:_S(r*i)/i||0}}({x:p,y:m},AS(n)):{x:p,y:m};return p=M.x,m=M.y,l?Object.assign({},_,((S={})[A]=y?"0":"",S[b]=v?"0":"",S.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",S)):Object.assign({},_,((t={})[A]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const m_={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];wS(i)&&kS(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});wS(r)&&kS(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const g_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=t_.reduce((function(e,n){return e[n]=function(e,t,n){var r=c_(e),i=[qS,GS].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[qS,WS].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var v_={left:"right",right:"left",bottom:"top",top:"bottom"};function y_(e){return e.replace(/left|right|bottom|top/g,(function(e){return v_[e]}))}var b_={start:"end",end:"start"};function A_(e){return e.replace(/start|end/g,(function(e){return b_[e]}))}function x_(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&CS(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function w_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function C_(e,t,n){return t===JS?w_(function(e,t){var n=AS(e),r=PS(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=IS();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+BS(e),y:l}}(e,n)):xS(t)?function(e,t){var n=TS(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):w_(function(e){var t,n=PS(e),r=RS(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ES(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ES(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+BS(e),l=-r.scrollTop;return"rtl"===OS(i||n).direction&&(s+=ES(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(PS(e)))}function E_(e,t,n,r){var i="clippingParents"===t?function(e){var t=US(FS(e)),n=["absolute","fixed"].indexOf(OS(e).position)>=0&&wS(e)?VS(e):e;return xS(n)?t.filter((function(e){return xS(e)&&x_(e,n)&&"body"!==kS(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=C_(e,n,r);return t.top=ES(i.top,t.top),t.right=SS(i.right,t.right),t.bottom=SS(i.bottom,t.bottom),t.left=ES(i.left,t.left),t}),C_(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function S_(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function __(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function M_(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?JS:c,d=n.elementContext,h=void 0===d?ZS:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=S_("number"!==typeof g?g:__(g,XS)),y=h===ZS?"reference":ZS,b=e.rects.popper,A=e.elements[f?y:h],x=E_(xS(A)?A:A.contextElement||PS(e.elements.popper),l,u,a),w=TS(e.elements.reference),C=h_({reference:w,element:b,strategy:"absolute",placement:i}),E=w_(Object.assign({},b,C)),S=h===ZS?E:w,_={top:x.top-S.top+v.top,bottom:S.bottom-x.bottom+v.bottom,left:x.left-S.left+v.left,right:S.right-x.right+v.right},M=e.modifiersData.offset;if(h===ZS&&M){var I=M[i];Object.keys(_).forEach((function(e){var t=[WS,QS].indexOf(e)>=0?1:-1,n=[GS,QS].indexOf(e)>=0?"y":"x";_[e]+=I[n]*t}))}return _}const I_={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=c_(g),y=l||(v===g||!f?[y_(g)]:function(e){if(c_(e)===$S)return[];var t=y_(e);return[A_(e),t,A_(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(c_(n)===$S?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?t_:l,u=u_(r),d=u?s?e_:e_.filter((function(e){return u_(e)===u})):XS,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=M_(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[c_(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),A=t.rects.reference,x=t.rects.popper,w=new Map,C=!0,E=b[0],S=0;S<b.length;S++){var _=b[S],M=c_(_),I=u_(_)===KS,T=[GS,QS].indexOf(M)>=0,R=T?"width":"height",k=M_(t,{placement:_,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=T?I?WS:qS:I?QS:GS;A[R]>x[R]&&(P=y_(P));var B=y_(P),O=[];if(o&&O.push(k[M]<=0),s&&O.push(k[P]<=0,k[B]<=0),O.every((function(e){return e}))){E=_,C=!1;break}w.set(_,O)}if(C)for(var L=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},D=f?3:1;D>0;D--){if("break"===L(D))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function T_(e,t,n){return ES(e,SS(t,n))}const R_={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=M_(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=c_(t.placement),y=u_(t.placement),b=!y,A=d_(v),x="x"===A?"y":"x",w=t.modifiersData.popperOffsets,C=t.rects.reference,E=t.rects.popper,S="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,_="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(w){if(o){var T,R="y"===A?GS:qS,k="y"===A?QS:WS,P="y"===A?"height":"width",B=w[A],O=B+g[R],L=B-g[k],D=p?-E[P]/2:0,N=y===KS?C[P]:E[P],F=y===KS?-E[P]:-C[P],j=t.elements.arrow,U=p&&j?NS(j):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=z[R],V=z[k],G=T_(0,C[P],U[P]),Q=b?C[P]/2-D-G-H-_.mainAxis:N-G-H-_.mainAxis,W=b?-C[P]/2+D+G+V+_.mainAxis:F+G+V+_.mainAxis,q=t.elements.arrow&&VS(t.elements.arrow),$=q?"y"===A?q.clientTop||0:q.clientLeft||0:0,X=null!=(T=null==M?void 0:M[A])?T:0,K=B+W-X,Y=T_(p?SS(O,B+Q-X-$):O,B,p?ES(L,K):L);w[A]=Y,I[A]=Y-B}if(s){var J,Z="x"===A?GS:qS,ee="x"===A?QS:WS,te=w[x],ne="y"===x?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[GS,qS].indexOf(v),ae=null!=(J=null==M?void 0:M[x])?J:0,se=oe?re:te-C[ne]-E[ne]-ae+_.altAxis,le=oe?te+C[ne]+E[ne]-ae-_.altAxis:ie,ce=p&&oe?function(e,t,n){var r=T_(e,t,n);return r>n?n:r}(se,te,le):T_(p?se:re,te,p?le:ie);w[x]=ce,I[x]=ce-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const k_={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=c_(n.placement),l=d_(s),c=[qS,WS].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return S_("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:__(e,XS))}(i.padding,n),d=NS(o),h="y"===l?GS:qS,p="y"===l?QS:WS,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=VS(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],A=v-d[c]-u[p],x=v/2-d[c]/2+y,w=T_(b,x,A),C=l;n.modifiersData[r]=((t={})[C]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&x_(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function P_(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function B_(e){return[GS,WS,QS,qS].some((function(t){return e[t]>=0}))}var O_=s_({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=AS(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,l_)})),s&&l.addEventListener("resize",n.update,l_),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,l_)})),s&&l.removeEventListener("resize",n.update,l_)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=h_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:c_(t.placement),variation:u_(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,f_(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,f_(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},m_,g_,I_,R_,k_,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=M_(t,{elementContext:"reference"}),s=M_(t,{altBoundary:!0}),l=P_(a,r),c=P_(s,i,o),u=B_(l),d=B_(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const L_=function(e){const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=e,a=i?{}:Cb(n,r),{props:s,internalRef:l}=Sb({...o,externalSlotProps:a}),c=Wp(l,a?.ref,e.additionalProps?.ref);return wb(t,{...s,ref:c},r)};const D_=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[a,s]=i.useState(null),l=Wp(i.isValidElement(n)?$p(n):null,t);if(zp((()=>{o||s(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),zp((()=>{if(a&&!o)return Qp(t,a),()=>{Qp(t,null)}}),[t,a,o]),o){if(i.isValidElement(n)){const e={ref:l};return i.cloneElement(n,e)}return n}return a?Fy.createPortal(n,a):a}));const N_=D_;function F_(e){return lb("MuiPopper",e)}cb("MuiPopper",["root"]);function j_(e){return"function"===typeof e?e():e}function U_(e){return void 0!==e.nodeType}const z_={},H_=i.forwardRef((function(e,t){const{anchorEl:n,children:r,direction:o,disablePortal:a,modifiers:s,open:l,placement:c,popperOptions:u,popperRef:d,slotProps:h={},slots:p={},TransitionProps:f,ownerState:m,...g}=e,v=i.useRef(null),y=Wp(v,t),b=i.useRef(null),A=Wp(b,d),x=i.useRef(A);zp((()=>{x.current=A}),[A]),i.useImperativeHandle(d,(()=>b.current),[]);const w=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,o),[C,E]=i.useState(w),[S,_]=i.useState(j_(n));i.useEffect((()=>{b.current&&b.current.forceUpdate()})),i.useEffect((()=>{n&&_(j_(n))}),[n]),zp((()=>{if(!S||!l)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{E(e.placement)})(t)}}];null!=s&&(e=e.concat(s)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=O_(S,v.current,{placement:w,...u,modifiers:e});return x.current(t),()=>{t.destroy(),x.current(null)}}),[S,a,s,l,u,w]);const M={placement:C};null!==f&&(M.TransitionProps=f);const I=(e=>{const{classes:t}=e;return Op({root:["root"]},F_,t)})(e),T=p.root??"div",R=L_({elementType:T,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:I.root});return(0,Ty.jsx)(T,{...R,children:"function"===typeof r?r(M):r})})),V_=i.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=z_,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:v={},...y}=e,[b,A]=i.useState(!0);if(!l&&!u&&(!m||b))return null;let x;if(o)x=o;else if(n){const e=j_(n);x=e&&U_(e)?qp(e).body:qp(null).body}const w=u||!l||m&&!b?void 0:"none",C=m?{in:u,onEnter:()=>{A(!1)},onExited:()=>{A(!0)}}:void 0;return(0,Ty.jsx)(N_,{disablePortal:s,container:x,children:(0,Ty.jsx)(H_,{anchorEl:n,direction:a,disablePortal:s,modifiers:c,ref:t,open:m?!b:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:v,...y,style:{position:"fixed",top:0,left:0,display:w,...f},TransitionProps:C,children:r})})})),G_=Ay(V_,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Q_=i.forwardRef((function(e,t){const n=aC(),r=By({props:e,name:"MuiPopper"}),{anchorEl:i,component:o,components:a,componentsProps:s,container:l,disablePortal:c,keepMounted:u,modifiers:d,open:h,placement:p,popperOptions:f,popperRef:m,transition:g,slots:v,slotProps:y,...b}=r,A=v?.root??a?.Root,x={anchorEl:i,container:l,disablePortal:c,keepMounted:u,modifiers:d,open:h,placement:p,popperOptions:f,popperRef:m,transition:g,...b};return(0,Ty.jsx)(G_,{as:o,direction:n?"rtl":"ltr",slots:{root:A},slotProps:y??s,...x,ref:t})})),W_=Q_,q_=["open","target","onClose","children","position","className","onExited"],$_=Ay(W_,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal,[`& .${QC.menuList}`]:{outline:0}}})),X_={"bottom-start":"top left","bottom-end":"top right"};function K_(e){const{open:t,target:n,onClose:r,children:o,position:a,className:s,onExited:l}=e,c=Ly(e,q_),u=OE(),d=qC(),h=(e=>{const{classes:t}=e;return Op({root:["menu"]},GC,t)})(d),p=i.useRef(null);zp((()=>{t?p.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(p.current?.focus?.(),p.current=null)}),[t]),i.useEffect((()=>{const e=t?"menuOpen":"menuClose";u.current.publishEvent(e,{target:n})}),[u,t,n]);const f=e=>{e.target&&(n===e.target||n?.contains(e.target))||r(e)};return(0,Ty.jsx)($_,Yp({as:d.slots.basePopper,className:ib(h.root,s),ownerState:d,open:t,anchorEl:n,transition:!0,placement:a},c,d.slotProps?.basePopper,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,Ty.jsx)(Kp,{onClickAway:f,mouseEvent:"onMouseDown",children:(0,Ty.jsx)(nb,Yp({},t,{style:{transformOrigin:X_[n]},onExited:(r=t?.onExited,e=>{r&&r(),l&&l(e)}),children:(0,Ty.jsx)(pb,{children:o})}))});var r}}))}const Y_=HC((function(e,t){const{slotProps:n={}}=e,r=n.button||{},o=n.tooltip||{},a=OE(),s=qC(),l=cE(a,fS),c=Lb(),u=Lb(),[d,h]=i.useState(!1),p=i.useRef(null),f=Wp(t,p),m=[{icon:(0,Ty.jsx)(s.slots.densityCompactIcon,{}),label:a.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:(0,Ty.jsx)(s.slots.densityStandardIcon,{}),label:a.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:(0,Ty.jsx)(s.slots.densityComfortableIcon,{}),label:a.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],g=i.useMemo((()=>{switch(l){case"compact":return(0,Ty.jsx)(s.slots.densityCompactIcon,{});case"comfortable":return(0,Ty.jsx)(s.slots.densityComfortableIcon,{});default:return(0,Ty.jsx)(s.slots.densityStandardIcon,{})}}),[l,s]);if(s.disableDensitySelector)return null;const v=m.map(((e,t)=>(0,Ty.jsxs)(cS,{onClick:()=>{return t=e.value,a.current.setDensity(t),void h(!1);var t},selected:e.value===l,children:[(0,Ty.jsx)(hS,{children:e.icon}),e.label]},t)));return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(s.slots.baseTooltip,Yp({title:a.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},s.slotProps?.baseTooltip,o,{children:(0,Ty.jsx)(s.slots.baseButton,Yp({size:"small",startIcon:g,"aria-label":a.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?u:void 0,id:c},s.slotProps?.baseButton,r,{onClick:e=>{h((e=>!e)),r.onClick?.(e)},ref:f,children:a.current.getLocaleText("toolbarDensity")}))})),(0,Ty.jsx)(K_,{open:d,target:p.current,onClose:()=>{h(!1)},position:"bottom-start",children:(0,Ty.jsx)(JE,{id:u,className:QC.menuList,"aria-labelledby":c,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),yS(e.key)&&h(!1)},autoFocusItem:d,children:v})})]})}));let J_=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const Z_={left:[],right:[]},eM=e=>e.columns,tM=ME(eM,(e=>e.orderedFields)),nM=ME(eM,(e=>e.lookup)),rM=TE(tM,nM,((e,t)=>e.map((e=>t[e])))),iM=ME(eM,(e=>e.columnVisibilityModel)),oM=TE(rM,iM,((e,t)=>e.filter((e=>!1!==t[e.field])))),aM=TE(oM,(e=>e.map((e=>e.field)))),sM=TE(eM,(e=>e.pinnedColumns),aM,(e=>e.isRtl),((e,t,n,r)=>{const i=function(e,t,n){if(!Array.isArray(e.left)&&!Array.isArray(e.right))return Z_;if(0===e.left?.length&&0===e.right?.length)return Z_;const r=(e,t)=>Array.isArray(e)?e.filter((e=>t.includes(e))):[],i=r(e.left,t),o=t.filter((e=>!i.includes(e))),a=r(e.right,o);if(n)return{left:a,right:i};return{left:i,right:a}}(t,n,r);return{left:i.left.map((t=>e.lookup[t])),right:i.right.map((t=>e.lookup[t]))}}));const lM=TE(oM,(e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t})),cM=TE(rM,(e=>e.filter((e=>e.filterable)))),uM=TE(rM,(e=>e.reduce(((e,t)=>(t.filterable&&(e[t.field]=t),e)),{}))),dM=TE(rM,(e=>e.some((e=>void 0!==e.colSpan)))),hM=e=>e.rows,pM=ME(hM,(e=>e.totalRowCount)),fM=ME(hM,(e=>e.loading)),mM=ME(hM,(e=>e.totalTopLevelRowCount)),gM=ME(hM,(e=>e.dataRowIdToModelLookup)),vM=ME(hM,(e=>e.dataRowIdToIdLookup)),yM=ME(hM,(e=>e.tree)),bM=ME(hM,(e=>e.groupsToFetch)),AM=ME(hM,(e=>e.groupingName)),xM=ME(hM,(e=>e.treeDepths)),wM=TE(hM,(e=>{const t=Object.entries(e.treeDepths);return 0===t.length?1:(t.filter((e=>{let[,t]=e;return t>0})).map((e=>{let[t]=e;return Number(t)})).sort(((e,t)=>t-e))[0]??0)+1})),CM=ME(hM,(e=>e.dataRowIds)),EM=TE(ME(hM,(e=>e?.additionalRowGroups)),(e=>{const t=e?.pinnedRows;return{bottom:t?.bottom?.map((e=>({id:e.id,model:e.model??{}})))??[],top:t?.top?.map((e=>({id:e.id,model:e.model??{}})))??[]}})),SM=ME(EM,(e=>(e?.top?.length||0)+(e?.bottom?.length||0))),_M="auto-generated-group-node-root",MM=Symbol("mui.id_autogenerated");const IM=(e,t,n)=>{const r=t?t(e):e.id;return function(e,t){if(null==e)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"))}(r,e,n),r},TM=e=>{let{rows:t,getRowId:n,loading:r,rowCount:i}=e;const o={type:"full",rows:[]},a={},s={};for(let l=0;l<t.length;l+=1){const e=t[l],r=IM(e,n);a[r]=e,s[r]=r,o.rows.push(r)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:r,rowCountPropBeforePartialUpdates:i,updates:o,dataRowIdToIdLookup:s,dataRowIdToModelLookup:a}},RM=e=>{let{tree:t,rowCountProp:n=0}=e;const r=t[_M];return Math.max(n,r.children.length+(null==r.footerId?0:1))},kM=e=>{let{apiRef:t,rowCountProp:n=0,loadingProp:r,previousTree:i,previousTreeDepths:o,previousGroupsToFetch:a}=e;const s=t.current.caches.rows,{tree:l,treeDepths:c,dataRowIds:u,groupingName:d,groupsToFetch:h=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:i,previousTreeDepths:o,updates:s.updates,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:a}),p=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:c,dataRowIdToIdLookup:s.dataRowIdToIdLookup,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},Yp({},p,{totalRowCount:Math.max(n,p.dataRowIds.length),totalTopLevelRowCount:RM({tree:p.tree,rowCountProp:n}),groupingName:d,loading:r,groupsToFetch:h})},PM=e=>"skeletonRow"===e.type||"footer"===e.type||"group"===e.type&&e.isAutoGenerated||"pinnedRow"===e.type&&e.isAutoGenerated,BM=(e,t,n)=>{const r=e[t];if("group"!==r.type)return[];const i=[];for(let o=0;o<r.children.length;o+=1){const t=r.children[o];n&&PM(e[t])||i.push(t);const a=BM(e,t,n);for(let e=0;e<a.length;e+=1)i.push(a[e])}return n||null==r.footerId||i.push(r.footerId),i},OM=e=>{let{previousCache:t,getRowId:n,updates:r,groupKeys:i}=e;if("full"===t.updates.type)throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const o=new Map;r.forEach((e=>{const t=IM(e,n,"A row was provided without id when calling updateRows():");o.has(t)?o.set(t,Yp({},o.get(t),e)):o.set(t,e)}));const a={type:"partial",actions:{insert:[...t.updates.actions.insert??[]],modify:[...t.updates.actions.modify??[]],remove:[...t.updates.actions.remove??[]]},idToActionLookup:Yp({},t.updates.idToActionLookup),groupKeys:i},s=Yp({},t.dataRowIdToModelLookup),l=Yp({},t.dataRowIdToIdLookup),c={insert:{},modify:{},remove:{}};o.forEach(((e,t)=>{const n=a.idToActionLookup[t];if("delete"===e._action){if("remove"===n||!s[t])return;return null!=n&&(c[n][t]=!0),a.actions.remove.push(t),delete s[t],void delete l[t]}const r=s[t];if(r)return"remove"===n?(c.remove[t]=!0,a.actions.modify.push(t)):null==n&&a.actions.modify.push(t),void(s[t]=Yp({},r,e));"remove"===n?(c.remove[t]=!0,a.actions.insert.push(t)):null==n&&a.actions.insert.push(t),s[t]=e,l[t]=t}));const u=Object.keys(c);for(let d=0;d<u.length;d+=1){const e=u[d],t=c[e];Object.keys(t).length>0&&(a.actions[e]=a.actions[e].filter((e=>!t[e])))}return{dataRowIdToModelLookup:s,dataRowIdToIdLookup:l,updates:a,rowsBeforePartialUpdates:t.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:t.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:t.rowCountPropBeforePartialUpdates}},LM="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function DM(e,t,n){const r=[];return t.forEach((t=>{const i=IM(t,n,"A row was provided without id when calling updateRows():"),o=e.current.getRowNode(i);if("pinnedRow"===o?.type){const n=e.current.caches.pinnedRows,r=n.idLookup[i];r&&(n.idLookup[i]=Yp({},r,t))}else r.push(t)})),r}const NM=(e,t,n)=>"number"===typeof e&&e>0?e:t,FM=(["MUI X: The `rowHeight` prop should be a number greater than 0.","The default value will be used instead."].join("\n"),["MUI X: The `getRowHeight` prop should return a number greater than 0 or 'auto'.","The default value will be used instead."].join("\n"),e=>e.sorting),jM=ME(FM,(e=>e.sortedRows)),UM=TE(jM,gM,yM,((e,t,n)=>e.reduce(((e,r)=>{const i=t[r];if(i)e.push({id:r,model:i});else{const t=n[r];t&&PM(t)&&e.push({id:r,model:{[MM]:r}})}return e}),[]))),zM=ME(FM,(e=>e.sortModel)),HM=TE(zM,(e=>e.reduce(((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t)),{}))),VM=(TE(jM,(e=>e.reduce(((e,t,n)=>(e[t]=n,e)),Object.create(null)))),e=>e.filter),GM=ME(VM,(e=>e.filterModel)),QM=ME(GM,(e=>e.quickFilterValues)),WM=ME(VM,(e=>e.filteredRowsLookup)),qM=(ME(VM,(e=>e.filteredChildrenCountLookup)),ME(VM,(e=>e.filteredDescendantCountLookup)),TE((e=>e.visibleRowsLookup),UM,wM,GM,QM,((e,t,n,r,i)=>n<2&&!r.items.length&&!i?.length?t:t.filter((t=>!1!==e[t.id]))))),$M=TE(qM,(e=>e.map((e=>e.id)))),XM=TE(WM,UM,((e,t)=>t.filter((t=>!1!==e[t.id])))),KM=TE(XM,(e=>e.map((e=>e.id)))),YM=(TE($M,yM,((e,t)=>{const n={};let r=0;return e.reduce(((e,i)=>{const o=t[i];return n[o.depth]||(n[o.depth]=0),o.depth>r&&(n[o.depth]=0),r=o.depth,n[o.depth]+=1,e[i]=n[o.depth],e}),{})})),TE(qM,yM,wM,((e,t,n)=>n<2?e:e.filter((e=>0===t[e.id]?.depth))))),JM=ME(qM,(e=>e.length)),ZM=ME(YM,(e=>e.length)),eI=ME(XM,(e=>e.length)),tI=(ME(eI,ZM,((e,t)=>e-t)),TE(GM,nM,((e,t)=>e.items?.filter((e=>{if(!e.field)return!1;const n=t[e.field];if(!n?.filterOperators||0===n?.filterOperators?.length)return!1;const r=n.filterOperators.find((t=>t.value===e.operator));return!!r&&(!r.InputComponent||null!=e.value&&""!==e.value?.toString())}))))),nI=TE(tI,(e=>e.reduce(((e,t)=>(e[t.field]?e[t.field].push(t):e[t.field]=[t],e)),{}))),rI=Ay("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})((e=>{let{theme:t}=e;return{margin:t.spacing(1,1,.5),padding:t.spacing(0,1)}})),iI=HC((function(e,t){const{slotProps:n={}}=e,r=n.button||{},o=n.tooltip||{},a=n.badge||{},s=OE(),l=qC(),c=cE(s,tI),u=cE(s,nM),d=cE(s,RE),h=(e=>{const{classes:t}=e;return Op({root:["toolbarFilterList"]},GC,t)})(l),p=Lb(),f=Lb(),m=i.useMemo((()=>{if(d.open)return s.current.getLocaleText("toolbarFiltersTooltipHide");if(0===c.length)return s.current.getLocaleText("toolbarFiltersTooltipShow");const e=e=>u[e.field].filterOperators.find((t=>t.value===e.operator)).label||s.current.getLocaleText(`filterOperator${Km(e.operator)}`).toString(),t=e=>{const{getValueAsString:t}=u[e.field].filterOperators.find((t=>t.value===e.operator));return t?t(e.value):e.value};return(0,Ty.jsxs)("div",{children:[s.current.getLocaleText("toolbarFiltersTooltipActive")(c.length),(0,Ty.jsx)(rI,{className:h.root,ownerState:l,children:c.map(((n,r)=>Yp({},u[n.field]&&(0,Ty.jsx)("li",{children:`${u[n.field].headerName||n.field}\n                  ${e(n)}\n                  ${null!=n.value?t(n):""}`},r))))})]})}),[s,l,d.open,c,u,h]);if(l.disableColumnFilter)return null;const g=d.open&&d.panelId===f;return(0,Ty.jsx)(l.slots.baseTooltip,Yp({title:m,enterDelay:1e3},l.slotProps?.baseTooltip,o,{children:(0,Ty.jsx)(l.slots.baseButton,Yp({id:p,size:"small","aria-label":s.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":g?f:void 0,"aria-expanded":g,"aria-haspopup":!0,startIcon:(0,Ty.jsx)(l.slots.baseBadge,Yp({badgeContent:c.length,color:"primary"},l.slotProps?.baseBadge,a,{children:(0,Ty.jsx)(l.slots.openFilterButtonIcon,{})}))},l.slotProps?.baseButton,r,{onClick:e=>{const{open:t,openedPanelValue:n}=d;t&&n===PE.filters?s.current.hidePreferences():s.current.showPreferences(PE.filters,f,p),r.onClick?.(e)},onPointerUp:e=>{d.open&&e.stopPropagation(),r.onPointerUp?.(e)},ref:t,children:s.current.getLocaleText("toolbarFilters")}))}))})),oI=HC((function(e,t){const{children:n,slotProps:r={}}=e,o=r.button||{},a=r.tooltip||{},s=OE(),l=qC(),c=Lb(),u=Lb(),[d,h]=i.useState(!1),p=i.useRef(null),f=Wp(t,p),m=()=>h(!1);return null==n?null:(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(l.slots.baseTooltip,Yp({title:s.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},l.slotProps?.baseTooltip,a,{children:(0,Ty.jsx)(l.slots.baseButton,Yp({size:"small",startIcon:(0,Ty.jsx)(l.slots.exportIcon,{}),"aria-expanded":d,"aria-label":s.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":d?u:void 0,id:c},l.slotProps?.baseButton,o,{onClick:e=>{h((e=>!e)),o.onClick?.(e)},ref:f,children:s.current.getLocaleText("toolbarExport")}))})),(0,Ty.jsx)(K_,{open:d,target:p.current,onClose:m,position:"bottom-start",children:(0,Ty.jsx)(JE,{id:u,className:QC.menuList,"aria-labelledby":c,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),yS(e.key)&&m()},autoFocusItem:d,children:i.Children.map(n,(e=>i.isValidElement(e)?i.cloneElement(e,{hideMenu:m}):e))})})]})})),aI=["hideMenu","options"],sI=["hideMenu","options"],lI=["csvOptions","printOptions","excelOptions"];function cI(e){const t=OE(),{hideMenu:n,options:r}=e,i=Ly(e,aI);return(0,Ty.jsx)(cS,Yp({onClick:()=>{t.current.exportDataAsCsv(r),n?.()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function uI(e){const t=OE(),{hideMenu:n,options:r}=e,i=Ly(e,sI);return(0,Ty.jsx)(cS,Yp({onClick:()=>{t.current.exportDataAsPrint(r),n?.()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}const dI=HC((function(e,t){const n=e,{csvOptions:r={},printOptions:o={},excelOptions:a}=n,s=Ly(n,lI),l=OE().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:a,csvOptions:r,printOptions:o}).sort(((e,t)=>e.componentName>t.componentName?1:-1));return 0===l.length?null:(0,Ty.jsx)(oI,Yp({},s,{ref:t,children:l.map(((e,t)=>i.cloneElement(e.component,{key:t})))}))}));function hI(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}function pI(e){return parseInt(e,10)||0}const fI={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const mI=i.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:a,value:s,...l}=e,{current:c}=i.useRef(null!=s),u=i.useRef(null),d=Wp(t,u),h=i.useRef(null),p=i.useRef(null),f=i.useCallback((()=>{const t=u.current,n=p.current;if(!t||!n)return;const i=QE(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const a=i.boxSizing,s=pI(i.paddingBottom)+pI(i.paddingTop),l=pI(i.borderBottomWidth)+pI(i.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===a?s+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),m=i.useCallback((()=>{const e=u.current,t=f();if(!e||!t||(function(e){for(const t in e)return!1;return!0}(n=t)||0===n.outerHeightStyle&&!n.overflowing))return;var n;const r=t.outerHeightStyle;h.current!==r&&(h.current=r,e.style.height=`${r}px`),e.style.overflow=t.overflowing?"hidden":""}),[f]),g=i.useRef(-1);zp((()=>{const e=hI((()=>m())),t=u?.current;if(!t)return;const n=QE(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{r.unobserve(t),cancelAnimationFrame(g.current),m(),g.current=requestAnimationFrame((()=>{r.observe(t)}))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(g.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[f,m]),zp((()=>{m()}));return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)("textarea",{value:s,onChange:e=>{c||m(),n&&n(e)},ref:d,rows:o,style:a,...l}),(0,Ty.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...fI,...a,paddingTop:0,paddingBottom:0}})]})})),gI=mI;const vI=function(e){return"string"===typeof e};function yI(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const bI=i.createContext(void 0);function AI(){return i.useContext(bI)}function xI(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function wI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(xI(e.value)&&""!==e.value||t&&xI(e.defaultValue)&&""!==e.defaultValue)}function CI(e){return lb("MuiInputBase",e)}const EI=cb("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var SI;const _I=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Oy(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},MI=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},II=Ay("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_I})(My((e=>{let{theme:t}=e;return{...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${EI.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]}}))),TI=Ay("input",{name:"MuiInputBase",slot:"Input",overridesResolver:MI})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${EI.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${EI.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}}))),RI=kC({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),kI=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:a,className:s,color:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,error:m,fullWidth:g=!1,id:v,inputComponent:y="input",inputProps:b={},inputRef:A,margin:x,maxRows:w,minRows:C,multiline:E=!1,name:S,onBlur:_,onChange:M,onClick:I,onFocus:T,onKeyDown:R,onKeyUp:k,placeholder:P,readOnly:B,renderSuffix:O,rows:L,size:D,slotProps:N={},slots:F={},startAdornment:j,type:U="text",value:z,...H}=n,V=null!=b.value?b.value:z,{current:G}=i.useRef(null!=V),Q=i.useRef(),W=i.useCallback((e=>{0}),[]),q=Yy(Q,A,b.ref,W),[$,X]=i.useState(!1),K=AI();const Y=yI({props:n,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Y.focused=K?K.focused:$,i.useEffect((()=>{!K&&h&&$&&(X(!1),_&&_())}),[K,h,$,_]);const J=K&&K.onFilled,Z=K&&K.onEmpty,ee=i.useCallback((e=>{wI(e)?J&&J():Z&&Z()}),[J,Z]);GE((()=>{G&&ee({value:V})}),[V,ee,G]);i.useEffect((()=>{ee(Q.current)}),[]);let te=y,ne=b;E&&"input"===te&&(ne=L?{type:void 0,minRows:L,maxRows:L,...ne}:{type:void 0,maxRows:w,minRows:C,...ne},te=gI);i.useEffect((()=>{K&&K.setAdornedStart(Boolean(j))}),[K,j]);const re={...n,color:Y.color||"primary",disabled:Y.disabled,endAdornment:f,error:Y.error,focused:Y.focused,formControl:K,fullWidth:g,hiddenLabel:Y.hiddenLabel,multiline:E,size:Y.size,startAdornment:j,type:U},ie=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e;return Op({root:["root",`color${Oy(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&`size${Oy(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},CI,t)})(re),oe=F.root||c.Root||II,ae=N.root||u.root||{},se=F.input||c.Input||TI;return ne={...ne,...N.input??u.input},(0,Ty.jsxs)(i.Fragment,{children:[!p&&"function"===typeof RI&&(SI||(SI=(0,Ty.jsx)(RI,{}))),(0,Ty.jsxs)(oe,{...ae,ref:t,onClick:e=>{Q.current&&e.currentTarget===e.target&&Q.current.focus(),I&&I(e)},...H,...!vI(oe)&&{ownerState:{...re,...ae.ownerState}},className:ib(ie.root,ae.className,s,B&&"MuiInputBase-readOnly"),children:[j,(0,Ty.jsx)(bI.Provider,{value:null,children:(0,Ty.jsx)(se,{"aria-invalid":Y.error,"aria-describedby":r,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Y.disabled,id:v,onAnimationStart:e=>{ee("mui-auto-fill-cancel"===e.animationName?Q.current:{value:"x"})},name:S,placeholder:P,readOnly:B,required:Y.required,rows:L,value:V,onKeyDown:R,onKeyUp:k,type:U,...ne,...!vI(se)&&{as:te,ownerState:{...re,...ne.ownerState}},ref:q,className:ib(ie.input,ne.className,B&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),b.onBlur&&b.onBlur(e),K&&K.onBlur?K.onBlur(e):X(!1)},onChange:function(e){if(!G){const t=e.target||Q.current;if(null==t)throw new Error(Xm(1));ee({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];b.onChange&&b.onChange(e,...n),M&&M(e,...n)},onFocus:e=>{T&&T(e),b.onFocus&&b.onFocus(e),K&&K.onFocus?K.onFocus(e):X(!0)}})}),f,O?O({...Y,startAdornment:j}):null]})]})})),PI=kI;function BI(e){return lb("MuiInput",e)}const OI={...EI,...cb("MuiInput",["root","underline","input"])},LI=Ay(II,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[..._I(e,t),!n.disableUnderline&&t.underline]}})(My((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${OI.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${OI.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${OI.disabled}, .${OI.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${OI.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}}))]}}))),DI=Ay(TI,{name:"MuiInput",slot:"Input",overridesResolver:MI})({}),NI=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:a=!1,inputComponent:s="input",multiline:l=!1,slotProps:c,slots:u={},type:d="text",...h}=n,p=(e=>{const{classes:t,disableUnderline:n}=e,r=Op({root:["root",!n&&"underline"],input:["input"]},BI,t);return{...t,...r}})(n),f={root:{ownerState:{disableUnderline:r}}},m=c??o?Um(c??o,f):f,g=u.root??i.Root??LI,v=u.input??i.Input??DI;return(0,Ty.jsx)(PI,{slots:{root:g,input:v},slotProps:m,fullWidth:a,inputComponent:s,multiline:l,ref:t,type:d,...h,classes:p})}));NI.muiName="Input";const FI=NI;function jI(e){return lb("MuiFilledInput",e)}const UI={...EI,...cb("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},zI=Ay(II,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[..._I(e,t),!n.disableUnderline&&t.underline]}})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${UI.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${UI.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${UI.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${UI.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${UI.disabled}, .${UI.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${UI.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n]?.main}`}}}})),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}}))),HI=Ay(TI,{name:"MuiFilledInput",slot:"Input",overridesResolver:MI})(My((e=>{let{theme:t}=e;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}}))),VI=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:i={},componentsProps:o,fullWidth:a=!1,hiddenLabel:s,inputComponent:l="input",multiline:c=!1,slotProps:u,slots:d={},type:h="text",...p}=n,f={...n,disableUnderline:r,fullWidth:a,inputComponent:l,multiline:c,type:h},m=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:a,multiline:s}=e,l=Op({root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd","small"===o&&`size${Oy(o)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},jI,t);return{...t,...l}})(n),g={root:{ownerState:f},input:{ownerState:f}},v=u??o?Um(g,u??o):g,y=d.root??i.Root??zI,b=d.input??i.Input??HI;return(0,Ty.jsx)(PI,{slots:{root:y,input:b},slotProps:v,fullWidth:a,inputComponent:l,multiline:c,ref:t,type:h,...p,classes:m})}));VI.muiName="Input";const GI=VI;var QI;const WI=Ay("fieldset",{shouldForwardProp:by})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),qI=Ay("legend",{shouldForwardProp:by})(My((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}})));function $I(e){return lb("MuiOutlinedInput",e)}const XI={...EI,...cb("MuiOutlinedInput",["root","notchedOutline","input"])},KI=Ay(II,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:_I})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${XI.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${XI.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${XI.focused} .${XI.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${XI.focused} .${XI.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${XI.error} .${XI.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${XI.disabled} .${XI.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}}))),YI=Ay((function(e){const{children:t,classes:n,className:r,label:i,notched:o,...a}=e,s=null!=i&&""!==i,l={...e,notched:o,withLabel:s};return(0,Ty.jsx)(WI,{"aria-hidden":!0,className:r,ownerState:l,...a,children:(0,Ty.jsx)(qI,{ownerState:l,children:s?(0,Ty.jsx)("span",{children:i}):QI||(QI=(0,Ty.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})})}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}))),JI=Ay(TI,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:MI})(My((e=>{let{theme:t}=e;return{padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]}}))),ZI=i.forwardRef((function(e,t){var n;const r=By({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:a=!1,inputComponent:s="input",label:l,multiline:c=!1,notched:u,slots:d={},type:h="text",...p}=r,f=(e=>{const{classes:t}=e,n=Op({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$I,t);return{...t,...n}})(r),m=AI(),g=yI({props:r,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:g.color||"primary",disabled:g.disabled,error:g.error,focused:g.focused,formControl:m,fullWidth:a,hiddenLabel:g.hiddenLabel,multiline:c,size:g.size,type:h},y=d.root??o.Root??KI,b=d.input??o.Input??JI;return(0,Ty.jsx)(PI,{slots:{root:y,input:b},renderSuffix:e=>(0,Ty.jsx)(YI,{ownerState:v,className:f.notchedOutline,label:null!=l&&""!==l&&g.required?n||(n=(0,Ty.jsxs)(i.Fragment,{children:[l,"\u2009","*"]})):l,notched:"undefined"!==typeof u?u:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:a,inputComponent:s,multiline:c,ref:t,type:h,...p,classes:{...f,notchedOutline:null}})}));ZI.muiName="Input";const eT=ZI;function tT(e){return lb("MuiFormLabel",e)}const nT=cb("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),rT=Ay("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(My((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${nT.focused}`]:{color:(t.vars||t).palette[n].main}}}})),{props:{},style:{[`&.${nT.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nT.error}`]:{color:(t.vars||t).palette.error.main}}}]}}))),iT=Ay("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(My((e=>{let{theme:t}=e;return{[`&.${nT.error}`]:{color:(t.vars||t).palette.error.main}}}))),oT=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiFormLabel"}),{children:r,className:i,color:o,component:a="label",disabled:s,error:l,filled:c,focused:u,required:d,...h}=n,p=yI({props:n,muiFormControl:AI(),states:["color","required","focused","disabled","error","filled"]}),f={...n,color:p.color||"primary",component:a,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},m=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e;return Op({root:["root",`color${Oy(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},tT,t)})(f);return(0,Ty.jsxs)(rT,{as:a,ownerState:f,className:ib(m.root,i),ref:t,...h,children:[r,p.required&&(0,Ty.jsxs)(iT,{ownerState:f,"aria-hidden":!0,className:m.asterisk,children:["\u2009","*"]})]})})),aT=oT;function sT(e){return lb("MuiInputLabel",e)}cb("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const lT=Ay(aT,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${nT.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(My((e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}}))),cT=i.forwardRef((function(e,t){const n=By({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:i,shrink:o,variant:a,className:s,...l}=n,c=AI();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=yI({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h={...n,disableAnimation:r,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused},p=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=e,l=Op({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&`size${Oy(r)}`,a],asterisk:[s&&"asterisk"]},sT,t);return{...t,...l}})(h);return(0,Ty.jsx)(lT,{"data-shrink":u,ref:t,className:ib(p.root,s),...l,ownerState:h,classes:p})})),uT=cT;function dT(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}const hT=dT;function pT(e){return lb("MuiFormControl",e)}cb("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const fT=Ay("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Oy(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),mT=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiFormControl"}),{children:r,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined",...v}=n,y={...n,color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g},b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return Op({root:["root","none"!==n&&`margin${Oy(n)}`,r&&"fullWidth"]},pT,t)})(y),[A,x]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{if(!hT(t,["Input","Select"]))return;const n=hT(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[w,C]=i.useState((()=>{let e=!1;return r&&i.Children.forEach(r,(t=>{hT(t,["Input","Select"])&&(wI(t.props,!0)||wI(t.props.inputProps,!0))&&(e=!0)})),e})),[E,S]=i.useState(!1);l&&E&&S(!1);const _=void 0===u||l?E:u;let M;i.useRef(!1);const I=i.useCallback((()=>{C(!0)}),[]),T=i.useCallback((()=>{C(!1)}),[]),R=i.useMemo((()=>({adornedStart:A,setAdornedStart:x,color:a,disabled:l,error:c,filled:w,focused:_,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},onEmpty:T,onFilled:I,registerEffect:M,required:f,variant:g})),[A,a,l,c,w,_,d,h,M,T,I,f,m,g]);return(0,Ty.jsx)(bI.Provider,{value:R,children:(0,Ty.jsx)(fT,{as:s,ownerState:y,className:ib(b.root,o),ref:t,...v,children:r})})})),gT=mT;function vT(e){return lb("MuiFormHelperText",e)}const yT=cb("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var bT;const AT=Ay("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Oy(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(My((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${yT.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${yT.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]}}))),xT=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p",disabled:a,error:s,filled:l,focused:c,margin:u,required:d,variant:h,...p}=n,f=yI({props:n,muiFormControl:AI(),states:["variant","size","disabled","error","filled","focused","required"]}),m={...n,component:o,contained:"filled"===f.variant||"outlined"===f.variant,variant:f.variant,size:f.size,disabled:f.disabled,error:f.error,filled:f.filled,focused:f.focused,required:f.required};delete m.ownerState;const g=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=e;return Op({root:["root",i&&"disabled",o&&"error",r&&`size${Oy(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]},vT,t)})(m);return(0,Ty.jsx)(AT,{as:o,className:ib(g.root,i),ref:t,...p,ownerState:m,children:" "===r?bT||(bT=(0,Ty.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r})})),wT=xT,CT=hI,ET=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ST(e){const t=[],n=[];return Array.from(e.querySelectorAll(ET)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function _T(){return!0}const MT=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=ST,isEnabled:s=_T,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),p=i.useRef(null),f=i.useRef(!1),m=i.useRef(null),g=Wp($p(t),m),v=i.useRef(null);i.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!m.current)return;const e=qp(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),i.useEffect((()=>{if(!l||!m.current)return;const e=qp(m.current),t=t=>{v.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){const e=Boolean(v.current?.shiftKey&&"Tab"===v.current?.key),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,s,l,a]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Ty.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})},IT={entering:{opacity:1},entered:{opacity:1}},TT=i.forwardRef((function(e,t){const n=Ey(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=r,TransitionComponent:y=$y,...b}=e,A=i.useRef(null),x=Yy(A,$p(s),t),w=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},C=w(h),E=w(((e,t)=>{Xy(e);const r=Ky({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),S=w(d),_=w(m),M=w((e=>{const t=Ky({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),I=w(f);return(0,Ty.jsx)(y,{appear:a,in:c,nodeRef:A,onEnter:E,onEntered:S,onEntering:C,onExit:M,onExited:I,onExiting:_,addEndListener:e=>{o&&o(A.current,e)},timeout:v,...b,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(s,{style:{opacity:0,visibility:"exited"!==e||c?void 0:"hidden",...IT[e],...g,...s.props.style},ref:x,...r})}})})),RT=TT;function kT(e){return lb("MuiBackdrop",e)}cb("MuiBackdrop",["root","invisible"]);const PT=Ay("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),BT=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:o="div",invisible:a=!1,open:s,components:l={},componentsProps:c={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:p,...f}=n,m={...n,component:o,invisible:a},g=(e=>{const{classes:t,invisible:n}=e;return Op({root:["root",n&&"invisible"]},kT,t)})(m),v={slots:{transition:h,root:l.Root,...d},slotProps:{...c,...u}},[y,b]=_b("root",{elementType:PT,externalForwardedProps:v,className:ib(g.root,i),ownerState:m}),[A,x]=_b("transition",{elementType:RT,externalForwardedProps:v,ownerState:m});return(0,Ty.jsx)(A,{in:s,timeout:p,...f,...x,children:(0,Ty.jsx)(y,{"aria-hidden":!0,...b,classes:g,ref:t,children:r})})})),OT=BT;function LT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function DT(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function NT(e){return parseInt(QE(e).getComputedStyle(e).paddingRight,10)||0}function FT(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&DT(e,i)}))}function jT(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function UT(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=qp(e);return t.body===e?QE(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=HE(QE(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${NT(r)+e}px`;const t=qp(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${NT(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=qp(r).body;else{const t=r.parentElement,n=QE(r);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const zT=()=>{},HT=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&DT(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);FT(t,e.mount,e.modalRef,r,!0);const i=jT(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=jT(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=UT(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=jT(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&DT(e.modalRef,t),FT(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&DT(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const VT=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:c,open:u,rootRef:d}=e,h=i.useRef({}),p=i.useRef(null),f=i.useRef(null),m=Wp(f,d),[g,v]=i.useState(!u),y=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const A=()=>(h.current.modalRef=f.current,h.current.mount=p.current,h.current),x=()=>{HT.mount(A(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},w=Hp((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||qp(p.current).body;HT.add(A(),e),f.current&&x()})),C=()=>HT.isTopModal(A()),E=Hp((e=>{p.current=e,e&&(u&&C()?x():f.current&&DT(f.current,b))})),S=i.useCallback((()=>{HT.remove(A(),b)}),[b]);i.useEffect((()=>()=>{S()}),[S]),i.useEffect((()=>{u?w():y&&o||S()}),[u,S,y,o,w]);const _=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&C()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},M=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Vp(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r={...n,...t};return{role:"presentation",...r,onKeyDown:_(r),ref:m}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:M(e),open:u}},getTransitionProps:()=>({onEnter:LT((()=>{v(!1),a&&a()}),l?.props.onEnter??zT),onExited:LT((()=>{v(!0),s&&s(),o&&S()}),l?.props.onExited??zT)}),rootRef:m,portalRef:E,isTopModal:C,exited:g,hasTransition:y}};function GT(e){return lb("MuiModal",e)}cb("MuiModal",["root","hidden","backdrop"]);const QT=Ay("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(My((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),WT=Ay(OT,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),qT=i.forwardRef((function(e,t){const n=By({name:"MuiModal",props:e}),{BackdropComponent:r=WT,BackdropProps:o,classes:a,className:s,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:f=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:g=!1,disablePortal:v=!1,disableRestoreFocus:y=!1,disableScrollLock:b=!1,hideBackdrop:A=!1,keepMounted:x=!1,onBackdropClick:w,onClose:C,onTransitionEnter:E,onTransitionExited:S,open:_,slotProps:M={},slots:I={},theme:T,...R}=n,k={...n,closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:m,disableEscapeKeyDown:g,disablePortal:v,disableRestoreFocus:y,disableScrollLock:b,hideBackdrop:A,keepMounted:x},{getRootProps:P,getBackdropProps:B,getTransitionProps:O,portalRef:L,isTopModal:D,exited:N,hasTransition:F}=VT({...k,rootRef:t}),j={...k,exited:N},U=(e=>{const{open:t,exited:n,classes:r}=e;return Op({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},GT,r)})(j),z={};if(void 0===c.props.tabIndex&&(z.tabIndex="-1"),F){const{onEnter:e,onExited:t}=O();z.onEnter=e,z.onExited=t}const H={slots:{root:h.Root,backdrop:h.Backdrop,...I},slotProps:{...p,...M}},[V,G]=_b("root",{ref:t,elementType:QT,externalForwardedProps:{...H,...R,component:d},getSlotProps:P,ownerState:j,className:ib(s,U?.root,!j.open&&j.exited&&U?.hidden)}),[Q,W]=_b("backdrop",{ref:o?.ref,elementType:r,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>B({...e,onClick:t=>{w&&w(t),e?.onClick&&e.onClick(t)}}),className:ib(o?.className,U?.backdrop),ownerState:j});return x||_||F&&!N?(0,Ty.jsx)(N_,{ref:L,container:u,disablePortal:v,children:(0,Ty.jsxs)(V,{...G,children:[!A&&r?(0,Ty.jsx)(Q,{...W}):null,(0,Ty.jsx)(MT,{disableEnforceFocus:m,disableAutoFocus:f,disableRestoreFocus:y,isEnabled:D,open:_,children:i.cloneElement(c,z)})]})}):null})),$T=qT;function XT(e){return lb("MuiPopover",e)}cb("MuiPopover",["root","paper"]);function KT(e,t){if(!e)return t;if("function"===typeof e||"function"===typeof t)return n=>{const r="function"===typeof t?t(n):t,i="function"===typeof e?e({...n,...r}):e,o=ib(n?.className,r?.className,i?.className);return{...r,...i,...!!o&&{className:o},...r?.style&&i?.style&&{style:{...r.style,...i.style}},...r?.sx&&i?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}};const n=t,r=ib(n?.className,e?.className);return{...t,...e,...!!r&&{className:r},...n?.style&&e?.style&&{style:{...n.style,...e.style}},...n?.sx&&e?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function YT(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function JT(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ZT(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function eR(e){return"function"===typeof e?e():e}const tR=Ay($T,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nR=Ay(pb,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rR=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:f,PaperProps:m={},slots:g={},slotProps:v={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:A="auto",TransitionProps:x={},disableScrollLock:w=!1,...C}=n,E=i.useRef(),S={...n,anchorOrigin:a,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:y,TransitionComponent:b,transitionDuration:A,TransitionProps:x},_=(e=>{const{classes:t}=e;return Op({root:["root"],paper:["paper"]},XT,t)})(S),M=i.useCallback((()=>{if("anchorPosition"===l)return s;const e=eR(o),t=(e&&1===e.nodeType?e:DE(E.current).body).getBoundingClientRect();return{top:t.top+YT(t,a.vertical),left:t.left+JT(t,a.horizontal)}}),[o,a.horizontal,a.vertical,s,l]),I=i.useCallback((e=>({vertical:YT(e,y.vertical),horizontal:JT(e,y.horizontal)})),[y.horizontal,y.vertical]),T=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=I(t);if("none"===l)return{top:null,left:null,transformOrigin:ZT(n)};const r=M();let i=r.top-n.vertical,a=r.left-n.horizontal;const s=i+t.height,c=a+t.width,u=WE(eR(o)),d=u.innerHeight-p,h=u.innerWidth-p;if(null!==p&&i<p){const e=i-p;i-=e,n.vertical+=e}else if(null!==p&&s>d){const e=s-d;i-=e,n.vertical+=e}if(null!==p&&a<p){const e=a-p;a-=e,n.horizontal+=e}else if(c>h){const e=c-h;a-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(a)}px`,transformOrigin:ZT(n)}}),[o,l,M,I,p]),[R,k]=i.useState(f),P=i.useCallback((()=>{const e=E.current;if(!e)return;const t=T(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,k(!0)}),[T]);i.useEffect((()=>(w&&window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P))),[o,w,P]);i.useEffect((()=>{f&&P()})),i.useImperativeHandle(r,(()=>f?{updatePosition:()=>{P()}}:null),[f,P]),i.useEffect((()=>{if(!f)return;const e=CT((()=>{P()})),t=WE(o);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,f,P]);let B=A;const O={slots:{transition:b,...g},slotProps:{transition:x,paper:m,...v}},[L,D]=_b("transition",{elementType:nb,externalForwardedProps:O,ownerState:S,getSlotProps:e=>({...e,onEntering:(t,n)=>{e.onEntering?.(t,n),P()},onExited:t=>{e.onExited?.(t),k(!1)}}),additionalProps:{appear:!0,in:f}});"auto"!==A||L.muiSupportAuto||(B=void 0);const N=d||(o?DE(eR(o)).body:void 0),[F,{slots:j,slotProps:U,...z}]=_b("root",{ref:t,elementType:tR,externalForwardedProps:{...O,...C},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:g.backdrop},slotProps:{backdrop:KT("function"===typeof v.backdrop?v.backdrop(S):v.backdrop,{invisible:!0})},container:N,open:f},ownerState:S,className:ib(_.root,u)}),[H,V]=_b("paper",{ref:E,className:_.paper,elementType:nR,externalForwardedProps:O,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:R?void 0:{opacity:0}},ownerState:S});return(0,Ty.jsx)(F,{...z,...!vI(F)&&{slots:j,slotProps:U,disableScrollLock:w},children:(0,Ty.jsx)(L,{...D,timeout:B,children:(0,Ty.jsx)(H,{...V,children:c})})})})),iR=rR;function oR(e){return lb("MuiMenu",e)}cb("MuiMenu",["root","paper","list"]);const aR={vertical:"top",horizontal:"right"},sR={vertical:"top",horizontal:"left"},lR=Ay(iR,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),cR=Ay(nR,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),uR=Ay(JE,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),dR=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:a,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:f,...m}={},variant:g="selectedMenu",slots:v={},slotProps:y={},...b}=n,A=aC(),x={...n,autoFocus:r,disableAutoFocusItem:s,MenuListProps:l,onEntering:f,PaperProps:d,transitionDuration:p,TransitionProps:m,variant:g},w=(e=>{const{classes:t}=e;return Op({root:["root"],paper:["paper"],list:["list"]},oR,t)})(x),C=r&&!s&&u,E=i.useRef(null);let S=-1;i.Children.map(o,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===S)&&(S=t))}));const _={slots:v,slotProps:{list:l,transition:m,paper:d,...y}},M=L_({elementType:v.root,externalSlotProps:y.root,ownerState:x,className:[w.root,a]}),[I,T]=_b("paper",{className:w.paper,elementType:cR,externalForwardedProps:_,shouldForwardComponentProp:!0,ownerState:x}),[R,k]=_b("list",{className:ib(w.list,l.className),elementType:uR,shouldForwardComponentProp:!0,externalForwardedProps:_,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),e.onKeyDown?.(t)}}),ownerState:x}),P="function"===typeof _.slotProps.transition?_.slotProps.transition(x):_.slotProps.transition;return(0,Ty.jsx)(lR,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?aR:sR,slots:{root:v.root,paper:I,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:M,paper:T,backdrop:"function"===typeof y.backdrop?y.backdrop(x):y.backdrop,transition:{...P,onEntering:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];((e,t)=>{E.current&&E.current.adjustStyleForScrollbar(e,{direction:A?"rtl":"ltr"}),f&&f(e,t)})(...t),P?.onEntering?.(...t)}}},open:u,ref:t,transitionDuration:p,ownerState:x,...b,classes:h,children:(0,Ty.jsx)(R,{actions:E,autoFocus:r&&(-1===S||s),autoFocusItem:C,variant:g,...k,children:o})})})),hR=dR;function pR(e){return lb("MuiNativeSelect",e)}const fR=cb("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mR=Ay("select")((e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${fR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}})),gR=Ay(mR,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:by,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${fR.multiple}`]:t.multiple}]}})({}),vR=Ay("svg")((e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${fR.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}})),yR=Ay(vR,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Oy(n.variant)}`],n.open&&t.iconOpen]}})({}),bR=i.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:a,inputRef:s,variant:l="standard",...c}=e,u={...e,disabled:r,variant:l,error:o},d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return Op({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Oy(n)}`,o&&"iconOpen",r&&"disabled"]},pR,t)})(u);return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(gR,{ownerState:u,className:ib(d.select,n),disabled:r,ref:s||t,...c}),e.multiple?null:(0,Ty.jsx)(yR,{as:a,ownerState:u,className:d.icon})]})})),AR=bR;function xR(e){let{controlled:t,default:n,name:r,state:o="value"}=e;const{current:a}=i.useRef(void 0!==t),[s,l]=i.useState(n);return[a?t:s,i.useCallback((e=>{a||l(e)}),[])]}const wR=xR;function CR(e){return lb("MuiSelect",e)}const ER=cb("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var SR;const _R=Ay(mR,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${ER.select}`]:t.select},{[`&.${ER.select}`]:t[n.variant]},{[`&.${ER.error}`]:t.error},{[`&.${ER.multiple}`]:t.multiple}]}})({[`&.${ER.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),MR=Ay(vR,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Oy(n.variant)}`],n.open&&t.iconOpen]}})({}),IR=Ay("input",{shouldForwardProp:e=>yy(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function TR(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function RR(e){return null==e||"string"===typeof e&&!e.trim()}const kR=i.forwardRef((function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:a,children:s,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:h,error:p=!1,IconComponent:f,inputRef:m,labelId:g,MenuProps:v={},multiple:y,name:b,onBlur:A,onChange:x,onClose:w,onFocus:C,onOpen:E,open:S,readOnly:_,renderValue:M,required:I,SelectDisplayProps:T={},tabIndex:R,type:k,value:P,variant:B="standard",...O}=e,[L,D]=wR({controlled:P,default:u,name:"Select"}),[N,F]=wR({controlled:S,default:c,name:"Select"}),j=i.useRef(null),U=i.useRef(null),[z,H]=i.useState(null),{current:V}=i.useRef(null!=S),[G,Q]=i.useState(),W=Yy(t,m),q=i.useCallback((e=>{U.current=e,e&&H(e)}),[]),$=z?.parentNode;i.useImperativeHandle(W,(()=>({focus:()=>{U.current.focus()},node:j.current,value:L})),[L]),i.useEffect((()=>{c&&N&&z&&!V&&(Q(a?null:$.clientWidth),U.current.focus())}),[z,a]),i.useEffect((()=>{o&&U.current.focus()}),[o]),i.useEffect((()=>{if(!g)return;const e=DE(U.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const X=(e,t)=>{e?E&&E(t):w&&w(t),V||(Q(a?null:$.clientWidth),F(e))},K=i.Children.toArray(s),Y=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(y){n=Array.isArray(L)?L.slice():[];const t=L.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),L!==n&&(D(n),x)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:b}}),x(i,e)}y||X(!1,t)}},J=null!==z&&N;let Z,ee;delete O["aria-invalid"];const te=[];let ne=!1,re=!1;(wI({value:L})||h)&&(M?Z=M(L):ne=!0);const ie=K.map((e=>{if(!i.isValidElement(e))return null;let t;if(y){if(!Array.isArray(L))throw new Error(Xm(2));t=L.some((t=>TR(t,e.props.value))),t&&ne&&te.push(e.props.children)}else t=TR(L,e.props.value),t&&ne&&(ee=e.props.children);return t&&(re=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Y(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ne&&(Z=y?0===te.length?null:te.reduce(((e,t,n)=>(e.push(t),n<te.length-1&&e.push(", "),e)),[]):ee);let oe,ae=G;!a&&V&&z&&(ae=$.clientWidth),oe="undefined"!==typeof R?R:d?null:0;const se=T.id||(b?`mui-component-select-${b}`:void 0),le={...e,variant:B,value:L,open:J,error:p},ce=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return Op({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Oy(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},CR,t)})(le),ue={...v.PaperProps,...v.slotProps?.paper},de=Lb();return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(_R,{as:"div",ref:q,tabIndex:oe,role:"combobox","aria-controls":J?de:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,se].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":I?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:e=>{if(!_){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),X(!0,e))}},onMouseDown:d||_?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),X(!0,e))},onBlur:e=>{!J&&A&&(Object.defineProperty(e,"target",{writable:!0,value:{value:L,name:b}}),A(e))},onFocus:C,...T,ownerState:le,className:ib(T.className,ce.select,l),id:se,children:RR(Z)?SR||(SR=(0,Ty.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):Z}),(0,Ty.jsx)(IR,{"aria-invalid":p,value:Array.isArray(L)?L.join(","):L,name:b,ref:j,"aria-hidden":!0,onChange:e=>{const t=K.find((t=>t.props.value===e.target.value));void 0!==t&&(D(t.props.value),x&&x(e,t))},tabIndex:-1,disabled:d,className:ce.nativeInput,autoFocus:o,required:I,...O,ownerState:le}),(0,Ty.jsx)(MR,{as:f,className:ce.icon,ownerState:le}),(0,Ty.jsx)(hR,{id:`menu-${b||""}`,anchorEl:$,open:J,onClose:e=>{X(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":g,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:de,...v.MenuListProps},paper:{...ue,style:{minWidth:ae,...null!=ue?ue.style:null}}},children:ie})]})})),PR=kR,BR=PA((0,Ty.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),OR={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>by(e)&&"variant"!==e,slot:"Root"},LR=Ay(FI,OR)(""),DR=Ay(eT,OR)(""),NR=Ay(GI,OR)(""),FR=i.forwardRef((function(e,t){const n=By({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=BR,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:A,open:x,renderValue:w,SelectDisplayProps:C,variant:E="outlined",...S}=n,_=y?AR:PR,M=yI({props:n,muiFormControl:AI(),states:["variant","error"]}),I=M.variant||E,T={...n,variant:I,classes:a},R=(e=>{const{classes:t}=e,n=Op({root:["root"]},CR,t);return{...t,...n}})(T),{root:k,...P}=R,B=h||{standard:(0,Ty.jsx)(LR,{ownerState:T}),outlined:(0,Ty.jsx)(DR,{label:f,ownerState:T}),filled:(0,Ty.jsx)(NR,{ownerState:T})}[I],O=Yy(t,$p(B));return(0,Ty.jsx)(i.Fragment,{children:i.cloneElement(B,{inputComponent:_,inputProps:{children:o,error:M.error,IconComponent:u,variant:I,type:void 0,multiple:v,...y?{id:d}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:A,open:x,renderValue:w,SelectDisplayProps:{id:d,...C}},...p,classes:p?Um(P,p.classes):P,...h?h.props.inputProps:{}},...(v&&y||c)&&"outlined"===I?{notched:!0}:{},ref:O,className:ib(B.props.className,s,R.root),...!h&&{variant:I},...S})})}));FR.muiName="Select";const jR=FR;function UR(e){return lb("MuiTextField",e)}cb("MuiTextField",["root"]);const zR={standard:FI,filled:GI,outlined:eT},HR=Ay(gT,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),VR=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:A,minRows:x,multiline:w=!1,name:C,onBlur:E,onChange:S,onFocus:_,placeholder:M,required:I=!1,rows:T,select:R=!1,SelectProps:k,slots:P={},slotProps:B={},type:O,value:L,variant:D="outlined",...N}=n,F={...n,autoFocus:i,color:s,disabled:c,error:u,fullWidth:h,multiline:w,required:I,select:R,variant:D},j=(e=>{const{classes:t}=e;return Op({root:["root"]},UR,t)})(F);const U=Lb(f),z=p&&U?`${U}-helper-text`:void 0,H=b&&U?`${U}-label`:void 0,V=zR[D],G={slots:P,slotProps:{input:v,inputLabel:m,htmlInput:g,formHelperText:d,select:k,...B}},Q={},W=G.slotProps.inputLabel;"outlined"===D&&(W&&"undefined"!==typeof W.shrink&&(Q.notched=W.shrink),Q.label=b),R&&(k&&k.native||(Q.id=void 0),Q["aria-describedby"]=void 0);const[q,$]=_b("input",{elementType:V,externalForwardedProps:G,additionalProps:Q,ownerState:F}),[X,K]=_b("inputLabel",{elementType:uT,externalForwardedProps:G,ownerState:F}),[Y,J]=_b("htmlInput",{elementType:"input",externalForwardedProps:G,ownerState:F}),[Z,ee]=_b("formHelperText",{elementType:wT,externalForwardedProps:G,ownerState:F}),[te,ne]=_b("select",{elementType:jR,externalForwardedProps:G,ownerState:F}),re=(0,Ty.jsx)(q,{"aria-describedby":z,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:w,name:C,rows:T,maxRows:A,minRows:x,type:O,value:L,id:U,inputRef:y,onBlur:E,onChange:S,onFocus:_,placeholder:M,inputProps:J,slots:{input:P.htmlInput?Y:void 0},...$});return(0,Ty.jsxs)(HR,{className:ib(j.root,a),disabled:c,error:u,fullWidth:h,ref:t,required:I,color:s,variant:D,ownerState:F,...N,children:[null!=b&&""!==b&&(0,Ty.jsx)(X,{htmlFor:U,id:H,...K,children:b}),R?(0,Ty.jsx)(te,{"aria-describedby":z,id:U,labelId:H,value:L,input:re,...ne,children:o}):re,p&&(0,Ty.jsx)(Z,{id:z,...ee,children:p})]})})),GR=VR;function QR(e){return"object"===typeof e&&null!==e}function WR(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const qR=(e,t,n)=>Math.max(t,Math.min(n,e));function $R(e,t){return Array.from({length:t-e}).map(((t,n)=>e+n))}function XR(e,t){if(e===t)return!0;if(e&&t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(!XR(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;for(let e=0;e<n.length;e+=1){const r=n[e];if(!XR(r[1],t.get(r[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const n=Array.from(e.entries());for(let e=0;e<n.length;e+=1)if(!t.has(n[e][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r+=1)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let e=0;e<r;e+=1)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let i=0;i<r;i+=1){const r=n[i];if(!XR(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function KR(e){return"function"===typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}const YR=(e,t)=>n=>{e&&t(n)},JR=["quickFilterParser","quickFilterFormatter","debounceMs","className"],ZR=Ay(GR,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})((e=>{let{theme:t}=e;return{width:"auto",paddingBottom:t.spacing(.5),"& input":{marginLeft:t.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}}})),ek=e=>e.split(" ").filter((e=>""!==e)),tk=e=>e.join(" ");function nk(e){const t=OE(),n=qC(),r=(e=>{const{classes:t}=e;return Op({root:["toolbarQuickFilter"]},GC,t)})(n),o=cE(t,QM),{quickFilterParser:a=ek,quickFilterFormatter:s=tk,debounceMs:l=n.filterDebounceMs,className:c}=e,u=Ly(e,JR),[d,h]=i.useState((()=>s(o??[]))),p=i.useRef(o);i.useEffect((()=>{XR(p.current,o)||(p.current=o,h((e=>XR(a(e),o)?e:s(o??[]))))}),[o,s,a]);const f=i.useCallback((e=>{const n=a(e);p.current=n,t.current.setQuickFilterValues(n)}),[t,a]),m=i.useMemo((()=>hI(f,l)),[f,l]);i.useEffect((()=>m.clear),[m]);const g=i.useCallback((e=>{const t=e.target.value;h(t),m(t)}),[m]),v=i.useCallback((()=>{h(""),f("")}),[f]);return(0,Ty.jsx)(ZR,Yp({as:n.slots.baseTextField,ownerState:n,variant:"standard",value:d,onChange:g,className:ib(r.root,c),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},u,{InputProps:Yp({startAdornment:(0,Ty.jsx)(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:(0,Ty.jsx)(n.slots.baseIconButton,Yp({"aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:[d?{visibility:"visible"}:{visibility:"hidden"}],onClick:v},n.slotProps?.baseIconButton,{children:(0,Ty.jsx)(n.slots.quickFilterClearIcon,{fontSize:"small"})}))},u.InputProps)},n.slotProps?.baseTextField))}const rk=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],ik=HC((function(e,t){const n=e,{csvOptions:r,printOptions:i,excelOptions:o,showQuickFilter:a=!1,quickFilterProps:s={}}=n,l=Ly(n,rk),c=qC();return c.disableColumnFilter&&c.disableColumnSelector&&c.disableDensitySelector&&!a?null:(0,Ty.jsxs)(KC,Yp({},l,{ref:t,children:[(0,Ty.jsx)(LE,{}),(0,Ty.jsx)(iI,{}),(0,Ty.jsx)(Y_,{}),(0,Ty.jsx)(dI,{csvOptions:r,printOptions:i,excelOptions:o}),(0,Ty.jsx)("div",{style:{flex:1}}),a&&(0,Ty.jsx)(nk,Yp({},s))]}))})),ok={primary_main:"#FFFFFF",primary_secondary:"#191924",primary_contrastText:"#FFFFFF",secondary_main:"#0A3D62",secondary_contrastText:"#FFFFFF",background_default:"#FFFFFF",background_mid:"#F0F0F0",background_paper:"#FFFFFF",background_dropdown:"#1E1E1E",background_tabs:"#1E1E1E",text_primary:"#FFFFFF",text_secondary:"#A6A6A6",text_disabled:"#757575",text_dropdown:"#FFFFFF",button_main:"#242424",button_contrastText:"#FFFFFF",button_hover:"#333333",button_disabled:"#383838",button_disabledText:"#A6A6A6",progressIndicator_main:"#8A2BE2",menu_divider:"#FFFFFF",tooltip_background:"#FFFFFF",typography_fontFamily:"Arial, sans-serif",typography_h1:{fontSize:"48px",fontWeight:700},typography_h2:{fontSize:"32px",fontWeight:600},typography_h3:{fontSize:"20px",fontWeight:600},typography_body1:{fontSize:"18px"},typography_body2:{fontSize:"16px"},typography_body3:{fontSize:"14px"},typography_body4:{fontSize:"12px"},spacing:4,border_tabs:"2px solid #FFFFFF",components_MuiCssBaseline_select:{padding:"4px",borderRadius:"8px",border:"1px solid '#757575'",backgroundColor:"#000000",color:"#FFFFFF","&:focus":{borderColor:"#333333",outline:"none"}},components_MuiCssBaseline_body:{background:"linear-gradient(to right, #242424, #1E1E2E)",color:"#FFFFFF",a:{color:"#8A2BE2",textDecoration:"none","&:hover":{textDecoration:"underline"}}},components_MuiTable_root:{backgroundColor:"#242424",color:"#FFFFFF"},components_MuiTableHead_root:{position:"sticky",top:0,zIndex:2,backgroundColor:"#1E1E2E"},components_MuiTableRow_root:{height:"15px","&:nth-of-type(even)":{backgroundColor:"#2C2C3C"},"&:hover":{backgroundColor:"#393939"}},components_MuiTableCell_root:{padding:"1px 4px",color:"#FFFFFF",borderBottom:"1px solid #1E1E2E",fontSize:"14px",fontFamily:"Arial, sans-serif"},components_MuiTableCell_head:{fontWeight:"bold",textTransform:"uppercase",backgroundColor:"#1E1E2E",color:"#FFFFFF",padding:"14px 16px",fontSize:"16px",position:"sticky",top:0,zIndex:3},components_MuiDataGrid_defaultProps:{rowHeight:40,pageSize:25,pageSizeOptions:[10,25,100,{value:-1,label:"All"}],checkboxSelection:!0,disableSelectionOnClick:!0,sortingOrder:["asc","desc"],slots:{toolbar:ik},slotProps:{toolbar:{showQuickFilter:!0}}},components_MuiDataGrid_root:{backgroundColor:"#242424",borderRadius:"8px",color:"#FFFFFF",border:"1px solid #1E1E2E"},components_MuiDataGrid_columnHeaders:{backgroundColor:"#1E1E2E",color:"#FFFFFF",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},components_MuiDataGrid_row:{"&:nth-of-type(even)":{backgroundColor:"#2C2C3C"},"&:hover":{backgroundColor:"#393939"}},components_MuiDataGrid_cell:{borderColor:"#1E1E2E !important"},components_MuiDataGrid_columnSeparator:{color:"#1E1E2E !important"},components_MuiDataGridfooter_Container:{backgroundColor:"#1E1E2E",color:"#FFFFFF"},components_MuiDataGrid_toolbar:{backgroundColor:"#1E1E2E",color:"#FFFFFF"},components_MuiButton_root:{borderRadius:8,textTransform:"none"},components_MuiButton_containedPrimary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiButton_containedSecondary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiButton_outlinedPrimary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiButton_outlinedSecondary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiTextField_root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#8A2BE2"},"&:hover fieldset":{borderColor:"#DDA0DD"},"&.Mui-focused fieldset":{borderColor:"#FFFFFF"}}},components_MuiTextField_input:{color:"#FFFFFF"},components_Dropzone_root:{border:"2px dashed #8A2BE2",padding:"20px",textAlign:"center",cursor:"pointer",backgroundColor:"#242424",transition:"background-color 0.3s ease-in-out",color:"#FFFFFF",borderRadius:"8px",width:"100%",maxWidth:800,minHeight:120,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},components_Dropzone_active:{backgroundColor:"#6F1E96",borderColor:"#DDA0DD"},trackerPageStyles:{tabsContainer:{borderBottom:1,borderColor:"#FFFFFF",backgroundColor:"#1E1E1E",borderRadius:"8px",padding:"2px",display:"flex",justifyContent:"center",alignItems:"center",height:"30px",minHeight:"30px",maxHeight:"50px"},tabList:{"& .MuiTab-root":{fontSize:"0.85rem",minWidth:"80px",fontWeight:"bold",border:"2px solid transparent",borderRadius:"8px",padding:"8px 16px",margin:"4px",minHeight:"30px",transition:"0.3s",color:"#FFFFFF"},"& .MuiTabs-root":{minHeight:"30px"},"& .MuiTabs-indicator":{height:"1px"}},tabPanelBox:{display:"flex",justifyContent:"space-between",gap:4,width:"100%"},chartBox:{width:"50%",minWidth:600,mt:4},reportBox:{width:"100%",minWidth:600,mt:4},trackerBox:{border:"2px solid #ddd",borderRadius:"8px",padding:"16px",backgroundColor:"#1E1E1E",width:"100%"}}},ak={primary_main:"#FFFFFF",primary_secondary:"#191924",primary_contrastText:"#FFFFFF",secondary_main:"#0A3D62",secondary_contrastText:"#FFFFFF",background_default:"#121212",background_mid:"#1A1A2E",background_paper:"#242424",background_dropdown:"#1E1E1E",background_tabs:"#1E1E1E",text_primary:"#FFFFFF",text_secondary:"#A6A6A6",text_disabled:"#757575",text_dropdown:"#FFFFFF",button_main:"#242424",button_contrastText:"#FFFFFF",button_hover:"#333333",button_disabled:"#383838",button_disabledText:"#A6A6A6",progressIndicator_main:"#8A2BE2",graph_background:"#262626",spacing:4,border_tabs:"2px solid #FFFFFF",components_MuiCssBaseline_select:{padding:"4px",borderRadius:"8px",border:"1px solid '#757575'",backgroundColor:"#000000",color:"#FFFFFF","&:focus":{borderColor:"#333333",outline:"none"}},components_MuiCssBaseline_body:{background:"linear-gradient(to right, #242424, #1E1E2E)",color:"#FFFFFF",a:{color:"#8A2BE2",textDecoration:"none","&:hover":{textDecoration:"underline"}}},components_MuiTable_root:{backgroundColor:"#242424",color:"#FFFFFF"},components_MuiTableHead_root:{position:"sticky",top:0,zIndex:2,backgroundColor:"#1E1E2E"},components_MuiTableRow_root:{height:"15px","&:nth-of-type(even)":{backgroundColor:"#2C2C3C"},"&:hover":{backgroundColor:"#393939"}},components_MuiTableCell_root:{padding:"1px 4px",color:"#FFFFFF",borderBottom:"1px solid #1E1E2E",fontSize:"12px !important",fontFamily:"Arial, sans-serif"},components_MuiTableCell_head:{fontWeight:"bold",textTransform:"uppercase",backgroundColor:"#1E1E2E",color:"#FFFFFF",padding:"14px 16px",fontSize:"14px",position:"sticky",top:0,zIndex:3},components_MuiDataGrid_defaultProps:{rowHeight:40,pageSize:100,pageSizeOptions:[10,25,100,{value:-1,label:"All"}],checkboxSelection:!0,disableSelectionOnClick:!0,sortingOrder:["asc","desc"],slots:{toolbar:ik},slotProps:{toolbar:{showQuickFilter:!0}}},components_MuiDataGrid_root:{backgroundColor:"#242424",borderRadius:"8px",color:"#FFFFFF",border:"1px solid #1E1E2E"},components_MuiDataGrid_columnHeaders:{backgroundColor:"#1E1E2E",color:"#FFFFFF",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase"},components_MuiDataGrid_row:{"&:nth-of-type(even)":{backgroundColor:"#2C2C3C"},"&:hover":{backgroundColor:"#393939"}},components_MuiDataGrid_cell:{borderColor:"#1E1E2E !important",fontSize:"12px"},components_MuiDataGrid_columnSeparator:{color:"#1E1E2E !important"},components_MuiDataGridfooter_Container:{backgroundColor:"#1E1E2E",color:"#FFFFFF"},components_MuiDataGrid_toolbar:{backgroundColor:"#1E1E2E",color:"#FFFFFF"},components_MuiButton_root:{borderRadius:8,textTransform:"none"},components_MuiButton_containedPrimary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiButton_containedSecondary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiButton_outlinedPrimary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiButton_outlinedSecondary:{backgroundColor:"#242424",color:"#FFFFFF","&:hover":{backgroundColor:"#333333"}},components_MuiTextField_root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#8A2BE2"},"&:hover fieldset":{borderColor:"#DDA0DD"},"&.Mui-focused fieldset":{borderColor:"#FFFFFF"}}},components_MuiTextField_input:{color:"#FFFFFF"},components_Dropzone_root:{border:"2px dashed #8A2BE2",padding:"5px",textAlign:"center",WrapText:"wrap",cursor:"pointer",backgroundColor:"#242424",transition:"background-color 0.3s ease-in-out",color:"#FFFFFF",borderRadius:"8px",width:"100%",maxWidth:500,minHeight:40,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},components_Dropzone_active:{backgroundColor:"#6F1E96",borderColor:"#DDA0DD"},trackerPageStyles:{tabsContainer:{borderBottom:2,borderColor:"#FFFFFF",backgroundColor:"#1E1E1E",borderRadius:"8px",padding:"1px",display:"flex",justifyContent:"center"},tabList:{"& .MuiTab-root":{fontSize:"1rem",minWidth:"80px",fontWeight:"bold",border:"2px solid transparent",borderRadius:"8px",padding:"8px 16px",margin:"4px",height:"8px",minHeight:"8px",transition:"0.3s",color:"#FFFFFF"},"& .MuiTab-root.Mui-selected":{borderColor:"#FFFFFF",backgroundColor:"rgba(255,255,255,0.1)"},"& .MuiTab-root:hover":{borderColor:"#888888"}},tabPanelBox:{display:"flex",justifyContent:"space-between",gap:4,width:"100%"},chartBox:{width:"50%",minWidth:600,mt:1},reportBox:{width:"100%",minWidth:600,height:600,mt:1},trackerBox:{border:"2px solid #ddd",borderRadius:"8px",padding:"12px",backgroundColor:"#1E1E1E",width:"100%"},tracker_Drop_Zone_Arrow:{color:"#FFFFFF",textAlign:"center",backgroundColor:"#242424",borderRadius:"8px",width:"20%",maxWidth:400,minHeight:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}},sk={typography_fontFamily:"Arial, sans-serif",typography_h1:{fontSize:"48px",fontWeight:700},typography_h1_italic:{fontSize:"48px",fontStyle:"italic"},typography_h1_underline:{fontSize:"48px",textDecoration:"underline"},typography_h2:{fontSize:"32px",fontWeight:600},typography_h2_italic:{fontSize:"32px",fontStyle:"italic"},typography_h2_underline:{fontSize:"32px",textDecoration:"underline"},typography_h3:{fontSize:"20px",fontWeight:600},typography_h3_italic:{fontSize:"20px",fontStyle:"italic"},typography_h3_underline:{fontSize:"20px",textDecoration:"underline"},typography_h4:{fontSize:"18px",fontWeight:600},typography_h4_italic:{fontSize:"18px",fontStyle:"italic"},typography_h4_underline:{fontSize:"18px",textDecoration:"underline"},typography_h5:{fontSize:"16px",fontWeight:600},typography_h5_italic:{fontSize:"16px",fontStyle:"italic"},typography_h5_underline:{fontSize:"16px",textDecoration:"underline"},typography_h6:{fontSize:"14px",fontWeight:600},typography_h6_italic:{fontSize:"14px",fontStyle:"italic"},typography_h6_underline:{fontSize:"14px",textDecoration:"underline"},typography_body1:{fontSize:"18px"},typography_body1_italic:{fontSize:"18px",fontStyle:"italic"},typography_body1_underline:{fontSize:"18px",textDecoration:"underline"},typography_body2:{fontSize:"16px"},typography_body2_italic:{fontSize:"16px",fontStyle:"italic"},typography_body2_underline:{fontSize:"16px",textDecoration:"underline"},typography_body3:{fontSize:"14px"},typography_body3_italic:{fontSize:"14px",fontStyle:"italic"},typography_body3_underline:{fontSize:"14px",textDecoration:"underline"},typography_body4:{fontSize:"12px"},typography_body4_italic:{fontSize:"12px",fontStyle:"italic"},typography_body4_underline:{fontSize:"12px",textDecoration:"underline"},spacing:4};let lk={};lk=ak;const ck=my({palette:{primary:{main:lk.primary_main,secondary:lk.primary_secondary,contrastText:lk.primary_contrastText},secondary:{main:lk.secondary_main,contrastText:lk.secondary_contrastText},background:{default:lk.background_default,mid:lk.background_mid,paper:lk.background_paper,dropdown:lk.background_dropdown,tabs:lk.background_tabs},border:{tabs:lk.border_tabs},text:{primary:lk.text_primary,secondary:lk.text_secondary,disabled:lk.text_disabled,dropdown:lk.text_dropdown},button:{main:lk.button_main,contrastText:lk.button_contrastText,hover:lk.button_hover,disabled:lk.button_disabled,disabledText:lk.button_disabledText},progressIndicator:{main:lk.progressIndicator_main},graphs:{background:lk.graphs_background},menu_divider:{colour:lk.menu_divider},tooltip77:{background:lk.tooltip_background}},typography:{fontFamily:sk.typography_fontFamily,h1:sk.typography_h1,h1_italic:sk.typography_h1_italic,h1_underline:sk.typography_h1_underline,h2:sk.typography_h2,h2_italic:sk.typography_h2_italic,h2_underline:sk.typography_h2_underline,h3:sk.typography_h3,h3_italic:sk.typography_h3_italic,h3_underline:sk.typography_h3_underline,h4:sk.typography_h4,h4_italic:sk.typography_h4_italic,h4_underline:sk.typography_h4_underline,h5:sk.typography_h5,h5_italic:sk.typography_h5_italic,h5_underline:sk.typography_h5_underline,h6:sk.typography_h6,h6_italic:sk.typography_h6_italic,h6_underline:sk.typography_h6_underline,body1:sk.typography_body1,body1_italic:sk.typography_body1_italic,body1_underline:sk.typography_body1_underline,body2:sk.typography_body2,body2_italic:sk.typography_body2_italic,body2_underline:sk.typography_body2_underline,body3:sk.typography_body3,body3_italic:sk.typography_body3_italic,body3_underline:sk.typography_body3_underline,body4:sk.typography_body4,body4_italic:sk.typography_body4_italic,body4_underline:sk.typography_body4_underline},spacing:sk.spacing,components:{MuiCssBaseline:{styleOverrides:{select:lk.components_MuiCssBaseline_select,body:lk.components_MuiCssBaseline_body}},MuiTable:{styleOverrides:{root:lk.components_MuiTable_root}},MuiTableHead:{styleOverrides:{root:lk.components_MuiTableHead_root}},MuiTableRow:{styleOverrides:{root:lk.components_MuiTableRow_root}},MuiTableCell:{styleOverrides:{root:lk.components_MuiTableCell_root,head:lk.components_MuiTableCell_head}},MuiDataGrid:{defaultProps:lk.components_MuiDataGrid_defaultProps,styleOverrides:{root:lk.components_MuiDataGrid_root,columnHeaders:lk.components_MuiDataGrid_columnHeaders,row:lk.components_MuiDataGrid_row,columnSeparator:lk.components_MuiDataGrid_columnSeparator,cell:lk.components_MuiDataGrid_cell,footerContainer:lk.components_MuiDataGrid_footerContainer,toolbar:lk.components_MuiDataGrid_toolbar}},MuiButton:{styleOverrides:{root:lk.components_MuiButton_root,containedPrimary:lk.components_MuiButton_containedPrimary,containedSecondary:lk.components_MuiButton_containedSecondary,outlinedPrimary:lk.components_MuiButton_outlinedPrimary,outlinedSecondary:lk.components_MuiButton_outlinedSecondary}},MuiTextField:{styleOverrides:{root:lk.components_MuiTextField_root}},components_MuiTabList_root:{styleOverrides:{root:lk.components_MuiTabList_root}},Dropzone:{styleOverrides:{root:lk.components_Dropzone_root,active:lk.components_Dropzone_active}},DropZoneArrow:{styleOverrides:{root:lk.components_Drop_Zone_Arrow_Box}}},trackerPageStyles:lk.trackerPageStyles});const uk=cb("MuiBox",["root"]),dk=my(),hk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=Om("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(qg),s=i.forwardRef((function(e,i){const s=Cy(n),{className:l,component:c="div",...u}=IC(e);return(0,Ty.jsx)(a,{as:c,ref:i,className:ib(l,o?o(r):r),theme:t&&s[t]||s,...u})}));return s}({themeId:vy,defaultTheme:dk,defaultClassName:uk.root,generateClassName:ab.generate}),pk=hk;function fk(e){return lb("MuiCard",e)}cb("MuiCard",["root"]);const mk=Ay(pb,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),gk=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiCard"}),{className:r,raised:i=!1,...o}=n,a={...n,raised:i},s=(e=>{const{classes:t}=e;return Op({root:["root"]},fk,t)})(a);return(0,Ty.jsx)(mk,{className:ib(s.root,r),elevation:i?8:void 0,ref:t,ownerState:a,...o})})),vk=gk;function yk(e){return lb("MuiCardContent",e)}cb("MuiCardContent",["root"]);const bk=Ay("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),Ak=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiCardContent"}),{className:r,component:i="div",...o}=n,a={...n,component:i},s=(e=>{const{classes:t}=e;return Op({root:["root"]},yk,t)})(a);return(0,Ty.jsx)(bk,{as:i,className:ib(s.root,r),ownerState:a,ref:t,...o})})),xk=Ak;function wk(e){return lb("MuiTypography",e)}const Ck=cb("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Ek={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Sk=IC,_k=Ay("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${Oy(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(My((e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette?.text||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[n]=e;return{props:{color:`text${Oy(n)}`},style:{color:(t.vars||t).palette.text[n]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),Mk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ik=i.forwardRef((function(e,t){const{color:n,...r}=By({props:e,name:"MuiTypography"}),i=Sk({...r,...!Ek[n]&&{color:n}}),{align:o="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=Mk,...p}=i,f={...i,align:o,color:n,className:a,component:s,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h},m=s||(u?"p":h[d]||Mk[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e;return Op({root:["root",o,"inherit"!==e.align&&`align${Oy(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},wk,a)})(f);return(0,Ty.jsx)(_k,{as:m,ref:t,className:ib(g.root,a),...p,ownerState:f,style:{..."inherit"!==o&&{"--Typography-textAlign":o},...p.style}})})),Tk=Ik;function Rk(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=Cy(r);return i&&(o=o[i]||o),function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Iy(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t})}const kk=(e,t,n)=>{const r=e.keys[0];if(Array.isArray(t))t.forEach(((t,r)=>{n(((t,n)=>{r<=e.keys.length-1&&(0===r?Object.assign(t,n):t[e.up(e.keys[r])]=n)}),t)}));else if(t&&"object"===typeof t){(Object.keys(t).length>e.keys.length?e.keys:(i=e.keys,o=Object.keys(t),i.filter((e=>o.includes(e))))).forEach((i=>{if(e.keys.includes(i)){const o=t[i];void 0!==o&&n(((t,n)=>{r===i?Object.assign(t,n):t[e.up(i)]=n}),o)}}))}else"number"!==typeof t&&"string"!==typeof t||n(((e,t)=>{Object.assign(e,t)}),t);var i,o};function Pk(e){return`--Grid-${e}Spacing`}function Bk(e){return`--Grid-parent-${e}Spacing`}const Ok="--Grid-columns",Lk="--Grid-parent-columns",Dk=e=>{let{theme:t,ownerState:n}=e;const r={};return kk(t.breakpoints,n.size,((e,t)=>{let n={};"grow"===t&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(n={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${t} / var(${Lk}) - (var(${Lk}) - ${t}) * (var(${Bk("column")}) / var(${Lk})))`}),e(r,n)})),r},Nk=e=>{let{theme:t,ownerState:n}=e;const r={};return kk(t.breakpoints,n.offset,((e,t)=>{let n={};"auto"===t&&(n={marginLeft:"auto"}),"number"===typeof t&&(n={marginLeft:0===t?"0px":`calc(100% * ${t} / var(${Lk}) + var(${Bk("column")}) * ${t} / var(${Lk}))`}),e(r,n)})),r},Fk=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={[Ok]:12};return kk(t.breakpoints,n.columns,((e,t)=>{const n=t??12;e(r,{[Ok]:n,"> *":{[Lk]:n}})})),r},jk=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return kk(t.breakpoints,n.rowSpacing,((e,n)=>{const i="string"===typeof n?n:t.spacing?.(n);e(r,{[Pk("row")]:i,"> *":{[Bk("row")]:i}})})),r},Uk=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return kk(t.breakpoints,n.columnSpacing,((e,n)=>{const i="string"===typeof n?n:t.spacing?.(n);e(r,{[Pk("column")]:i,"> *":{[Bk("column")]:i}})})),r},zk=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return kk(t.breakpoints,n.direction,((e,t)=>{e(r,{flexDirection:t})})),r},Hk=e=>{let{ownerState:t}=e;return{minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap},gap:`var(${Pk("row")}) var(${Pk("column")})`}}},Vk=e=>{const t=[];return Object.entries(e).forEach((e=>{let[n,r]=e;!1!==r&&void 0!==r&&t.push(`grid-${n}-${String(r)}`)})),t},Gk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return[`spacing-${t}-${String(e)}`];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach((e=>{let[r,i]=e;n(i)&&t.push(`spacing-${r}-${String(i)}`)})),t}return[]},Qk=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map((e=>{let[t,n]=e;return`direction-${t}-${n}`})):[`direction-xs-${String(e)}`];const Wk=Xg(),qk=VC("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function $k(e){return Rk({props:e,name:"MuiGrid",defaultTheme:Wk})}const Xk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=qk,useThemeProps:n=$k,useTheme:r=Cy,componentName:o="MuiGrid"}=e;function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const r={};return null===e||(Array.isArray(e)?e.forEach(((e,i)=>{null!==e&&n(e)&&t.keys[i]&&(r[t.keys[i]]=e)})):"object"===typeof e?Object.keys(e).forEach((t=>{const i=e[t];null!==i&&void 0!==i&&n(i)&&(r[t]=i)})):r[t.keys[0]]=e),r}const s=t(Fk,Uk,jk,Dk,zk,Hk,Nk),l=i.forwardRef((function(e,t){const l=r(),c=IC(n(e));!function(e,t){const n=[];void 0!==e.item&&(delete e.item,n.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,n.push("zeroMinWidth")),t.keys.forEach((t=>{void 0!==e[t]&&(n.push(t),delete e[t])}))}(c,l.breakpoints);const{className:u,children:d,columns:h=12,container:p=!1,component:f="div",direction:m="row",wrap:g="wrap",size:v={},offset:y={},spacing:b=0,rowSpacing:A=b,columnSpacing:x=b,unstable_level:w=0,...C}=c,E=a(v,l.breakpoints,(e=>!1!==e)),S=a(y,l.breakpoints),_=e.columns??(w?void 0:h),M=e.spacing??(w?void 0:b),I=e.rowSpacing??e.spacing??(w?void 0:A),T=e.columnSpacing??e.spacing??(w?void 0:x),R={...c,level:w,columns:_,container:p,direction:m,wrap:g,spacing:M,rowSpacing:I,columnSpacing:T,size:E,offset:S},k=((e,t)=>{const{container:n,direction:r,spacing:i,wrap:a,size:s}=e;return Op({root:["root",n&&"container","wrap"!==a&&`wrap-xs-${String(a)}`,...Qk(r),...Vk(s),...n?Gk(i,t.breakpoints.keys[0]):[]]},(e=>lb(o,e)),{})})(R,l);return(0,Ty.jsx)(s,{ref:t,as:f,ownerState:R,className:ib(k.root,u),...C,children:i.Children.map(d,(e=>i.isValidElement(e)&&dT(e,["Grid"])&&p&&e.props.container?i.cloneElement(e,{unstable_level:e.props?.unstable_level??w+1}):e))})}));return l.muiName="Grid",l}({createStyledComponent:Ay("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid2",useThemeProps:e=>By({props:e,name:"MuiGrid2"}),useTheme:Ey});const Kk=Xk;function Yk(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jk}=Object.prototype,{getPrototypeOf:Zk}=Object,eP=(e=>t=>{const n=Jk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),tP=e=>(e=e.toLowerCase(),t=>eP(t)===e),nP=e=>t=>typeof t===e,{isArray:rP}=Array,iP=nP("undefined");const oP=tP("ArrayBuffer");const aP=nP("string"),sP=nP("function"),lP=nP("number"),cP=e=>null!==e&&"object"===typeof e,uP=e=>{if("object"!==eP(e))return!1;const t=Zk(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dP=tP("Date"),hP=tP("File"),pP=tP("Blob"),fP=tP("FileList"),mP=tP("URLSearchParams"),[gP,vP,yP,bP]=["ReadableStream","Request","Response","Headers"].map(tP);function AP(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),rP(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function xP(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const wP="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,CP=e=>!iP(e)&&e!==wP;const EP=(SP="undefined"!==typeof Uint8Array&&Zk(Uint8Array),e=>SP&&e instanceof SP);var SP;const _P=tP("HTMLFormElement"),MP=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),IP=tP("RegExp"),TP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};AP(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)};const RP=tP("AsyncFunction"),kP=(PP="function"===typeof setImmediate,BP=sP(wP.postMessage),PP?setImmediate:BP?((e,t)=>(wP.addEventListener("message",(n=>{let{source:r,data:i}=n;r===wP&&i===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),wP.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var PP,BP;const OP="undefined"!==typeof queueMicrotask?queueMicrotask.bind(wP):"undefined"!==typeof process&&process.nextTick||kP,LP={isArray:rP,isArrayBuffer:oP,isBuffer:function(e){return null!==e&&!iP(e)&&null!==e.constructor&&!iP(e.constructor)&&sP(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||sP(e.append)&&("formdata"===(t=eP(e))||"object"===t&&sP(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&oP(e.buffer),t},isString:aP,isNumber:lP,isBoolean:e=>!0===e||!1===e,isObject:cP,isPlainObject:uP,isReadableStream:gP,isRequest:vP,isResponse:yP,isHeaders:bP,isUndefined:iP,isDate:dP,isFile:hP,isBlob:pP,isRegExp:IP,isFunction:sP,isStream:e=>cP(e)&&sP(e.pipe),isURLSearchParams:mP,isTypedArray:EP,isFileList:fP,forEach:AP,merge:function e(){const{caseless:t}=CP(this)&&this||{},n={},r=(r,i)=>{const o=t&&xP(n,i)||i;uP(n[o])&&uP(r)?n[o]=e(n[o],r):uP(r)?n[o]=e({},r):rP(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&AP(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return AP(t,((t,r)=>{n&&sP(t)?e[r]=Yk(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Zk(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:eP,kindOfTest:tP,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(rP(e))return e;let t=e.length;if(!lP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:_P,hasOwnProperty:MP,hasOwnProp:MP,reduceDescriptors:TP,freezeMethods:e=>{TP(e,((t,n)=>{if(sP(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];sP(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return rP(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:xP,global:wP,isContextDefined:CP,isSpecCompliantForm:function(e){return!!(e&&sP(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(cP(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=rP(e)?[]:{};return AP(e,((e,t)=>{const o=n(e,r+1);!iP(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:RP,isThenable:e=>e&&(cP(e)||sP(e))&&sP(e.then)&&sP(e.catch),setImmediate:kP,asap:OP};function DP(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}LP.inherits(DP,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:LP.toJSONObject(this.config),code:this.code,status:this.status}}});const NP=DP.prototype,FP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{FP[e]={value:e}})),Object.defineProperties(DP,FP),Object.defineProperty(NP,"isAxiosError",{value:!0}),DP.from=(e,t,n,r,i,o)=>{const a=Object.create(NP);return LP.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),DP.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const jP=DP;function UP(e){return LP.isPlainObject(e)||LP.isArray(e)}function zP(e){return LP.endsWith(e,"[]")?e.slice(0,-2):e}function HP(e,t,n){return e?e.concat(t).map((function(e,t){return e=zP(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const VP=LP.toFlatObject(LP,{},null,(function(e){return/^is[A-Z]/.test(e)}));const GP=function(e,t,n){if(!LP.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=LP.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!LP.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&LP.isSpecCompliantForm(t);if(!LP.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(LP.isDate(e))return e.toISOString();if(!s&&LP.isBlob(e))throw new jP("Blob is not supported. Use a Buffer instead.");return LP.isArrayBuffer(e)||LP.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(LP.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(LP.isArray(e)&&function(e){return LP.isArray(e)&&!e.some(UP)}(e)||(LP.isFileList(e)||LP.endsWith(n,"[]"))&&(s=LP.toArray(e)))return n=zP(n),s.forEach((function(e,r){!LP.isUndefined(e)&&null!==e&&t.append(!0===a?HP([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!UP(e)||(t.append(HP(i,n,o),l(e)),!1)}const u=[],d=Object.assign(VP,{defaultVisitor:c,convertValue:l,isVisitable:UP});if(!LP.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!LP.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),LP.forEach(n,(function(n,o){!0===(!(LP.isUndefined(n)||null===n)&&i.call(t,n,LP.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function QP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function WP(e,t){this._pairs=[],e&&GP(e,this,t)}const qP=WP.prototype;qP.append=function(e,t){this._pairs.push([e,t])},qP.toString=function(e){const t=e?function(t){return e.call(this,t,QP)}:QP;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const $P=WP;function XP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KP(e,t,n){if(!t)return e;const r=n&&n.encode||XP;LP.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):LP.isURLSearchParams(t)?t.toString():new $P(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const YP=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){LP.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},JP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZP={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:$P,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},eB="undefined"!==typeof window&&"undefined"!==typeof document,tB="object"===typeof navigator&&navigator||void 0,nB=eB&&(!tB||["ReactNative","NativeScript","NS"].indexOf(tB.product)<0),rB="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,iB=eB&&window.location.href||"http://localhost",oB={...t,...ZP};const aB=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&LP.isArray(r)?r.length:o,s)return LP.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&LP.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&LP.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(LP.isFormData(e)&&LP.isFunction(e.entries)){const n={};return LP.forEachEntry(e,((e,r)=>{t(function(e){return LP.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const sB={transitional:JP,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=LP.isObject(e);i&&LP.isHTMLForm(e)&&(e=new FormData(e));if(LP.isFormData(e))return r?JSON.stringify(aB(e)):e;if(LP.isArrayBuffer(e)||LP.isBuffer(e)||LP.isStream(e)||LP.isFile(e)||LP.isBlob(e)||LP.isReadableStream(e))return e;if(LP.isArrayBufferView(e))return e.buffer;if(LP.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return GP(e,new oB.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return oB.isNode&&LP.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=LP.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return GP(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(LP.isString(e))try{return(t||JSON.parse)(e),LP.trim(e)}catch(z_e){if("SyntaxError"!==z_e.name)throw z_e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||sB.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(LP.isResponse(e)||LP.isReadableStream(e))return e;if(e&&LP.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(z_e){if(n){if("SyntaxError"===z_e.name)throw jP.from(z_e,jP.ERR_BAD_RESPONSE,this,null,this.response);throw z_e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oB.classes.FormData,Blob:oB.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};LP.forEach(["delete","get","head","post","put","patch"],(e=>{sB.headers[e]={}}));const lB=sB,cB=LP.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uB=Symbol("internals");function dB(e){return e&&String(e).trim().toLowerCase()}function hB(e){return!1===e||null==e?e:LP.isArray(e)?e.map(hB):String(e)}function pB(e,t,n,r,i){return LP.isFunction(r)?r.call(this,t,n):(i&&(t=n),LP.isString(t)?LP.isString(r)?-1!==t.indexOf(r):LP.isRegExp(r)?r.test(t):void 0:void 0)}class fB{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=dB(t);if(!i)throw new Error("header name must be a non-empty string");const o=LP.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=hB(e))}const o=(e,t)=>LP.forEach(e,((e,n)=>i(e,n,t)));if(LP.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(LP.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&cB[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(LP.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=dB(e)){const n=LP.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(LP.isFunction(t))return t.call(this,e,n);if(LP.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dB(e)){const n=LP.findKey(this,e);return!(!n||void 0===this[n]||t&&!pB(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=dB(e)){const i=LP.findKey(n,e);!i||t&&!pB(0,n[i],i,t)||(delete n[i],r=!0)}}return LP.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!pB(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return LP.forEach(this,((r,i)=>{const o=LP.findKey(n,i);if(o)return t[o]=hB(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=hB(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return LP.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&LP.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[uB]=this[uB]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=dB(e);t[r]||(!function(e,t){const n=LP.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return LP.isArray(e)?e.forEach(r):r(e),this}}fB.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),LP.reduceDescriptors(fB.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),LP.freezeMethods(fB);const mB=fB;function gB(e,t){const n=this||lB,r=t||n,i=mB.from(r.headers);let o=r.data;return LP.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function vB(e){return!(!e||!e.__CANCEL__)}function yB(e,t,n){jP.call(this,null==e?"canceled":e,jP.ERR_CANCELED,t,n),this.name="CanceledError"}LP.inherits(yB,jP,{__CANCEL__:!0});const bB=yB;function AB(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new jP("Request failed with status code "+n.status,[jP.ERR_BAD_REQUEST,jP.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const xB=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const wB=function(e,t){let n,r,i=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=o?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),o-t)))},()=>n&&a(n)]},CB=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=xB(50,250);return wB((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},EB=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},SB=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return LP.asap((()=>e(...n)))},_B=oB.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,oB.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(oB.origin),oB.navigator&&/(msie|trident)/i.test(oB.navigator.userAgent)):()=>!0,MB=oB.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];LP.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),LP.isString(r)&&a.push("path="+r),LP.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function IB(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&r||0==n?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const TB=e=>e instanceof mB?{...e}:e;function RB(e,t){t=t||{};const n={};function r(e,t,n,r){return LP.isPlainObject(e)&&LP.isPlainObject(t)?LP.merge.call({caseless:r},e,t):LP.isPlainObject(t)?LP.merge({},t):LP.isArray(t)?t.slice():t}function i(e,t,n,i){return LP.isUndefined(t)?LP.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!LP.isUndefined(t))return r(void 0,t)}function a(e,t){return LP.isUndefined(t)?LP.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>i(TB(e),TB(t),0,!0)};return LP.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);LP.isUndefined(a)&&o!==s||(n[r]=a)})),n}const kB=e=>{const t=RB({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=mB.from(s),t.url=KP(IB(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),LP.isFormData(r))if(oB.hasStandardBrowserEnv||oB.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(oB.hasStandardBrowserEnv&&(i&&LP.isFunction(i)&&(i=i(t)),i||!1!==i&&_B(t.url))){const e=o&&a&&MB.read(a);e&&s.set(o,e)}return t},PB="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=kB(e);let i=r.data;const o=mB.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=mB.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());AB((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new jP("Request aborted",jP.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new jP("Network Error",jP.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||JP;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new jP(t,i.clarifyTimeoutError?jP.ETIMEDOUT:jP.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&LP.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),LP.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=CB(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=CB(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new bB(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===oB.protocols.indexOf(v)?n(new jP("Unsupported protocol "+v+":",jP.ERR_BAD_REQUEST,e)):m.send(i||null)}))},BB=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof jP?t:new bB(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new jP(`timeout ${t} of ms exceeded`,jP.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>LP.asap(a),s}},OB=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},LB=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},DB=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of LB(e))yield*OB(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},NB="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,FB=NB&&"function"===typeof ReadableStream,jB=NB&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),UB=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(z_e){return!1}},zB=FB&&UB((()=>{let e=!1;const t=new Request(oB.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),HB=FB&&UB((()=>LP.isReadableStream(new Response("").body))),VB={stream:HB&&(e=>e.body)};var GB;NB&&(GB=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!VB[e]&&(VB[e]=LP.isFunction(GB[e])?t=>t[e]():(t,n)=>{throw new jP(`Response type '${e}' is not supported`,jP.ERR_NOT_SUPPORT,n)})})));const QB=async(e,t)=>{const n=LP.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(LP.isBlob(e))return e.size;if(LP.isSpecCompliantForm(e)){const t=new Request(oB.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return LP.isArrayBufferView(e)||LP.isArrayBuffer(e)?e.byteLength:(LP.isURLSearchParams(e)&&(e+=""),LP.isString(e)?(await jB(e)).byteLength:void 0)})(t):n},WB=NB&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=kB(e);c=c?(c+"").toLowerCase():"text";let p,f=BB([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&zB&&"get"!==n&&"head"!==n&&0!==(g=await QB(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(LP.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=EB(g,CB(SB(l)));r=DB(n.body,65536,e,t)}}LP.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0});let o=await fetch(p);const a=HB&&("stream"===c||"response"===c);if(HB&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=LP.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&EB(t,CB(SB(s),!0))||[];o=new Response(DB(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let v=await VB[LP.findKey(VB,c)||"text"](o,e);return!a&&m&&m(),await new Promise(((t,n)=>{AB(t,n,{data:v,headers:mB.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new jP("Network Error",jP.ERR_NETWORK,e,p),{cause:v.cause||v});throw jP.from(v,v&&v.code,e,p)}}),qB={http:null,xhr:PB,fetch:WB};LP.forEach(qB,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(z_e){}Object.defineProperty(e,"adapterName",{value:t})}}));const $B=e=>`- ${e}`,XB=e=>LP.isFunction(e)||null===e||!1===e,KB=e=>{e=LP.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!XB(n)&&(r=qB[(t=String(n)).toLowerCase()],void 0===r))throw new jP(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map($B).join("\n"):" "+$B(e[0]):"as no adapter specified";throw new jP("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function YB(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bB(null,e)}function JB(e){YB(e),e.headers=mB.from(e.headers),e.data=gB.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return KB(e.adapter||lB.adapter)(e).then((function(t){return YB(e),t.data=gB.call(e,e.transformResponse,t),t.headers=mB.from(t.headers),t}),(function(t){return vB(t)||(YB(e),t&&t.response&&(t.response.data=gB.call(e,e.transformResponse,t.response),t.response.headers=mB.from(t.response.headers))),Promise.reject(t)}))}const ZB="1.8.2",eO={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{eO[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const tO={};eO.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new jP(r(i," has been removed"+(t?" in "+t:"")),jP.ERR_DEPRECATED);return t&&!tO[i]&&(tO[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},eO.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const nO={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jP("options must be an object",jP.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new jP("option "+o+" must be "+n,jP.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new jP("Unknown option "+o,jP.ERR_BAD_OPTION)}},validators:eO},rO=nO.validators;class iO{constructor(e){this.defaults=e,this.interceptors={request:new YP,response:new YP}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(z_e){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=RB(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&nO.assertOptions(n,{silentJSONParsing:rO.transitional(rO.boolean),forcedJSONParsing:rO.transitional(rO.boolean),clarifyTimeoutError:rO.transitional(rO.boolean)},!1),null!=r&&(LP.isFunction(r)?t.paramsSerializer={serialize:r}:nO.assertOptions(r,{encode:rO.function,serialize:rO.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),nO.assertOptions(t,{baseUrl:rO.spelling("baseURL"),withXsrfToken:rO.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&LP.merge(i.common,i[t.method]);i&&LP.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=mB.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[JB.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=JB.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return KP(IB((e=RB(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}LP.forEach(["delete","get","head","options"],(function(e){iO.prototype[e]=function(t,n){return this.request(RB(n||{},{method:e,url:t,data:(n||{}).data}))}})),LP.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(RB(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}iO.prototype[e]=t(),iO.prototype[e+"Form"]=t(!0)}));const oO=iO;class aO{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new bB(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new aO((function(t){e=t}));return{token:t,cancel:e}}}const sO=aO;const lO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lO).forEach((e=>{let[t,n]=e;lO[n]=t}));const cO=lO;const uO=function e(t){const n=new oO(t),r=Yk(oO.prototype.request,n);return LP.extend(r,oO.prototype,n,{allOwnKeys:!0}),LP.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(RB(t,n))},r}(lB);uO.Axios=oO,uO.CanceledError=bB,uO.CancelToken=sO,uO.isCancel=vB,uO.VERSION=ZB,uO.toFormData=GP,uO.AxiosError=jP,uO.Cancel=uO.CanceledError,uO.all=function(e){return Promise.all(e)},uO.spread=function(e){return function(t){return e.apply(null,t)}},uO.isAxiosError=function(e){return LP.isObject(e)&&!0===e.isAxiosError},uO.mergeConfig=RB,uO.AxiosHeaders=mB,uO.formToJSON=e=>aB(LP.isHTMLForm(e)?new FormData(e):e),uO.getAdapter=KB,uO.HttpStatusCode=cO,uO.default=uO;const dO=uO,hO=(0,i.createContext)(),pO=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[o,a]=(0,i.useState)(null),[s,l]=(0,i.useState)({nodes:[],links:[]});(0,i.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("user_info")),t=localStorage.getItem("auth_token");e&&r(e),t&&a(t)}),[]);return(0,Ty.jsx)(hO.Provider,{value:{user:n,token:o,login:(e,t)=>{console.log("Logging in user:",e,t),localStorage.setItem("user_info",JSON.stringify(e)),localStorage.setItem("auth_token",t),r(e),a(t)},logout:()=>{console.log("Logging out user:",n,o),localStorage.removeItem("user_info"),localStorage.removeItem("auth_token"),r(null),a(null)},graphData:s,setGraphData:l,resetGraphData:()=>{l({nodes:[],links:[]})}},children:t})},fO=PA((0,Ty.jsx)("path",{d:"m19.07 4.93-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07"}),"TrackChanges"),mO=PA([(0,Ty.jsx)("path",{d:"M21 8c-1.45 0-2.26 1.44-1.93 2.51l-3.55 3.56c-.3-.09-.74-.09-1.04 0l-2.55-2.55C12.27 10.45 11.46 9 10 9c-1.45 0-2.27 1.44-1.93 2.52l-4.56 4.55C2.44 15.74 1 16.55 1 18c0 1.1.9 2 2 2 1.45 0 2.26-1.44 1.93-2.51l4.55-4.56c.3.09.74.09 1.04 0l2.55 2.55C12.73 16.55 13.54 18 15 18c1.45 0 2.27-1.44 1.93-2.52l3.56-3.55c1.07.33 2.51-.48 2.51-1.93 0-1.1-.9-2-2-2"},"0"),(0,Ty.jsx)("path",{d:"m15 9 .94-2.07L18 6l-2.06-.93L15 3l-.92 2.07L12 6l2.08.93zM3.5 11 4 9l2-.5L4 8l-.5-2L3 8l-2 .5L3 9z"},"1")],"Insights"),gO=PA((0,Ty.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");function vO(e){return lb("MuiButton",e)}const yO=cb("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const bO=i.createContext({});const AO=i.createContext(void 0),xO=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],wO=Ay(uA,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Oy(n.color)}`],t[`size${Oy(n.size)}`],t[`${n.variant}Size${Oy(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${yO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${yO.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${yO.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${yO.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:hv(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${yO.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${yO.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${yO.loading}`]:{color:"transparent"}}}]}}))),CO=Ay("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Oy(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...xO]}})),EO=Ay("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Oy(n.size)}`]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...xO]}})),SO=Ay("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),_O=Ay("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),MO=i.forwardRef((function(e,t){const n=i.useContext(bO),r=i.useContext(AO),o=By({props:Iy(n,e),name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,id:g,loading:v=null,loadingIndicator:y,loadingPosition:b="center",size:A="medium",startIcon:x,type:w,variant:C="text",...E}=o,S=Db(g),_=y??(0,Ty.jsx)(xA,{"aria-labelledby":S,color:"inherit",size:16}),M={...o,color:s,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:m,loading:v,loadingIndicator:_,loadingPosition:b,size:A,type:w,variant:C},I=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,loading:a,loadingPosition:s,classes:l}=e,c=Op({root:["root",a&&"loading",o,`${o}${Oy(t)}`,`size${Oy(i)}`,`${o}Size${Oy(i)}`,`color${Oy(t)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${Oy(s)}`],startIcon:["icon","startIcon",`iconSize${Oy(i)}`],endIcon:["icon","endIcon",`iconSize${Oy(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},vO,l);return{...l,...c}})(M),T=(x||v&&"start"===b)&&(0,Ty.jsx)(CO,{className:I.startIcon,ownerState:M,children:x||(0,Ty.jsx)(_O,{className:I.loadingIconPlaceholder,ownerState:M})}),R=(p||v&&"end"===b)&&(0,Ty.jsx)(EO,{className:I.endIcon,ownerState:M,children:p||(0,Ty.jsx)(_O,{className:I.loadingIconPlaceholder,ownerState:M})}),k=r||"",P="boolean"===typeof v?(0,Ty.jsx)("span",{className:I.loadingWrapper,style:{display:"contents"},children:v&&(0,Ty.jsx)(SO,{className:I.loadingIndicator,ownerState:M,children:_})}):null;return(0,Ty.jsxs)(wO,{ownerState:M,className:ib(n.className,I.root,c,k),component:l,disabled:u||v,focusRipple:!h,focusVisibleClassName:ib(I.focusVisible,f),ref:t,type:w,id:v?S:g,...E,classes:I,children:[T,"end"!==b&&P,a,"end"===b&&P,R]})})),IO=MO,TO=e=>{let{open:t,onClose:n}=e;const[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,p]=(0,i.useState)(!1),[f,m]=(0,i.useState)(""),[g,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(!1),[A,x]=(0,i.useState)(!1),w="6LeyCZ0qAAAAAAj6Hid0OE_wtQsoTd57FfSskc3k",C=Vx();(0,i.useEffect)((()=>{if(!window.grecaptcha){console.log("Loading reCAPTCHA script...");const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoad&render=explicit",e.async=!0,e.defer=!0,document.body.appendChild(e),window.onRecaptchaLoad=()=>{console.log("reCAPTCHA script fully loaded.")}}}),[]),(0,i.useEffect)((()=>{t&&window.grecaptcha&&!A&&(console.log("Modal is open. Checking reCAPTCHA..."),setTimeout((()=>{const e=document.getElementById("recaptcha-container");e?e.hasChildNodes()?console.log("reCAPTCHA already rendered. Skipping..."):(console.log("Rendering reCAPTCHA..."),window.grecaptcha.render("recaptcha-container",{sitekey:w}),x(!0)):console.error("reCAPTCHA container still not found!")}),500))}),[t,A,w]),(0,i.useEffect)((()=>{if(!window.grecaptcha){console.log("Loading reCAPTCHA script...");const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?render=explicit",e.async=!0,e.defer=!0,e.onload=()=>console.log("reCAPTCHA script loaded."),document.body.appendChild(e)}}),[]),(0,i.useEffect)((()=>{t||(console.log("Modal closed. Resetting reCAPTCHA..."),x(!1))}),[t]);return(0,Ty.jsx)($T,{open:t,onClose:n,children:(0,Ty.jsxs)(pk,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",padding:4,borderRadius:2,boxShadow:24,width:"400px"},children:[(0,Ty.jsx)(Tk,{variant:"h5",gutterBottom:!0,children:"Request Tester Access"}),f&&(0,Ty.jsx)(GA,{severity:"error",children:f}),g&&(0,Ty.jsx)(GA,{severity:"success",children:g}),(0,Ty.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b(!0),m(""),v(""),!window.grecaptcha)return m("reCAPTCHA failed to load. Please try again."),void b(!1);const t=window.grecaptcha.getResponse();if(!t)return m("Please complete the reCAPTCHA."),void b(!1);try{const e=await dO.post(UC.tester_registration,{email:r,username:a,fav_satisfactory_thing:l,reason:u,recaptcha_token:t});v(e.data.message)}catch(f){var n,i;m((null===(n=f.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.error)||"Submission failed. Please try again.")}finally{b(!1)}},children:[(0,Ty.jsx)(GR,{fullWidth:!0,required:!0,margin:"normal",label:"Email",value:r,onChange:e=>o(e.target.value)}),(0,Ty.jsx)(GR,{fullWidth:!0,required:!0,margin:"normal",label:"Username",value:a,onChange:e=>s(e.target.value)}),(0,Ty.jsx)(GR,{fullWidth:!0,required:!0,margin:"normal",label:"Your favorite thing about Satisfactory",multiline:!0,rows:3,value:l,onChange:e=>c(e.target.value)}),(0,Ty.jsx)(GR,{fullWidth:!0,required:!0,margin:"normal",label:"Why do you want to be a tester?",multiline:!0,rows:3,value:u,onChange:e=>d(e.target.value)}),(0,Ty.jsx)("div",{id:"recaptcha-container",style:{marginTop:"10px"}}),(0,Ty.jsx)(IO,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,sx:{mt:2},disabled:y,children:y?"Submitting request...":"Submit Request"})]}),(0,Ty.jsxs)(Tk,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:["Already have access? ",(0,Ty.jsx)(IO,{variant:"text",onClick:()=>C("/login"),color:"secondary",children:"Log in"})]})]})})},RO=()=>{const e=Ey(),{user:t,token:n,login:r,logout:o}=(0,i.useContext)(hO),[a,s]=(0,i.useState)(!1),[l,c]=(Vx(),(0,i.useState)(!1)),[u,d]=(0,i.useState)(0);return(0,i.useEffect)((()=>{n&&dO.post(UC.check_login,{token:n},{withCredentials:!0}).then((e=>{console.log("User logged in automatically:",e.data),s(!0)})).catch((e=>{var t;console.error("Error logging in automatically:",e),401===(null===(t=e.response)||void 0===t?void 0:t.status)&&o(),s(!1)}))}),[n,o]),(0,i.useEffect)((()=>{(async()=>{try{const e=await dO.get(UC.tester_count);d(e.data.count||0)}catch(e){console.error("Error fetching tester count:",e)}})()}),[]),(0,Ty.jsxs)(pk,{sx:{background:e.palette.background,padding:e.spacing(4),minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",alignSelf:"center",justifyContent:"center",gap:e.spacing(4),textAlign:"center"},children:[(0,Ty.jsx)(vk,{sx:{backgroundColor:e.palette.secondary.main,padding:e.spacing(2),maxWidth:"800px"},children:(0,Ty.jsxs)(xk,{sx:{color:e.palette.primary.contrastText},children:[(0,Ty.jsx)(Tk,{variant:"h1",gutterBottom:!0,children:"\ud83d\udea7 Closed Testing Phase \ud83d\udea7"}),(0,Ty.jsx)(Tk,{variant:"body1",children:"In the near future I'll be looking for a small number of dedicated Satisfactory players to help test this tool. If you\u2019d like to participate, keep checking back for updates!"}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,Ty.jsx)(Ty.Fragment,{children:(0,Ty.jsxs)(Tk,{variant:"body2",sx:{marginTop:e.spacing(1)},children:[u," testers have applied so far!"]})})]})}),(0,Ty.jsxs)(pk,{sx:{maxWidth:"100vh"},children:[(0,Ty.jsx)(Tk,{variant:"h2",gutterBottom:!0,children:"What is Satisfactory Tracker?"}),(0,Ty.jsxs)(Tk,{variant:"body1",children:["Satisfactory Tracker helps you optimize and manage your factory production by providing your actual progress towards your goals.",(0,Ty.jsx)("br",{}),(0,Ty.jsx)("br",{}),"- Get ",(0,Ty.jsx)("strong",{children:" detailed production reports"})," to analyze your factory's performance.",(0,Ty.jsx)("br",{}),"- ",(0,Ty.jsx)("strong",{children:"Track your progress"})," and compare actual vs. target production.",(0,Ty.jsx)("br",{}),"- Export your factory data to ",(0,Ty.jsx)("strong",{children:"Excel for advanced analysis."}),".",(0,Ty.jsx)("br",{}),"- View ",(0,Ty.jsx)("strong",{children:"conveyor and pipe networks"})," to identify bottlenecks."]})]}),(0,Ty.jsx)(Kk,{container:!0,spacing:4,justifyContent:"center",children:[{icon:(0,Ty.jsx)(gO,{fontSize:"large"}),title:"Set your Goals",description:"Choose parts and alternative recipes, and see dependency breakdowns for better planning."},{icon:(0,Ty.jsx)(fO,{fontSize:"large"}),title:"Track your Progress",description:"Upload your save file to get detailed reports on your factory\u2019s performance.\n \nSee how your actual production compares to your target production for each part."},{icon:(0,Ty.jsx)(mO,{fontSize:"large"}),title:"Gain Insights",description:"Understand how each part of your factory interacts and find the bottlenecks using the Conveyor and Pipe Network reports. \n \nGain insight into your factory configuration and the parts you're making using the Machine report."}].map(((t,n)=>(0,Ty.jsx)(Kk,{item:!0,xs:12,sm:4,children:(0,Ty.jsx)(vk,{sx:{backgroundColor:e.palette.secondary.main},children:(0,Ty.jsxs)(xk,{sx:{color:e.palette.primary.contrastText},children:[t.icon,(0,Ty.jsx)(Tk,{variant:"h5",children:t.title}),(0,Ty.jsx)(Tk,{variant:"body2",sx:{whiteSpace:"pre-line"},children:t.description})]})})},n)))}),(0,Ty.jsxs)(pk,{sx:{maxWidth:"800px",marginTop:e.spacing(4)},children:[(0,Ty.jsx)(Tk,{variant:"h3",gutterBottom:!0,children:"Want to help make this tool better?"}),t?(0,Ty.jsxs)(Tk,{variant:"body1",children:["Welcome, ",t.username,"!"]}):(0,Ty.jsx)(Tk,{variant:"body1",children:"Register to become a tester!"})]}),(0,Ty.jsx)(TO,{open:l,onClose:()=>c(!1)})]})};dO.defaults.withCredentials=!0;const kO=()=>{const e=Ey(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),u=Vx(),{login:d}=(0,i.useContext)(hO);return(0,Ty.jsx)(pk,{sx:{background:e.palette.background,minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:4},children:(0,Ty.jsxs)(pk,{sx:{backgroundColor:"background.paper",padding:4,borderRadius:2,boxShadow:3,width:"100%",maxWidth:400},children:[(0,Ty.jsx)(Tk,{variant:"h1",color:"primary",align:"center",gutterBottom:!0,children:"Login"}),a&&(0,Ty.jsx)(GA,{severity:"error",sx:{mb:2},children:a}),(0,Ty.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),s("");try{const e=await dO.post(UC.login,{email:t,password:r}),n=e.data.user,i=e.data.token;d(n,i),u("/")}catch(a){var n,i,o,l,h;if(console.error("Login failed:",a),403===(null===(n=a.response)||void 0===n?void 0:n.status)&&null!==(i=a.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.must_change_password)return void u(`/change-password?user_id=${a.response.data.user_id}`);s((null===(l=a.response)||void 0===l||null===(h=l.data)||void 0===h?void 0:h.message)||"Login failed. Please try again.")}finally{c(!1)}},children:[(0,Ty.jsx)(GR,{label:"Email",type:"email",value:t,onChange:e=>n(e.target.value),fullWidth:!0,required:!0,margin:"normal"}),(0,Ty.jsx)(GR,{label:"Password",type:"password",value:r,onChange:e=>o(e.target.value),fullWidth:!0,required:!0,margin:"normal"}),(0,Ty.jsx)(IO,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,sx:{mt:2},disabled:l,children:l?"Logging in...":"Login"})]}),(0,Ty.jsx)(Tk,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Sign-ups are currently disabled."}),(0,Ty.jsxs)(Tk,{variant:"body2",color:"text.secondary",align:"center",children:["If you would like to become a tester, use the ",(0,Ty.jsx)("strong",{children:"'Request Tester Access'"})," button on the main page or from the menu on the top left."]})]})})},PO=e=>{let{row:t,columns:n,onSave:r,onClose:o,isCreateModalOpen:a,tableName:s}=e;const l=Ey(),[c,u]=(0,i.useState)({...t}),[d,h]=(0,i.useState)([]),[p,f]=(0,i.useState)({}),[m,g]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{const e=await dO.get(UC.validation);h(e.data||[])}catch(e){console.error("Error fetching validation rules:",e)}})()}),[]);(0,i.useEffect)((()=>{(async()=>{try{const e=n.filter((e=>e.endsWith("_id"))),t={};for(const n of e){const e=UC.table_name(n.replace("_id","")),r=await dO.get(e);t[n]=r.data.map((e=>({id:e.id,name:e.name||e.node_purity||e.recipe_name||e.part_name||e.machine_name||e.machine_level||e.save_file_path_name||e.username})))}f(t),console.log("Set Foreign Key Data:",t)}catch(e){console.error("Error fetching foreign key data:",e)}})()}),[n]);const v=(e,t)=>{u({...c,[t]:e.target.value})};return(0,Ty.jsx)($T,{open:Boolean(t)||a,onClose:o,"aria-labelledby":"edit-modal-title","aria-describedby":"edit-modal-description",children:(0,Ty.jsxs)(pk,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:500,maxHeight:"80vh",bgcolor:"background.paper",background:`linear-gradient(to right, ${l.palette.background.linearGradientLeft}, ${l.palette.background.linearGradientRight})`,border:"2px solid",borderColor:"primary.main",borderRadius:2,boxShadow:24,p:3,color:"text.primary",overflowY:"auto",overflowX:"auto"},children:[(0,Ty.jsx)(Tk,{id:"edit-modal-title",variant:"h2",sx:{mb:2,color:"text.primary",textAlign:"center"},children:a?"Create New Row":"Edit Row"}),n.map((e=>{const t=((e,t)=>(console.log("Getting validation rules for:",e,t),console.log("Validation Rules:",d),d.filter((n=>n.table_name===e&&n.column_name===t)).map((e=>({value:e.value,description:e.description})))||[]))(s,e);console.log("Valid Values:",t,s,e);const n=p[e]||[];return t.length>0||n.length>0?(0,Ty.jsxs)(pk,{sx:{mb:2},children:[(0,Ty.jsx)("label",{htmlFor:e,style:{display:"block",fontWeight:"bold",marginBottom:"4px",color:"text.primary"},children:e.replace(/_/g," ")}),(0,Ty.jsxs)("select",{id:e,value:c[e]||"",onChange:t=>v(t,e),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ccc",background:"white"},children:[(0,Ty.jsx)("option",{value:"",disabled:!0,children:"-- Select an option --"}),t.map((e=>{let{value:t,description:n}=e;return(0,Ty.jsx)("option",{value:t,title:n,children:t},t)})),n.map((e=>{let{id:t,name:n}=e;return(0,Ty.jsx)("option",{value:t,children:n},t)}))]})]},e):(0,Ty.jsxs)(pk,{sx:{mb:2},children:[(0,Ty.jsx)("label",{htmlFor:e,style:{display:"block",fontWeight:"bold",marginBottom:"4px",color:"text.primary"},children:e.replace(/_/g," ")}),(0,Ty.jsx)("input",{type:"text",id:e,value:c[e]||"",onChange:t=>v(t,e),disabled:"id"===e,style:{width:"100%",padding:"8px",borderRadius:"4px",border:"id"===e?"1px solid #ccc":"1px solid #00FFCC",background:"id"===e?"#f5f5f5":"white",color:"id"===e?"#aaa":"#000"}})]},e)})),(0,Ty.jsxs)(pk,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[(0,Ty.jsx)(IO,{variant:"contained",color:"secondary",sx:{color:"secondary.contrastText",mr:1},onClick:()=>{r(c)},children:"Save"}),(0,Ty.jsx)(IO,{variant:"outlined",color:"secondary",sx:{color:"primary.contrastText",borderColor:"primary.contrastText"},onClick:o,children:"Cancel"})]})]})})};var BO=n(5173),OO=n.n(BO);function LO(e){return i.memo(e,JC)}const DO=i.createContext(void 0);function NO(){const e=i.useContext(DO);if(void 0===e)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join("\n"));return e}const FO={[`& .${QC.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${QC.menuIcon}`]:{width:"auto",visibility:"visible"}},jO={width:3,rx:1.5,x:10.5},UO=e=>e.dimensions.hasScrollX&&(!e.dimensions.hasScrollY||0===e.dimensions.scrollbarSize),zO=Ay("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${QC.autoHeight}`]:t.autoHeight},{[`&.${QC.autosizing}`]:t.autosizing},{[`&.${QC["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${QC["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${QC["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${QC["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${QC["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${QC.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${QC.actionsCell}`]:t.actionsCell},{[`& .${QC.booleanCell}`]:t.booleanCell},{[`& .${QC.cell}`]:t.cell},{[`& .${QC["cell--editable"]}`]:t["cell--editable"]},{[`& .${QC["cell--editing"]}`]:t["cell--editing"]},{[`& .${QC["cell--flex"]}`]:t["cell--flex"]},{[`& .${QC["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${QC["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${QC["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${QC["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${QC["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${QC["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${QC["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${QC["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${QC["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${QC["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${QC["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${QC["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${QC.cellCheckbox}`]:t.cellCheckbox},{[`& .${QC.cellEmpty}`]:t.cellEmpty},{[`& .${QC.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${QC.cellSkeleton}`]:t.cellSkeleton},{[`& .${QC.checkboxInput}`]:t.checkboxInput},{[`& .${QC.columnHeader}`]:t.columnHeader},{[`& .${QC["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${QC["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${QC["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${QC["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${QC["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${QC["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${QC["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${QC["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${QC["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${QC["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${QC["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${QC["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${QC["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${QC["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${QC["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${QC["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${QC["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${QC["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${QC.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${QC.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${QC.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${QC.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${QC.columnSeparator}`]:t.columnSeparator},{[`& .${QC["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${QC["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${QC["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${QC["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${QC["container--bottom"]}`]:t["container--bottom"]},{[`& .${QC["container--top"]}`]:t["container--top"]},{[`& .${QC.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${QC["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${QC.editBooleanCell}`]:t.editBooleanCell},{[`& .${QC.filterIcon}`]:t.filterIcon},{[`& .${QC["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${QC["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${QC["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${QC.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${QC.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${QC.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${QC.headerFilterRow}`]:t.headerFilterRow},{[`& .${QC.iconSeparator}`]:t.iconSeparator},{[`& .${QC.menuIcon}`]:t.menuIcon},{[`& .${QC.menuIconButton}`]:t.menuIconButton},{[`& .${QC.menuList}`]:t.menuList},{[`& .${QC.menuOpen}`]:t.menuOpen},{[`& .${QC.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${QC.pinnedRows}`]:t.pinnedRows},{[`& .${QC["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${QC["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${QC.row}`]:t.row},{[`& .${QC["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${QC["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${QC["row--dragging"]}`]:t["row--dragging"]},{[`& .${QC["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${QC["row--editable"]}`]:t["row--editable"]},{[`& .${QC["row--editing"]}`]:t["row--editing"]},{[`& .${QC["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${QC["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${QC.rowReorderCell}`]:t.rowReorderCell},{[`& .${QC["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${QC.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${QC.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${QC.rowSkeleton}`]:t.rowSkeleton},{[`& .${QC.scrollbar}`]:t.scrollbar},{[`& .${QC["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${QC["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${QC.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${QC["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${QC["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${QC["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${QC["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${QC.sortIcon}`]:t.sortIcon},{[`& .${QC.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${QC.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${QC.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${QC.withBorderColor}`]:t.withBorderColor}]})((e=>{let{theme:t}=e;const n=NO(),r=cE(n,UO),i=function(e){return e.vars?e.vars.palette.TableCell.border:"light"===e.palette.mode?gv(hv(e.palette.divider,1),.88):fv(hv(e.palette.divider,1),.68)}(t),o=t.shape.borderRadius,a=t.vars?t.vars.palette.background.default:t.mixins.MuiDataGrid?.containerBackground??t.palette.background.default,s=t.mixins.MuiDataGrid?.pinnedBackground??a,l=t.vars?`rgba(${t.vars.palette.background.defaultChannel} / ${t.vars.palette.action.disabledOpacity})`:hv(t.palette.background.default,t.palette.action.disabledOpacity),c=(t.vars||t).palette.action.hoverOpacity,u=(t.vars||t).palette.action.hover,d=(t.vars||t).palette.action.selectedOpacity,h=t.vars?`calc(${c} + ${d})`:c+d,p=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${d})`:hv(t.palette.primary.main,d),f=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${h})`:hv(t.palette.primary.main,h),m=t.vars?GO:HO,g=e=>({[`& .${QC["cell--pinnedLeft"]}, & .${QC["cell--pinnedRight"]}`]:{backgroundColor:e,"&.Mui-selected":{backgroundColor:m(e,p,d),"&:hover":{backgroundColor:m(e,p,h)}}}}),v=g(m(s,u,c)),y=m(s,p,d),b=g(y),A=g(m(s,f,h)),x={backgroundColor:p,"&:hover":{backgroundColor:f,"@media (hover: none)":{backgroundColor:p}}};return Yp({"--unstable_DataGrid-radius":"number"===typeof o?`${o}px`:o,"--unstable_DataGrid-headWeight":t.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":l,"--DataGrid-containerBackground":a,"--DataGrid-pinnedBackground":s,"--DataGrid-rowBorderColor":i,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:i,borderRadius:"var(--unstable_DataGrid-radius)",color:(t.vars||t).palette.text.primary},t.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[`.${QC.main} > *:first-child/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${QC.autoHeight}`]:{height:"auto"},[`&.${QC.autosizing}`]:{[`& .${QC.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${QC.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${QC.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${QC.groupingCriteriaCell}`]:{width:"unset"},[`& .${QC.treeDataGroupingCell}`]:{width:"unset"}},[`& .${QC.columnHeader}, & .${QC.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${QC.columnHeader}:focus-within, & .${QC.cell}:focus-within`]:{outline:`solid ${t.vars?`rgba(${t.vars.palette.primary.mainChannel} / 0.5)`:hv(t.palette.primary.main,.5)} 1px`,outlineOffset:-1},[`& .${QC.columnHeader}:focus, & .${QC.cell}:focus`]:{outline:`solid ${t.palette.primary.main} 1px`,outlineOffset:-1},[`& .${QC.columnHeader}:focus,\n      & .${QC["columnHeader--withLeftBorder"]},\n      & .${QC["columnHeader--withRightBorder"]},\n      & .${QC["columnHeader--siblingFocused"]},\n      & .${QC["virtualScroller--hasScrollX"]} .${QC["columnHeader--lastUnpinned"]},\n      & .${QC["virtualScroller--hasScrollX"]} .${QC["columnHeader--last"]}\n      `]:{[`& .${QC.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${QC["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${QC["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${QC["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${QC["root--noToolbar"]} [aria-rowindex="1"] .${QC["columnHeader--last"]}`]:{borderTopRightRadius:r?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${QC.columnHeaderCheckbox}, & .${QC.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${QC.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${QC["virtualScroller--hasScrollX"]} .${QC["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${QC["columnHeader--sorted"]} .${QC.iconButtonContainer}, & .${QC["columnHeader--filtered"]} .${QC.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${QC.columnHeader}:not(.${QC["columnHeader--sorted"]}) .${QC.sortIcon}`]:{opacity:0,transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.shorter})},[`& .${QC.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:t.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${QC.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${QC["columnHeader--filledGroup"]} .${QC.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${QC.sortIcon}, & .${QC.filterIcon}`]:{fontSize:"inherit"},[`& .${QC["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${QC["columnHeader--alignCenter"]} .${QC.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${QC["columnHeader--alignRight"]} .${QC.columnHeaderDraggableContainer}, & .${QC["columnHeader--alignRight"]} .${QC.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${QC["columnHeader--alignCenter"]} .${QC.menuIcon}`]:{marginLeft:"auto"},[`& .${QC["columnHeader--alignRight"]} .${QC.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${QC["columnHeader--moving"]}`]:{backgroundColor:(t.vars||t).palette.action.hover},[`& .${QC["columnHeader--pinnedLeft"]}, & .${QC["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},[`& .${QC.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:10,color:i},[`& .${QC.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${QC.columnHeader}:hover`]:FO,[`& .${QC.columnHeader}:not(.${QC["columnHeader--sorted"]}):hover .${QC.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${QC.columnHeader}`]:FO,[`& .${QC.columnHeader}:focus,\n        & .${QC["columnHeader--siblingFocused"]}`]:{[`.${QC["columnSeparator--resizable"]}`]:{color:(t.vars||t).palette.primary.main}}},[`& .${QC["columnSeparator--sideLeft"]}`]:{left:-5},[`& .${QC["columnSeparator--sideRight"]}`]:{right:-5},[`& .${QC["columnHeader--withRightBorder"]} .${QC["columnSeparator--sideLeft"]}`]:{left:-5.5},[`& .${QC["columnHeader--withRightBorder"]} .${QC["columnSeparator--sideRight"]}`]:{right:-5.5},[`& .${QC["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${QC["columnSeparator--resizing"]}`]:{color:(t.vars||t).palette.primary.main},"@media (hover: none)":{[`& .${QC.iconSeparator} rect`]:jO},"@media (hover: hover)":{"&:hover":{color:(t.vars||t).palette.primary.main,[`& .${QC.iconSeparator} rect`]:jO}},"& svg":{pointerEvents:"none"}},[`& .${QC.iconSeparator}`]:{color:"inherit",transition:t.transitions.create(["color","width"],{duration:t.transitions.duration.shortest})},[`& .${QC.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${QC.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${QC.headerFilterRow}`]:{[`& .${QC.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${QC["row--borderBottom"]} .${QC.columnHeader},\n      & .${QC["row--borderBottom"]} .${QC.filler},\n      & .${QC["row--borderBottom"]} .${QC.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${QC["row--borderBottom"]} .${QC.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${QC.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${QC["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${QC.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":x},[`& .${QC["container--top"]}, & .${QC["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${QC.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":x},[`& .${QC["virtualScrollerContent--overflowed"]} .${QC["row--lastVisible"]} .${QC.cell}`]:{borderTopColor:"transparent"},[`& .${QC["pinnedRows--top"]} :first-of-type`]:{[`& .${QC.cell}, .${QC.scrollbarFiller}`]:{borderTop:"none"}},[`&.${QC["root--disableUserSelection"]} .${QC.cell}`]:{userSelect:"none"},[`& .${QC["row--dynamicHeight"]} > .${QC.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${QC.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${QC.cell}.${QC["cell--selectionMode"]}`]:{cursor:"default"},[`& .${QC.cell}.${QC["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:t.shadows[2],backgroundColor:(t.vars||t).palette.background.paper,"&:focus-within":{outline:`1px solid ${(t.vars||t).palette.primary.main}`,outlineOffset:-1}},[`& .${QC["row--editing"]}`]:{boxShadow:t.shadows[2]},[`& .${QC["row--editing"]} .${QC.cell}`]:{boxShadow:t.shadows[0],backgroundColor:(t.vars||t).palette.background.paper},[`& .${QC.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${QC.booleanCell}[data-value="true"]`]:{color:(t.vars||t).palette.text.secondary},[`& .${QC.booleanCell}[data-value="false"]`]:{color:(t.vars||t).palette.text.disabled},[`& .${QC.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:t.spacing(1)},[`& .${QC.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${QC["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${QC.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${QC.withBorderColor}`]:{borderColor:i},[`& .${QC["cell--withLeftBorder"]}, & .${QC["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${QC["cell--withRightBorder"]}, & .${QC["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${QC["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${QC["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${QC["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${QC["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${QC["cell--pinnedLeft"]}, & .${QC["cell--pinnedRight"]}`]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)","&.Mui-selected":{backgroundColor:y}},[`& .${QC.virtualScrollerContent} .${QC.row}`]:{"&:hover":v,"&.Mui-selected":b,"&.Mui-selected:hover":A},[`& .${QC.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${QC.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${QC.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${QC.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${QC["columnHeader--dragging"]}, & .${QC["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${QC["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity,[`& .${QC.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${QC.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${QC.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`& .${QC.treeDataGroupingCellLoadingContainer}, .${QC.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${QC.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${QC.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`.${QC.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${QC["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${QC["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${QC["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${QC.filler}`]:{flex:"1 0 auto"},[`& .${QC["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${QC["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${QC.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${QC["scrollbar--vertical"]}, & .${QC.pinnedRows}, & .${QC.virtualScroller} > .${QC.filler}`]:{display:"none"}}})}));function HO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=(e,t)=>Math.round((e**(1/r)*(1-n)+t**(1/r)*n)**r),o=sv(e),a=sv(t);return cv({type:"rgb",values:[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])]})}const VO=e=>`rgb(from ${e} r g b / 1)`;function GO(e,t,n){return`color-mix(in srgb,${e}, ${VO(t)} calc(${n} * 100%))`}const QO=()=>()=>{},WO=()=>!1,qO=()=>!0;function $O(){const e=OE(),t=cE(e,rM),n=qC(),r=cE(e,RE),i=e.current.unstable_applyPipeProcessors("preferencePanel",null,r.openedPanelValue??PE.filters);return(0,Ty.jsx)(n.slots.panel,Yp({as:n.slots.basePopper,open:t.length>0&&r.open,id:r.panelId,"aria-labelledby":r.labelId},n.slotProps?.panel,n.slotProps?.basePopper,{children:i}))}function XO(){const e=qC();return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)($O,{}),e.slots.toolbar&&(0,Ty.jsx)(e.slots.toolbar,Yp({},e.slotProps?.toolbar))]})}const KO=e=>e.dimensions,YO=ME(KO,(e=>e.columnsTotalWidth)),JO=e=>e.dimensions.rowHeight,ZO=e=>e.dimensions.contentSize.height,eL=e=>e.dimensions.hasScrollX,tL=e=>e.dimensions.hasScrollY,nL=e=>e.dimensions.columnsTotalWidth<e.dimensions.viewportOuterSize.width,rL=e=>e.dimensions.headerHeight,iL=e=>e.dimensions.groupHeaderHeight,oL=e=>e.dimensions.hasScrollY?e.dimensions.scrollbarSize:0,aL=e=>{const t=e.dimensions.hasScrollX?e.dimensions.scrollbarSize:0,n=e.dimensions.viewportOuterSize.height-e.dimensions.minimumSize.height>0;return!(0===t&&!n)};class sL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=e}register(e,t,n){this.timeouts||(this.timeouts=new Map);const r=setTimeout((()=>{"function"===typeof t&&t(),this.timeouts.delete(n.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(n.cleanupToken,r)}unregister(e){const t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach(((e,t)=>{this.unregister({cleanupToken:t})})),this.timeouts=void 0)}}class lL{constructor(){this.registry=new FinalizationRegistry((e=>{"function"===typeof e&&e()}))}register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}}var cL=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}(cL||{});class uL{}const dL={registry:null},hL=function(e){let t=0;return function(n,r,o,a){null===e.registry&&(e.registry="undefined"!==typeof FinalizationRegistry?new lL:new sL);const[s]=i.useState(new uL),l=i.useRef(null),c=i.useRef(null);c.current=o;const u=i.useRef(null);if(!l.current&&c.current){const i=(e,t,n)=>{t.defaultMuiPrevented||c.current?.(e,t,n)};l.current=n.current.subscribeEvent(r,i,a),t+=1,u.current={cleanupToken:t},e.registry.register(s,(()=>{l.current?.(),l.current=null,u.current=null}),u.current)}else!c.current&&l.current&&(l.current(),l.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));i.useEffect((()=>{if(!l.current&&c.current){const e=(e,t,n)=>{t.defaultMuiPrevented||c.current?.(e,t,n)};l.current=n.current.subscribeEvent(r,e,a)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{l.current?.(),l.current=null}}),[n,r,a])}}(dL),pL={isFirst:!0};function fL(e,t,n){hL(e,t,n,pL)}const mL=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],gL=Ay(PI,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})((e=>{let{theme:t}=e;return Yp({},t.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})})),vL=HC(((e,t)=>{const n=qC(),{id:r,value:o,field:a,colDef:s,hasFocus:l,debounceMs:c=200,isProcessingProps:u,onValueChange:d}=e,h=Ly(e,mL),p=OE(),f=i.useRef(null),[m,g]=i.useState(o),v=(e=>{const{classes:t}=e;return Op({root:["editInputCell"]},GC,t)})(n),y=i.useCallback((async e=>{const t=e.target.value;d&&await d(e,t);const n=p.current.getColumn(a);let i=t;n.valueParser&&(i=n.valueParser(t,p.current.getRow(r),n,p)),g(i),p.current.setEditCellValue({id:r,field:a,value:i,debounceMs:c,unstable_skipValueParser:!0},e)}),[p,c,a,r,d]),b=p.current.unstable_getEditCellMeta(r,a);return i.useEffect((()=>{"debouncedSetEditCellValue"!==b?.changeReason&&g(o)}),[b,o]),zp((()=>{l&&f.current.focus()}),[l]),(0,Ty.jsx)(gL,Yp({inputRef:f,className:v.root,ownerState:n,fullWidth:!0,type:"number"===s.type?s.type:"text",value:m??"",onChange:y,endAdornment:u?(0,Ty.jsx)(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},h,{ref:t}))})),yL=(e,t)=>t&&e.length>1?[e[0]]:e,bL=(e,t)=>n=>Yp({},n,{sorting:Yp({},n.sorting,{sortModel:yL(e,t)})}),AL=(e,t)=>{const n=e.map((e=>((e,t)=>{const n=t.current.getColumn(e.field);if(!n||null===e.sort)return null;let r;return r=n.getSortComparator?n.getSortComparator(e.sort):"desc"===e.sort?function(){return-1*n.sortComparator(...arguments)}:n.sortComparator,r?{getSortCellParams:e=>({id:e,field:n.field,rowNode:yM(t)[e],value:t.current.getCellValue(e,n.field),api:t.current}),comparator:r}:null})(e,t))).filter((e=>!!e));return 0===n.length?null:e=>e.map((e=>({node:e,params:n.map((t=>t.getSortCellParams(e.id)))}))).sort(((e,t)=>{return r=e,i=t,n.reduce(((e,t,n)=>{if(0!==e)return e;const o=r.params[n],a=i.params[n];return t.comparator(o.value,a.value,o,a)}),0);var r,i})).map((e=>e.node.id))},xL=(e,t)=>{const n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},wL=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,CL=new Intl.Collator,EL=(e,t)=>{const n=wL(e,t);return null!==n?n:Number(e)-Number(t)},SL=(e,t)=>{const n=wL(e,t);return null!==n?n:e>t?1:e<t?-1:0},_L=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function ML(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:a,tabIndex:s,disabled:l,clearButton:c,InputProps:u,variant:d="standard"}=e,h=Ly(e,_L),p=Up(),[f,m]=i.useState(IL(t.value)),[g,v]=i.useState(!1),y=Lb(),b=qC(),A=i.useCallback((e=>{const i=IL(e.target.value);m(i),v(!0),p.start(b.filterDebounceMs,(()=>{const e=Yp({},t,{value:"number"!==r||Number.isNaN(Number(i))?i:Number(i),fromInput:y});n(e),v(!1)}))}),[p,b.filterDebounceMs,t,r,y,n]);return i.useEffect((()=>{t.fromInput===y&&null!=t.value||m(IL(t.value))}),[y,t]),(0,Ty.jsx)(b.slots.baseTextField,Yp({id:y,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:f??"",onChange:A,variant:d,type:r||"text",InputProps:Yp({},g||c?{endAdornment:g?(0,Ty.jsx)(b.slots.loadIcon,{fontSize:"small",color:"action"}):c}:{},{disabled:l},u,{inputProps:Yp({tabIndex:s},u?.inputProps)}),InputLabelProps:{shrink:!0},inputRef:a},h,b.slotProps?.baseTextField))}function IL(e){if(null!=e&&""!==e)return String(e)}const TL=e=>{const t=i.useRef({});return i.useEffect((()=>{t.current=e})),t.current};function RL(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function kL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:o,trim:a=!1}=e;return(e,s)=>{let{inputValue:l,getOptionLabel:c}=s,u=a?l.trim():l;n&&(u=u.toLowerCase()),t&&(u=RL(u));const d=u?e.filter((e=>{let r=(o||c)(e);return n&&(r=r.toLowerCase()),t&&(r=RL(r)),"start"===i?r.startsWith(u):r.includes(u)})):e;return"number"===typeof r?d.slice(0,r):d}}const PL=kL(),BL=e=>null!==e.current&&e.current.parentElement?.contains(document.activeElement),OL=[];function LL(e,t,n){if(t||null==e)return"";const r=n(e);return"string"===typeof r?r:""}const DL=function(e){const{unstable_isActiveElementInListbox:t=BL,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:a=!1,blurOnSelect:s=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:c=!1,componentName:u="useAutocomplete",defaultValue:d=(e.multiple?OL:null),disableClearable:h=!1,disableCloseOnSelect:p=!1,disabled:f,disabledItemsFocusable:m=!1,disableListWrap:g=!1,filterOptions:v=PL,filterSelectedOptions:y=!1,freeSolo:b=!1,getOptionDisabled:A,getOptionKey:x,getOptionLabel:w=e=>e.label??e,groupBy:C,handleHomeEndKeys:E=!e.freeSolo,id:S,includeInputInList:_=!1,inputValue:M,isOptionEqualToValue:I=(e,t)=>e===t,multiple:T=!1,onChange:R,onClose:k,onHighlightChange:P,onInputChange:B,onOpen:O,open:L,openOnFocus:D=!1,options:N,readOnly:F=!1,selectOnFocus:j=!e.freeSolo,value:U}=e,z=Lb(S);let H=w;H=e=>{const t=w(e);return"string"!==typeof t?String(t):t};const V=i.useRef(!1),G=i.useRef(!0),Q=i.useRef(null),W=i.useRef(null),[q,$]=i.useState(null),[X,K]=i.useState(-1),Y=o?0:-1,J=i.useRef(Y),Z=i.useRef(LL(d,T,H)).current,[ee,te]=xR({controlled:U,default:d,name:u}),[ne,re]=xR({controlled:M,default:Z,name:u,state:"inputValue"}),[ie,oe]=i.useState(!1),ae=i.useCallback(((e,t,n)=>{if(!(T?ee.length<t.length:null!==t)&&!l)return;const r=LL(t,T,H);ne!==r&&(re(r),B&&B(e,r,n))}),[H,ne,T,B,re,l,ee]),[se,le]=xR({controlled:L,default:!1,name:u,state:"open"}),[ce,ue]=i.useState(!0),de=!T&&null!=ee&&ne===H(ee),he=se&&!F,pe=he?v(N.filter((e=>!y||!(T?ee:[ee]).some((t=>null!==t&&I(e,t))))),{inputValue:de&&ce?"":ne,getOptionLabel:H}):[],fe=TL({filteredOptions:pe,value:ee,inputValue:ne});i.useEffect((()=>{const e=ee!==fe.value;ie&&!e||b&&!e||ae(null,ee,"reset")}),[ee,ae,ie,fe.value,b]);const me=se&&pe.length>0&&!F,ge=Hp((e=>{-1===e?Q.current.focus():q.querySelector(`[data-tag-index="${e}"]`).focus()}));i.useEffect((()=>{T&&X>ee.length-1&&(K(-1),ge(-1))}),[ee,T,X,ge]);const ve=Hp((e=>{let{event:t,index:r,reason:i="auto"}=e;if(J.current=r,-1===r?Q.current.removeAttribute("aria-activedescendant"):Q.current.setAttribute("aria-activedescendant",`${z}-option-${r}`),P&&P(t,-1===r?null:pe[r],i),!W.current)return;const o=W.current.querySelector(`[role="option"].${n}-focused`);o&&(o.classList.remove(`${n}-focused`),o.classList.remove(`${n}-focusVisible`));let a=W.current;if("listbox"!==W.current.getAttribute("role")&&(a=W.current.parentElement.querySelector('[role="listbox"]')),!a)return;if(-1===r)return void(a.scrollTop=0);const s=W.current.querySelector(`[data-option-index="${r}"]`);if(s&&(s.classList.add(`${n}-focused`),"keyboard"===i&&s.classList.add(`${n}-focusVisible`),a.scrollHeight>a.clientHeight&&"mouse"!==i&&"touch"!==i)){const e=s,t=a.clientHeight+a.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?a.scrollTop=n-a.clientHeight:e.offsetTop-e.offsetHeight*(C?1.3:0)<a.scrollTop&&(a.scrollTop=e.offsetTop-e.offsetHeight*(C?1.3:0))}})),ye=Hp((e=>{let{event:t,diff:n,direction:i="next",reason:o="auto"}=e;if(!he)return;const a=function(e,t){if(!W.current||e<0||e>=pe.length)return-1;let n=e;for(;;){const r=W.current.querySelector(`[data-option-index="${n}"]`),i=!m&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!i)return n;if(n="next"===t?(n+1)%pe.length:(n-1+pe.length)%pe.length,n===e)return-1}}((()=>{const e=pe.length-1;if("reset"===n)return Y;if("start"===n)return 0;if("end"===n)return e;const t=J.current+n;return t<0?-1===t&&_?-1:g&&-1!==J.current||Math.abs(n)>1?0:e:t>e?t===e+1&&_?-1:g||Math.abs(n)>1?e:0:t})(),i);if(ve({index:a,reason:o,event:t}),r&&"reset"!==n)if(-1===a)Q.current.value=ne;else{const e=H(pe[a]);Q.current.value=e;0===e.toLowerCase().indexOf(ne.toLowerCase())&&ne.length>0&&Q.current.setSelectionRange(ne.length,e.length)}})),be=i.useCallback((()=>{if(!he)return;const e=(()=>{if(-1!==J.current&&fe.filteredOptions&&fe.filteredOptions.length!==pe.length&&fe.inputValue===ne&&(T?ee.length===fe.value.length&&fe.value.every(((e,t)=>H(ee[t])===H(e))):(e=fe.value,t=ee,(e?H(e):"")===(t?H(t):"")))){const e=fe.filteredOptions[J.current];if(e)return pe.findIndex((t=>H(t)===H(e)))}var e,t;return-1})();if(-1!==e)return void(J.current=e);const t=T?ee[0]:ee;if(0!==pe.length&&null!=t){if(W.current)if(null==t)J.current>=pe.length-1?ve({index:pe.length-1}):ve({index:J.current});else{const e=pe[J.current];if(T&&e&&-1!==ee.findIndex((t=>I(e,t))))return;const n=pe.findIndex((e=>I(e,t)));-1===n?ye({diff:"reset"}):ve({index:n})}}else ye({diff:"reset"})}),[pe.length,!T&&ee,y,ye,ve,he,ne,T]),Ae=Hp((e=>{Qp(W,e),e&&be()}));i.useEffect((()=>{be()}),[be]);const xe=e=>{se||(le(!0),ue(!0),O&&O(e))},we=(e,t)=>{se&&(le(!1),k&&k(e,t))},Ce=(e,t,n,r)=>{if(T){if(ee.length===t.length&&ee.every(((e,n)=>e===t[n])))return}else if(ee===t)return;R&&R(e,t,n,r),te(t)},Ee=i.useRef(!1),Se=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",i=t;if(T){i=Array.isArray(ee)?ee.slice():[];const e=i.findIndex((e=>I(t,e)));-1===e?i.push(t):"freeSolo"!==n&&(i.splice(e,1),r="removeOption")}ae(e,i,r),Ce(e,i,r,{option:t}),p||e&&(e.ctrlKey||e.metaKey)||we(e,r),(!0===s||"touch"===s&&Ee.current||"mouse"===s&&!Ee.current)&&Q.current.blur()},_e=(e,t)=>{if(!T)return;""===ne&&we(e,"toggleInput");let n=X;-1===X?""===ne&&"previous"===t&&(n=ee.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===ee.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===ee.length||"previous"===t&&-1===n)return-1;const e=q.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),K(n),ge(n)},Me=e=>{V.current=!0,re(""),B&&B(e,"","clear"),Ce(e,T?[]:null,"clear")},Ie=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1===X||["ArrowLeft","ArrowRight"].includes(t.key)||(K(-1),ge(-1)),229!==t.which))switch(t.key){case"Home":he&&E&&(t.preventDefault(),ye({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":he&&E&&(t.preventDefault(),ye({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ye({diff:-5,direction:"previous",reason:"keyboard",event:t}),xe(t);break;case"PageDown":t.preventDefault(),ye({diff:5,direction:"next",reason:"keyboard",event:t}),xe(t);break;case"ArrowDown":t.preventDefault(),ye({diff:1,direction:"next",reason:"keyboard",event:t}),xe(t);break;case"ArrowUp":t.preventDefault(),ye({diff:-1,direction:"previous",reason:"keyboard",event:t}),xe(t);break;case"ArrowLeft":_e(t,"previous");break;case"ArrowRight":_e(t,"next");break;case"Enter":if(-1!==J.current&&he){const e=pe[J.current],n=!!A&&A(e);if(t.preventDefault(),n)return;Se(t,e,"selectOption"),r&&Q.current.setSelectionRange(Q.current.value.length,Q.current.value.length)}else b&&""!==ne&&!1===de&&(T&&t.preventDefault(),Se(t,ne,"createOption","freeSolo"));break;case"Escape":he?(t.preventDefault(),t.stopPropagation(),we(t,"escape")):c&&(""!==ne||T&&ee.length>0)&&(t.preventDefault(),t.stopPropagation(),Me(t));break;case"Backspace":if(T&&!F&&""===ne&&ee.length>0){const e=-1===X?ee.length-1:X,n=ee.slice();n.splice(e,1),Ce(t,n,"removeOption",{option:ee[e]})}break;case"Delete":if(T&&!F&&""===ne&&ee.length>0&&-1!==X){const e=X,n=ee.slice();n.splice(e,1),Ce(t,n,"removeOption",{option:ee[e]})}}},Te=e=>{oe(!0),D&&!V.current&&xe(e)},Re=e=>{t(W)?Q.current.focus():(oe(!1),G.current=!0,V.current=!1,a&&-1!==J.current&&he?Se(e,pe[J.current],"blur"):a&&b&&""!==ne?Se(e,ne,"blur","freeSolo"):l&&ae(e,ee,"blur"),we(e,"blur"))},ke=e=>{const t=e.target.value;ne!==t&&(re(t),ue(!1),B&&B(e,t,"input")),""===t?h||T||Ce(e,null,"clear"):xe(e)},Pe=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));J.current!==t&&ve({event:e,index:t,reason:"mouse"})},Be=e=>{ve({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ee.current=!0},Oe=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Se(e,pe[t],"selectOption"),Ee.current=!1},Le=e=>t=>{const n=ee.slice();n.splice(e,1),Ce(t,n,"removeOption",{option:ee[e]})},De=e=>{se?we(e,"toggleInput"):xe(e)},Ne=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==z&&e.preventDefault()},Fe=e=>{e.currentTarget.contains(e.target)&&(Q.current.focus(),j&&G.current&&Q.current.selectionEnd-Q.current.selectionStart===0&&Q.current.select(),G.current=!1)},je=e=>{f||""!==ne&&se||De(e)};let Ue=b&&ne.length>0;Ue=Ue||(T?ee.length>0:null!==ee);let ze=pe;if(C){new Map;ze=pe.reduce(((e,t,n)=>{const r=C(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return f&&ie&&Re(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,onKeyDown:Ie(e),onMouseDown:Ne,onClick:Fe}},getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:ne,onBlur:Re,onFocus:Te,onChange:ke,onMouseDown:je,"aria-activedescendant":he?"":null,"aria-autocomplete":r?"both":"list","aria-controls":me?`${z}-listbox`:void 0,"aria-expanded":me,autoComplete:"off",ref:Q,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:f}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Me}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:De}),getTagProps:e=>{let{index:t}=e;return{key:t,"data-tag-index":t,tabIndex:-1,...!F&&{onDelete:Le(t)}}},getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:Ae,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:n}=e;const r=(T?ee:[ee]).some((e=>null!=e&&I(n,e))),i=!!A&&A(n);return{key:x?.(n)??H(n),tabIndex:-1,role:"option",id:`${z}-option-${t}`,onMouseMove:Pe,onClick:Oe,onTouchStart:Be,"data-option-index":t,"aria-disabled":i,"aria-selected":r}},id:z,inputValue:ne,value:ee,dirty:Ue,expanded:he&&q,popupOpen:he,focused:ie||-1!==X,anchorEl:q,setAnchorEl:$,focusedTag:X,groupedOptions:ze}};function NL(e){return lb("MuiListSubheader",e)}cb("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const FL=Ay("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${Oy(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(My((e=>{let{theme:t}=e;return{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:72}},{props:e=>{let{ownerState:t}=e;return!t.disableSticky},style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}}))),jL=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiListSubheader"}),{className:r,color:i="default",component:o="li",disableGutters:a=!1,disableSticky:s=!1,inset:l=!1,...c}=n,u={...n,color:i,component:o,disableGutters:a,disableSticky:s,inset:l},d=(e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:o}=e;return Op({root:["root","default"!==n&&`color${Oy(n)}`,!r&&"gutters",i&&"inset",!o&&"sticky"]},NL,t)})(u);return(0,Ty.jsx)(FL,{as:o,className:ib(d.root,r),ref:t,ownerState:u,...c})}));jL&&(jL.muiSkipListHighlight=!0);const UL=jL,zL=PA((0,Ty.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function HL(e){return lb("MuiChip",e)}const VL=cb("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),GL=Ay("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:a,size:s,variant:l}=n;return[{[`& .${VL.avatar}`]:t.avatar},{[`& .${VL.avatar}`]:t[`avatar${Oy(s)}`]},{[`& .${VL.avatar}`]:t[`avatarColor${Oy(r)}`]},{[`& .${VL.icon}`]:t.icon},{[`& .${VL.icon}`]:t[`icon${Oy(s)}`]},{[`& .${VL.icon}`]:t[`iconColor${Oy(i)}`]},{[`& .${VL.deleteIcon}`]:t.deleteIcon},{[`& .${VL.deleteIcon}`]:t[`deleteIcon${Oy(s)}`]},{[`& .${VL.deleteIcon}`]:t[`deleteIconColor${Oy(r)}`]},{[`& .${VL.deleteIcon}`]:t[`deleteIcon${Oy(l)}Color${Oy(r)}`]},t.root,t[`size${Oy(s)}`],t[`color${Oy(r)}`],o&&t.clickable,o&&"default"!==r&&t[`clickableColor${Oy(r)})`],a&&t.deletable,a&&"default"!==r&&t[`deletableColor${Oy(r)}`],t[l],t[`${l}${Oy(r)}`]]}})(My((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${VL.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${VL.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${VL.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${VL.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${VL.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${VL.icon}`]:{marginLeft:5,marginRight:-6},[`& .${VL.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:hv(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:hv(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${VL.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${VL.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Rb(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${VL.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:hv(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}})),{props:e=>e.iconColor===e.color,style:{[`& .${VL.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{[`& .${VL.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${VL.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hv(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(Rb(["dark"])).map((e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{[`&.${VL.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hv(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${VL.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hv(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Rb(["dark"])).map((e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{[`&:hover, &.${VL.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${VL.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${VL.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${VL.avatar}`]:{marginLeft:4},[`& .${VL.avatarSmall}`]:{marginLeft:2},[`& .${VL.icon}`]:{marginLeft:4},[`& .${VL.iconSmall}`]:{marginLeft:2},[`& .${VL.deleteIcon}`]:{marginRight:5},[`& .${VL.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:hv(t.palette[n].main,.7)}`,[`&.${VL.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${VL.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:hv(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${VL.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:hv(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}}))]}}))),QL=Ay("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${Oy(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function WL(e){return"Backspace"===e.key||"Delete"===e.key}const qL=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:a,color:s="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:y="filled",tabIndex:b,skipFocusWhenDisabled:A=!1,...x}=n,w=i.useRef(null),C=Yy(w,t),E=e=>{e.stopPropagation(),f&&f(e)},S=!(!1===a||!p)||a,_=S||f?uA:l||"div",M={...n,component:_,disabled:u,size:v,color:s,iconColor:i.isValidElement(d)&&d.props.color||s,onDelete:!!f,clickable:S,variant:y},I=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:a,clickable:s,variant:l}=e;return Op({root:["root",l,n&&"disabled",`size${Oy(r)}`,`color${Oy(i)}`,s&&"clickable",s&&`clickableColor${Oy(i)}`,a&&"deletable",a&&`deletableColor${Oy(i)}`,`${l}${Oy(i)}`],label:["label",`label${Oy(r)}`],avatar:["avatar",`avatar${Oy(r)}`,`avatarColor${Oy(i)}`],icon:["icon",`icon${Oy(r)}`,`iconColor${Oy(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Oy(r)}`,`deleteIconColor${Oy(i)}`,`deleteIcon${Oy(l)}Color${Oy(i)}`]},HL,t)})(M),T=_===uA?{component:l||"div",focusVisibleClassName:I.focusVisible,...f&&{disableRipple:!0}}:{};let R=null;f&&(R=c&&i.isValidElement(c)?i.cloneElement(c,{className:ib(c.props.className,I.deleteIcon),onClick:E}):(0,Ty.jsx)(zL,{className:ib(I.deleteIcon),onClick:E}));let k=null;r&&i.isValidElement(r)&&(k=i.cloneElement(r,{className:ib(I.avatar,r.props.className)}));let P=null;return d&&i.isValidElement(d)&&(P=i.cloneElement(d,{className:ib(I.icon,d.props.className)})),(0,Ty.jsxs)(GL,{as:_,className:ib(I.root,o),disabled:!(!S||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&WL(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&f&&WL(e)&&f(e),g&&g(e)},ref:C,tabIndex:A&&u?-1:b,ownerState:M,...T,...x,children:[k||P,(0,Ty.jsx)(QL,{className:ib(I.label),ownerState:M,children:h}),R]})})),$L=qL;function XL(e){return lb("MuiAutocomplete",e)}const KL=cb("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var YL,JL;const ZL=Ay("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:o,inputFocused:a,size:s}=n;return[{[`& .${KL.tag}`]:t.tag},{[`& .${KL.tag}`]:t[`tagSize${Oy(s)}`]},{[`& .${KL.inputRoot}`]:t.inputRoot},{[`& .${KL.input}`]:t.input},{[`& .${KL.input}`]:a&&t.inputFocused},t.root,r&&t.fullWidth,o&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${KL.focused} .${KL.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${KL.clearIndicator}`]:{visibility:"visible"}},[`& .${KL.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${KL.inputRoot}`]:{[`.${KL.hasPopupIcon}&, .${KL.hasClearIcon}&`]:{paddingRight:30},[`.${KL.hasPopupIcon}.${KL.hasClearIcon}&`]:{paddingRight:56},[`& .${KL.input}`]:{width:0,minWidth:30}},[`& .${OI.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${OI.root}.${EI.sizeSmall}`]:{[`& .${OI.input}`]:{padding:"2px 4px 3px 0"}},[`& .${XI.root}`]:{padding:9,[`.${KL.hasPopupIcon}&, .${KL.hasClearIcon}&`]:{paddingRight:39},[`.${KL.hasPopupIcon}.${KL.hasClearIcon}&`]:{paddingRight:65},[`& .${KL.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${KL.endAdornment}`]:{right:9}},[`& .${XI.root}.${EI.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${KL.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${UI.root}`]:{paddingTop:19,paddingLeft:8,[`.${KL.hasPopupIcon}&, .${KL.hasClearIcon}&`]:{paddingRight:39},[`.${KL.hasPopupIcon}.${KL.hasClearIcon}&`]:{paddingRight:65},[`& .${UI.input}`]:{padding:"7px 4px"},[`& .${KL.endAdornment}`]:{right:9}},[`& .${UI.root}.${EI.sizeSmall}`]:{paddingBottom:1,[`& .${UI.input}`]:{padding:"2.5px 4px"}},[`& .${EI.hiddenLabel}`]:{paddingTop:8},[`& .${UI.root}.${EI.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${KL.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${UI.root}.${EI.hiddenLabel}.${EI.sizeSmall}`]:{[`& .${KL.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${KL.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${KL.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${KL.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${KL.inputRoot}`]:{flexWrap:"wrap"}}}]}),eD=Ay("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),tD=Ay(MA,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),nD=Ay(MA,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),rD=Ay(W_,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${KL.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(My((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}}))),iD=Ay(pb,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(My((e=>{let{theme:t}=e;return{...t.typography.body1,overflow:"auto"}}))),oD=Ay("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(My((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}}))),aD=Ay("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(My((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}}))),sD=Ay("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(My((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${KL.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${KL.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${KL.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hv(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${KL.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${KL.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}}))),lD=Ay(UL,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(My((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}}))),cD=Ay("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${KL.option}`]:{paddingLeft:24}}),uD=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiAutocomplete"}),{autoComplete:r=!1,autoHighlight:o=!1,autoSelect:a=!1,blurOnSelect:s=!1,ChipProps:l,className:c,clearIcon:u=YL||(YL=(0,Ty.jsx)(NA,{fontSize:"small"})),clearOnBlur:d=!n.freeSolo,clearOnEscape:h=!1,clearText:p="Clear",closeText:f="Close",componentsProps:m,defaultValue:g=(n.multiple?[]:null),disableClearable:v=!1,disableCloseOnSelect:y=!1,disabled:b=!1,disabledItemsFocusable:A=!1,disableListWrap:x=!1,disablePortal:w=!1,filterOptions:C,filterSelectedOptions:E=!1,forcePopupIcon:S="auto",freeSolo:_=!1,fullWidth:M=!1,getLimitTagsText:I=e=>`+${e}`,getOptionDisabled:T,getOptionKey:R,getOptionLabel:k,isOptionEqualToValue:P,groupBy:B,handleHomeEndKeys:O=!n.freeSolo,id:L,includeInputInList:D=!1,inputValue:N,limitTags:F=-1,ListboxComponent:j,ListboxProps:U,loading:z=!1,loadingText:H="Loading\u2026",multiple:V=!1,noOptionsText:G="No options",onChange:Q,onClose:W,onHighlightChange:q,onInputChange:$,onOpen:X,open:K,openOnFocus:Y=!1,openText:J="Open",options:Z,PaperComponent:ee,PopperComponent:te,popupIcon:ne=JL||(JL=(0,Ty.jsx)(BR,{})),readOnly:re=!1,renderGroup:ie,renderInput:oe,renderOption:ae,renderTags:se,selectOnFocus:le=!n.freeSolo,size:ce="medium",slots:ue={},slotProps:de={},value:he,...pe}=n,{getRootProps:fe,getInputProps:me,getInputLabelProps:ge,getPopupIndicatorProps:ve,getClearProps:ye,getTagProps:be,getListboxProps:Ae,getOptionProps:xe,value:we,dirty:Ce,expanded:Ee,id:Se,popupOpen:_e,focused:Me,focusedTag:Ie,anchorEl:Te,setAnchorEl:Re,inputValue:ke,groupedOptions:Pe}=DL({...n,componentName:"Autocomplete"}),Be=!v&&!b&&Ce&&!re,Oe=(!_||!0===S)&&!1!==S,{onMouseDown:Le}=me(),{ref:De,...Ne}=Ae(),Fe=k||(e=>e.label??e),je={...n,disablePortal:w,expanded:Ee,focused:Me,fullWidth:M,getOptionLabel:Fe,hasClearIcon:Be,hasPopupIcon:Oe,inputFocused:-1===Ie,popupOpen:_e,size:ce},Ue=(e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:o,hasClearIcon:a,hasPopupIcon:s,inputFocused:l,popupOpen:c,size:u}=e;return Op({root:["root",r&&"expanded",i&&"focused",o&&"fullWidth",a&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${Oy(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]},XL,t)})(je),ze={slots:{paper:ee,popper:te,...ue},slotProps:{chip:l,listbox:U,...m,...de}},[He,Ve]=_b("listbox",{elementType:sD,externalForwardedProps:ze,ownerState:je,className:Ue.listbox,additionalProps:Ne,ref:De}),[Ge,Qe]=_b("paper",{elementType:pb,externalForwardedProps:ze,ownerState:je,className:Ue.paper}),[We,qe]=_b("popper",{elementType:W_,externalForwardedProps:ze,ownerState:je,className:Ue.popper,additionalProps:{disablePortal:w,style:{width:Te?Te.clientWidth:null},role:"presentation",anchorEl:Te,open:_e}});let $e;if(V&&we.length>0){const e=e=>({className:Ue.tag,disabled:b,...be(e)});$e=se?se(we,e,je):we.map(((t,n)=>{const{key:r,...i}=e({index:n});return(0,Ty.jsx)($L,{label:Fe(t),size:ce,...i,...ze.slotProps.chip},r)}))}if(F>-1&&Array.isArray($e)){const e=$e.length-F;!Me&&e>0&&($e=$e.splice(0,F),$e.push((0,Ty.jsx)("span",{className:Ue.tag,children:I(e)},$e.length)))}const Xe=ie||(e=>(0,Ty.jsxs)("li",{children:[(0,Ty.jsx)(lD,{className:Ue.groupLabel,ownerState:je,component:"div",children:e.group}),(0,Ty.jsx)(cD,{className:Ue.groupUl,ownerState:je,children:e.children})]},e.key)),Ke=ae||((e,t)=>{const{key:n,...r}=e;return(0,Ty.jsx)("li",{...r,children:Fe(t)},n)}),Ye=(e,t)=>{const n=xe({option:e,index:t});return Ke({...n,className:Ue.option},e,{selected:n["aria-selected"],index:t,inputValue:ke},je)},Je=ze.slotProps.clearIndicator,Ze=ze.slotProps.popupIndicator;return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(ZL,{ref:t,className:ib(Ue.root,c),ownerState:je,...fe(pe),children:oe({id:Se,disabled:b,fullWidth:!0,size:"small"===ce?"small":void 0,InputLabelProps:ge(),InputProps:{ref:Re,className:Ue.inputRoot,startAdornment:$e,onMouseDown:e=>{e.target===e.currentTarget&&Le(e)},...(Be||Oe)&&{endAdornment:(0,Ty.jsxs)(eD,{className:Ue.endAdornment,ownerState:je,children:[Be?(0,Ty.jsx)(tD,{...ye(),"aria-label":p,title:p,ownerState:je,...Je,className:ib(Ue.clearIndicator,Je?.className),children:u}):null,Oe?(0,Ty.jsx)(nD,{...ve(),disabled:b,"aria-label":_e?f:J,title:_e?f:J,ownerState:je,...Ze,className:ib(Ue.popupIndicator,Ze?.className),children:ne}):null]})}},inputProps:{className:Ue.input,disabled:b,readOnly:re,...me()}})}),Te?(0,Ty.jsx)(rD,{as:We,...qe,children:(0,Ty.jsxs)(iD,{as:Ge,...Qe,children:[z&&0===Pe.length?(0,Ty.jsx)(oD,{className:Ue.loading,ownerState:je,children:H}):null,0!==Pe.length||_||z?null:(0,Ty.jsx)(aD,{className:Ue.noOptions,ownerState:je,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:G}),Pe.length>0?(0,Ty.jsx)(He,{as:j,...Ve,children:Pe.map(((e,t)=>B?Xe({key:e.key,group:e.group,children:e.options.map(((t,n)=>Ye(t,e.index+n)))}):Ye(e,t)))}):null]})}):null]})})),dD=uD,hD=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],pD=["key"];function fD(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:a,color:s,error:l,helperText:c,size:u,variant:d="standard"}=e,h=Ly(e,hD),p={color:s,error:l,helperText:c,size:u,variant:d},[f,m]=i.useState(t.value||[]),g=Lb(),v=qC();i.useEffect((()=>{const e=t.value??[];m(e.map(String))}),[t.value]);const y=i.useCallback(((e,i)=>{m(i.map(String)),n(Yp({},t,{value:[...i.map((e=>"number"===r?Number(e):e))]}))}),[n,t,r]);return(0,Ty.jsx)(dD,Yp({multiple:!0,freeSolo:!0,options:[],filterOptions:(e,t)=>{const{inputValue:n}=t;return null==n||""===n?[]:[n]},id:g,value:f,onChange:y,renderTags:(e,t)=>e.map(((e,n)=>{const r=t({index:n}),{key:i}=r,o=Ly(r,pD);return(0,Ty.jsx)(v.slots.baseChip,Yp({variant:"outlined",size:"small",label:e},o),i)})),renderInput:e=>(0,Ty.jsx)(v.slots.baseTextField,Yp({},e,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:Yp({},e.InputLabelProps,{shrink:!0}),inputRef:a,type:r||"text"},p,v.slotProps?.baseTextField))},h))}var mD=function(e){return e.And="and",e.Or="or",e}(mD||{});const gD={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},vD=()=>({items:[],logicOperator:mD.And,quickFilterValues:[],quickFilterLogicOperator:mD.And});function yD(e){return{current:e.current.getPublicApi()}}let bD;const AD=(e,t)=>{const n=Yp({},e);if(null==n.id&&(n.id=Math.round(1e5*Math.random())),null==n.operator){const e=nM(t)[n.field];n.operator=e&&e.filterOperators[0].value}return n},xD=(e,t,n)=>{const r=e.items.length>1;let i;i=r&&t?[e.items[0]]:e.items;const o=r&&i.some((e=>null==e.id));return i.some((e=>null==e.operator))||o?Yp({},e,{items:i.map((e=>AD(e,n)))}):e.items!==i?Yp({},e,{items:i}):e},wD=(e,t,n)=>r=>Yp({},r,{filterModel:xD(e,t,n)}),CD=e=>"string"===typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,ED=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){const i=n.valueParser;r=Array.isArray(e.value)?e.value?.map((e=>i(e,void 0,n,t))):i(e.value,void 0,n,t)}else r=e.value;const{ignoreDiacritics:i}=t.current.rootProps;i&&(r=CD(r));const o=Yp({},e,{value:r}),a=n.filterOperators;if(!a?.length)throw new Error(`MUI X: No filter operators found for column '${n.field}'.`);const s=a.find((e=>e.value===o.operator));if(!s)throw new Error(`MUI X: No filter operator found for column '${n.field}' and operator value '${o.operator}'.`);const l=yD(t),c=s.getApplyFilterFn(o,n);return"function"!==typeof c?null:{item:o,fn:e=>{let r=t.current.getRowValue(e,n);return i&&(r=CD(r)),c(r,e,n,l)}}};let SD=1;const _D=(e,t,n)=>{const{items:r}=e,i=r.map((e=>ED(e,t))).filter((e=>!!e));if(0===i.length)return null;if(n||!function(){if(void 0!==bD)return bD;try{bD=new Function("return true")()}catch(On){bD=!1}return bD}())return(e,t)=>{const n={};for(let r=0;r<i.length;r+=1){const o=i[r];t&&!t(o.item.field)||(n[o.item.id]=o.fn(e))}return n};const o=new Function("appliers","row","shouldApplyFilter",`"use strict";\n${i.map(((e,t)=>`const shouldApply${t} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(e.item.field)});`)).join("\n")}\n\nconst result$$ = {\n${i.map(((e,t)=>`  ${JSON.stringify(String(e.item.id))}: !shouldApply${t} ? false : appliers[${t}].fn(row),`)).join("\n")}\n};\n\nreturn result$$;`.replaceAll("$$",String(SD)));SD+=1;return(e,t)=>o(i,e,t)},MD=e=>e.quickFilterExcludeHiddenColumns??!0,ID=(e,t,n)=>{const r=_D(e,t,n),i=((e,t)=>{const n=e.quickFilterValues?.filter(Boolean)??[];if(0===n.length)return null;const r=MD(e)?aM(t):tM(t),i=[],{ignoreDiacritics:o}=t.current.rootProps,a=yD(t);return r.forEach((e=>{const r=t.current.getColumn(e),s=r?.getApplyQuickFilterFn;s&&i.push({column:r,appliers:n.map((e=>{const t=o?CD(e):e;return{fn:s(t,r,a)}}))})})),function(e,r){const s={};e:for(let l=0;l<n.length;l+=1){const c=n[l];for(let n=0;n<i.length;n+=1){const{column:u,appliers:d}=i[n],{field:h}=u;if(r&&!r(h))continue;const p=d[l];let f=t.current.getRowValue(e,u);if(null!==p.fn&&(o&&(f=CD(f)),p.fn(f,e,u,a))){s[c]=!0;continue e}}s[c]=!1}return s}})(e,t);return function(e,t,n){n.passingFilterItems=r?.(e,t)??null,n.passingQuickFilterValues=i?.(e,t)??null}},TD=e=>null!=e,RD=(e,t,n,r,i)=>{const o=((e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter((e=>null!==ED(e,t)))),e.cleanedFilterItems))(i,r,n.items),a=e.filter(TD),s=t.filter(TD);if(a.length>0){const e=e=>a.some((t=>t[e.id]));if((n.logicOperator??vD().logicOperator)===mD.And){if(!o.every(e))return!1}else{if(!o.some(e))return!1}}if(s.length>0&&null!=n.quickFilterValues){const e=e=>s.some((t=>t[e]));if((n.quickFilterLogicOperator??vD().quickFilterLogicOperator)===mD.And){if(!n.quickFilterValues.every(e))return!1}else{if(!n.quickFilterValues.some(e))return!1}}return!0},kD=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),i=new RegExp(WR(r),"i");return e=>{if(null==e)return t;const n=i.test(String(e));return t?!n:n}},PD=(e,t)=>n=>{if(!n.value)return null;const r=e?n.value:n.value.trim(),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>{if(null==e)return t;const n=0===i.compare(r,e.toString());return t?!n:n}},BD=e=>()=>t=>{const n=""===t||null==t;return e?!n:n},OD={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:(e,t)=>{const n=wL(e,t);return null!==n?n:"string"===typeof e?CL.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{value:"contains",getApplyFilterFn:kD(e,!1),InputComponent:ML},{value:"doesNotContain",getApplyFilterFn:kD(e,!0),InputComponent:ML},{value:"equals",getApplyFilterFn:PD(e,!1),InputComponent:ML},{value:"doesNotEqual",getApplyFilterFn:PD(e,!0),InputComponent:ML},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${WR(n)}.*$`,"i");return e=>null!=e&&r.test(e.toString())},InputComponent:ML},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${WR(n)}$`,"i");return e=>null!=e&&r.test(e.toString())},InputComponent:ML},{value:"isEmpty",getApplyFilterFn:BD(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:BD(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||0===t.value.length)return null;const n=e?t.value:t.value.map((e=>e.trim())),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return e=>null!=e&&n.some((t=>0===r.compare(t,e.toString()||"")))},InputComponent:fD}]}(),renderEditCell:e=>(0,Ty.jsx)(vL,Yp({},e)),getApplyQuickFilterFn:e=>{if(!e)return null;const t=new RegExp(WR(e),"i");return(e,n,r,i)=>{let o=i.current.getRowFormattedValue(n,r);return i.current.ignoreDiacritics&&(o=CD(o)),null!=o&&t.test(o.toString())}}},LD=e=>null==e?null:Number(e),DD=Yp({},OD,{type:"number",align:"right",headerAlign:"right",sortComparator:EL,valueParser:e=>""===e?null:Number(e),valueFormatter:e=>function(e){return"number"===typeof e&&!Number.isNaN(e)}(e)?e.toLocaleString():e||"",filterOperators:[{value:"=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>LD(t)===e.value,InputComponent:ML,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>LD(t)!==e.value,InputComponent:ML,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&LD(t)>e.value,InputComponent:ML,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&LD(t)>=e.value,InputComponent:ML,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&LD(t)<e.value,InputComponent:ML,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>null==e.value||Number.isNaN(e.value)?null:t=>null!=t&&LD(t)<=e.value,InputComponent:ML,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>Array.isArray(e.value)&&0!==e.value.length?t=>null!=t&&e.value.includes(Number(t)):null,InputComponent:fD,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:e=>null==e||Number.isNaN(e)||""===e?null:t=>LD(t)===LD(e)}),ND=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function FD(e,t){if(null==e)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":"date"===t?n.toISOString().substring(0,10):"datetime-local"===t?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function jD(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:a,InputProps:s,clearButton:l,tabIndex:c,disabled:u}=e,d=Ly(e,ND),h=Up(),[p,f]=i.useState((()=>FD(t.value,r))),[m,g]=i.useState(!1),v=Lb(),y=qC(),b=i.useCallback((e=>{h.clear();const r=e.target.value;f(r),g(!0),h.start(y.filterDebounceMs,(()=>{const e=new Date(r);n(Yp({},t,{value:Number.isNaN(e.getTime())?void 0:e})),g(!1)}))}),[n,t,y.filterDebounceMs,h]);return i.useEffect((()=>{const e=FD(t.value,r);f(e)}),[t.value,r]),(0,Ty.jsx)(y.slots.baseTextField,Yp({fullWidth:!0,id:v,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:b,variant:"standard",type:r||"text",InputLabelProps:{shrink:!0},inputRef:a,InputProps:Yp({},m||l?{endAdornment:m?(0,Ty.jsx)(y.slots.loadIcon,{fontSize:"small",color:"action"}):l}:{},{disabled:u},s,{inputProps:Yp({max:"datetime-local"===r?"9999-12-31T23:59":"9999-12-31",tabIndex:c},s?.inputProps)})},d,y.slotProps?.baseTextField))}function UD(e,t,n,r){if(!e.value)return null;const i=new Date(e.value);n?i.setSeconds(0,0):(i.setMinutes(i.getMinutes()+i.getTimezoneOffset()),i.setHours(0,0,0,0));const o=i.getTime();return e=>{if(!e)return!1;if(r)return t(e.getTime(),o);const i=new Date(e);return n?i.setSeconds(0,0):i.setHours(0,0,0,0),t(i.getTime(),o)}}const zD=e=>[{value:"is",getApplyFilterFn:t=>UD(t,((e,t)=>e===t),e),InputComponent:jD,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>UD(t,((e,t)=>e!==t),e),InputComponent:jD,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>UD(t,((e,t)=>e>t),e),InputComponent:jD,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>UD(t,((e,t)=>e>=t),e),InputComponent:jD,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>UD(t,((e,t)=>e<t),e,!e),InputComponent:jD,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>UD(t,((e,t)=>e<=t),e),InputComponent:jD,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>e=>null==e,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>null!=e,requiresFilterValue:!1}],HD=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],VD=Ay(PI)({fontSize:"inherit"});function GD(e){const{id:t,value:n,field:r,colDef:o,hasFocus:a,inputProps:s,onValueChange:l}=e,c=Ly(e,HD),u="dateTime"===o.type,d=OE(),h=i.useRef(null),p=i.useMemo((()=>{let e,t;if(e=null==n?null:n instanceof Date?n:new Date((n??"").toString()),null==e||Number.isNaN(e.getTime()))t="";else{t=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3).toISOString().substr(0,u?16:10)}return{parsed:e,formatted:t}}),[n,u]),[f,m]=i.useState(p),g=(e=>{const{classes:t}=e;return Op({root:["editInputCell"]},GC,t)})({classes:qC().classes}),v=i.useCallback((e=>{if(""===e)return null;const[t,n]=e.split("T"),[r,i,o]=t.split("-"),a=new Date;if(a.setFullYear(Number(r),Number(i)-1,Number(o)),a.setHours(0,0,0,0),n){const[e,t]=n.split(":");a.setHours(Number(e),Number(t),0,0)}return a}),[]),y=i.useCallback((async e=>{const n=e.target.value,i=v(n);l&&await l(e,i),m({parsed:i,formatted:n}),d.current.setEditCellValue({id:t,field:r,value:i},e)}),[d,r,t,l,v]);return i.useEffect((()=>{m((e=>p.parsed!==e.parsed&&p.parsed?.getTime()!==e.parsed?.getTime()?p:e))}),[p]),zp((()=>{a&&h.current.focus()}),[a]),(0,Ty.jsx)(VD,Yp({inputRef:h,fullWidth:!0,className:g.root,type:u?"datetime-local":"date",inputProps:Yp({max:u?"9999-12-31T23:59":"9999-12-31"},s),value:f.formatted,onChange:y},c))}const QD=e=>(0,Ty.jsx)(GD,Yp({},e)),WD=(e,t)=>MM in t?t[MM]:e.props.getRowId?e.props.getRowId(t):t.id;function qD(e){let{value:t,columnType:n,rowId:r,field:i}=e;if(!(t instanceof Date))throw new Error([`MUI X: \`${n}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${r}, field: "${i}".`].join("\n"))}const $D=Yp({},OD,{type:"date",sortComparator:SL,valueFormatter:(e,t,n,r)=>{if(!e)return"";return qD({value:e,columnType:"date",rowId:WD(r.current.state,t),field:n.field}),e.toLocaleDateString()},filterOperators:zD(),renderEditCell:QD,pastedValueParser:e=>new Date(e)}),XD=Yp({},OD,{type:"dateTime",sortComparator:SL,valueFormatter:(e,t,n,r)=>{if(!e)return"";return qD({value:e,columnType:"dateTime",rowId:WD(r.current.state,t),field:n.field}),e.toLocaleString()},filterOperators:zD(!0),renderEditCell:QD,pastedValueParser:e=>new Date(e)}),KD="__row_group_by_columns_group__",YD="__detail_panel_toggle__";let JD=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const ZD=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"];function eN(e){const{value:t,rowNode:n}=e,r=Ly(e,ZD),o=OE(),a=qC(),s=(e=>{const{classes:t}=e;return Op({root:["booleanCell"]},GC,t)})({classes:a.classes}),l=cE(o,wM)>0&&"group"===n.type&&!1===a.treeData,c=i.useMemo((()=>t?a.slots.booleanCellTrueIcon:a.slots.booleanCellFalseIcon),[a.slots.booleanCellFalseIcon,a.slots.booleanCellTrueIcon,t]);return l&&void 0===t?null:(0,Ty.jsx)(c,Yp({fontSize:"small",className:s.root,titleAccess:o.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(t)},r))}const tN=i.memo(eN),nN=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function rN(e){const{id:t,value:n,field:r,className:o,hasFocus:a,onValueChange:s}=e,l=Ly(e,nN),c=OE(),u=i.useRef(null),d=Lb(),[h,p]=i.useState(n),f=qC(),m=(e=>{const{classes:t}=e;return Op({root:["editBooleanCell"]},GC,t)})({classes:f.classes}),g=i.useCallback((async e=>{const n=e.target.checked;s&&await s(e,n),p(n),await c.current.setEditCellValue({id:t,field:r,value:n},e)}),[c,r,t,s]);return i.useEffect((()=>{p(n)}),[n]),zp((()=>{a&&u.current.focus()}),[a]),(0,Ty.jsx)("label",Yp({htmlFor:d,className:ib(m.root,o)},l,{children:(0,Ty.jsx)(f.slots.baseCheckbox,Yp({id:d,inputRef:u,checked:Boolean(h),onChange:g,size:"small"},f.slotProps?.baseCheckbox))}))}const iN=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],oN=e=>"true"===String(e).toLowerCase()||"false"!==String(e).toLowerCase()&&void 0,aN=Ay("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function sN(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,clearButton:a,tabIndex:s,label:l,variant:c="standard"}=e,u=Ly(e,iN),[d,h]=i.useState(oN(t.value)),p=qC(),f=Lb(),m=Lb(),g=p.slotProps?.baseSelect||{},v=g.native??!1,y=p.slotProps?.baseSelectOption||{},b=i.useCallback((e=>{const r=oN(e.target.value);h(r),n(Yp({},t,{value:r}))}),[n,t]);i.useEffect((()=>{h(oN(t.value))}),[t.value]);const A=l??r.current.getLocaleText("filterPanelInputLabel");return(0,Ty.jsxs)(aN,{children:[(0,Ty.jsxs)(p.slots.baseFormControl,{fullWidth:!0,children:[(0,Ty.jsx)(p.slots.baseInputLabel,Yp({},p.slotProps?.baseInputLabel,{id:f,shrink:!0,variant:c,children:A})),(0,Ty.jsxs)(p.slots.baseSelect,Yp({labelId:f,id:m,label:A,value:void 0===d?"":String(d),onChange:b,variant:c,notched:"outlined"===c||void 0,native:v,displayEmpty:!0,inputProps:{ref:o,tabIndex:s}},u,g,{children:[(0,Ty.jsx)(p.slots.baseSelectOption,Yp({},y,{native:v,value:"",children:r.current.getLocaleText("filterValueAny")})),(0,Ty.jsx)(p.slots.baseSelectOption,Yp({},y,{native:v,value:"true",children:r.current.getLocaleText("filterValueTrue")})),(0,Ty.jsx)(p.slots.baseSelectOption,Yp({},y,{native:v,value:"false",children:r.current.getLocaleText("filterValueFalse")}))]}))]}),a]})}const lN=Yp({},OD,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:e=>e.field!==KD&&PM(e.rowNode)?"":(0,Ty.jsx)(tN,Yp({},e)),renderEditCell:e=>(0,Ty.jsx)(rN,Yp({},e)),sortComparator:EL,valueFormatter:(e,t,n,r)=>e?r.current.getLocaleText("booleanCellTrueLabel"):r.current.getLocaleText("booleanCellFalseLabel"),filterOperators:[{value:"is",getApplyFilterFn:e=>{const t=oN(e.value);return void 0===t?null:e=>Boolean(e)===t},InputComponent:sN}],getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:e=>(e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}})(e)});var cN=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(cN||{}),uN=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(uN||{}),dN=function(e){return e.Cell="cell",e.Row="row",e}(dN||{}),hN=function(e){return e.Edit="edit",e.View="view",e}(hN||{}),pN=function(e){return e.Edit="edit",e.View="view",e}(pN||{});function fN(e){return"singleSelect"===e?.type}function mN(e,t){if(e)return"function"===typeof e.valueOptions?e.valueOptions(Yp({field:e.field},t)):e.valueOptions}function gN(e,t,n){if(void 0===t)return;const r=t.find((t=>{const r=n(t);return String(r)===String(e)}));return n(r)}const vN=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],yN=["MenuProps"];function bN(e){const t=qC(),{id:n,value:r,field:o,row:a,colDef:s,hasFocus:l,error:c,onValueChange:u,initialOpen:d=t.editMode===dN.Cell}=e,h=Ly(e,vN),p=OE(),f=i.useRef(null),m=i.useRef(null),[g,v]=i.useState(d),y=(t.slotProps?.baseSelect||{}).native??!1,b=t.slotProps?.baseSelect||{},{MenuProps:A}=b,x=Ly(b,yN);if(zp((()=>{l&&m.current?.focus()}),[l]),!fN(s))return null;const w=mN(s,{id:n,row:a});if(!w)return null;const C=s.getOptionValue,E=s.getOptionLabel;return w&&s?(0,Ty.jsx)(t.slots.baseSelect,Yp({ref:f,inputRef:m,value:r,onChange:async e=>{if(!fN(s)||!w)return;v(!1);const t=gN(e.target.value,w,C);u&&await u(e,t),await p.current.setEditCellValue({id:n,field:o,value:t},e)},open:g,onOpen:e=>{(function(e){return!!e.key})(e)&&"Enter"===e.key||v(!0)},MenuProps:Yp({onClose:(e,r)=>{if(t.editMode!==dN.Row){if("backdropClick"===r||"Escape"===e.key){const t=p.current.getCellParams(n,o);p.current.publishEvent("cellEditStop",Yp({},t,{reason:"Escape"===e.key?uN.escapeKeyDown:uN.cellFocusOut}))}}else v(!1)}},A),error:c,native:y,fullWidth:!0},h,x,{children:w.map((e=>{const n=C(e);return(0,i.createElement)(t.slots.baseSelectOption,Yp({},t.slotProps?.baseSelectOption||{},{native:y,key:n,value:n}),E(e))}))})):null}const AN=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],xN=e=>{let{column:t,OptionComponent:n,getOptionLabel:r,getOptionValue:o,isSelectNative:a,baseSelectOptionProps:s}=e;return["",...mN(t)||[]].map((e=>{const t=o(e);let l=r(e);return""===l&&(l="\u2003"),(0,i.createElement)(n,Yp({},s,{native:a,key:t,value:t}),l)}))},wN=Ay("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function CN(e){const{item:t,applyValue:n,type:r,apiRef:o,focusElementRef:a,placeholder:s,tabIndex:l,label:c,variant:u="standard",clearButton:d}=e,h=Ly(e,AN),p=t.value??"",f=Lb(),m=Lb(),g=qC(),v=g.slotProps?.baseSelect?.native??!1;let y=null;if(t.field){const e=o.current.getColumn(t.field);fN(e)&&(y=e)}const b=y?.getOptionValue,A=y?.getOptionLabel,x=i.useMemo((()=>mN(y)),[y]),w=i.useCallback((e=>{let r=e.target.value;r=gN(r,x,b),n(Yp({},t,{value:r}))}),[x,b,n,t]);if(!fN(y))return null;const C=c??o.current.getLocaleText("filterPanelInputLabel");return(0,Ty.jsxs)(wN,{children:[(0,Ty.jsxs)(g.slots.baseFormControl,{fullWidth:!0,children:[(0,Ty.jsx)(g.slots.baseInputLabel,Yp({},g.slotProps?.baseInputLabel,{id:m,htmlFor:f,shrink:!0,variant:u,children:C})),(0,Ty.jsx)(g.slots.baseSelect,Yp({id:f,label:C,labelId:m,value:p,onChange:w,variant:u,type:r||"text",inputProps:{tabIndex:l,ref:a,placeholder:s??o.current.getLocaleText("filterPanelInputPlaceholder")},native:v,notched:"outlined"===u||void 0},h,g.slotProps?.baseSelect,{children:xN({column:y,OptionComponent:g.slots.baseSelectOption,getOptionLabel:A,getOptionValue:b,isSelectNative:v,baseSelectOptionProps:g.slotProps?.baseSelectOption})}))]}),d]})}const EN=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],SN=["key"],_N=kL();function MN(e){const{item:t,applyValue:n,apiRef:r,focusElementRef:o,color:a,error:s,helperText:l,size:c,variant:u="standard"}=e,d=Ly(e,EN),h={color:a,error:s,helperText:l,size:c,variant:u},p=Lb(),f=qC();let m=null;if(t.field){const e=r.current.getColumn(t.field);fN(e)&&(m=e)}const g=m?.getOptionValue,v=m?.getOptionLabel,y=i.useCallback(((e,t)=>g(e)===g(t)),[g]),b=i.useMemo((()=>mN(m)||[]),[m]),A=i.useMemo((()=>Array.isArray(t.value)?t.value.reduce(((e,t)=>{const n=b.find((e=>g(e)===t));return null!=n&&e.push(n),e}),[]):[]),[g,t.value,b]),x=i.useCallback(((e,r)=>{n(Yp({},t,{value:r.map(g)}))}),[n,t,g]);return(0,Ty.jsx)(dD,Yp({multiple:!0,options:b,isOptionEqualToValue:y,filterOptions:_N,id:p,value:A,onChange:x,getOptionLabel:v,renderTags:(e,t)=>e.map(((e,n)=>{const r=t({index:n}),{key:i}=r,o=Ly(r,SN);return(0,Ty.jsx)(f.slots.baseChip,Yp({variant:"outlined",size:"small",label:v(e)},o),i)})),renderInput:e=>(0,Ty.jsx)(f.slots.baseTextField,Yp({},e,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:Yp({},e.InputLabelProps,{shrink:!0}),inputRef:o,type:"singleSelect"},h,f.slotProps?.baseTextField))},d))}const IN=e=>null!=e&&QR(e)?e.value:e,TN=Yp({},OD,{type:"singleSelect",getOptionLabel:e=>QR(e)?e.label:String(e),getOptionValue:e=>QR(e)?e.value:e,valueFormatter(e,t,n,r){const i=WD(r.current.state,t);if(!fN(n))return"";const o=mN(n,{id:i,row:t});if(null==e)return"";if(!o)return e;if("object"!==typeof o[0])return n.getOptionLabel(e);const a=o.find((t=>n.getOptionValue(t)===e));return a?n.getOptionLabel(a):""},renderEditCell:e=>(0,Ty.jsx)(bN,Yp({},e)),filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>IN(t)===IN(e.value),InputComponent:CN},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:t=>IN(t)!==IN(e.value),InputComponent:CN},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||0===e.value.length)return null;const t=e.value.map(IN);return e=>t.includes(IN(e))},InputComponent:MN}],pastedValueParser:(e,t,n)=>{const r=n,i=mN(r)||[],o=r.getOptionValue;if(i.find((t=>o(t)===e)))return e}}),RN=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function kN(e){const{colDef:t,id:n,hasFocus:r,tabIndex:o,position:a="bottom-end",focusElementRef:s}=e,l=Ly(e,RN),[c,u]=i.useState(-1),[d,h]=i.useState(!1),p=OE(),f=i.useRef(null),m=i.useRef(null),g=i.useRef(!1),v=i.useRef({}),y=aC(),b=Lb(),A=Lb(),x=qC();if(!(e=>"function"===typeof e.getActions)(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const w=t.getActions(p.current.getRowParams(n)),C=w.filter((e=>!e.props.showInMenu)),E=w.filter((e=>e.props.showInMenu)),S=C.length+(E.length?1:0);i.useLayoutEffect((()=>{r||Object.entries(v.current).forEach((e=>{let[t,n]=e;n?.stop({},(()=>{delete v.current[t]}))}))}),[r]),i.useEffect((()=>{if(c<0||!f.current)return;if(c>=f.current.children.length)return;f.current.children[c].focus({preventScroll:!0})}),[c]),i.useEffect((()=>{r||(u(-1),g.current=!1)}),[r]),i.useImperativeHandle(s,(()=>({focus(){if(!g.current){const e=w.findIndex((e=>!e.props.disabled));u(e)}}})),[w]),i.useEffect((()=>{c>=S&&u(S-1)}),[c,S]);const _=()=>{h(!1)},M=e=>t=>{v.current[e]=t},I=(e,t)=>n=>{u(e),g.current=!0,t&&t(n)};return(0,Ty.jsxs)("div",Yp({role:"menu",ref:f,tabIndex:-1,className:QC.actionsCell,onKeyDown:e=>{if(S<=1)return;const t=(e,n)=>{if(e<0||e>w.length)return e;const r=("left"===n?-1:1)*(y?-1:1);return w[e+r]?.props.disabled?t(e+r,n):e+r};let n=c;"ArrowRight"===e.key?n=t(c,"right"):"ArrowLeft"===e.key&&(n=t(c,"left")),n<0||n>=S||n!==c&&(e.preventDefault(),e.stopPropagation(),u(n))}},l,{children:[C.map(((e,t)=>i.cloneElement(e,{key:t,touchRippleRef:M(t),onClick:I(t,e.props.onClick),tabIndex:c===t?o:-1}))),E.length>0&&A&&(0,Ty.jsx)(x.slots.baseIconButton,Yp({ref:m,id:A,"aria-label":p.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?b:void 0,role:"menuitem",size:"small",onClick:()=>{d?_():(h(!0),u(S-1),g.current=!0)},touchRippleRef:M(A),tabIndex:c===C.length?o:-1},x.slotProps?.baseIconButton,{children:(0,Ty.jsx)(x.slots.moreActionsIcon,{fontSize:"small"})})),E.length>0&&(0,Ty.jsx)(K_,{open:d,target:m.current,position:a,onClose:_,children:(0,Ty.jsx)(JE,{id:b,className:QC.menuList,onKeyDown:e=>{"Tab"===e.key&&e.preventDefault(),["Tab","Escape"].includes(e.key)&&_()},"aria-labelledby":A,variant:"menu",autoFocusItem:!0,children:E.map(((e,t)=>i.cloneElement(e,{key:t,closeMenu:_})))})})]}))}const PN="actions",BN=Yp({},OD,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:e=>(0,Ty.jsx)(kN,Yp({},e)),getApplyQuickFilterFn:void 0}),ON=e=>e.headerFiltering,LN=ME(ON,(e=>e?.enabled??!1)),DN=ME(ON,(e=>e.editing)),NN=ME(ON,(e=>e.menuOpen)),FN=e=>e.columnGrouping,jN=TE(FN,(e=>e?.unwrappedGroupingModel??{})),UN=TE(FN,(e=>e?.lookup??{})),zN=TE(FN,(e=>e?.headerStructure??[])),HN=ME(FN,(e=>e?.maxDepth??0)),VN=["maxWidth","minWidth","width","flex"],GN={string:OD,number:DD,date:$D,dateTime:XD,boolean:lN,singleSelect:TN,[PN]:BN,custom:OD};const QN=(e,t)=>{const n={};let r=0,i=0;const o=[];e.orderedFields.forEach((t=>{let a=e.lookup[t],s=0,l=!1;!1!==e.columnVisibilityModel[t]&&(a.flex&&a.flex>0?(r+=a.flex,l=!0):s=qR(a.width||OD.width,a.minWidth||OD.minWidth,a.maxWidth||OD.maxWidth),i+=s),a.computedWidth!==s&&(a=Yp({},a,{computedWidth:s})),l&&o.push(a),n[t]=a}));const a=void 0===t?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),s=Math.max(a-i,0);if(r>0&&a>0){const e=function(e){let{initialFreeSpace:t,totalFlexUnits:n,flexColumns:r}=e;const i=new Set(r.map((e=>e.field))),o={all:{},frozenFields:[],freeze:e=>{const t=o.all[e];t&&!0!==t.frozen&&(o.all[e].frozen=!0,o.frozenFields.push(e))}};return function e(){if(o.frozenFields.length===i.size)return;const a={min:{},max:{}};let s=t,l=n,c=0;o.frozenFields.forEach((e=>{s-=o.all[e].computedWidth,l-=o.all[e].flex}));for(let t=0;t<r.length;t+=1){const e=r[t];if(o.all[e.field]&&!0===o.all[e.field].frozen)continue;let n=s/l*e.flex;n<e.minWidth?(c+=e.minWidth-n,n=e.minWidth,a.min[e.field]=!0):n>e.maxWidth&&(c+=e.maxWidth-n,n=e.maxWidth,a.max[e.field]=!0),o.all[e.field]={frozen:!1,computedWidth:n,flex:e.flex}}c<0?Object.keys(a.max).forEach((e=>{o.freeze(e)})):c>0?Object.keys(a.min).forEach((e=>{o.freeze(e)})):r.forEach((e=>{let{field:t}=e;o.freeze(t)})),e()}(),o.all}({initialFreeSpace:s,totalFlexUnits:r,flexColumns:o});Object.keys(e).forEach((t=>{n[t].computedWidth=e[t].computedWidth}))}return Yp({},e,{lookup:n})};function WN(e){let t=GN.string;return e&&GN[e]&&(t=GN[e]),t}const qN=e=>{let{apiRef:t,columnsToUpsert:n,initialState:r,columnVisibilityModel:i=iM(t),keepOnlyColumnsToUpsert:o=!1}=e;const a=!t.current.state.columns;let s;if(a)s={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const e=eM(t.current.state);s={orderedFields:o?[]:[...e.orderedFields],lookup:Yp({},e.lookup),columnVisibilityModel:i}}let l={};o&&!a&&(l=Object.keys(s.lookup).reduce(((e,t)=>Yp({},e,{[t]:!1})),{}));const c={};n.forEach((e=>{const{field:t}=e;c[t]=!0,l[t]=!0;let n=s.lookup[t];null==n?(n=Yp({},WN(e.type),{field:t,hasBeenResized:!1}),s.orderedFields.push(t)):o&&s.orderedFields.push(t),n&&n.type!==e.type&&(n=Yp({},WN(e.type),{field:t}));let r=n.hasBeenResized;VN.forEach((t=>{void 0!==e[t]&&(r=!0,-1===e[t]&&(e[t]=1/0))})),s.lookup[t]=Iy(n,Yp({},e,{hasBeenResized:r}))})),o&&!a&&Object.keys(s.lookup).forEach((e=>{l[e]||delete s.lookup[e]}));const u=((e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,i=Object.keys(r);if(0===i.length&&0===n.length)return e;const o={},a=[];for(let c=0;c<n.length;c+=1){const t=n[c];e.lookup[t]&&(o[t]=!0,a.push(t))}const s=0===a.length?e.orderedFields:[...a,...e.orderedFields.filter((e=>!o[e]))],l=Yp({},e.lookup);for(let c=0;c<i.length;c+=1){const e=i[c],t=Yp({},l[e],{hasBeenResized:!0});Object.entries(r[e]).forEach((e=>{let[n,r]=e;t[n]=-1===r?1/0:r})),l[e]=t}return Yp({},e,{orderedFields:s,lookup:l})})(t.current.unstable_applyPipeProcessors("hydrateColumns",s),r);return QN(u,t.current.getRootDimensions?.()??void 0)};function $N(e,t){if(t.unstable_listView)return 0;const n=mS(e),r=HN(e),i=LN(e);return Math.floor(t.columnHeaderHeight*n)+Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n)*r+(i?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0)}const XN=VC("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${QC["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${QC["scrollArea--right"]}`]:t["scrollArea--right"]},t.scrollArea]})((()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,[`&.${QC["scrollArea--left"]}`]:{left:0},[`&.${QC["scrollArea--right"]}`]:{right:0}}))),KN=IE(KO,((e,t)=>"left"===t?e.leftPinnedWidth:"right"===t?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0));function YN(e){const{scrollDirection:t,scrollPosition:n}=e,r=i.useRef(null),o=OE(),a=Up(),s=cE(o,mS),l=cE(o,YO),c=uE(o,KN,t),u=()=>{const e=KO(o.current.state);if("left"===t)return n.current.left>0;if("right"===t){const t=l-e.viewportInnerSize.width;return n.current.left<t}return!1},[d,h]=i.useState(u),p=qC(),f=Yp({},p,{scrollDirection:t}),m=(e=>{const{scrollDirection:t,classes:n}=e;return Op({root:["scrollArea",`scrollArea--${t}`]},GC,n)})(f),g=$N(o,p),v=Math.floor(p.columnHeaderHeight*s),y={height:v,top:g-v};"left"===t?y.left=c:"right"===t&&(y.right=c);const b=Hp((e=>{let i;if(e.preventDefault(),"left"===t)i=e.clientX-r.current.getBoundingClientRect().right;else{if("right"!==t)throw new Error("MUI X: Wrong drag direction");i=Math.max(1,e.clientX-r.current.getBoundingClientRect().left)}i=1.5*(i-1)+1,a.start(0,(()=>{o.current.scroll({left:n.current.left+i,top:n.current.top})}))}));return hL(o,"scrollPositionChange",(()=>{h(u)})),d?(0,Ty.jsx)(XN,{ref:r,className:ib(m.root),ownerState:f,onDragOver:b,style:y}):null}const JN=LO((function(e){const t=OE(),[n,r]=i.useState(!1);return hL(t,"columnHeaderDragStart",(()=>r(!0))),hL(t,"columnHeaderDragEnd",(()=>r(!1))),n?(0,Ty.jsx)(YN,Yp({},e)):null}));var ZN=n(9037);const eF=()=>{},tF=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):-1===e?n+2:0,nF=e=>({page:0,pageSize:e?0:100}),rF=(e,t)=>{if(t===cL.DataGrid&&e>100)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"))},iF=e=>e.pagination,oF=ME(iF,(e=>e.enabled&&"client"===e.paginationMode)),aF=ME(iF,(e=>e.paginationModel)),sF=ME(iF,(e=>e.rowCount)),lF=ME(iF,(e=>e.meta)),cF=ME(aF,(e=>e.page)),uF=ME(aF,(e=>e.pageSize)),dF=ME(aF,sF,((e,t)=>tF(t,e.pageSize,e.page))),hF=TE(oF,aF,yM,wM,qM,YM,((e,t,n,r,i,o)=>{if(!e)return null;const a=o.length,s=Math.min(t.pageSize*t.page,a-1),l=-1===t.pageSize?a-1:Math.min(s+t.pageSize-1,a-1);if(-1===s||-1===l)return null;if(r<2)return{firstRowIndex:s,lastRowIndex:l};const c=o[s],u=l-s+1,d=i.findIndex((e=>e.id===c.id));let h=d,p=0;for(;h<i.length&&p<=u;){const e=i[h],t=n[e.id]?.depth;void 0===t?h+=1:((p<u||t>0)&&(h+=1),0===t&&(p+=1))}return{firstRowIndex:d,lastRowIndex:h-1}})),pF=TE(qM,hF,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),fF=TE($M,hF,((e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[])),mF=TE(oF,hF,pF,qM,((e,t,n,r)=>e?{rows:n,range:t,rowToIndexMap:n.reduce(((e,t,n)=>(e.set(t.model,n),e)),new Map)}:{rows:r,range:0===r.length?null:{firstRowIndex:0,lastRowIndex:r.length-1},rowToIndexMap:r.reduce(((e,t,n)=>(e.set(t.model,n),e)),new Map)})),gF=(e,t)=>mF(e),vF=(e,t)=>cE(e,mF),yF=("undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"empty").includes("firefox"),bF=e=>e.rowSelection,AF=ME(bF,(e=>e.length)),xF=TE(bF,gM,((e,t)=>new Map(e.map((e=>[e,t[e]]))))),wF=TE(bF,(e=>e.reduce(((e,t)=>(e[t]=t,e)),{}))),CF=e=>e.rowsMeta,EF=e=>e.virtualization,SF=(ME(EF,(e=>e.enabled)),ME(EF,(e=>e.enabledForColumns))),_F=ME(EF,(e=>e.enabledForRows)),MF=ME(EF,(e=>e.renderContext)),IF=TE((e=>e.virtualization.renderContext.firstColumnIndex),(e=>e.virtualization.renderContext.lastColumnIndex),((e,t)=>({firstColumnIndex:e,lastColumnIndex:t})));function TF(e,t,n){const r=i.useRef(!0);zp((()=>{r.current=!1,e.current.register(n,t)}),[e,n,t]),r.current&&e.current.register(n,t)}const RF={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},kF=(e,t)=>{const{disableVirtualization:n,autoHeight:r}=t;return Yp({},e,{virtualization:{enabled:!n,enabledForColumns:!n,enabledForRows:!n&&!r,renderContext:RF}})};const PF=e=>e.rowSpanning,BF=ME(PF,(e=>e.hiddenCells)),OF=ME(PF,(e=>e.spannedCells)),LF=ME(PF,(e=>e.hiddenCellOriginMap)),DF=e=>e.listViewColumn,NF=e=>e.focus,FF=ME(NF,(e=>e.cell)),jF=ME(NF,(e=>e.columnHeader)),UF=(ME(NF,(e=>e.columnHeaderFilter)),ME(NF,(e=>e.columnGroupHeader))),zF=e=>e.tabIndex,HF=ME(zF,(e=>e.cell)),VF=ME(zF,(e=>e.columnHeader)),GF=(ME(zF,(e=>e.columnHeaderFilter)),ME(zF,(e=>e.columnGroupHeader))),QF=xE(FF,MF,mF,oM,gM,((e,t,n,r,i)=>{if(!e)return!1;const o=i[e.id];if(!o)return!1;const a=n.rowToIndexMap.get(o),s=r.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex((t=>t.field===e.field));return!(void 0!==a&&-1!==s&&a>=t.firstRowIndex&&a<=t.lastRowIndex)})),WF=TE(QF,oM,mF,gM,FF,((e,t,n,r,i)=>{if(!e)return null;const o=r[i.id];if(!o)return null;const a=n.rowToIndexMap.get(o);if(void 0===a)return null;const s=t.findIndex((e=>e.field===i.field));return-1===s?null:Yp({},i,{rowIndex:a,columnIndex:s})}));function qF(e,t){return Math.round(e*10**t)/10**t}const $F="undefined"!==typeof window&&/jsdom|HappyDOM/.test(window.navigator.userAgent);var XF=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}(XF||{});const KF={top:0,left:0},YF=Object.freeze(new Map),JF=()=>{const e=NO(),t=qC(),{unstable_listView:n}=t,r=cE(e,(()=>n?[DF(e.current.state)]:oM(e))),o=cE(e,_F)&&!$F,a=cE(e,SF)&&!$F,s=cE(e,EM),l=sM(e),c=n?Z_:l,u=s.bottom.length>0,[d,h]=i.useState(YF),p=aC(),f=cE(e,wF),m=vF(e),g=e.current.mainElementRef,v=e.current.virtualScrollerRef,y=e.current.virtualScrollbarVerticalRef,b=e.current.virtualScrollbarHorizontalRef,A=cE(e,dM),x=i.useRef(!1),w=cE(e,JO),C=cE(e,ZO),E=cE(e,YO),S=cE(e,ZF),_=cE(e,oL),M=cE(e,nL),I=i.useRef(null),T=i.useCallback((t=>{if(g.current=t,!t)return;const n=t.getBoundingClientRect();let r={width:qF(n.width,1),height:qF(n.height,1)};if((!I.current||r.width!==I.current.width&&r.height!==I.current.height)&&(I.current=r,e.current.publishEvent("resize",r)),"undefined"===typeof ResizeObserver)return;const i=new ResizeObserver((t=>{const n=t[0];if(!n)return;const i={width:qF(n.contentRect.width,1),height:qF(n.contentRect.height,1)};i.width===r.width&&i.height===r.height||(e.current.publishEvent("resize",i),r=i)}));return i.observe(t),ZN.A>=19?()=>{g.current=null,i.disconnect()}:void 0}),[e,g]),R=i.useRef(t.initialState?.scroll??KF),k=i.useRef(!1),P=i.useRef(KF),B=i.useRef(RF),O=cE(e,MF),L=cE(e,WF),D=Up(),N=i.useRef(void 0),F=Dp((()=>((e,t,n,r,i)=>({direction:XF.NONE,buffer:aj(e,XF.NONE,t,n,r,i)}))(p,t.rowBufferPx,t.columnBufferPx,15*w,300))).current,j=i.useCallback((t=>{if(function(e,t){if(e===t)return!0;return e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}(t,e.current.state.virtualization.renderContext))return;const n=t.firstRowIndex!==B.current.firstRowIndex||t.lastRowIndex!==B.current.lastRowIndex;e.current.setState((e=>Yp({},e,{virtualization:Yp({},e.virtualization,{renderContext:t})})));KO(e.current.state).isReady&&n&&(B.current=t,e.current.publishEvent("renderedRowsIntervalChange",t)),P.current=R.current}),[e]),U=Hp((()=>{const n=v.current;if(!n)return;const r=KO(e.current.state),i=Math.ceil(r.minimumSize.height-r.viewportOuterSize.height),s=Math.ceil(r.minimumSize.width-r.viewportInnerSize.width),l={top:qR(n.scrollTop,0,i),left:p?qR(n.scrollLeft,-s,0):qR(n.scrollLeft,0,s)},c=l.left-R.current.left,u=l.top-R.current.top,d=0!==c||0!==u;R.current=l;const h=d?function(e,t){if(0===e&&0===t)return XF.NONE;return Math.abs(t)>=Math.abs(e)?t>0?XF.DOWN:XF.UP:e>0?XF.RIGHT:XF.LEFT}(c,u):XF.NONE,f=Math.abs(R.current.top-P.current.top),m=Math.abs(R.current.left-P.current.left),g=f>=w||m>=50,y=F.direction!==h;if(!(g||y))return O;if(y)switch(h){case XF.NONE:case XF.LEFT:case XF.RIGHT:N.current=void 0;break;default:N.current=O}F.direction=h,F.buffer=aj(p,h,t.rowBufferPx,t.columnBufferPx,15*w,300);const b=tj(ej(e,t,o,a),R.current,F);return Fy.flushSync((()=>{j(b)})),D.start(1e3,U),b})),z=()=>{if(!KO(e.current.state).isReady&&(o||a))return;const n=tj(ej(e,t,o,a),R.current,F);N.current=void 0,j(n)},H=Hp((()=>{if(k.current)return void(k.current=!1);const t=U();e.current.publishEvent("scrollPositionChange",{top:R.current.top,left:R.current.left,renderContext:t})})),V=Hp((t=>{e.current.publishEvent("virtualScrollerWheel",{},t)})),G=Hp((t=>{e.current.publishEvent("virtualScrollerTouchMove",{},t)})),Q=i.useMemo((()=>({overflowX:!S||n?"hidden":void 0,overflowY:t.autoHeight?"hidden":void 0})),[S,t.autoHeight,n]),W=i.useMemo((()=>{const e={width:S?E:"auto",flexBasis:C,flexShrink:0};return 0===e.flexBasis&&(e.flexBasis=LM),e}),[E,C,S]),q=i.useCallback((t=>{t&&e.current.publishEvent("virtualScrollerContentSizeChange",{columnsTotalWidth:E,contentHeight:C})}),[e,E,C]);return zp((()=>{x.current&&e.current.updateRenderContext?.()}),[e,a,o]),zp((()=>{n&&(v.current.scrollLeft=0)}),[n,v]),((e,t)=>{const n=i.useRef(!1);zp((()=>n.current||!e?eF:(n.current=!0,t())),[n.current||e])})(O!==RF,(()=>{if(e.current.publishEvent("scrollPositionChange",{top:R.current.top,left:R.current.left,renderContext:O}),x.current=!0,t.initialState?.scroll&&v.current){const n=v.current,{top:r,left:i}=t.initialState.scroll,o={top:!(r>0),left:!(i>0)};if(!o.left&&E&&(n.scrollLeft=i,k.current=!0,o.left=!0),!o.top&&C&&(n.scrollTop=r,k.current=!0,o.top=!0),!o.top||!o.left){const t=e.current.subscribeEvent("virtualScrollerContentSizeChange",(e=>{!o.left&&e.columnsTotalWidth&&(n.scrollLeft=i,k.current=!0,o.left=!0),!o.top&&e.contentHeight&&(n.scrollTop=r,k.current=!0,o.top=!0),o.left&&o.top&&t()}));return t}}})),e.current.register("private",{updateRenderContext:z}),fL(e,"sortedRowsSet",z),fL(e,"paginationModelChange",z),fL(e,"columnsChange",z),{renderContext:O,setPanels:h,getRows:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!n.rows&&!m.range)return[];let i=O;n.renderContext&&(i=n.renderContext,i.firstColumnIndex=O.firstColumnIndex,i.lastColumnIndex=O.lastColumnIndex);const o=!u&&void 0===n.position||u&&"bottom"===n.position,a=void 0!==n.position;let l;switch(n.position){case"top":l=0;break;case"bottom":l=s.top.length+m.rows.length;break;case void 0:l=s.top.length}const h=n.rows??m.rows,p=i.firstRowIndex,g=Math.min(i.lastRowIndex,h.length),v=n.rows?$R(0,n.rows.length):$R(p,g);let y=-1;!a&&L&&(L.rowIndex<p&&(v.unshift(L.rowIndex),y=L.rowIndex),L.rowIndex>g&&(v.push(L.rowIndex),y=L.rowIndex));const b=[],x=t.slotProps?.row,w=lM(e);return v.forEach((s=>{const{id:u,model:p}=h[s],g=(m?.range?.firstRowIndex||0)+l+s;if(A){const t=c.left.length,n=r.length-c.right.length;e.current.calculateColSpan({rowId:u,minFirstColumn:t,maxLastColumn:n,columns:r}),c.left.length>0&&e.current.calculateColSpan({rowId:u,minFirstColumn:0,maxLastColumn:c.left.length,columns:r}),c.right.length>0&&e.current.calculateColSpan({rowId:u,minFirstColumn:r.length-c.right.length,maxLastColumn:r.length,columns:r})}const v=e.current.rowHasAutoHeight(u)?"auto":e.current.unstable_getRowHeight(u);let C;C=null!=f[u]&&e.current.isRowSelectable(u);let S=!1;void 0===n.position&&(S=0===s);let I=!1;const T=s===h.length-1;if(o)if(a)I=T;else{s===m.rows.length-1&&(I=!0)}let R=i;N.current&&s>=N.current.firstRowIndex&&s<N.current.lastRowIndex&&(R=N.current);const k=s===y,P=L?.rowIndex===g,B=oj(w,R,c.left.length),O=T&&"top"===n.position,D=R.firstColumnIndex,F=R.lastColumnIndex;if(b.push((0,Ty.jsx)(t.slots.row,Yp({row:p,rowId:u,index:g,selected:C,offsetLeft:B,columnsTotalWidth:E,rowHeight:v,pinnedColumns:c,visibleColumns:r,firstColumnIndex:D,lastColumnIndex:F,focusedColumnIndex:P?L.columnIndex:void 0,isFirstVisible:S,isLastVisible:I,isNotVisible:k,showBottomBorder:O,scrollbarWidth:_,gridHasFiller:M},x),u)),k)return;const j=d.get(u);j&&b.push(j),void 0===n.position&&T&&b.push(e.current.getInfiniteLoadingTriggerElement?.({lastRowId:u}))})),b},getContainerProps:()=>({ref:T}),getScrollerProps:()=>({ref:v,onScroll:H,onWheel:V,onTouchMove:G,style:Q,role:"presentation",tabIndex:yF?-1:void 0}),getContentProps:()=>({style:W,role:"presentation",ref:q}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:y,scrollPosition:R}),getScrollbarHorizontalProps:()=>({ref:b,scrollPosition:R}),getScrollAreaProps:()=>({scrollPosition:R})}};function ZF(e){return e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width}function ej(e,t,n,r){const i=KO(e.current.state),o=gF(e),a=t.unstable_listView?[DF(e.current.state)]:oM(e),s=LF(e),l=e.current.state.rows.dataRowIds.at(-1),c=a.at(-1);return{enabledForRows:n,enabledForColumns:r,apiRef:e,autoHeight:t.autoHeight,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx,leftPinnedWidth:i.leftPinnedWidth,columnsTotalWidth:i.columnsTotalWidth,viewportInnerWidth:i.viewportInnerSize.width,viewportInnerHeight:i.viewportInnerSize.height,lastRowHeight:void 0!==l?e.current.unstable_getRowHeight(l):0,lastColumnWidth:c?.computedWidth??0,rowsMeta:CF(e.current.state),columnPositions:lM(e),rows:o.rows,range:o.range,pinnedColumns:sM(e),visibleColumns:a,hiddenCellsOriginMap:s,listView:t.unstable_listView??!1,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function tj(e,t,n){const r={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.visibleColumns.length};if(e.listView)return Yp({},r,{lastColumnIndex:1});const{top:i,left:o}=t,a=Math.abs(o)+e.leftPinnedWidth;if(e.enabledForRows){let t=Math.min(nj(e,i,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const n=e.hiddenCellsOriginMap[t];if(n){const e=Math.min(...Object.values(n));t=Math.min(t,e)}const o=e.autoHeight?t+e.rows.length:nj(e,i+e.viewportInnerHeight);r.firstRowIndex=t,r.lastRowIndex=o}if(e.enabledForColumns){let t=0,i=e.columnPositions.length,o=!1;const[s,l]=ij({firstIndex:r.firstRowIndex,lastIndex:r.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let n=s;n<l&&!o;n+=1){const t=e.rows[n];o=e.apiRef.current.rowHasAutoHeight(t.id)}o&&!e.virtualizeColumnsWithAutoRowHeight||(t=rj(a,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),i=rj(a+e.viewportInnerWidth,e.columnPositions)),r.firstColumnIndex=t,r.lastColumnIndex=i}const s=function(e,t,n){const[r,i]=ij({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[o,a]=ij({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:e.pinnedColumns.left.length,maxLastIndex:e.visibleColumns.length-e.pinnedColumns.right.length,bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),s=function(e){let{firstColumnToRender:t,apiRef:n,firstRowToRender:r,lastRowToRender:i,visibleRows:o}=e,a=t;for(let s=r;s<i;s+=1)if(o[s]){const e=o[s].id,r=n.current.unstable_getCellColSpanInfo(e,t);r&&r.spannedByColSpan&&(a=r.leftVisibleCellIndex)}return a}({firstColumnToRender:o,apiRef:e.apiRef,firstRowToRender:r,lastRowToRender:i,visibleRows:e.rows});return{firstRowIndex:r,lastRowIndex:i,firstColumnIndex:s,lastColumnIndex:a}}(e,r,n);return s}function nj(e,t,n){const r=e.apiRef.current.getLastMeasuredRowIndex();let i=r===1/0;e.range?.lastRowIndex&&!i&&(i=r>=e.range.lastRowIndex);const o=qR(r-(e.range?.firstRowIndex||0),0,e.rowsMeta.positions.length);return i||e.rowsMeta.positions[o]>=t?rj(t,e.rowsMeta.positions,n):function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=i,i*=2;return rj(e,t,r,Math.floor(n/2),Math.min(n,t.length))}(t,e.rowsMeta.positions,o,n)}function rj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if(t.length<=0)return-1;if(r>=i)return r;const o=r+Math.floor((i-r)/2),a=t[o];let s;if(n?.atStart){s=e-((o===t.length-1?n.lastPosition:t[o+1])-a)<a}else s=e<=a;return s?rj(e,t,n,r,o):rj(e,t,n,o+1,i)}function ij(e){let{firstIndex:t,lastIndex:n,bufferBefore:r,bufferAfter:i,minFirstIndex:o,maxLastIndex:a,positions:s,lastSize:l}=e;const c=s[t]-r,u=s[n]+i,d=rj(c,s,{atStart:!0,lastPosition:s[s.length-1]+l}),h=rj(u,s);return[qR(d,o,a),qR(h,o,a)]}function oj(e,t,n){const r=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(r)}function aj(e,t,n,r,i,o){if(e)switch(t){case XF.LEFT:t=XF.RIGHT;break;case XF.RIGHT:t=XF.LEFT}switch(t){case XF.NONE:return{rowAfter:n,rowBefore:n,columnAfter:r,columnBefore:r};case XF.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:o};case XF.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:o,columnBefore:0};case XF.UP:return{rowAfter:0,rowBefore:i,columnAfter:0,columnBefore:0};case XF.DOWN:return{rowAfter:i,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const sj=VC("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>"overlayType"!==e&&"loadingOverlayVariant"!==e,overridesResolver:(e,t)=>t.overlayWrapper})((e=>{let{overlayType:t,loadingOverlayVariant:n}=e;return"skeleton"!==n?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:"loadingOverlay"===t?5:4}:{}})),lj=VC("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>"overlayType"!==e&&"loadingOverlayVariant"!==e,overridesResolver:(e,t)=>t.overlayWrapperInner})({});function cj(e){const t=OE(),n=qC(),r=cE(t,KO);let i=Math.max(r.viewportOuterSize.height-r.topContainerHeight-r.bottomContainerHeight-(r.hasScrollX?r.scrollbarSize:0),0);0===i&&(i=LM);const o=(e=>{const{classes:t}=e;return Op({root:["overlayWrapper"],inner:["overlayWrapperInner"]},GC,t)})(Yp({},e,{classes:n.classes}));return(0,Ty.jsx)(sj,Yp({className:ib(o.root)},e,{children:(0,Ty.jsx)(lj,Yp({className:ib(o.inner),style:{height:i,width:r.viewportOuterSize.width}},e))}))}function uj(e){const{overlayType:t}=e,n=qC();if(!t)return null;const r=n.slots?.[t],i=n.slotProps?.[t];return(0,Ty.jsx)(cj,Yp({},e,{children:(0,Ty.jsx)(r,Yp({},i))}))}const dj=e=>e.columnMenu;const hj=LO((function(){const e=NO(),t=qC(),n=cE(e,oM),r=cE(e,nI),i=cE(e,HM),o=cE(e,VF),a=cE(e,(()=>null===HF(e))),s=cE(e,GF),l=cE(e,jF),c=cE(e,UF),u=cE(e,HN),d=cE(e,dj),h=cE(e,iM),p=cE(e,zN),f=!(null===s&&null===o&&a),m=e.current.columnHeadersContainerRef;return(0,Ty.jsx)(t.slots.columnHeaders,Yp({ref:m,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:i,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:s,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:f},t.slotProps?.columnHeaders))})),pj=i.createContext(void 0);const fj=()=>{const e=i.useContext(pj);if(void 0===e)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join("\n"));return e},mj=VC("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),gj=VC("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],"skeleton"===n.loadingOverlayVariant&&t["main--hasSkeletonLoadingOverlay"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),vj=HC(((e,t)=>{const{ownerState:n}=e,r=qC(),i=fj().hooks.useGridAriaAttributes();return(0,Ty.jsxs)(gj,Yp({ownerState:n,className:e.className,tabIndex:-1},i,r.slotProps?.main,{ref:t,children:[(0,Ty.jsx)(mj,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))})),yj=VC("div")({position:"sticky",zIndex:4,top:0});function bj(e){const t=Op({root:["topContainer"]},GC,{});return(0,Ty.jsx)(yj,Yp({},e,{className:ib(t.root,QC["container--top"]),role:"presentation"}))}const Aj=VC("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function xj(e){const t=Op({root:["bottomContainer"]},GC,{});return(0,Ty.jsx)(Aj,Yp({},e,{className:ib(t.root,QC["container--bottom"]),role:"presentation"}))}const wj=VC("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),Cj=HC((function(e,t){const n=qC(),r=!n.autoHeight&&"auto"===e.style?.minHeight,i=((e,t)=>{const{classes:n}=e;return Op({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},GC,n)})(n,r),o={classes:n.classes,overflowedContent:r};return(0,Ty.jsx)(wj,Yp({},e,{ownerState:o,className:ib(i.root,e.className),ref:t}))})),Ej=VC("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),Sj=VC("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),_j=VC(Sj)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),Mj=VC(Sj)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),Ij=VC("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});const Tj=LO((function(e){let{rowsLength:t}=e;const n=OE(),{viewportOuterSize:r,minimumSize:i,hasScrollX:o,hasScrollY:a,scrollbarSize:s,leftPinnedWidth:l,rightPinnedWidth:c}=cE(n,KO),u=o?s:0,d=r.height-i.height>0;return 0!==u||d?(0,Ty.jsxs)(Ej,{className:QC.filler,role:"presentation",style:{height:u,"--rowBorderColor":0===t?"transparent":"var(--DataGrid-rowBorderColor)"},children:[l>0&&(0,Ty.jsx)(_j,{className:QC["filler--pinnedLeft"],style:{width:l}}),(0,Ty.jsx)(Ij,{}),c>0&&(0,Ty.jsx)(Mj,{className:QC["filler--pinnedRight"],style:{width:c+(a?s:0)}})]}):null})),Rj=["className"],kj=VC("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),Pj=HC((function(e,t){const{className:n}=e,r=Ly(e,Rj),i=OE(),o=qC(),a=(e=>{const{classes:t}=e;return Op({root:["virtualScrollerRenderZone"]},GC,t)})(o),s=cE(i,(()=>{const e=MF(i);return CF(i.current.state).positions[e.firstRowIndex]??0}));return(0,Ty.jsx)(kj,Yp({className:ib(a.root,n),ownerState:o,style:{transform:`translate3d(0, ${s}px, 0)`}},r,{ref:t}))})),Bj=VC("div")({position:"absolute",display:"inline-block",zIndex:6,"&:hover":{zIndex:7},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),Oj=VC(Bj)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),Lj=VC(Bj)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Dj=HC((function(e,t){const n=NO(),r=qC(),o=i.useRef(!1),a=i.useRef(0),s=i.useRef(null),l=i.useRef(null),c=((e,t)=>{const{classes:n}=e;return Op({root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]},GC,n)})(r,e.position),u=cE(n,KO),d="vertical"===e.position?"height":"width",h="vertical"===e.position?"scrollTop":"scrollLeft",p="vertical"===e.position?"top":"left",f="vertical"===e.position?u.hasScrollX:u.hasScrollY,m=u.minimumSize[d]+(f?u.scrollbarSize:0),g=("vertical"===e.position?u.viewportInnerSize.height:u.viewportOuterSize.width)*(m/u.viewportOuterSize[d]),v=Hp((()=>{const t=s.current,n=e.scrollPosition.current;if(!t)return;if(n[p]===a.current)return;if(a.current=n[p],o.current)return void(o.current=!1);o.current=!0;const r=n[p]/m;t[h]=r*g})),y=Hp((()=>{const e=n.current.virtualScrollerRef.current,t=s.current;if(!t)return;if(o.current)return void(o.current=!1);o.current=!0;const r=t[h]/g;e[h]=r*m}));Fp((()=>{const e=n.current.virtualScrollerRef.current,t=s.current,r={passive:!0};return e.addEventListener("scroll",v,r),t.addEventListener("scroll",y,r),()=>{e.removeEventListener("scroll",v,r),t.removeEventListener("scroll",y,r)}})),i.useEffect((()=>{l.current.style.setProperty(d,`${g}px`)}),[g,d]);const b="vertical"===e.position?Oj:Lj;return(0,Ty.jsx)(b,{ref:Wp(t,s),className:c.root,style:"vertical"===e.position&&r.unstable_listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:e=>{e.target.blur()},children:(0,Ty.jsx)("div",{ref:l,className:c.content})})})),Nj=VC("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),Fj=e=>e.dimensions.rightPinnedWidth>0;function jj(e){const t=OE(),n=qC(),r=cE(t,tL),i=cE(t,eL),o=cE(t,Fj),a=cE(t,aL),s=(()=>{const e=OE(),t=qC(),n=cE(e,pM),r=cE(e,JM),i=cE(e,SM),o=0===n&&0===i,a=cE(e,fM);let s=null,l=null;return!a&&o&&(s="noRowsOverlay"),!a&&n>0&&0===r&&(s="noResultsOverlay"),a&&(s="loadingOverlay",l=t.slotProps?.loadingOverlay?.[o?"noRowsVariant":"variant"]||null),{overlayType:s,loadingOverlayVariant:l}})(),l={classes:n.classes,hasScrollX:i,hasPinnedRight:o,loadingOverlayVariant:s.loadingOverlayVariant},c=(e=>{const{classes:t,hasScrollX:n,hasPinnedRight:r,loadingOverlayVariant:i}=e;return Op({root:["main",r&&"main--hasPinnedRight","skeleton"===i&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},GC,t)})(l),u=JF(),{getContainerProps:d,getScrollerProps:h,getContentProps:p,getRenderZoneProps:f,getScrollbarVerticalProps:m,getScrollbarHorizontalProps:g,getRows:v,getScrollAreaProps:y}=u,b=v();return(0,Ty.jsxs)(vj,Yp({className:c.root},d(),{ownerState:l,children:[(0,Ty.jsx)(JN,Yp({scrollDirection:"left"},y())),(0,Ty.jsx)(JN,Yp({scrollDirection:"right"},y())),(0,Ty.jsxs)(Nj,Yp({className:c.scroller},h(),{ownerState:l,children:[(0,Ty.jsxs)(bj,{children:[!n.unstable_listView&&(0,Ty.jsx)(hj,{}),(0,Ty.jsx)(n.slots.pinnedRows,{position:"top",virtualScroller:u})]}),(0,Ty.jsx)(uj,Yp({},s)),(0,Ty.jsx)(Cj,Yp({},p(),{children:(0,Ty.jsxs)(Pj,Yp({},f(),{children:[b,(0,Ty.jsx)(n.slots.detailPanels,{virtualScroller:u})]}))})),a&&(0,Ty.jsx)(Tj,{rowsLength:b.length}),(0,Ty.jsx)(xj,{children:(0,Ty.jsx)(n.slots.pinnedRows,{position:"bottom",virtualScroller:u})})]})),i&&!n.unstable_listView&&(0,Ty.jsx)(Dj,Yp({position:"horizontal"},g())),r&&(0,Ty.jsx)(Dj,Yp({position:"vertical"},m())),e.children]}))}function Uj(){const e=qC();return e.hideFooter?null:(0,Ty.jsx)(e.slots.footer,Yp({},e.slotProps?.footer))}const zj=["className","children"],Hj=HC((function(e,t){const n=qC(),{className:r,children:o}=e,a=Ly(e,zj),s=NO(),l=cE(s,fS),c=s.current.rootElementRef,u=i.useCallback((e=>{null!==e&&s.current.publishEvent("rootMount",e)}),[s]),d=Wp(c,t,u),h=n,p=((e,t)=>{const{autoHeight:n,classes:r,showCellVerticalBorder:i}=e;return Op({root:["root",n&&"autoHeight",`root--density${Km(t)}`,null===e.slots.toolbar&&"root--noToolbar","withBorderColor",i&&"withVerticalBorder"]},GC,r)})(h,l);return(0,ZC.useSyncExternalStore)(QO,WO,qO)?null:(0,Ty.jsxs)(zO,Yp({className:ib(p.root,r),ownerState:h},a,{ref:d,children:[(0,Ty.jsx)(XO,{}),(0,Ty.jsx)(jj,{children:o}),(0,Ty.jsx)(Uj,{})]}))})),Vj=LO(Hj);function Gj(e,t){const n=yM(e),r=jM(e),i=WM(e),o=n[t];if(!o||"group"!==o.type)return[];const a=[],s=r.findIndex((e=>e===t))+1;for(let l=s;l<r.length&&n[r[l]]?.depth>o.depth;l+=1){const t=r[l];!1!==i[t]&&e.current.isRowSelectable(t)&&a.push(t)}return a}function Qj(e){return e.signature===cL.DataGrid?e.checkboxSelection&&!0!==e.disableMultipleRowSelection:!e.disableMultipleRowSelection}const Wj=(e,t,n,r,i,o)=>{const a=WM(e),s=wF(e),l=new Set([]);if(r||i){if(r){const r=t[n];if("group"===r?.type){Gj(e,n).forEach((e=>{o(e),l.add(e)}))}}if(i){const r=e=>{if(s[e]!==e&&!l.has(e))return!1;const n=t[e];return"group"!==n?.type||n.children.every(r)},i=n=>{const s=((e,t,n)=>{const r=e[n];if(!r)return[];const i=r.parent;return null==i?[]:e[i].children.filter((e=>e!==n&&!1!==t[e]))})(t,a,n);if(0===s.length||s.every(r)){const r=t[n].parent;null!=r&&r!==_M&&e.current.isRowSelectable(r)&&(o(r),l.add(r),i(r))}};i(n)}}},qj=(e,t,n,r,i,o)=>{const a=wF(e);if(i||r){if(i){const e=((e,t)=>{const n=[];let r=t;for(;null!=r&&r!==_M;){const t=e[r];if(!t)return n;n.push(r),r=t.parent}return n})(t,n);e.forEach((e=>{a[e]===e&&o(e)}))}if(r){const r=t[n];if("group"===r?.type){Gj(e,n).forEach((e=>{o(e)}))}}}};function $j(e){let{privateApiRef:t,configuration:n,props:r,children:o}=e;const a=i.useRef(t.current.getPublicApi());return(0,Ty.jsx)(pj.Provider,{value:n,children:(0,Ty.jsx)(WC.Provider,{value:r,children:(0,Ty.jsx)(DO.Provider,{value:t,children:(0,Ty.jsx)(BE.Provider,{value:a,children:o})})})})}const Xj=function(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),Kj=()=>{},Yj={debug:Kj,info:Kj,warn:Kj,error:Kj},Jj=["debug","info","warn","error"];function Zj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;const r=Jj.indexOf(t);if(-1===r)throw new Error(`MUI X: Log level ${t} not recognized.`);const i=Jj.reduce(((t,i,o)=>(t[i]=o>=r?function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const[a,...s]=r;n[i](`MUI X: ${e} - ${a}`,...s)}:Kj,t)),{});return i}class eU{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.events[e];r||(r={highPriority:new Map,regular:new Map},this.events[e]=r),n.isFirst?r.highPriority.set(t,!0):r.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e){const t=this.events[e];if(!t)return;const n=Array.from(t.highPriority.keys()),r=Array.from(t.regular.keys());for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(let s=n.length-1;s>=0;s-=1){const e=n[s];t.highPriority.has(e)&&e.apply(this,o)}for(let s=0;s<r.length;s+=1){const e=r[s];t.regular.has(e)&&e.apply(this,o)}}once(e,t){const n=this;this.on(e,(function r(){n.removeListener(e,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];t.apply(n,o)}))}}class tU{static create(e){return new tU(e)}constructor(e){this.value=void 0,this.listeners=void 0,this.subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)}),this.getSnapshot=()=>this.value,this.update=e=>{this.value=e,this.listeners.forEach((t=>t(e)))},this.value=e,this.listeners=new Set}}const nU=Symbol("mui.api_private");let rU=0;function iU(e,t){const n=i.useRef(null),r=i.useRef(null);r.current||(r.current=function(e){const t=e.current?.[nU];if(t)return t;const n={},r={state:n,store:tU.create(n),instanceId:{id:rU}};return rU+=1,r.getPublicApi=()=>e.current,r.register=(t,n)=>{Object.keys(n).forEach((i=>{const o=n[i],a=r[i];if(!0===a?.spying?a.target=o:r[i]=o,"public"===t){const t=e.current,n=t[i];!0===n?.spying?n.target=o:t[i]=o}}))},r.register("private",{caches:{},eventManager:new eU}),r}(n)),n.current||(n.current=function(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[nU]:e.current}}(r));const o=i.useCallback((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const[o,a,s={}]=n;if(s.defaultMuiPrevented=!1,(e=>void 0!==e.isPropagationStopped)(s)&&s.isPropagationStopped())return;const l=t.signature===cL.DataGridPro||t.signature===cL.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(o,a,s,l)}),[r,t.signature]),a=i.useCallback(((e,t,n)=>{r.current.eventManager.on(e,t,n);const i=r.current;return()=>{i.eventManager.removeListener(e,t)}}),[r]);return TF(r,{subscribeEvent:a,publishEvent:o},"public"),e&&!e.current?.state&&(e.current=n.current),i.useImperativeHandle(e,(()=>n.current),[n]),i.useEffect((()=>{const e=r.current;return()=>{e.publishEvent("unmount")}}),[r]),r}function oU(e){return oU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oU(e)}function aU(e){var t=function(e,t){if("object"!=oU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oU(t)?t:t+""}const sU="none",lU={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},cU=(e,t)=>Yp({},e,{props:{getRowId:t.getRowId}}),uU=(e,t)=>{const n=iU(e,t);return(e=>{const t=i.useRef(null),n=i.useRef(null),r=i.useRef(null),o=i.useRef(null),a=i.useRef(null),s=i.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:r,virtualScrollbarVerticalRef:o,virtualScrollbarHorizontalRef:a,columnHeadersContainerRef:s})})(n),((e,t)=>{i.useEffect((()=>{e.current.setState((e=>Yp({},e,{props:{getRowId:t.getRowId}})))}),[e,t.getRowId])})(n,t),(e=>{const t=aC();void 0===e.current.state.isRtl&&(e.current.state.isRtl=t);const n=i.useRef(!0);i.useEffect((()=>{n.current?n.current=!1:e.current.setState((e=>Yp({},e,{isRtl:t})))}),[e,t])})(n),((e,t)=>{TF(e,{getLogger:i.useCallback((e=>Xj?Zj(e,"debug",t.logger):t.logLevel?Zj(e,t.logLevel.toString(),t.logger):Yj),[t.logLevel,t.logger])},"private")})(n,t),(e=>{const t=i.useRef({}),n=i.useCallback((e=>{t.current[e.stateId]=e}),[]),r=i.useCallback(((n,r)=>{let i;if(i=function(e){return"function"===typeof e}(n)?n(e.current.state):n,e.current.state===i)return!1;let o=!1;const a=[];if(Object.keys(t.current).forEach((n=>{const r=t.current[n],s=r.stateSelector(e.current.state,e.current.instanceId),l=r.stateSelector(i,e.current.instanceId);l!==s&&(a.push({stateId:r.stateId,hasPropChanged:l!==r.propModel}),void 0!==r.propModel&&l!==r.propModel&&(o=!0))})),a.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${a[0].stateId}, therefore, you're not allowed to update ${a.map((e=>e.stateId)).join(", ")} in the same transaction.`);if(o||(e.current.state=i,e.current.publishEvent("stateChange",i),e.current.store.update(i)),1===a.length){const{stateId:n,hasPropChanged:s}=a[0],l=t.current[n],c=l.stateSelector(i,e.current.instanceId);l.propOnChange&&s&&l.propOnChange(c,{reason:r,api:e.current}),o||e.current.publishEvent(l.changeEvent,c,{reason:r})}return!o}),[e]),o=i.useCallback(((t,n,r)=>e.current.setState((e=>Yp({},e,{[t]:n(e[t])})),r)),[e]),a=i.useCallback((()=>{}),[]),s={updateControlState:o,registerControlState:n};TF(e,{setState:r,forceUpdate:a},"public"),TF(e,s,"private")})(n),(e=>{const t=i.useRef({}),n=i.useRef(!1),r=i.useCallback((e=>{!n.current&&e&&(n.current=!0,Object.values(e.appliers).forEach((e=>{e()})),n.current=!1)}),[]),o=i.useCallback(((e,n,i)=>{t.current[e]||(t.current[e]={processors:new Map,processorsAsArray:[],appliers:{}});const o=t.current[e];return o.processors.get(n)!==i&&(o.processors.set(n,i),o.processorsAsArray=Array.from(t.current[e].processors.values()),r(o)),()=>{t.current[e].processors.delete(n),t.current[e].processorsAsArray=Array.from(t.current[e].processors.values())}}),[r]),a=i.useCallback(((e,n,r)=>(t.current[e]||(t.current[e]={processors:new Map,processorsAsArray:[],appliers:{}}),t.current[e].appliers[n]=r,()=>{const r=Ly(t.current[e].appliers,[n].map(aU));t.current[e].appliers=r})),[]),s=i.useCallback((e=>{r(t.current[e])}),[r]),l=i.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const[i,o,a]=n;if(!t.current[i])return o;const s=t.current[i].processorsAsArray;let l=o;for(let t=0;t<s.length;t+=1)l=s[t](l,a);return l}),[]),c={unstable_applyPipeProcessors:l};TF(e,{registerPipeProcessor:o,registerPipeApplier:a,requestPipeProcessorsApplication:s},"private"),TF(e,c,"public")})(n),(e=>{const t=i.useRef(new Map),n=i.useRef({}),r=i.useCallback(((t,r,i)=>{const o=()=>{const e=Ly(n.current[r],[t].map(aU));n.current[r]=e};n.current[r]||(n.current[r]={});const a=n.current[r],s=a[t];return a[t]=i,s&&s!==i?(t===e.current.getActiveStrategy(lU[r])&&e.current.publishEvent("activeStrategyProcessorChange",r),o):o}),[e]),o=i.useCallback(((t,r)=>{const i=e.current.getActiveStrategy(lU[t]);if(null==i)throw new Error("Can't apply a strategy processor before defining an active strategy");const o=n.current[t];if(!o||!o[i])throw new Error(`No processor found for processor "${t}" on strategy "${i}"`);return(0,o[i])(r)}),[e]),a=i.useCallback((e=>{const n=Array.from(t.current.entries()).find((t=>{let[,n]=t;return n.group===e&&n.isAvailable()}));return n?.[0]??sU}),[]),s=i.useCallback(((n,r,i)=>{t.current.set(r,{group:n,isAvailable:i}),e.current.publishEvent("strategyAvailabilityChange")}),[e]);TF(e,{registerStrategyProcessor:r,applyStrategyProcessor:o,getActiveStrategy:a,setStrategyAvailability:s},"private")})(n),((e,t)=>{const n=i.useCallback((e=>{if(null==t.localeText[e])throw new Error(`Missing translation for key ${e}.`);return t.localeText[e]}),[t.localeText]);e.current.register("public",{getLocaleText:n})})(n,t),n.current.register("private",{rootProps:t}),n},dU=(e,t,n)=>{const r=i.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)};function hU(e,t){const n=i.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}const pU=(e,t,n,r,i)=>{const o=hU(e,"useNativeEventListener");fL(e,"rootMount",(()=>{const e="function"===typeof t?t():t.current;if(e&&n&&r)return o.debug(`Binding native ${n} event`),e.addEventListener(n,r,i),()=>{o.debug(`Clearing native ${n} event`),e.removeEventListener(n,r,i)}}))},fU=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],mU=HC((function(e,t){const{field:n,id:r,rowNode:o,hasFocus:a,tabIndex:s}=e,l=Ly(e,fU),c=OE(),u=qC(),d=(e=>{const{classes:t}=e;return Op({root:["checkboxInput"]},GC,t)})({classes:u.classes}),h=i.useRef(null),p=i.useRef(null),f=Wp(h,t);i.useLayoutEffect((()=>{if(0===s){const e=c.current.getCellElement(r,n);e&&(e.tabIndex=-1)}}),[c,s,r,n]),i.useEffect((()=>{if(a){const e=h.current?.querySelector("input");e?.focus({preventScroll:!0})}else p.current&&p.current.stop({})}),[a]);const m=i.useCallback((e=>{" "===e.key&&e.stopPropagation()}),[]),g=c.current.isRowSelectable(r),v=(y=r,b=u.rowSelectionPropagation?.parents??!1,ME(yM,jM,WM,wF,((e,t,n,r)=>{const i=e[y];if(!i||"group"!==i.type)return{isIndeterminate:!1,isChecked:r[y]===y};if(r[y]===y)return{isIndeterminate:!1,isChecked:!0};let o=0,a=0;const s=t.findIndex((e=>e===y))+1;for(let l=s;l<t.length&&e[t[l]]?.depth>i.depth;l+=1){const e=t[l];!1!==n[e]&&(o+=1,void 0!==r[e]&&(a+=1))}return{isIndeterminate:a>0&&(a<o||void 0===r[y]),isChecked:b?a>0:r[y]===y}})));var y,b;const{isIndeterminate:A,isChecked:x}=cE(c,v,iE);if("footer"===o.type||"pinnedRow"===o.type)return null;const w="select"===u.indeterminateCheckboxAction?x&&!A:x,C=c.current.getLocaleText(w?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,Ty.jsx)(u.slots.baseCheckbox,Yp({tabIndex:s,checked:w,onChange:e=>{const t={value:e.target.checked,id:r};c.current.publishEvent("rowSelectionCheckboxChange",t,e)},className:d.root,inputProps:{"aria-label":C,name:"select_row"},onKeyDown:m,indeterminate:A,disabled:!g,touchRippleRef:p},u.slotProps?.baseCheckbox,l,{ref:f}))})),gU=mU,vU=["field","colDef"],yU=HC((function(e,t){const n=Ly(e,vU),[,r]=i.useState(!1),o=OE(),a=qC(),s=(e=>{const{classes:t}=e;return Op({root:["checkboxInput"]},GC,t)})({classes:a.classes}),l=cE(o,VF),c=cE(o,bF),u=cE(o,$M),d=cE(o,fF),h=i.useMemo((()=>"function"!==typeof a.isRowSelectable?c:c.filter((e=>!!a.keepNonExistentRowsSelected||!!o.current.getRow(e)&&a.isRowSelectable(o.current.getRowParams(e))))),[o,a.isRowSelectable,c,a.keepNonExistentRowsSelected]),p=i.useMemo((()=>(a.pagination&&a.checkboxSelectionVisibleOnly?d:u).reduce(((e,t)=>(e[t]=!0,e)),{})),[a.pagination,a.checkboxSelectionVisibleOnly,d,u]),f=i.useMemo((()=>h.filter((e=>p[e])).length),[h,p]),m=f>0&&f<Object.keys(p).length,g=f>0,v=null!==l&&l.field===e.field?0:-1;i.useLayoutEffect((()=>{const t=o.current.getColumnHeaderElement(e.field);0===v&&t&&(t.tabIndex=-1)}),[v,o,e.field]);const y=i.useCallback((e=>{" "===e.key&&o.current.publishEvent("headerSelectionCheckboxChange",{value:!g})}),[o,g]),b=i.useCallback((()=>{r((e=>!e))}),[]);i.useEffect((()=>o.current.subscribeEvent("rowSelectionChange",b)),[o,b]);const A="select"===a.indeterminateCheckboxAction?g&&!m:g,x=o.current.getLocaleText(A?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,Ty.jsx)(a.slots.baseCheckbox,Yp({indeterminate:m,checked:A,onChange:e=>{const t={value:e.target.checked};o.current.publishEvent("headerSelectionCheckboxChange",t)},className:s.root,inputProps:{"aria-label":x,name:"select_all_rows"},tabIndex:v,onKeyDown:y,disabled:!Qj(a)},a.slotProps?.baseCheckbox,n,{ref:t}))})),bU="__check__",AU=Yp({},lN,{type:"custom",field:bU,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(e,t,n,r)=>void 0!==wF(r)[WD(r.current.state,t)],renderHeader:e=>(0,Ty.jsx)(yU,Yp({},e)),renderCell:e=>(0,Ty.jsx)(gU,Yp({},e))});function xU(e,t){if(null===e||void 0===e)return"";const n="string"===typeof e?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const e=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","\t","\r"].includes(e[0])?`"'${e}"`:[t.delimiter,"\n","\r",'"'].some((e=>n.includes(e)))?`"${e}"`:e}return n}const wU=(e,t)=>{const{csvOptions:n,ignoreValueFormatter:r}=t;let i;if(r){const t=e.colDef.type;i="number"===t?String(e.value):"date"===t||"dateTime"===t?e.value?.toISOString():"function"===typeof e.value?.toString?e.value.toString():e.value}else i=e.formattedValue;return xU(i,n)};class CU{constructor(e){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=e}addValue(e){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),"function"===typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(e,this.options.csvOptions):this.rowString+=e,this.isEmpty=!1}getRowString(){return this.rowString}}function EU(e){const{columns:t,rowIds:n,csvOptions:r,ignoreValueFormatter:i,apiRef:o}=e,a=n.reduce(((e,n)=>`${e}${(e=>{let{id:t,columns:n,getCellParams:r,csvOptions:i,ignoreValueFormatter:o}=e;const a=new CU({csvOptions:i});return n.forEach((e=>{const n=r(t,e.field);a.addValue(wU(n,{ignoreValueFormatter:o,csvOptions:i}))})),a.getRowString()})({id:n,columns:t,getCellParams:o.current.getCellParams,ignoreValueFormatter:i,csvOptions:r})}\r\n`),"").trim();if(!r.includeHeaders)return a;const s=t.filter((e=>e.field!==AU.field)),l=[];if(r.includeColumnGroupsHeaders){const e=o.current.getAllGroupDetails();let t=0;const n=s.reduce(((e,n)=>{const r=o.current.getColumnGroupPath(n.field);return e[n.field]=r,t=Math.max(t,r.length),e}),{});for(let i=0;i<t;i+=1){const t=new CU({csvOptions:r,sanitizeCellValue:xU});l.push(t),s.forEach((r=>{const o=(n[r.field]||[])[i],a=e[o];t.addValue(a?a.headerName||a.groupId:"")}))}}const c=new CU({csvOptions:r,sanitizeCellValue:xU});s.forEach((e=>{c.addValue(e.headerName||e.field)})),l.push(c);return`${`${l.map((e=>e.getRowString())).join("\r\n")}\r\n`}${a}`.trim()}function SU(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}const _U=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,r=("object"===typeof n?n?.clipboardExport:n)||!1,o=t.clipboardCopyCellDelimiter,a=i.useCallback((t=>{if(!function(e){return(e.ctrlKey||e.metaKey)&&"C"===String.fromCharCode(e.keyCode)&&!e.shiftKey&&!e.altKey}(t))return;if(n=t.target,window.getSelection()?.toString()||n&&(n.selectionEnd||0)-(n.selectionStart||0)>0)return;var n;let i="";if(e.current.getSelectedRows().size>0)i=e.current.getDataAsCsv({includeHeaders:!1,delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1});else{const t=FF(e);if(t){const n=e.current.getCellParams(t.id,t.field);i=wU(n,{csvOptions:{delimiter:o,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}i=e.current.unstable_applyPipeProcessors("clipboardCopy",i),i&&(!function(e){navigator.clipboard?navigator.clipboard.writeText(e).catch((()=>{SU(e)})):SU(e)}(i),e.current.publishEvent("clipboardCopy",i))}),[e,r,o]);pU(e,(()=>e.current.rootElementRef.current),"keydown",a),fL(e,"clipboardCopy",t.onClipboardCopy)},MU=e=>Yp({},e,{columnMenu:{open:!1}}),IU=e=>{const t=i.useRef(!0);t.current&&(t.current=!1,e())},TU=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=i.useRef(null),a=i.useRef(`mui-${Math.round(1e9*Math.random())}`),s=i.useCallback((()=>{o.current=e.current.registerPipeProcessor(t,a.current,n)}),[e,n,t]);IU((()=>{r&&s()}));const l=i.useRef(!0);i.useEffect((()=>(l.current?l.current=!1:r&&s(),()=>{o.current&&(o.current(),o.current=null)})),[s,r])},RU=(e,t,n)=>{const r=i.useRef(null),o=i.useRef(`mui-${Math.round(1e9*Math.random())}`),a=i.useCallback((()=>{r.current=e.current.registerPipeApplier(t,o.current,n)}),[e,n,t]);IU((()=>{a()}));const s=i.useRef(!0);i.useEffect((()=>(s.current?s.current=!1:a(),()=>{r.current&&(r.current(),r.current=null)})),[a])},kU=(e,t,n)=>Yp({},e,{columns:qN({apiRef:n,columnsToUpsert:t.columns,initialState:t.initialState?.columns,columnVisibilityModel:t.columnVisibilityModel??t.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0}),pinnedColumns:e.pinnedColumns??Z_});function PU(e){return t=>Yp({},t,{columns:e})}const BU=(e,t)=>Yp({},e,{density:t.initialState?.density??t.density??"standard"});const OU=e=>{let{apiRef:t,options:n}=e;const r=rM(t);if(n.fields)return n.fields.reduce(((e,t)=>{const n=r.find((e=>e.field===t));return n&&e.push(n),e}),[]);return(n.allColumns?r:oM(t)).filter((e=>!e.disableExport))},LU=e=>{let{apiRef:t}=e;const n=KM(t),r=yM(t),i=t.current.getSelectedRows(),o=n.filter((e=>"footer"!==r[e].type)),a=EM(t),s=a?.top?.map((e=>e.id))||[],l=a?.bottom?.map((e=>e.id))||[];return o.unshift(...s),o.push(...l),i.size>0?o.filter((e=>i.has(e))):o},DU=(e,t)=>{const n=hU(e,"useGridCsvExport"),r=t.ignoreValueFormatterDuringExport,o=("object"===typeof r?r?.csvExport:r)||!1,a=i.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.debug("Get data as CSV");return EU({columns:OU({apiRef:e,options:t}),rowIds:(t.getRowsToExport??LU)({apiRef:e}),csvOptions:{delimiter:t.delimiter||",",shouldAppendQuotes:t.shouldAppendQuotes??!0,includeHeaders:t.includeHeaders??!0,includeColumnGroupsHeaders:t.includeColumnGroupsHeaders??!0,escapeFormulas:t.escapeFormulas??!0},ignoreValueFormatter:o,apiRef:e})}),[n,e,o]),s=i.useCallback((e=>{n.debug("Export data as CSV");const t=a(e);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";const n=`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled"}.${t}`;if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),r=document.createElement("a");return r.href=t,r.download=n,r.click(),void setTimeout((()=>{URL.revokeObjectURL(t)}))}throw new Error("MUI X: exportAs not supported.")}(new Blob([e?.utf8WithBom?new Uint8Array([239,187,191]):"",t],{type:"text/csv"}),"csv",e?.fileName)}),[n,a]);TF(e,{getDataAsCsv:a,exportDataAsCsv:s},"public");const l=i.useCallback(((e,t)=>t.csvOptions?.disableToolbarButton?e:[...e,{component:(0,Ty.jsx)(cI,{options:t.csvOptions}),componentName:"csvExport"}]),[]);TU(e,"exportMenu",l)},NU=(e,t,n)=>{let r=e.paginationModel;const i=e.rowCount,o=n?.pageSize??r.pageSize,a=n?.page??r.page,s=tF(i,o,a);!n||n?.page===r.page&&n?.pageSize===r.pageSize||(r=n);const l=-1===o?0:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?e:Math.max(Math.min(e,t-1),0)}(r.page,s);return l!==r.page&&(r=Yp({},r,{page:l})),rF(r.pageSize,t),r};const FU=(e,t)=>{const n=null!==e.current.rootElementRef.current,r=hU(e,"useGridPrintExport"),o=i.useRef(null),a=i.useRef(null),s=i.useRef({}),l=i.useRef([]),c=i.useRef(null);i.useEffect((()=>{o.current=qp(e.current.rootElementRef.current)}),[e,n]);const u=i.useCallback(((t,n,r)=>new Promise((i=>{const o=OU({apiRef:e,options:{fields:t,allColumns:n}}).map((e=>e.field)),a=rM(e),s={};a.forEach((e=>{s[e.field]=o.includes(e.field)})),r&&(s[AU.field]=!0),e.current.setColumnVisibilityModel(s),i()}))),[e]),d=i.useCallback((t=>{const n=t({apiRef:e}).reduce(((t,n)=>{const r=e.current.getRow(n);return r[MM]||t.push(r),t}),[]);e.current.setRows(n)}),[e]),h=i.useCallback(((n,r)=>{const i=Yp({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},r),a=n.contentDocument;if(!a)return;const s=CF(e.current.state),l=e.current.rootElementRef.current,c=l.cloneNode(!0);c.querySelector(`.${QC.main}`).style.overflow="visible",c.style.contain="size";let u=l.querySelector(`.${QC.toolbarContainer}`)?.offsetHeight||0,d=l.querySelector(`.${QC.footerContainer}`)?.offsetHeight||0;i.hideToolbar&&(c.querySelector(`.${QC.toolbarContainer}`)?.remove(),u=0),i.hideFooter&&(c.querySelector(`.${QC.footerContainer}`)?.remove(),d=0);const h=s.currentPageTotalHeight+$N(e,t)+u+d;if(c.style.height=`${h}px`,c.style.boxSizing="content-box",!i.hideFooter){const e=c.querySelector(`.${QC.footerContainer}`);e.style.position="absolute",e.style.width="100%",e.style.top=h-d+"px"}const p=document.createElement("div");p.appendChild(c),a.body.style.marginTop="0px",a.body.innerHTML=p.innerHTML;const f="function"===typeof i.pageStyle?i.pageStyle():i.pageStyle;if("string"===typeof f){const e=a.createElement("style");e.appendChild(a.createTextNode(f)),a.head.appendChild(e)}i.bodyClassName&&a.body.classList.add(...i.bodyClassName.split(" "));const m=[];if(i.copyStyles){const e=l.getRootNode(),t=("ShadowRoot"===e.constructor.name?e:o.current).querySelectorAll("style, link[rel='stylesheet']");for(let n=0;n<t.length;n+=1){const e=t[n];if("STYLE"===e.tagName){const t=a.createElement(e.tagName),n=e.sheet;if(n){let e="";for(let t=0;t<n.cssRules.length;t+=1)"string"===typeof n.cssRules[t].cssText&&(e+=`${n.cssRules[t].cssText}\r\n`);t.appendChild(a.createTextNode(e)),a.head.appendChild(t)}}else if(e.getAttribute("href")){const t=a.createElement(e.tagName);for(let n=0;n<e.attributes.length;n+=1){const r=e.attributes[n];r&&t.setAttribute(r.nodeName,r.nodeValue||"")}m.push(new Promise((e=>{t.addEventListener("load",(()=>e()))}))),a.head.appendChild(t)}}}Promise.all(m).then((()=>{n.contentWindow.print()}))}),[e,o,t]),p=i.useCallback((t=>{o.current.body.removeChild(t),e.current.restoreState(a.current||{}),a.current?.columns?.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState((e=>Yp({},e,{virtualization:c.current}))),e.current.setRows(l.current),a.current=null,s.current={},l.current=[]}),[e]),f=i.useCallback((async n=>{if(r.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(a.current=e.current.exportState(),s.current=iM(e),l.current=e.current.getSortedRows().filter((e=>!e[MM])),t.pagination){const t={page:0,pageSize:JM(e)};e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{paginationModel:NU(e.pagination,"DataGridPro",t)})})))}c.current=e.current.state.virtualization,e.current.setState((e=>Yp({},e,{virtualization:Yp({},e.virtualization,{enabled:!1,enabledForColumns:!1})}))),await u(n?.fields,n?.allColumns,n?.includeCheckboxes),d(n?.getRowsToExport??LU),await new Promise((e=>{requestAnimationFrame((()=>{e()}))}));const i=function(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}(n?.fileName);i.onload=()=>{h(i,n);i.contentWindow.matchMedia("print").addEventListener("change",(e=>{!1===e.matches&&p(i)}))},o.current.body.appendChild(i)}),[t,r,e,h,p,u,d]);TF(e,{exportDataAsPrint:f},"public");const m=i.useCallback(((e,t)=>t.printOptions?.disableToolbarButton?e:[...e,{component:(0,Ty.jsx)(uI,{options:t.printOptions}),componentName:"printExport"}]),[]);TU(e,"exportMenu",m)},jU=(e,t,n,r)=>{const o=i.useCallback((()=>{e.current.registerStrategyProcessor(t,n,r)}),[e,r,n,t]);IU((()=>{o()}));const a=i.useRef(!0);i.useEffect((()=>{a.current?a.current=!1:o()}),[o])},UU=(e,t,n)=>{const r=t.filterModel??t.initialState?.filter?.filterModel??vD();return Yp({},e,{filter:Yp({filterModel:xD(r,t.disableMultipleColumnsFiltering,n)},gD),visibleRowsLookup:{}})},zU=e=>e.filteredRowsLookup;function HU(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function VU(){return vE(Object.values)}const GU=e=>Yp({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}});function QU(e,t){return e.closest(`.${t}`)}function WU(e){return e.replace(/["\\]/g,"\\$&")}function qU(e){return`.${QC.row}[data-id="${WU(String(e))}"]`}function $U(e){return 1===e.target.nodeType&&!e.currentTarget.contains(e.target)}function XU(e,t){return e.rootElementRef.current.querySelector(`.${QC[t]}`)}const KU=e=>{let{api:t,colIndex:n,position:r,filterFn:i}=e;if(null===n)return[];const o=[];return JU(t).forEach((e=>{e.getAttribute("data-id")&&e.querySelectorAll(`.${QC["left"===r?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach((e=>{const t=ZU(e);null!==t&&i(t)&&o.push(e)}))})),o};const YU=e=>{let{api:t,colIndex:n,position:r,filterFn:i}=e;if(!t.columnHeadersContainerRef?.current)return[];if(null===n)return[];const o=[];return t.columnHeadersContainerRef.current.querySelectorAll(`.${QC["left"===r?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach((e=>{const t=ZU(e);null!==t&&i(t,e)&&o.push(e)})),o};function JU(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${QC.row}`)}function ZU(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const ez=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,isRtl:i}=e;if(i){if(t<r)return t+1}else if(!i&&t>n)return t-1;return null},tz=e=>{let{currentColIndex:t,firstColIndex:n,lastColIndex:r,isRtl:i}=e;if(i){if(t>n)return t-1}else if(!i&&t<r)return t+1;return null};const nz=TE(mF,EM,((e,t)=>(t.top||[]).concat(e.rows,t.bottom||[]))),rz=(e,t)=>{const n=hU(e,"useGridKeyboardNavigation"),r=aC(),o=t.unstable_listView,a=i.useCallback((()=>nz(e)),[e]),s="DataGrid"!==t.signature&&t.headerFilters,l=i.useCallback((function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"up";const s=qM(e),l=e.current.unstable_getCellColSpanInfo(r,t);l&&l.spannedByColSpan&&("left"===i?t=l.leftVisibleCellIndex:"right"===i&&(t=l.rightVisibleCellIndex));const c=o?DF(e.current.state).field:aM(e)[t],u=function(e,t,n,r){const i=BF(e);if(!i[t]?.[n])return t;const o=KM(e);let a=o.indexOf(t)+("down"===r?1:-1);for(;a>=0&&a<o.length;){const e=o[a];if(!i[e]?.[n])return e;a+="down"===r?1:-1}return t}(e,r,c,a),d=s.findIndex((e=>e.id===u));n.debug(`Navigating to cell row ${d}, col ${t}`),e.current.scrollToIndexes({colIndex:t,rowIndex:d}),e.current.setCellFocus(u,c)}),[e,n,o]),c=i.useCallback(((t,r)=>{n.debug(`Navigating to header col ${t}`),e.current.scrollToIndexes({colIndex:t});const i=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(i,r)}),[e,n]),u=i.useCallback(((t,r)=>{n.debug(`Navigating to header filter col ${t}`),e.current.scrollToIndexes({colIndex:t});const i=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFilterFocus(i,r)}),[e,n]),d=i.useCallback(((t,r,i)=>{n.debug(`Navigating to header col ${t}`),e.current.scrollToIndexes({colIndex:t});const{field:o}=e.current.getVisibleColumns()[t];e.current.setColumnGroupHeaderFocus(o,r,i)}),[e,n]),h=i.useCallback((e=>a()[e]?.id),[a]),p=i.useCallback(((t,n)=>{const i=n.currentTarget.querySelector(`.${QC.columnHeaderTitleContainerContent}`);if(!!i&&i.contains(n.target)&&t.field!==AU.field)return;const o=a(),p=e.current.getViewportPageSize(),f=t.field?e.current.getColumnIndex(t.field):0,m=o.length>0?0:null,g=o.length-1,v=oM(e).length-1,y=HN(e);let b=!0;switch(n.key){case"ArrowDown":s?u(f,n):null!==m&&l(f,h(m));break;case"ArrowRight":{const e=tz({currentColIndex:f,firstColIndex:0,lastColIndex:v,isRtl:r});null!==e&&c(e,n);break}case"ArrowLeft":{const e=ez({currentColIndex:f,firstColIndex:0,lastColIndex:v,isRtl:r});null!==e&&c(e,n);break}case"ArrowUp":y>0&&d(f,y-1,n);break;case"PageDown":null!==m&&null!==g&&l(f,h(Math.min(m+p,g)));break;case"Home":c(0,n);break;case"End":c(v,n);break;case"Enter":(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:b=!1}b&&n.preventDefault()}),[e,a,s,u,l,h,r,c,d]),f=i.useCallback(((t,n)=>{const i=DN(e)===t.field,o=NN(e)===t.field;if(i||o||!vS(n.key))return;const s=a(),d=e.current.getViewportPageSize(),p=t.field?e.current.getColumnIndex(t.field):0,f=s.length-1,m=oM(e).length-1;let g=!0;switch(n.key){case"ArrowDown":{const e=h(0);null!=e&&l(p,e);break}case"ArrowRight":{const e=tz({currentColIndex:p,firstColIndex:0,lastColIndex:m,isRtl:r});null!==e&&u(e,n);break}case"ArrowLeft":{const i=ez({currentColIndex:p,firstColIndex:0,lastColIndex:m,isRtl:r});null!==i?u(i,n):e.current.setColumnHeaderFilterFocus(t.field,n);break}case"ArrowUp":c(p,n);break;case"PageDown":null!==f&&l(p,h(Math.min(0+d,f)));break;case"Home":u(0,n);break;case"End":u(m,n);break;case" ":break;default:g=!1}g&&n.preventDefault()}),[e,a,u,r,c,l,h]),m=i.useCallback(((t,n)=>{const r=UF(e);if(null===r)return;const{field:i,depth:o}=r,{fields:s,depth:u,maxDepth:p}=t,f=a(),m=e.current.getViewportPageSize(),g=e.current.getColumnIndex(i),v=i?e.current.getColumnIndex(i):0,y=f.length-1,b=oM(e).length-1;let A=!0;switch(n.key){case"ArrowDown":u===p-1?c(g,n):d(g,o+1,n);break;case"ArrowUp":u>0&&d(g,o-1,n);break;case"ArrowRight":{const e=s.length-s.indexOf(i)-1;g+e+1<=b&&d(g+e+1,o,n);break}case"ArrowLeft":{const e=s.indexOf(i);g-e-1>=0&&d(g-e-1,o,n);break}case"PageDown":null!==y&&l(v,h(Math.min(0+m,y)));break;case"Home":d(0,o,n);break;case"End":d(b,o,n);break;case" ":break;default:A=!1}A&&n.preventDefault()}),[e,a,c,d,l,h]),g=i.useCallback(((t,n)=>{if($U(n))return;const i=e.current.getCellParams(t.id,t.field);if(i.cellMode===hN.Edit||!vS(n.key))return;if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:n,cell:i}))return;const d=a();if(0===d.length)return;const p=e.current.getViewportPageSize(),f=o?()=>0:e.current.getColumnIndex,m=t.field?f(t.field):0,g=d.findIndex((e=>e.id===t.id)),v=d.length-1,y=(o?[DF(e.current.state)]:oM(e)).length-1;let b=!0;switch(n.key){case"ArrowDown":g<v&&l(m,h(g+1),r?"right":"left","down");break;case"ArrowUp":g>0?l(m,h(g-1)):s?u(m,n):c(m,n);break;case"ArrowRight":{const e=tz({currentColIndex:m,firstColIndex:0,lastColIndex:y,isRtl:r});null!==e&&l(e,h(g),r?"left":"right");break}case"ArrowLeft":{const e=ez({currentColIndex:m,firstColIndex:0,lastColIndex:y,isRtl:r});null!==e&&l(e,h(g),r?"right":"left");break}case"Tab":n.shiftKey&&m>0?l(m-1,h(g),"left"):!n.shiftKey&&m<y&&l(m+1,h(g),"right");break;case" ":{if(t.field===YD)break;const e=t.colDef;if(e&&("__tree_data_group__"===e.field||(e=>e===KD||null!==(e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null})(e))(e.field)))break;!n.shiftKey&&g<v&&l(m,h(Math.min(g+p,v)));break}case"PageDown":g<v&&l(m,h(Math.min(g+p,v)));break;case"PageUp":{const e=Math.max(g-p,0);e!==g&&e>=0?l(m,h(e)):c(m,n);break}case"Home":n.ctrlKey||n.metaKey||n.shiftKey?l(0,h(0)):l(0,h(g));break;case"End":n.ctrlKey||n.metaKey||n.shiftKey?l(y,h(v)):l(y,h(g));break;default:b=!1}b&&n.preventDefault()}),[e,a,r,l,h,s,u,c,o]),v=i.useCallback(((e,t)=>{let{event:n}=t;return" "!==n.key&&e}),[]);TU(e,"canStartEditing",v),hL(e,"columnHeaderKeyDown",p),hL(e,"headerFilterKeyDown",f),hL(e,"columnGroupHeaderKeyDown",m),hL(e,"cellKeyDown",g)},iz=(e,t)=>{const n=Yp({},nF(t.autoPageSize),t.paginationModel??t.initialState?.pagination?.paginationModel);rF(n.pageSize,t.signature);const r=t.rowCount??t.initialState?.pagination?.rowCount??("client"===t.paginationMode?e.rows?.totalRowCount:void 0),i=t.paginationMeta??t.initialState?.pagination?.meta??{};return Yp({},e,{pagination:Yp({},e.pagination,{paginationModel:n,rowCount:r,meta:i,enabled:!0===t.pagination,paginationMode:t.paginationMode})})},oz=(e,t)=>{((e,t)=>{const n=hU(e,"useGridPaginationMeta"),r=cE(e,lF);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:lF,changeEvent:"paginationMetaChange"});const o=i.useCallback((t=>{r!==t&&(n.debug("Setting 'paginationMeta' to",t),e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{meta:t})}))))}),[e,n,r]);TF(e,{setPaginationMeta:o},"public");const a=i.useCallback(((n,r)=>{const i=lF(e);return r.exportOnlyDirtyModels&&null==t.paginationMeta&&null==t.initialState?.pagination?.meta?n:Yp({},n,{pagination:Yp({},n.pagination,{meta:i})})}),[e,t.paginationMeta,t.initialState?.pagination?.meta]),s=i.useCallback(((t,n)=>{const r=n.stateToRestore.pagination?.meta?n.stateToRestore.pagination.meta:lF(e);return e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{meta:r})}))),t}),[e]);TU(e,"exportState",a),TU(e,"restoreState",s),i.useEffect((()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)}),[e,t.paginationMeta])})(e,t),((e,t)=>{const n=hU(e,"useGridPaginationModel"),r=cE(e,mS),o=i.useRef(GM(e)),a=Math.floor(t.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:aF,changeEvent:"paginationModelChange"});const s=i.useCallback((t=>{const r=aF(e);t!==r.page&&(n.debug(`Setting page to ${t}`),e.current.setPaginationModel({page:t,pageSize:r.pageSize}))}),[e,n]),l=i.useCallback((t=>{const r=aF(e);t!==r.pageSize&&(n.debug(`Setting page size to ${t}`),e.current.setPaginationModel({pageSize:t,page:r.page}))}),[e,n]),c=i.useCallback((r=>{const i=aF(e);r!==i&&(n.debug("Setting 'paginationModel' to",r),e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{paginationModel:NU(e.pagination,t.signature,r)})})),"setPaginationModel"))}),[e,n,t.signature]);TF(e,{setPage:s,setPageSize:l,setPaginationModel:c},"public");const u=i.useCallback(((n,r)=>{const i=aF(e);return!r.exportOnlyDirtyModels||null!=t.paginationModel||null!=t.initialState?.pagination?.paginationModel||0!==i.page&&i.pageSize!==(t.autoPageSize?0:100)?Yp({},n,{pagination:Yp({},n.pagination,{paginationModel:i})}):n}),[e,t.paginationModel,t.initialState?.pagination?.paginationModel,t.autoPageSize]),d=i.useCallback(((n,r)=>{const i=r.stateToRestore.pagination?.paginationModel?Yp({},nF(t.autoPageSize),r.stateToRestore.pagination?.paginationModel):aF(e);return e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{paginationModel:NU(e.pagination,t.signature,i)})})),"stateRestorePreProcessing"),n}),[e,t.autoPageSize,t.signature]);TU(e,"exportState",u),TU(e,"restoreState",d);const h=i.useCallback((()=>{if(!t.autoPageSize)return;const n=e.current.getRootDimensions(),r=Math.floor(n.viewportInnerSize.height/a);e.current.setPageSize(r)}),[e,t.autoPageSize,a]),p=i.useCallback((t=>{if(null==t)return;const n=aF(e);if(0===n.page)return;const r=dF(e);n.page>r-1&&e.current.setPage(Math.max(0,r-1))}),[e]),f=i.useCallback((()=>{0!==aF(e).page&&e.current.setPage(0),0!==e.current.getScrollPosition().top&&e.current.scroll({top:0})}),[e]),m=i.useCallback((t=>{const n=Yp({},t,{items:tI(e)});XR(n,o.current)||(o.current=n,f())}),[e,f]);hL(e,"viewportInnerSizeChange",h),hL(e,"paginationModelChange",(()=>{const t=aF(e);e.current.virtualScrollerRef?.current&&e.current.scrollToIndexes({rowIndex:t.page*t.pageSize})})),hL(e,"rowCountChange",p),hL(e,"sortModelChange",YR(t.resetPageOnSortFilter,f)),hL(e,"filterModelChange",YR(t.resetPageOnSortFilter,m));const g=i.useRef(!0);i.useEffect((()=>{g.current?g.current=!1:t.pagination&&e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{paginationModel:NU(e.pagination,t.signature,t.paginationModel)})})))}),[e,t.paginationModel,t.signature,t.pagination]),i.useEffect((()=>{e.current.setState((e=>{const n=!0===t.pagination;return e.pagination.paginationMode===t.paginationMode||e.pagination.enabled===n?e:Yp({},e,{pagination:Yp({},e.pagination,{paginationMode:t.paginationMode,enabled:!0===t.pagination})})}))}),[e,t.paginationMode,t.pagination]),i.useEffect(h,[h])})(e,t),((e,t)=>{const n=hU(e,"useGridRowCount"),r=cE(e,ZM),o=cE(e,sF),a=cE(e,lF),s=cE(e,aF),l=Dp((()=>aF(e).pageSize));e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:sF,changeEvent:"rowCountChange"});const c=i.useCallback((t=>{o!==t&&(n.debug("Setting 'rowCount' to",t),e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{rowCount:t})}))))}),[e,n,o]);TF(e,{setRowCount:c},"public");const u=i.useCallback(((n,r)=>{const i=sF(e);return r.exportOnlyDirtyModels&&null==t.rowCount&&null==t.initialState?.pagination?.rowCount?n:Yp({},n,{pagination:Yp({},n.pagination,{rowCount:i})})}),[e,t.rowCount,t.initialState?.pagination?.rowCount]),d=i.useCallback(((t,n)=>{const r=n.stateToRestore.pagination?.rowCount?n.stateToRestore.pagination.rowCount:sF(e);return e.current.setState((e=>Yp({},e,{pagination:Yp({},e.pagination,{rowCount:r})}))),t}),[e]);TU(e,"exportState",u),TU(e,"restoreState",d);const h=i.useCallback((n=>{"client"!==t.paginationMode&&l.current&&n.pageSize!==l.current&&(l.current=n.pageSize,-1===o&&e.current.setPage(0))}),[t.paginationMode,l,o,e]);hL(e,"paginationModelChange",h),i.useEffect((()=>{"client"===t.paginationMode?e.current.setRowCount(r):null!=t.rowCount&&e.current.setRowCount(t.rowCount)}),[e,t.paginationMode,r,t.rowCount]);const p=!1===a.hasNextPage;i.useEffect((()=>{p&&-1===o&&e.current.setRowCount(s.pageSize*s.page+r)}),[e,r,p,o,s])})(e,t)},az=(e,t)=>Yp({},e,{preferencePanel:t.initialState?.preferencePanel??{open:!1}}),sz=e=>e.editRows,lz=IE(sz,((e,t)=>{let{rowId:n,editMode:r}=t;return r===dN.Row&&Boolean(e[n])})),cz=IE(sz,((e,t)=>{let{rowId:n,field:r}=t;return e[n]?.[r]??null})),uz=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},dz=["id","field"],hz=["id","field"];var pz=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(pz||{}),fz=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(fz||{});const mz=["id"],gz=["id"],vz=e=>Yp({},e,{editRows:{}}),yz=(e,t)=>{((e,t)=>{const[n,r]=i.useState({}),o=i.useRef(n),a=i.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:l,cellModesModel:c,onCellModesModelChange:u}=t,d=e=>function(){t.editMode===dN.Cell&&e(...arguments)},h=i.useCallback(((t,n)=>{const r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw new Error(`MUI X: The cell with id=${t} and field=${n} is not editable.`)}),[e]),p=i.useCallback(((t,n,r)=>{if(e.current.getCellMode(t,n)!==r)throw new Error(`MUI X: The cell with id=${t} and field=${n} is not in ${r} mode.`)}),[e]),f=i.useCallback(((t,n)=>{if(!t.isEditable)return;if(t.cellMode===hN.Edit)return;const r=Yp({},t,{reason:cN.cellDoubleClick});e.current.publishEvent("cellEditStart",r,n)}),[e]),m=i.useCallback(((t,n)=>{if(t.cellMode===hN.View)return;if(e.current.getCellMode(t.id,t.field)===hN.View)return;const r=Yp({},t,{reason:uN.cellFocusOut});e.current.publishEvent("cellEditStop",r,n)}),[e]),g=i.useCallback(((t,n)=>{if(t.cellMode===hN.Edit){if(229===n.which)return;let r;if("Escape"===n.key?r=uN.escapeKeyDown:"Enter"===n.key?r=uN.enterKeyDown:"Tab"===n.key&&(r=n.shiftKey?uN.shiftTabKeyDown:uN.tabKeyDown,n.preventDefault()),r){const i=Yp({},t,{reason:r});e.current.publishEvent("cellEditStop",i,n)}}else if(t.isEditable){let r;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"cell"}))return;if(gS(n)?r=cN.printableKeyDown:bS(n)?r=cN.pasteKeyDown:"Enter"===n.key?r=cN.enterKeyDown:"Backspace"!==n.key&&"Delete"!==n.key||(r=cN.deleteKeyDown),r){const i=Yp({},t,{reason:r,key:n.key});e.current.publishEvent("cellEditStart",i,n)}}}),[e]),v=i.useCallback((t=>{const{id:n,field:r,reason:i}=t,o={id:n,field:r};i!==cN.printableKeyDown&&i!==cN.deleteKeyDown&&i!==cN.pasteKeyDown||(o.deleteValue=!0),e.current.startCellEditMode(o)}),[e]),y=i.useCallback((t=>{const{id:n,field:r,reason:i}=t;let o;e.current.runPendingEditCellValueMutation(n,r),i===uN.enterKeyDown?o="below":i===uN.tabKeyDown?o="right":i===uN.shiftTabKeyDown&&(o="left");const a="escapeKeyDown"===i;e.current.stopCellEditMode({id:n,field:r,ignoreModifications:a,cellToFocusAfter:o})}),[e]);var b;hL(e,"cellDoubleClick",d(f)),hL(e,"cellFocusOut",d(m)),hL(e,"cellKeyDown",d(g)),hL(e,"cellEditStart",d(v)),hL(e,"cellEditStop",d(y)),fL(e,"cellEditStart",t.onCellEditStart),fL(e,"cellEditStop",(b=t.onCellEditStop,async function(){if(b){const{id:t,field:n}=arguments.length<=0?void 0:arguments[0],r=e.current.state.editRows,i=r[t][n]?.error;i||b(...arguments)}}));const A=i.useCallback(((t,n)=>{const r=sz(e.current.state);return r[t]&&r[t][n]?hN.Edit:hN.View}),[e]),x=Hp((n=>{const i=n!==t.cellModesModel;u&&i&&u(n,{api:e.current}),t.cellModesModel&&i||(r(n),o.current=n,e.current.publishEvent("cellModesModelChange",n))})),w=i.useCallback(((e,t,n)=>{const r=Yp({},o.current);if(null!==n)r[e]=Yp({},r[e],{[t]:Yp({},n)});else{const n=Ly(r[e],[t].map(aU));r[e]=n,0===Object.keys(r[e]).length&&delete r[e]}x(r)}),[x]),C=i.useCallback(((t,n,r)=>{e.current.setState((e=>{const i=Yp({},e.editRows);return null!==r?i[t]=Yp({},i[t],{[n]:Yp({},r)}):(delete i[t][n],0===Object.keys(i[t]).length&&delete i[t]),Yp({},e,{editRows:i})})),e.current.forceUpdate()}),[e]),E=i.useCallback((e=>{const{id:t,field:n}=e,r=Ly(e,dz);h(t,n),p(t,n,hN.View),w(t,n,Yp({mode:hN.Edit},r))}),[h,p,w]),S=Hp((async t=>{const{id:n,field:r,deleteValue:i,initialValue:o}=t,a=e.current.getCellValue(n,r);let s=a;i?s=uz(e.current.getColumn(r)):o&&(s=o);const l=e.current.getColumn(r),c=!!l.preProcessEditCellProps&&i;let u={value:s,error:!1,isProcessingProps:c};if(C(n,r,u),e.current.setCellFocus(n,r),c&&(u=await Promise.resolve(l.preProcessEditCellProps({id:n,row:e.current.getRow(n),props:u,hasChanged:s!==a})),e.current.getCellMode(n,r)===hN.Edit)){const t=sz(e.current.state);C(n,r,Yp({},u,{value:t[n][r].value,isProcessingProps:!1}))}})),_=i.useCallback((e=>{const{id:t,field:n}=e,r=Ly(e,hz);p(t,n,hN.Edit),w(t,n,Yp({mode:hN.View},r))}),[p,w]),M=Hp((async t=>{const{id:n,field:r,ignoreModifications:i,cellToFocusAfter:o="none"}=t;p(n,r,hN.Edit),e.current.runPendingEditCellValueMutation(n,r);const c=()=>{C(n,r,null),w(n,r,null),"none"!==o&&e.current.moveFocusToRelativeCell(n,r,o)};if(i)return void c();const u=sz(e.current.state),{error:d,isProcessingProps:h}=u[n][r];if(d||h)return a.current[n][r].mode=hN.Edit,void w(n,r,{mode:hN.Edit});const f=e.current.getRowWithUpdatedValuesFromCellEditing(n,r);if(s){const t=e=>{a.current[n][r].mode=hN.Edit,w(n,r,{mode:hN.Edit}),l&&l(e)};try{const r=e.current.getRow(n);Promise.resolve(s(f,r,{rowId:n})).then((t=>{e.current.updateRows([t]),c()})).catch(t)}catch(m){t(m)}}else e.current.updateRows([f]),c()})),I=i.useCallback((async t=>{const{id:n,field:r,value:i,debounceMs:o,unstable_skipValueParser:a}=t;h(n,r),p(n,r,hN.Edit);const s=e.current.getColumn(r),l=e.current.getRow(n);let c=i;s.valueParser&&!a&&(c=s.valueParser(i,l,s,e));let u=sz(e.current.state),d=Yp({},u[n][r],{value:c,changeReason:o?"debouncedSetEditCellValue":"setEditCellValue"});if(s.preProcessEditCellProps){const e=i!==u[n][r].value;d=Yp({},d,{isProcessingProps:!0}),C(n,r,d),d=await Promise.resolve(s.preProcessEditCellProps({id:n,row:l,props:d,hasChanged:e}))}return e.current.getCellMode(n,r)!==hN.View&&(u=sz(e.current.state),d=Yp({},d,{isProcessingProps:!1}),d.value=s.preProcessEditCellProps?u[n][r].value:c,C(n,r,d),u=sz(e.current.state),!u[n]?.[r]?.error)}),[e,h,p,C]),T=i.useCallback(((t,n)=>{const r=e.current.getColumn(n),i=sz(e.current.state),o=e.current.getRow(t);if(!i[t]||!i[t][n])return e.current.getRow(t);const{value:a}=i[t][n];return r.valueSetter?r.valueSetter(a,o,r,e):Yp({},o,{[n]:a})}),[e]),R={setCellEditingEditCellValue:I,getRowWithUpdatedValuesFromCellEditing:T};TF(e,{getCellMode:A,startCellEditMode:E,stopCellEditMode:_},"public"),TF(e,R,"private"),i.useEffect((()=>{c&&x(c)}),[c,x]),zp((()=>{const t=gM(e),r=a.current;a.current=KR(n),Object.entries(n).forEach((n=>{let[i,o]=n;Object.entries(o).forEach((n=>{let[o,a]=n;const s=r[i]?.[o]?.mode||hN.View,l=t[i]?e.current.getRowId(t[i]):i;a.mode===hN.Edit&&s===hN.View?S(Yp({id:l,field:o},a)):a.mode===hN.View&&s===hN.Edit&&M(Yp({id:l,field:o},a))}))}))}),[e,n,S,M])})(e,t),((e,t)=>{const[n,r]=i.useState({}),o=i.useRef(n),a=i.useRef({}),s=i.useRef(void 0),l=i.useRef(null),{processRowUpdate:c,onProcessRowUpdateError:u,rowModesModel:d,onRowModesModelChange:h}=t,p=e=>function(){t.editMode===dN.Row&&e(...arguments)},f=i.useCallback(((t,n)=>{const r=e.current.getCellParams(t,n);if(!e.current.isCellEditable(r))throw new Error(`MUI X: The cell with id=${t} and field=${n} is not editable.`)}),[e]),m=i.useCallback(((t,n)=>{if(e.current.getRowMode(t)!==n)throw new Error(`MUI X: The row with id=${t} is not in ${n} mode.`)}),[e]),g=i.useCallback((t=>{const n=sz(e.current.state);return Object.values(n[t]).some((e=>e.error))}),[e]),v=i.useCallback(((t,n)=>{if(!t.isEditable)return;if(e.current.getRowMode(t.id)===pN.Edit)return;const r=Yp({},e.current.getRowParams(t.id),{field:t.field,reason:pz.cellDoubleClick});e.current.publishEvent("rowEditStart",r,n)}),[e]),y=i.useCallback((e=>{l.current=e}),[]),b=i.useCallback(((t,n)=>{t.isEditable&&e.current.getRowMode(t.id)!==pN.View&&(l.current=null,s.current=setTimeout((()=>{if(l.current?.id!==t.id){if(!e.current.getRow(t.id))return;if(e.current.getRowMode(t.id)===pN.View)return;if(g(t.id))return;const r=Yp({},e.current.getRowParams(t.id),{field:t.field,reason:fz.rowFocusOut});e.current.publishEvent("rowEditStop",r,n)}})))}),[e,g]);i.useEffect((()=>()=>{clearTimeout(s.current)}),[]);const A=i.useCallback(((t,n)=>{if(t.cellMode===pN.Edit){if(229===n.which)return;let r;if("Escape"===n.key)r=fz.escapeKeyDown;else if("Enter"===n.key)r=fz.enterKeyDown;else if("Tab"===n.key){const i=aM(e).filter((n=>e.current.getColumn(n).type===PN||e.current.isCellEditable(e.current.getCellParams(t.id,n))));if(n.shiftKey?t.field===i[0]&&(r=fz.shiftTabKeyDown):t.field===i[i.length-1]&&(r=fz.tabKeyDown),n.preventDefault(),!r){const r=i.findIndex((e=>e===t.field)),o=i[n.shiftKey?r-1:r+1];e.current.setCellFocus(t.id,o)}}if(r){if(r!==fz.escapeKeyDown&&g(t.id))return;const i=Yp({},e.current.getRowParams(t.id),{reason:r,field:t.field});e.current.publishEvent("rowEditStop",i,n)}}else if(t.isEditable){let r;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:n,cellParams:t,editMode:"row"}))return;if(gS(n)||bS(n)?r=pz.printableKeyDown:"Enter"===n.key?r=pz.enterKeyDown:"Backspace"!==n.key&&"Delete"!==n.key||(r=pz.deleteKeyDown),r){const i=Yp({},e.current.getRowParams(t.id),{field:t.field,reason:r});e.current.publishEvent("rowEditStart",i,n)}}}),[e,g]),x=i.useCallback((t=>{const{id:n,field:r,reason:i}=t,o={id:n,fieldToFocus:r};i!==pz.printableKeyDown&&i!==pz.deleteKeyDown||(o.deleteValue=!!r),e.current.startRowEditMode(o)}),[e]),w=i.useCallback((t=>{const{id:n,reason:r,field:i}=t;let o;e.current.runPendingEditCellValueMutation(n),r===fz.enterKeyDown?o="below":r===fz.tabKeyDown?o="right":r===fz.shiftTabKeyDown&&(o="left");const a="escapeKeyDown"===r;e.current.stopRowEditMode({id:n,ignoreModifications:a,field:i,cellToFocusAfter:o})}),[e]);hL(e,"cellDoubleClick",p(v)),hL(e,"cellFocusIn",p(y)),hL(e,"cellFocusOut",p(b)),hL(e,"cellKeyDown",p(A)),hL(e,"rowEditStart",p(x)),hL(e,"rowEditStop",p(w)),fL(e,"rowEditStart",t.onRowEditStart),fL(e,"rowEditStop",t.onRowEditStop);const C=i.useCallback((n=>lz(e,{rowId:n,editMode:t.editMode})?pN.Edit:pN.View),[e,t.editMode]),E=Hp((n=>{const i=n!==t.rowModesModel;h&&i&&h(n,{api:e.current}),t.rowModesModel&&i||(r(n),o.current=n,e.current.publishEvent("rowModesModelChange",n))})),S=i.useCallback(((e,t)=>{const n=Yp({},o.current);null!==t?n[e]=Yp({},t):delete n[e],E(n)}),[E]),_=i.useCallback(((t,n)=>{e.current.setState((e=>{const r=Yp({},e.editRows);return null!==n?r[t]=n:delete r[t],Yp({},e,{editRows:r})})),e.current.forceUpdate()}),[e]),M=i.useCallback(((t,n,r)=>{e.current.setState((e=>{const i=Yp({},e.editRows);return null!==r?i[t]=Yp({},i[t],{[n]:Yp({},r)}):(delete i[t][n],0===Object.keys(i[t]).length&&delete i[t]),Yp({},e,{editRows:i})})),e.current.forceUpdate()}),[e]),I=i.useCallback((e=>{const{id:t}=e,n=Ly(e,mz);m(t,pN.View),S(t,Yp({mode:pN.Edit},n))}),[m,S]),T=Hp((t=>{const{id:n,fieldToFocus:r,deleteValue:i,initialValue:o}=t,a=tM(e),s=a.reduce(((t,a)=>{if(!e.current.getCellParams(n,a).isEditable)return t;const s=e.current.getColumn(a);let l=e.current.getCellValue(n,a);return r===a&&(i||o)&&(i?l=uz(s):o&&(l=o)),t[a]={value:l,error:!1,isProcessingProps:!!s.preProcessEditCellProps&&i},t}),{});_(n,s),r&&e.current.setCellFocus(n,r),a.filter((t=>!!e.current.getColumn(t).preProcessEditCellProps&&i)).forEach((t=>{const r=e.current.getColumn(t),a=e.current.getCellValue(n,t),l=i?uz(r):o??a;Promise.resolve(r.preProcessEditCellProps({id:n,row:e.current.getRow(n),props:s[t],hasChanged:l!==a})).then((r=>{if(e.current.getRowMode(n)===pN.Edit){const i=sz(e.current.state);M(n,t,Yp({},r,{value:i[n][t].value,isProcessingProps:!1}))}}))}))})),R=i.useCallback((e=>{const{id:t}=e,n=Ly(e,gz);m(t,pN.Edit),S(t,Yp({mode:pN.View},n))}),[m,S]),k=Hp((t=>{const{id:n,ignoreModifications:r,field:i,cellToFocusAfter:o="none"}=t;e.current.runPendingEditCellValueMutation(n);const s=()=>{"none"!==o&&i&&e.current.moveFocusToRelativeCell(n,i,o),_(n,null),S(n,null)};if(r)return void s();const l=sz(e.current.state),d=e.current.getRow(n);if(Object.values(l[n]).some((e=>e.isProcessingProps)))return void(a.current[n].mode=pN.Edit);if(g(n))return a.current[n].mode=pN.Edit,void S(n,{mode:pN.Edit});const h=e.current.getRowWithUpdatedValuesFromRowEditing(n);if(c){const t=e=>{a.current[n].mode=pN.Edit,S(n,{mode:pN.Edit}),u&&u(e)};try{Promise.resolve(c(h,d,{rowId:n})).then((t=>{e.current.updateRows([t]),s()})).catch(t)}catch(p){t(p)}}else e.current.updateRows([h]),s()})),P=i.useCallback((t=>{const{id:n,field:r,value:i,debounceMs:o,unstable_skipValueParser:a}=t;f(n,r);const s=e.current.getColumn(r),l=e.current.getRow(n);let c=i;s.valueParser&&!a&&(c=s.valueParser(i,l,s,e));let u=sz(e.current.state),d=Yp({},u[n][r],{value:c,changeReason:o?"debouncedSetEditCellValue":"setEditCellValue"});return s.preProcessEditCellProps||M(n,r,d),new Promise((t=>{const i=[];if(s.preProcessEditCellProps){const o=d.value!==u[n][r].value;d=Yp({},d,{isProcessingProps:!0}),M(n,r,d);const a=Ly(u[n],[r].map(aU)),h=Promise.resolve(s.preProcessEditCellProps({id:n,row:l,props:d,hasChanged:o,otherFieldsProps:a})).then((i=>{e.current.getRowMode(n)!==pN.View?(u=sz(e.current.state),(i=Yp({},i,{isProcessingProps:!1})).value=s.preProcessEditCellProps?u[n][r].value:c,M(n,r,i)):t(!1)}));i.push(h)}Object.entries(u[n]).forEach((o=>{let[a,s]=o;if(a===r)return;const c=e.current.getColumn(a);if(!c.preProcessEditCellProps)return;s=Yp({},s,{isProcessingProps:!0}),M(n,a,s),u=sz(e.current.state);const d=Ly(u[n],[a].map(aU)),h=Promise.resolve(c.preProcessEditCellProps({id:n,row:l,props:s,hasChanged:!1,otherFieldsProps:d})).then((r=>{e.current.getRowMode(n)!==pN.View?(r=Yp({},r,{isProcessingProps:!1}),M(n,a,r)):t(!1)}));i.push(h)})),Promise.all(i).then((()=>{e.current.getRowMode(n)===pN.Edit?(u=sz(e.current.state),t(!u[n][r].error)):t(!1)}))}))}),[e,f,M]),B=i.useCallback((t=>{const n=sz(e.current.state),r=e.current.getRow(t);if(!n[t])return e.current.getRow(t);let i=Yp({},r);return Object.entries(n[t]).forEach((t=>{let[n,r]=t;const o=e.current.getColumn(n);o.valueSetter?i=o.valueSetter(r.value,i,o,e):i[n]=r.value})),i}),[e]),O={setRowEditingEditCellValue:P,getRowWithUpdatedValuesFromRowEditing:B};TF(e,{getRowMode:C,startRowEditMode:I,stopRowEditMode:R},"public"),TF(e,O,"private"),i.useEffect((()=>{d&&E(d)}),[d,E]),zp((()=>{const t=gM(e),r=a.current;a.current=KR(n);const i=new Set([...Object.keys(n),...Object.keys(r)]);Array.from(i).forEach((i=>{const o=n[i]??{mode:pN.View},a=r[i]?.mode||pN.View,s=t[i]?e.current.getRowId(t[i]):i;o.mode===pN.Edit&&a===pN.View?T(Yp({id:s},o)):o.mode===pN.View&&a===pN.Edit&&k(Yp({id:s},o))}))}),[e,n,T,k])})(e,t);const n=i.useRef({}),{isCellEditable:r}=t,o=i.useCallback((e=>!PM(e.rowNode)&&(!!e.colDef.editable&&(!!e.colDef.renderEditCell&&(!r||r(e))))),[r]);i.useEffect((()=>{const e=n.current;return()=>{Object.entries(e).forEach((t=>{let[n,r]=t;Object.keys(r).forEach((t=>{const[r]=e[n][t];clearTimeout(r),delete e[n][t]}))}))}}),[]);const a=i.useCallback(((e,t)=>{if(n.current[e])if(t){if(n.current[e][t]){const[,r]=n.current[e][t];r()}}else Object.keys(n.current[e]).forEach((t=>{const[,r]=n.current[e][t];r()}))}),[]),s=i.useCallback((r=>{const{id:i,field:o,debounceMs:a}=r;return new Promise((s=>{((e,t,r,i)=>{if(!r)return void i();if(n.current[e]||(n.current[e]={}),n.current[e][t]){const[r]=n.current[e][t];clearTimeout(r)}const o=setTimeout((()=>{i(),delete n.current[e][t]}),r);n.current[e][t]=[o,()=>{const[r]=n.current[e][t];clearTimeout(r),i(),delete n.current[e][t]}]})(i,o,a,(async()=>{const n=t.editMode===dN.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(i,o)===hN.Edit){const e=await n(r);s(e)}}))}))}),[e,t.editMode]),l=i.useCallback(((n,r)=>t.editMode===dN.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(n,r):e.current.getRowWithUpdatedValuesFromRowEditing(n)),[e,t.editMode]),c=i.useCallback(((t,n)=>{const r=sz(e.current.state);return r[t]?.[n]??null}),[e]),u={runPendingEditCellValueMutation:a};TF(e,{isCellEditable:o,setEditCellValue:s,getRowWithUpdatedValues:l,unstable_getEditCellMeta:c},"public"),TF(e,u,"private")},bz=(e,t,n)=>{const r=!!t.unstable_dataSource;return n.current.caches.rows=TM({rows:r?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),Yp({},e,{rows:kM({apiRef:n,rowCountProp:t.rowCount,loadingProp:!!r||t.loading,previousTree:null,previousTreeDepths:null})})},Az=e=>"full"===e.updates.type?(e=>{const t={[_M]:Yp({},{type:"group",id:_M,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:_M,type:"leaf",groupingKey:null}}return{groupingName:sU,tree:t,treeDepths:{0:e.length},dataRowIds:e}})(e.updates.rows):(e=>{let{previousTree:t,actions:n}=e;const r=Yp({},t),i={};for(let s=0;s<n.remove.length;s+=1){const e=n.remove[s];i[e]=!0,delete r[e]}for(let s=0;s<n.insert.length;s+=1){const e=n.insert[s];r[e]={id:e,depth:0,parent:_M,type:"leaf",groupingKey:null}}const o=r[_M];let a=[...o.children,...n.insert];return Object.values(i).length&&(a=a.filter((e=>!i[e]))),r[_M]=Yp({},o,{children:a}),{groupingName:sU,tree:r,treeDepths:{0:a.length},dataRowIds:a}})({previousTree:e.previousTree,actions:e.updates.actions});class xz extends Error{}function wz(e,t){const n=i.useCallback((t=>({field:t,colDef:e.current.getColumn(t)})),[e]),r=i.useCallback((t=>{const n=e.current.getRow(t);if(!n)throw new xz(`No row with id #${t} found`);return{id:t,columns:e.current.getAllColumns(),row:n}}),[e]),o=i.useCallback(((t,n,r,i)=>{let{cellMode:o,colDef:a,hasFocus:s,rowNode:l,tabIndex:c}=i;const u=r[n],d=a?.valueGetter?a.valueGetter(u,r,a,e):u,h={id:t,field:n,row:r,rowNode:l,colDef:a,cellMode:o,hasFocus:s,tabIndex:c,value:d,formattedValue:d,isEditable:!1,api:null};return a&&a.valueFormatter&&(h.formattedValue=a.valueFormatter(d,r,a,e)),h.isEditable=a&&e.current.isCellEditable(h),h}),[e]),a=i.useCallback(((n,r)=>{const i=e.current.getRow(n),o=e.current.getRowNode(n);if(!i||!o)throw new xz(`No row with id #${n} found`);const a=FF(e),s=HF(e),l=e.current.getCellMode(n,r);return e.current.getCellParamsForRow(n,r,i,{colDef:t.unstable_listView&&t.unstable_listColumn?.field===r?DF(e.current.state):e.current.getColumn(r),rowNode:o,hasFocus:null!==a&&a.field===r&&a.id===n,tabIndex:s&&s.field===r&&s.id===n?0:-1,cellMode:l})}),[e,t.unstable_listView,t.unstable_listColumn?.field]),s=i.useCallback(((t,n)=>{const r=e.current.getColumn(n),i=e.current.getRow(t);if(!i)throw new xz(`No row with id #${t} found`);return r&&r.valueGetter?r.valueGetter(i[r.field],i,r,e):i[n]}),[e]),l=i.useCallback(((t,n)=>{const r=n.field;if(!n||!n.valueGetter)return t[r];const i=t[n.field];return n.valueGetter(i,t,n,e)}),[e]),c=i.useCallback(((t,n)=>{const r=l(t,n);return n&&n.valueFormatter?n.valueFormatter(r,t,n,e):r}),[e,l]),u=i.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(`[role="columnheader"][data-field="${WU(t)}"]`)}(e.current.rootElementRef.current,t):null),[e]),d=i.useCallback((t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(qU(t))}(e.current.rootElementRef.current,t):null),[e]),h=i.useCallback(((t,n)=>e.current.rootElementRef.current?function(e,t){let{id:n,field:r}=t;const i=`${qU(n)} .${QC.cell}[data-field="${WU(r)}"]`;return e.querySelector(i)}(e.current.rootElementRef.current,{id:t,field:n}):null),[e]),p={getCellParamsForRow:o};TF(e,{getCellValue:s,getCellParams:a,getCellElement:h,getRowValue:l,getRowFormattedValue:c,getRowParams:r,getRowElement:d,getColumnHeaderParams:n,getColumnHeaderElement:u},"public"),TF(e,p,"private")}const Cz=(e,t)=>null==e||Array.isArray(e)?e:t&&t[0]===e?t:[e],Ez=(e,t)=>Yp({},e,{rowSelection:t.rowSelection?Cz(t.rowSelectionModel)??[]:[]}),Sz=(e,t)=>{const n=hU(e,"useGridSelection"),r=i.useCallback((e=>function(){t.rowSelection&&e(...arguments)}),[t.rowSelection]),o=t.signature!==cL.DataGrid&&(t.rowSelectionPropagation?.parents||t.rowSelectionPropagation?.descendants),a=i.useMemo((()=>Cz(t.rowSelectionModel,bF(e.current.state))),[e,t.rowSelectionModel]),s=i.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:a,propOnChange:t.onRowSelectionModelChange,stateSelector:bF,changeEvent:"rowSelectionChange"});const{checkboxSelection:l,disableRowSelectionOnClick:c,isRowSelectable:u}=t,d=Qj(t),h=cE(e,yM),p=cE(e,wM)>1,f=i.useCallback((t=>{let n=t;const r=s.current??t,i=e.current.isRowSelected(t);if(i){const t=$M(e),i=t.findIndex((e=>e===r)),o=t.findIndex((e=>e===n));if(i===o)return;n=i>o?t[o+1]:t[o-1]}s.current=t,e.current.selectRowRange({startId:r,endId:n},!i)}),[e]),m=i.useCallback((r=>{if(t.signature===cL.DataGrid&&!d&&Array.isArray(r)&&r.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));bF(e.current.state)!==r&&(n.debug("Setting selection model"),e.current.setState((e=>Yp({},e,{rowSelection:t.rowSelection?r:[]}))),e.current.forceUpdate())}),[e,n,t.rowSelection,t.signature,d]),g=i.useCallback((t=>bF(e.current.state).includes(t)),[e]),v=i.useCallback((n=>{if(!1===t.rowSelection)return!1;if(u&&!u(e.current.getRowParams(n)))return!1;const r=yM(e)[n];return"footer"!==r?.type&&"pinnedRow"!==r?.type}),[e,t.rowSelection,u]),y=i.useCallback((()=>xF(e)),[e]),b=i.useCallback((function(r){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.current.isRowSelectable(r))if(s.current=r,a){n.debug(`Setting selection for row ${r}`);const a=[],s=e=>{a.push(e)};i&&(s(r),o&&Wj(e,h,r,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,s)),e.current.setRowSelectionModel(a)}else{n.debug(`Toggling selection for row ${r}`);const a=bF(e.current.state),s=new Set(a);s.delete(r);const l=e=>{s.add(e)},c=e=>{s.delete(e)};i?(l(r),o&&Wj(e,h,r,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,l)):o&&qj(e,h,r,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,c);(s.size<2||d)&&e.current.setRowSelectionModel(Array.from(s))}}),[e,n,o,h,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents,d]),A=i.useCallback((function(r){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.debug("Setting selection for several rows");const s=r.filter((t=>e.current.isRowSelectable(t)));let l;if(a){if(i){if(l=new Set(s),o){const n=e=>{l.add(e)};s.forEach((r=>{Wj(e,h,r,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,n)}))}}else l=new Set;const n=wF(e);if(l.size===Object.keys(n).length&&Array.from(l).every((e=>n[e]===e)))return}else{l=new Set(Object.values(wF(e)));const n=e=>{l.add(e)},r=e=>{l.delete(e)};s.forEach((a=>{i?(l.add(a),o&&Wj(e,h,a,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,n)):(r(a),o&&qj(e,h,a,t.rowSelectionPropagation?.descendants??!1,t.rowSelectionPropagation?.parents??!1,r))}))}(l.size<2||d)&&e.current.setRowSelectionModel(Array.from(l))}),[n,o,d,e,h,t.rowSelectionPropagation?.descendants,t.rowSelectionPropagation?.parents]),x=i.useCallback((function(t){let{startId:r,endId:i}=t,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.current.getRow(r)||!e.current.getRow(i))return;n.debug(`Expanding selection from row ${r} to row ${i}`);const s=$M(e),l=s.indexOf(r),c=s.indexOf(i),[u,d]=l>c?[c,l]:[l,c],h=s.slice(u,d+1);e.current.selectRows(h,o,a)}),[e,n]),w={selectRows:A,selectRowRange:x};TF(e,{selectRow:b,setRowSelectionModel:m,getSelectedRows:y,isRowSelected:g,isRowSelectable:v},"public"),TF(e,w,t.signature===cL.DataGrid?"private":"public");const C=i.useCallback((function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const r=bF(e.current.state),i=gM(e),o=WM(e),a=Yp({},wF(e));let s=!1;r.forEach((e=>{if((e=>"server"===t.filterMode?!i[e]:!i[e]||!1===o[e])(e)){if(t.keepNonExistentRowsSelected)return;return delete a[e],void(s=!0)}if(!t.rowSelectionPropagation?.parents)return;const n=h[e];if("group"===n.type){if(n.isAutoGenerated)return delete a[e],void(s=!0);n.children.every((e=>!1===o[e]))||(delete a[e],s=!0)}}));const l=p&&t.rowSelectionPropagation?.parents&&Object.keys(a).length>0;if(s||l&&!n){const t=Object.values(a);l?e.current.selectRows(t,!0,!0):e.current.setRowSelectionModel(t)}}),[e,p,t.rowSelectionPropagation?.parents,t.keepNonExistentRowsSelected,t.filterMode,h]),E=i.useCallback(((t,n)=>{const r=n.metaKey||n.ctrlKey,i=!l&&!r&&!(e=>!!e.key)(n),o=!d||i,a=e.current.isRowSelected(t);o?e.current.selectRow(t,!!i||!a,!0):e.current.selectRow(t,!a,!1)}),[e,d,l]),S=i.useCallback(((t,n)=>{if(c)return;const r=n.target.closest(`.${QC.cell}`)?.getAttribute("data-field");if(r===AU.field)return;if(r===YD)return;if(r){const t=e.current.getColumn(r);if(t?.type===PN)return}"pinnedRow"!==yM(e)[t.id].type&&(n.shiftKey&&d?f(t.id):E(t.id,n))}),[c,d,e,f,E]),_=i.useCallback(((e,t)=>{d&&t.shiftKey&&window.getSelection()?.removeAllRanges()}),[d]),M=i.useCallback(((t,n)=>{d&&n.nativeEvent.shiftKey?f(t.id):e.current.selectRow(t.id,t.value,!d)}),[e,f,d]),I=i.useCallback((n=>{const r=t.pagination&&t.checkboxSelectionVisibleOnly&&"client"===t.paginationMode?fF(e):$M(e);e.current.selectRows(r,n.value)}),[e,t.checkboxSelectionVisibleOnly,t.pagination,t.paginationMode]),T=i.useCallback(((t,n)=>{if(e.current.getCellMode(t.id,t.field)!==hN.Edit&&!$U(n)){if(vS(n.key)&&n.shiftKey){const r=FF(e);if(r&&r.id!==t.id){n.preventDefault();const i=e.current.isRowSelected(r.id);if(!d)return void e.current.selectRow(r.id,!i,!0);const o=e.current.getRowIndexRelativeToVisibleRows(r.id),a=e.current.getRowIndexRelativeToVisibleRows(t.id);let s,l;o>a?i?(s=a,l=o-1):(s=a,l=o):i?(s=o+1,l=a):(s=o,l=a);const c=gF(e).rows.slice(s,l+1).map((e=>e.id));return void e.current.selectRows(c,!i)}}if(" "===n.key&&n.shiftKey)return n.preventDefault(),void E(t.id,n);"A"===String.fromCharCode(n.keyCode)&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),A(e.current.getAllRowIds(),!0))}}),[e,E,A,d]);hL(e,"sortedRowsSet",r((()=>C(!0)))),hL(e,"filteredRowsSet",r(C)),hL(e,"rowClick",r(S)),hL(e,"rowSelectionCheckboxChange",r(M)),hL(e,"headerSelectionCheckboxChange",I),hL(e,"cellMouseDown",r(_)),hL(e,"cellKeyDown",r(T)),i.useEffect((()=>{void 0!==a&&e.current.setRowSelectionModel(a)}),[e,a,t.rowSelection]),i.useEffect((()=>{t.rowSelection||e.current.setRowSelectionModel([])}),[e,t.rowSelection]);const R=null!=a;i.useEffect((()=>{if(R||!t.rowSelection)return;const n=bF(e.current.state);if(v){const t=n.filter((e=>v(e)));t.length<n.length&&e.current.setRowSelectionModel(t)}}),[e,v,R,t.rowSelection]),i.useEffect((()=>{if(!t.rowSelection||R)return;const n=bF(e.current.state);!d&&n.length>1&&e.current.setRowSelectionModel([])}),[e,d,l,R,t.rowSelection]),i.useEffect((()=>{r(C)}),[C,r])},_z=(e,t)=>{const n=(e=>{const{classes:t}=e;return i.useMemo((()=>Op({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},GC,t)),[t])})({classes:t.classes}),r=i.useCallback((r=>{const i=Yp({},AU,{cellClassName:n.cellCheckbox,headerClassName:n.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),o=t.checkboxSelection,a=null!=r.lookup[bU];return o&&!a?(r.lookup[bU]=i,r.orderedFields=[bU,...r.orderedFields]):!o&&a?(delete r.lookup[bU],r.orderedFields=r.orderedFields.filter((e=>e!==bU))):o&&a&&(r.lookup[bU]=Yp({},i,r.lookup[bU])),r}),[e,n,t.checkboxSelection]);TU(e,"hydrateColumns",r)},Mz=(e,t)=>{const n=t.sortModel??t.initialState?.sorting?.sortModel??[];return Yp({},e,{sorting:{sortModel:yL(n,t.disableMultipleColumnsSorting),sortedRows:[]}})};function Iz(e){const{containerSize:t,scrollPosition:n,elementSize:r,elementOffset:i}=e,o=i+r;return r>t?i:o-t>n?o-t:i<n?i:void 0}const Tz={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"\t",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:dN.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resetPageOnSortFilter:!1,resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1,virtualizeColumnsWithAutoRowHeight:!1},Rz={width:0,height:0},kz={isReady:!1,root:Rz,viewportOuterSize:Rz,viewportInnerSize:Rz,contentSize:Rz,minimumSize:Rz,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},Pz=(e,t,n)=>Yp({},e,{dimensions:Yp({},kz,Dz(t,n,mS(n),sM(n)))}),Bz=ME(oM,lM,((e,t)=>{const n=e.length;return 0===n?0:qF(t[n-1]+e[n-1].computedWidth,1)}));function Oz(e,t){const n=hU(e,"useResizeContainer"),r=i.useRef(!1),o=i.useRef(Rz),a=cE(e,sM),s=cE(e,mS),l=cE(e,Bz),c=i.useRef(!0),{rowHeight:u,headerHeight:d,groupHeaderHeight:h,headerFilterHeight:p,headersTotalHeight:f,leftPinnedWidth:m,rightPinnedWidth:g}=Dz(t,e,s,a),v=i.useRef(void 0),y=i.useCallback((()=>KO(e.current.state)),[e]),b=i.useCallback((t=>{e.current.setState((e=>Yp({},e,{dimensions:t}))),e.current.rootElementRef.current&&Lz(e.current.rootElementRef.current,KO(e.current.state))}),[e]),A=i.useCallback((()=>{const t=e.current.mainElementRef.current;if(!t)return;const n=QE(t).getComputedStyle(t),r={width:parseFloat(n.width)||0,height:parseFloat(n.height)||0};v.current&&Fz(v.current,r)||(e.current.publishEvent("resize",r),v.current=r)}),[e]),x=i.useCallback((()=>{const n=KO(e.current.state);if(!n.isReady)return 0;const r=gF(e);if(t.getRowHeight){const t=MF(e),n=t.lastRowIndex-t.firstRowIndex;return Math.min(n-1,r.rows.length)}const i=Math.floor(n.viewportInnerSize.height/u);return Math.min(i,r.rows.length)}),[e,t.getRowHeight,u]),w=i.useCallback((()=>{if(c.current)return;const n=function(e,t){if(void 0!==t)return t;if(null===e)return 0;const n=Nz.get(e);if(void 0!==n)return n;const r=qp(e).createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",e.appendChild(r);const i=r.offsetWidth-r.clientWidth;return e.removeChild(r),Nz.set(e,i),i}(e.current.mainElementRef.current,t.scrollbarSize),r=CF(e.current.state),i=f+r.pinnedTopRowsTotalHeight,a=r.pinnedBottomRowsTotalHeight,s={width:l-m-g,height:qF(r.currentPageTotalHeight,1)};let v,y,A=!1,x=!1;if(t.autoHeight)x=!1,A=Math.round(l)>Math.round(o.current.width),v={width:o.current.width,height:i+a+s.height},y={width:Math.max(0,v.width-(x?n:0)),height:Math.max(0,v.height-(A?n:0))};else{v={width:o.current.width,height:o.current.height},y={width:Math.max(0,v.width-m-g),height:Math.max(0,v.height-i-a)};const e=s,t=y,r=e.width>t.width,l=e.height>t.height;(r||l)&&(x=l,A=e.width+(x?n:0)>t.width,A&&(x=e.height+n>t.height)),x&&(y.width-=n),A&&(y.height-=n)}const w=Math.max(v.width,l+(x?n:0)),C={width:l,height:i+s.height+a},E={isReady:!0,root:o.current,viewportOuterSize:v,viewportInnerSize:y,contentSize:s,minimumSize:C,hasScrollX:A,hasScrollY:x,scrollbarSize:n,headerHeight:d,groupHeaderHeight:h,headerFilterHeight:p,rowWidth:w,rowHeight:u,columnsTotalWidth:l,leftPinnedWidth:m,rightPinnedWidth:g,headersTotalHeight:f,topContainerHeight:i,bottomContainerHeight:a},S=e.current.state.dimensions;XR(S,E)||(b(E),Fz(E.viewportInnerSize,S.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",E.viewportInnerSize),e.current.updateRenderContext?.())}),[e,b,t.scrollbarSize,t.autoHeight,u,d,h,p,l,f,m,g]),C=Hp(w),E=i.useMemo((()=>t.resizeThrottleMs>0?function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;const i=()=>{t=void 0,e(...n)};function o(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];n=o,void 0===t&&(t=setTimeout(i,r))}return o.clear=()=>{clearTimeout(t),t=void 0},o}((()=>{C(),e.current.publishEvent("debouncedResize",o.current)}),t.resizeThrottleMs):void 0),[e,t.resizeThrottleMs,C]);i.useEffect((()=>E?.clear),[E]);const S={resize:A,getRootDimensions:y},_={updateDimensions:w,getViewportPageSize:x};zp(w,[w]),TF(e,S,"public"),TF(e,_,"private");const M=i.useCallback((t=>{Lz(t,KO(e.current.state))}),[e]),I=i.useCallback((e=>{if(o.current=e,0!==e.height||r.current||t.autoHeight||$F||(n.error(["The parent DOM element of the Data Grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),r.current=!0),0!==e.width||r.current||$F||(n.error(["The parent DOM element of the Data Grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),r.current=!0),c.current||!E)return c.current=!1,void w();E()}),[w,t.autoHeight,E,n]);fL(e,"rootMount",M),fL(e,"resize",I),fL(e,"debouncedResize",t.onResize)}function Lz(e,t){const n=(t,n)=>e.style.setProperty(t,n);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function Dz(e,t,n,r){const i=NM(e.rowHeight,Tz.rowHeight);return{rowHeight:Math.floor(i*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:Bz(t),headersTotalHeight:$N(t,e),leftPinnedWidth:r.left.reduce(((e,t)=>e+t.computedWidth),0),rightPinnedWidth:r.right.reduce(((e,t)=>e+t.computedWidth),0)}}const Nz=new WeakMap;function Fz(e,t){return e.width===t.width&&e.height===t.height}const jz="undefined"!==typeof globalThis.ResizeObserver?globalThis.ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},Uz=(e,t,n)=>{n.current.caches.rowsMeta={heights:new Map};const r=JO(n.current.state),i=pM(n),o=iF(n.current.state),a=Math.min(o.enabled?o.paginationModel.pageSize:i,i);return Yp({},e,{rowsMeta:{currentPageTotalHeight:a*r,positions:Array.from({length:a},((e,t)=>t*r)),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})};function zz(e){const{apiRef:t,lookup:n,columnIndex:r,rowId:i,minFirstColumnIndex:o,maxLastColumnIndex:a,columns:s}=e,l=s.length,c=s[r],u=t.current.getRow(i),d=t.current.getRowValue(u,c),h="function"===typeof c.colSpan?c.colSpan(d,u,c,t):c.colSpan;if(!h||1===h)return Hz(n,i,r,{spannedByColSpan:!1,cellProps:{colSpan:1,width:c.computedWidth}}),{colSpan:1};let p=c.computedWidth;for(let f=1;f<h;f+=1){const e=r+f;if(e>=o&&e<a){p+=s[e].computedWidth,Hz(n,i,r+f,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(r+h,l-1),leftVisibleCellIndex:r})}Hz(n,i,r,{spannedByColSpan:!1,cellProps:{colSpan:h,width:p}})}return{colSpan:h}}function Hz(e,t,n,r){e[t]||(e[t]={}),e[t][n]=r}function Vz(e){return void 0!==e.field}const Gz=(e,t,n)=>{if(Vz(e)){if(void 0!==n[e.field])throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join("\n"));return void(n[e.field]=t)}const{groupId:r,children:i}=e;i.forEach((e=>{Gz(e,[...t,r],n)}))},Qz=e=>{if(!e)return{};const t={};return e.forEach((e=>{Gz(e,[],t)})),t},Wz=(e,t,n)=>{const r=e=>t[e]??[],i=[],o=Math.max(...e.map((e=>r(e).length))),a=(e,t,n)=>XR(r(e).slice(0,n+1),r(t).slice(0,n+1));for(let s=0;s<o;s+=1){const t=e.reduce(((e,t)=>{const i=r(t)[s]??null;if(0===e.length)return[{columnFields:[t],groupId:i}];const o=e[e.length-1],l=o.columnFields[o.columnFields.length-1];return o.groupId!==i||!a(l,t,s)||(c=l,u=t,n?.left&&n.left.includes(c)&&!n.left.includes(u)||n?.right&&!n.right.includes(c)&&n.right.includes(u))?[...e,{columnFields:[t],groupId:i}]:[...e.slice(0,e.length-1),{columnFields:[...o.columnFields,t],groupId:i}];var c,u}),[]);i.push(t)}return i},qz=["groupId","children"],$z=e=>{let t={};return e.forEach((e=>{if(Vz(e))return;const{groupId:n,children:r}=e,i=Ly(e,qz);if(!n)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const o=Yp({},i,{groupId:n}),a=$z(r);if(void 0!==a[n]||void 0!==t[n])throw new Error(`MUI X: The groupId ${n} is used multiple times in the columnGroupingModel.`);t=Yp({},t,a,{[n]:o})})),Yp({},t)},Xz=(e,t,n)=>{if(!t.columnGroupingModel)return e;const r=tM(n),i=aM(n),o=$z(t.columnGroupingModel??[]),a=Qz(t.columnGroupingModel??[]),s=Wz(r,a,n.current.state.pinnedColumns??{}),l=0===i.length?0:Math.max(...i.map((e=>a[e]?.length??0)));return Yp({},e,{columnGrouping:{lookup:o,unwrappedGroupingModel:a,headerStructure:s,maxDepth:l}})},Kz={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0};function Yz(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Jz(e,t,n,r){let i=e;return i+="Right"===r?t-n.left:n.right-t,i}function Zz(e){e.preventDefault(),e.stopImmediatePropagation()}function eH(e){const t=i.useRef(void 0),n=()=>SF(e),r=cE(e,n);i.useEffect((()=>{t.current&&!1===r&&(t.current.resolve(),t.current=void 0)}));return()=>{if(!t.current){if(!1===n())return Promise.resolve();t.current=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}()}return t.current}}function tH(e,t,n){const r={},i=e.current.rootElementRef.current;return i.classList.add(QC.autosizing),n.forEach((n=>{const i=function(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${WU(t)}"][role="gridcell"]`))}(e.current,n.field),o=i.map((e=>e.getBoundingClientRect().width??0)),a=t.includeOutliers?o:function(e,t){if(e.length<4)return e;const n=e.slice();n.sort(((e,t)=>e-t));const r=n[Math.floor(.25*n.length)],i=n[Math.floor(.75*n.length)-1],o=i-r,a=o<5?5:o*t;return n.filter((e=>e>r-a&&e<i+a))}(o,t.outliersFactor);if(t.includeHeaders){const t=(s=e.current,l=n.field,s.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${WU(l)}"][role="columnheader"]`));if(t){const e=t.querySelector(`.${QC.columnHeaderTitle}`),n=t.querySelector(`.${QC.columnHeaderTitleContainerContent}`),r=t.querySelector(`.${QC.iconButtonContainer}`),i=t.querySelector(`.${QC.menuIcon}`),o=e??n,s=window.getComputedStyle(t,null),l=parseInt(s.paddingLeft,10)+parseInt(s.paddingRight,10),c=o.scrollWidth+1+l+(r?.clientWidth??0)+(i?.clientWidth??0);a.push(c)}}var s,l;const c=n.minWidth!==-1/0&&void 0!==n.minWidth,u=n.maxWidth!==1/0&&void 0!==n.maxWidth,d=c?n.minWidth:0,h=u?n.maxWidth:1/0,p=0===a.length?0:Math.max(...a);r[n.field]=qR(p,d,h)})),i.classList.remove(QC.autosizing),r}const nH=e=>Yp({},e,{columnResize:{resizingColumnField:""}});function rH(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const iH=(e,t)=>{const n=aC(),r=hU(e,"useGridColumnResize"),o=Dp(rH).current,a=i.useRef(null),s=i.useRef(null),l=Up(),c=i.useRef(void 0),u=t=>{r.debug(`Updating width to ${t} for col ${o.colDef.field}`);const n=o.columnHeaderElement.offsetWidth,i=t-n,a=t-o.initialColWidth;if(a>0){const t=o.initialTotalWidth+a;e.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${t}px`)}o.colDef.computedWidth=t,o.colDef.width=t,o.colDef.flex=0,o.columnHeaderElement.style.width=`${t}px`;const s=o.headerFilterElement;s&&(s.style.width=`${t}px`),o.groupHeaderElements.forEach((e=>{const n=e;let r;r="1"===n.getAttribute("aria-colspan")?`${t}px`:`${n.offsetWidth+i}px`,n.style.width=r})),o.cellElements.forEach((e=>{const n=e;let r;r="1"===n.getAttribute("aria-colspan")?`${t}px`:`${n.offsetWidth+i}px`,n.style.setProperty("--width",r)}));const l=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);l===J_.LEFT&&(oH(o.fillerLeft,"width",i),o.leftPinnedCellsAfter.forEach((e=>{oH(e,"left",i)})),o.leftPinnedHeadersAfter.forEach((e=>{oH(e,"left",i)}))),l===J_.RIGHT&&(oH(o.fillerRight,"width",i),o.rightPinnedCellsBefore.forEach((e=>{oH(e,"right",i)})),o.rightPinnedHeadersBefore.forEach((e=>{oH(e,"right",i)})))},d=t=>{if(y(),o.previousMouseClickEvent){const n=o.previousMouseClickEvent,r=n.timeStamp,i=n.clientX,a=n.clientY;if(t.timeStamp-r<300&&t.clientX===i&&t.clientY===a)return o.previousMouseClickEvent=void 0,void e.current.publishEvent("columnResizeStop",null,t)}if(o.colDef){e.current.setColumnWidth(o.colDef.field,o.colDef.width),r.debug(`Updating col ${o.colDef.field} with new width: ${o.colDef.width}`);const t=eM(e.current.state);o.groupHeaderElements.forEach((e=>{const n=e,r=`${e.getAttribute("data-fields").slice(2,-2).split("-|-").reduce(((e,n)=>!1!==t.columnVisibilityModel[n]?e+t.lookup[n].computedWidth:e),0)}px`;n.style.width=r}))}l.start(0,(()=>{e.current.publishEvent("columnResizeStop",null,t)}))},h=(t,r,i)=>{const l=e.current.rootElementRef.current;var c,u;o.initialColWidth=t.computedWidth,o.initialTotalWidth=e.current.getRootDimensions().rowWidth,o.colDef=t,o.columnHeaderElement=(c=e.current.columnHeadersContainerRef.current,u=t.field,c.querySelector(`[data-field="${WU(u)}"]`));const d=l.querySelector(`.${QC.headerFilterRow} [data-field="${WU(t.field)}"]`);d&&(o.headerFilterElement=d),o.groupHeaderElements=function(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${WU(t)}-|"]`)??[])}(e.current.columnHeadersContainerRef?.current,t.field),o.cellElements=function(e,t){if(!QU(e,QC.root))throw new Error("MUI X: The root element is not found.");const n=e.getAttribute("aria-colindex");if(!n)return[];const r=Number(n)-1,i=[];return t.virtualScrollerRef?.current?(JU(t).forEach((e=>{const n=e.getAttribute("data-id");if(!n)return;let o=r;const a=t.unstable_getCellColSpanInfo(n,r);a&&a.spannedByColSpan&&(o=a.leftVisibleCellIndex);const s=e.querySelector(`[data-colindex="${o}"]`);s&&i.push(s)})),i):[]}(o.columnHeaderElement,e.current),o.fillerLeft=XU(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),o.fillerRight=XU(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const h=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,o.colDef.field);o.leftPinnedCellsAfter=h!==J_.LEFT?[]:function(e,t,n){const r=ZU(t);return KU({api:e,colIndex:r,position:n?"right":"left",filterFn:e=>n?e<r:e>r})}(e.current,o.columnHeaderElement,n),o.rightPinnedCellsBefore=h!==J_.RIGHT?[]:function(e,t,n){const r=ZU(t);return KU({api:e,colIndex:r,position:n?"left":"right",filterFn:e=>n?e>r:e<r})}(e.current,o.columnHeaderElement,n),o.leftPinnedHeadersAfter=h!==J_.LEFT?[]:function(e,t,n){const r=ZU(t);return YU({api:e,position:n?"right":"left",colIndex:r,filterFn:e=>n?e<r:e>r})}(e.current,o.columnHeaderElement,n),o.rightPinnedHeadersBefore=h!==J_.RIGHT?[]:function(e,t,n){const r=ZU(t);return YU({api:e,position:n?"left":"right",colIndex:r,filterFn:(e,t)=>!t.classList.contains(QC["columnHeader--last"])&&(n?e>r:e<r)})}(e.current,o.columnHeaderElement,n),s.current=function(e,t){const n=e.classList.contains(QC["columnSeparator--sideRight"])?"Right":"Left";return t?function(e){return"Right"===e?"Left":"Right"}(n):n}(r,n),a.current=function(e,t,n){return"Left"===n?e-t.left:t.right-e}(i,o.columnHeaderElement.getBoundingClientRect(),s.current)},p=Hp(d),f=Hp((t=>{if(0===t.buttons)return void p(t);let n=Jz(a.current,t.clientX,o.columnHeaderElement.getBoundingClientRect(),s.current);n=qR(n,o.colDef.minWidth,o.colDef.maxWidth),u(n);const r={element:o.columnHeaderElement,colDef:o.colDef,width:n};e.current.publishEvent("columnResize",r,t)})),m=Hp((e=>{Yz(e,c.current)&&d(e)})),g=Hp((t=>{const n=Yz(t,c.current);if(!n)return;if("mousemove"===t.type&&0===t.buttons)return void m(t);let r=Jz(a.current,n.x,o.columnHeaderElement.getBoundingClientRect(),s.current);r=qR(r,o.colDef.minWidth,o.colDef.maxWidth),u(r);const i={element:o.columnHeaderElement,colDef:o.colDef,width:r};e.current.publishEvent("columnResize",i,t)})),v=Hp((t=>{const n=QU(t.target,QC["columnSeparator--resizable"]);if(!n)return;const i=t.changedTouches[0];null!=i&&(c.current=i.identifier);const o=QU(t.target,QC.columnHeader),a=o.getAttribute("data-field");const s=e.current.getColumn(a);r.debug(`Start Resize on col ${s.field}`),e.current.publishEvent("columnResizeStart",{field:a},t),h(s,n,i.clientX);const l=qp(t.currentTarget);l.addEventListener("touchmove",g),l.addEventListener("touchend",m)})),y=i.useCallback((()=>{const t=qp(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",f),t.removeEventListener("mouseup",p),t.removeEventListener("touchmove",g),t.removeEventListener("touchend",m),setTimeout((()=>{t.removeEventListener("click",Zz,!0)}),100),o.columnHeaderElement&&(o.columnHeaderElement.style.pointerEvents="unset")}),[e,o,f,p,g,m]),b=i.useCallback((t=>{let{field:n}=t;e.current.setState((e=>Yp({},e,{columnResize:Yp({},e.columnResize,{resizingColumnField:n})}))),e.current.forceUpdate()}),[e]),A=i.useCallback((()=>{e.current.setState((e=>Yp({},e,{columnResize:Yp({},e.columnResize,{resizingColumnField:""})}))),e.current.forceUpdate()}),[e]),x=Hp(((t,n)=>{let{colDef:i}=t;if(0!==n.button)return;if(!n.currentTarget.classList.contains(QC["columnSeparator--resizable"]))return;n.preventDefault(),r.debug(`Start Resize on col ${i.field}`),e.current.publishEvent("columnResizeStart",{field:i.field},n),h(i,n.currentTarget,n.clientX);const a=qp(e.current.rootElementRef.current);a.body.style.cursor="col-resize",o.previousMouseClickEvent=n.nativeEvent,a.addEventListener("mousemove",f),a.addEventListener("mouseup",p),a.addEventListener("click",Zz,!0)})),w=Hp(((n,r)=>{if(t.disableAutosize)return;if(0!==r.button)return;const i=e.current.state.columns.lookup[n.field];!1!==i.resizable&&e.current.autosizeColumns(Yp({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[i.field]}))})),C=eH(e),E=i.useRef(!1),S=i.useCallback((async n=>{const r=e.current.rootElementRef?.current;if(!r)return;if(E.current)return;E.current=!0;const i=eM(e.current.state),o=Yp({},Kz,n,{columns:n?.columns??i.orderedFields});o.columns=o.columns.filter((e=>!1!==i.columnVisibilityModel[e]));const a=o.columns.map((t=>e.current.state.columns.lookup[t]));try{!t.disableVirtualization&&o.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await C());const n=tH(e,o,a),r=a.map((e=>Yp({},e,{width:n[e.field],computedWidth:n[e.field],flex:0})));if(o.expand){const t=i.orderedFields.map((e=>i.lookup[e])).filter((e=>!1!==i.columnVisibilityModel[e.field])),o=t.reduce(((e,t)=>e+(n[t.field]??t.computedWidth??t.width)),0),a=e.current.getRootDimensions(),s=a.viewportInnerSize.width-o;if(s>0){const e=s/(r.length||1);r.forEach((t=>{t.width+=e,t.computedWidth+=e}))}}e.current.updateColumns(r),r.forEach(((t,n)=>{if(t.width!==a[n].width){const n=t.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t.field),colDef:t,width:n})}}))}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),E.current=!1}}),[e,C,t.disableVirtualization]);i.useEffect((()=>y),[y]),Fp((()=>{t.autosizeOnMount&&Promise.resolve().then((()=>{e.current.autosizeColumns(t.autosizeOptions)}))})),pU(e,(()=>e.current.columnHeadersContainerRef?.current),"touchstart",v,{passive:!0}),TF(e,{autosizeColumns:S},"public"),hL(e,"columnResizeStop",A),hL(e,"columnResizeStart",b),hL(e,"columnSeparatorMouseDown",x),hL(e,"columnSeparatorDoubleClick",w),fL(e,"columnResize",t.onColumnResize),fL(e,"columnWidthChange",t.onColumnWidthChange)};function oH(e,t,n){e&&(e.style[t]=`${parseInt(e.style[t],10)+n}px`)}function aH(e){return 0!==e.firstRowIndex||0!==e.lastRowIndex}const sH=(e,t,n)=>{if(!e)return null;let r=e[t.field];const i=t.rowSpanValueGetter??t.valueGetter;return i&&(r=i(r,e,t,n)),r},lH={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},cH={firstRowIndex:0,lastRowIndex:0},uH=new Set([bU,"__reorder__",YD]),dH=(e,t,n,r,i,o,a)=>{const s=o?{}:Yp({},e.current.state.rowSpanning.spannedCells),l=o?{}:Yp({},e.current.state.rowSpanning.hiddenCells),c=o?{}:Yp({},e.current.state.rowSpanning.hiddenCellOriginMap);return o&&(a=cH),t.forEach((t=>{if(!uH.has(t.field)){for(let o=i.firstRowIndex;o<i.lastRowIndex;o+=1){const a=n[o];if(l[a.id]?.[t.field])continue;const u=sH(a.model,t,e);if(null==u)continue;let d=a.id,h=o,p=0;const f=[];if(o===i.firstRowIndex){let i=o-1,a=n[i];for(;i>=r.firstRowIndex&&a&&sH(a.model,t,e)===u;){const e=n[i+1];l[e.id]?l[e.id][t.field]=!0:l[e.id]={[t.field]:!0},f.push(o),p+=1,d=a.id,h=i,i-=1,a=n[i]}}f.forEach((e=>{c[e]?c[e][t.field]=h:c[e]={[t.field]:h}}));let m=o+1;for(;m<=r.lastRowIndex&&n[m]&&sH(n[m].model,t,e)===u;){const e=n[m];l[e.id]?l[e.id][t.field]=!0:l[e.id]={[t.field]:!0},c[m]?c[m][t.field]=h:c[m]={[t.field]:h},m+=1,p+=1}p>0&&(s[d]?s[d][t.field]=p+1:s[d]={[t.field]:p+1})}a={firstRowIndex:Math.min(a.firstRowIndex,i.firstRowIndex),lastRowIndex:Math.max(a.lastRowIndex,i.lastRowIndex)}}})),{spannedCells:s,hiddenCells:l,hiddenCellOriginMap:c,processedRange:a}},hH=(e,t)=>{const n=CM(t).length;if(e.pagination){const e=uF(t);let r=20;return e>0&&(r=e-1),{firstRowIndex:0,lastRowIndex:Math.min(r,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(20,n)}},pH=(e,t,n)=>{if(!t.unstable_rowSpanning)return Yp({},e,{rowSpanning:lH});const r=e.rows.dataRowIds||[],i=e.columns.orderedFields||[],o=e.rows.dataRowIdToModelLookup,a=e.columns.lookup,s=Boolean(e.filter.filterModel.items.length)||Boolean(e.filter.filterModel.quickFilterValues?.length);if(!r.length||!i.length||!o||!a||s)return Yp({},e,{rowSpanning:lH});const l=hH(t,n),c=r.map((e=>({id:e,model:o[e]}))),u=i.map((e=>a[e])),{spannedCells:d,hiddenCells:h,hiddenCellOriginMap:p}=dH(n,u,c,l,l,!0,cH);return Yp({},e,{rowSpanning:{spannedCells:d,hiddenCells:h,hiddenCellOriginMap:p}})};new Set;const fH=(e,t,n)=>Yp({},e,{listViewColumn:t.unstable_listColumn?Yp({},t.unstable_listColumn,{computedWidth:mH(n)}):void 0});function mH(e){return KO(e.current.state).viewportInnerSize.width}const gH=(e,t)=>{const n=uU(e,t);return _z(n,t),(e=>{jU(e,sU,"rowTreeCreation",Az)})(n),dU(cU,n,t),dU(Ez,n,t),dU(kU,n,t),dU(bz,n,t),dU(iz,n,t),dU(vz,n,t),dU(GU,n,t),dU(Mz,n,t),dU(az,n,t),dU(UU,n,t),dU(pH,n,t),dU(BU,n,t),dU(nH,n,t),dU(MU,n,t),dU(Xz,n,t),dU(kF,n,t),dU(Pz,n,t),dU(Uz,n,t),dU(fH,n,t),rz(n,t),Sz(n,t),function(e,t){const n=hU(e,"useGridColumns"),r=i.useRef(t.columns);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:iM,changeEvent:"columnVisibilityModelChange"});const o=i.useCallback((t=>{n.debug("Updating columns state."),e.current.setState(PU(t)),e.current.publishEvent("columnsChange",t.orderedFields),e.current.updateRenderContext?.(),e.current.forceUpdate()}),[n,e]),a=i.useCallback((t=>nM(e)[t]),[e]),s=i.useCallback((()=>rM(e)),[e]),l=i.useCallback((()=>oM(e)),[e]),c=i.useCallback((function(t){return(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?rM(e):oM(e)).findIndex((e=>e.field===t))}),[e]),u=i.useCallback((t=>{const n=c(t);return lM(e)[n]}),[e,c]),d=i.useCallback((t=>{iM(e)!==t&&(e.current.setState((n=>Yp({},n,{columns:qN({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})}))),e.current.updateRenderContext?.(),e.current.forceUpdate())}),[e]),h=i.useCallback((t=>{const n=qN({apiRef:e,columnsToUpsert:t,initialState:void 0,keepOnlyColumnsToUpsert:!1});o(n)}),[e,o]),p=i.useCallback(((t,n)=>{const r=iM(e);if(n!==(r[t]??!0)){const i=Yp({},r,{[t]:n});e.current.setColumnVisibilityModel(i)}}),[e]),f=i.useCallback((t=>tM(e).findIndex((e=>e===t))),[e]),m=i.useCallback(((t,r)=>{const i=tM(e),a=f(t);if(a===r)return;n.debug(`Moving column ${t} to index ${r}`);const s=[...i],l=s.splice(a,1)[0];s.splice(r,0,l),o(Yp({},eM(e.current.state),{orderedFields:s}));const c={column:e.current.getColumn(t),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(t),oldIndex:a};e.current.publishEvent("columnIndexChange",c)}),[e,n,o,f]),g=i.useCallback(((t,r)=>{n.debug(`Updating column ${t} width to ${r}`);const i=eM(e.current.state),a=Yp({},i.lookup[t],{width:r,hasBeenResized:!0});o(QN(Yp({},i,{lookup:Yp({},i.lookup,{[t]:a})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t),colDef:a,width:r})}),[e,n,o]),v={setColumnIndex:m};TF(e,{getColumn:a,getAllColumns:s,getColumnIndex:c,getColumnPosition:u,getVisibleColumns:l,getColumnIndexRelativeToVisibleColumns:f,updateColumns:h,setColumnVisibilityModel:d,setColumnVisibility:p,setColumnWidth:g},"public"),TF(e,v,t.signature===cL.DataGrid?"private":"public");const y=i.useCallback(((n,r)=>{const i={},o=iM(e);(!r.exportOnlyDirtyModels||null!=t.columnVisibilityModel||Object.keys(t.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys(o).length>0)&&(i.columnVisibilityModel=o),i.orderedFields=tM(e);const a=rM(e),s={};return a.forEach((e=>{if(e.hasBeenResized){const t={};VN.forEach((n=>{let r=e[n];r===1/0&&(r=-1),t[n]=r})),s[e.field]=t}})),Object.keys(s).length>0&&(i.dimensions=s),Yp({},n,{columns:i})}),[e,t.columnVisibilityModel,t.initialState?.columns]),b=i.useCallback(((t,n)=>{const r=n.stateToRestore.columns?.columnVisibilityModel,i=n.stateToRestore.columns;if(null==r&&null==i)return t;const o=qN({apiRef:e,columnsToUpsert:[],initialState:i,columnVisibilityModel:r,keepOnlyColumnsToUpsert:!1});return e.current.setState(PU(o)),null!=i&&e.current.publishEvent("columnsChange",o.orderedFields),t}),[e]),A=i.useCallback(((e,n)=>{if(n===PE.columns){const e=t.slots.columnsPanel;return(0,Ty.jsx)(e,Yp({},t.slotProps?.columnsPanel))}return e}),[t.slots.columnsPanel,t.slotProps?.columnsPanel]),x=i.useCallback((e=>t.disableColumnSelector?e:[...e,"columnMenuColumnsItem"]),[t.disableColumnSelector]);TU(e,"columnMenu",x),TU(e,"exportState",y),TU(e,"restoreState",b),TU(e,"preferencePanel",A);const w=i.useRef(null);hL(e,"viewportInnerSizeChange",(t=>{if(w.current!==t.width){if(w.current=t.width,!oM(e).some((e=>e.flex&&e.flex>0)))return;o(QN(eM(e.current.state),e.current.getRootDimensions()))}}));const C=i.useCallback((()=>{n.info("Columns pipe processing have changed, regenerating the columns");const t=qN({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});o(t)}),[e,n,o]);RU(e,"hydrateColumns",C);const E=i.useRef(!0);i.useEffect((()=>{if(E.current)return void(E.current=!1);if(n.info(`GridColumns have changed, new length ${t.columns.length}`),r.current===t.columns)return;const i=qN({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});r.current=t.columns,o(i)}),[n,e,o,t.columns]),i.useEffect((()=>{void 0!==t.columnVisibilityModel&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)}),[e,n,t.columnVisibilityModel])}(n,t),((e,t)=>{const n=hU(e,"useGridRows"),r=i.useRef(Date.now()),o=i.useRef(t.rowCount),a=Up(),s=i.useCallback((t=>{const n=gM(e)[t];if(n)return n;const r=e.current.getRowNode(t);return r&&PM(r)?{[MM]:t}:null}),[e]),l=i.useCallback((t=>WD(e.current.state,t)),[e]),c=i.useCallback((n=>{let{cache:i,throttle:o}=n;const s=()=>{r.current=Date.now(),e.current.setState((n=>Yp({},n,{rows:kM({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:yM(e),previousTreeDepths:xM(e),previousGroupsToFetch:bM(e)})}))),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=i,!o)return void s();const l=t.throttleRowsMs-(Date.now()-r.current);l>0?a.start(l,s):s()}),[t.throttleRowsMs,t.rowCount,t.loading,e,a]),u=i.useCallback((r=>{n.debug(`Updating all rows, new length ${r.length}`);const i=TM({rows:r,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),o=e.current.caches.rows;i.rowsBeforePartialUpdates=o.rowsBeforePartialUpdates,c({cache:i,throttle:!0})}),[n,t.getRowId,t.loading,t.rowCount,c,e]),d=i.useCallback((n=>{if(t.signature===cL.DataGrid&&n.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));const r=DM(e,n,t.getRowId),i=OM({updates:r,getRowId:t.getRowId,previousCache:e.current.caches.rows});c({cache:i,throttle:!0})}),[t.signature,t.getRowId,c,e]),h=i.useCallback(((n,r)=>{const i=DM(e,n,t.getRowId),o=OM({updates:i,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:r??[]});c({cache:o,throttle:!1})}),[t.getRowId,c,e]),p=i.useCallback((r=>{r!==t.loading&&(n.debug(`Setting loading to ${r}`),e.current.setState((e=>Yp({},e,{rows:Yp({},e.rows,{loading:r})}))),e.current.caches.rows.loadingPropBeforePartialUpdates=r)}),[t.loading,e,n]),f=i.useCallback((()=>{const t=CM(e),n=gM(e);return new Map(t.map((e=>[e,n[e]??{}])))}),[e]),m=i.useCallback((()=>pM(e)),[e]),g=i.useCallback((()=>CM(e)),[e]),v=i.useCallback((t=>{const n=e.current.getRow(t),{rowToIndexMap:r}=gF(e);return r.get(n)}),[e]),y=i.useCallback(((t,n)=>{const r=e.current.getRowNode(t);if(!r)throw new Error(`MUI X: No row with id #${t} found.`);if("group"!==r.type)throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const i=Yp({},r,{childrenExpanded:n});e.current.setState((e=>Yp({},e,{rows:Yp({},e.rows,{tree:Yp({},e.rows.tree,{[t]:i})})}))),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",i)}),[e]),b=i.useCallback((t=>yM(e)[t]??null),[e]),A=i.useCallback((t=>{let{skipAutoGeneratedRows:n=!0,groupId:r,applySorting:i,applyFiltering:o}=t;const a=yM(e);let s;if(i){const t=a[r];if(!t)return[];const i=jM(e);s=[];const o=i.findIndex((e=>e===r))+1;for(let e=o;e<i.length&&a[i[e]].depth>t.depth;e+=1){const t=i[e];n&&PM(a[t])||s.push(t)}}else s=BM(a,r,n);if(o){const t=WM(e);s=s.filter((e=>!1!==t[e]))}return s}),[e]),x=i.useCallback(((t,r)=>{const i=e.current.getRowNode(t);if(!i)throw new Error(`MUI X: No row with id #${t} found.`);if(i.parent!==_M)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if("leaf"!==i.type)throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState((i=>{const o=yM(i,e.current.instanceId)[_M],a=o.children,s=a.findIndex((e=>e===t));if(-1===s||s===r)return i;n.debug(`Moving row ${t} to index ${r}`);const l=[...a];return l.splice(r,0,l.splice(s,1)[0]),Yp({},i,{rows:Yp({},i.rows,{tree:Yp({},i.rows.tree,{[_M]:Yp({},o,{children:l})})})})})),e.current.publishEvent("rowsSet")}),[e,n]),w=i.useCallback(((n,r)=>{if(t.signature===cL.DataGrid&&r.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(0===r.length)return;if(wM(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const i=Yp({},yM(e)),o=Yp({},gM(e)),a=Yp({},vM(e)),s=i[_M],l=[...s.children],c=new Set;for(let e=0;e<r.length;e+=1){const s=r[e],u=IM(s,t.getRowId,"A row was provided without id when calling replaceRows()."),[d]=l.splice(n+e,1,u);c.has(d)||(delete o[d],delete a[d],delete i[d]);const h={id:u,depth:0,parent:_M,type:"leaf",groupingKey:null};o[u]=s,a[u]=u,i[u]=h,c.add(u)}i[_M]=Yp({},s,{children:l});const u=l.filter((e=>"leaf"===i[e]?.type));e.current.caches.rows.dataRowIdToModelLookup=o,e.current.caches.rows.dataRowIdToIdLookup=a,e.current.setState((e=>Yp({},e,{rows:Yp({},e.rows,{dataRowIdToModelLookup:o,dataRowIdToIdLookup:a,dataRowIds:u,tree:i})}))),e.current.publishEvent("rowsSet")}),[e,t.signature,t.getRowId]),C={getRow:s,setLoading:p,getRowId:l,getRowModels:f,getRowsCount:m,getAllRowIds:g,setRows:u,updateRows:d,getRowNode:b,getRowIndexRelativeToVisibleRows:v,unstable_replaceRows:w},E={setRowIndex:x,setRowChildrenExpansion:y,getRowGroupChildren:A},S={updateServerRows:h},_=i.useCallback((()=>{let r;n.info("Row grouping pre-processing have changed, regenerating the row tree"),r=e.current.caches.rows.rowsBeforePartialUpdates===t.rows?Yp({},e.current.caches.rows,{updates:{type:"full",rows:CM(e)}}):TM({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),c({cache:r,throttle:!1})}),[n,e,t.rows,t.getRowId,t.loading,t.rowCount,c]),M=Dp((()=>t.unstable_dataSource)),I=i.useCallback((e=>{t.unstable_dataSource&&t.unstable_dataSource!==M.current?M.current=t.unstable_dataSource:"rowTreeCreation"===e&&_()}),[_,M,t.unstable_dataSource]),T=i.useCallback((()=>{e.current.getActiveStrategy("rowTree")!==AM(e)&&_()}),[e,_]);hL(e,"activeStrategyProcessorChange",I),hL(e,"strategyAvailabilityChange",T);const R=i.useCallback((()=>{e.current.setState((n=>{const r=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:yM(n,e.current.instanceId),treeDepths:xM(n,e.current.instanceId),dataRowIds:CM(n,e.current.instanceId),dataRowIdToModelLookup:gM(n,e.current.instanceId),dataRowIdToIdLookup:vM(n,e.current.instanceId)});return Yp({},n,{rows:Yp({},n.rows,r,{totalTopLevelRowCount:RM({tree:r.tree,rowCountProp:t.rowCount})})})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()}),[e,t.rowCount]);RU(e,"hydrateRows",R),TF(e,C,"public"),TF(e,E,t.signature===cL.DataGrid?"private":"public"),TF(e,S,"private");const k=i.useRef(!0);i.useEffect((()=>{if(k.current)return void(k.current=!1);let r=!1;t.rowCount!==o.current&&(r=!0,o.current=t.rowCount);const i=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,a=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,s=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;i&&(a||(e.current.setState((e=>Yp({},e,{rows:Yp({},e.rows,{loading:t.loading})}))),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),s||(e.current.setState((e=>Yp({},e,{rows:Yp({},e.rows,{totalRowCount:Math.max(t.rowCount||0,e.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,e.rows.totalTopLevelRowCount)})}))),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate()),!r)||(n.debug(`Updating all rows, new length ${t.rows?.length}`),c({cache:TM({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))}),[t.rows,t.rowCount,t.getRowId,t.loading,n,c,e])})(n,t),((e,t)=>{const n=Dp((()=>e.current.state.rowSpanning!==lH?hH(t,e):cH)),r=i.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{range:o,rows:a}=gF(e,(t.pagination,t.paginationMode));if(null===o||!aH(r))return;i&&(n.current=cH);const s=function(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}({firstRowIndex:r.firstRowIndex,lastRowIndex:Math.min(r.lastRowIndex,o.lastRowIndex+1)},n.current);if(null===s)return;const l=oM(e),{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:d,processedRange:h}=dH(e,l,a,o,s,i,n.current);n.current=h;const p=Object.keys(c).length,f=Object.keys(u).length,m=Object.keys(e.current.state.rowSpanning.spannedCells).length,g=Object.keys(e.current.state.rowSpanning.hiddenCells).length;(i||p!==m||f!==g)&&(0!==p||0!==m)&&e.current.setState((e=>Yp({},e,{rowSpanning:{spannedCells:c,hiddenCells:u,hiddenCellOriginMap:d}})))}),[e,n,t.pagination,t.paginationMode]),o=i.useCallback((()=>{const t=MF(e);aH(t)&&r(t,!0)}),[e,r]);hL(e,"renderedRowsIntervalChange",YR(t.unstable_rowSpanning,r)),hL(e,"sortedRowsSet",YR(t.unstable_rowSpanning,o)),hL(e,"paginationModelChange",YR(t.unstable_rowSpanning,o)),hL(e,"filteredRowsSet",YR(t.unstable_rowSpanning,o)),hL(e,"columnsChange",YR(t.unstable_rowSpanning,o)),i.useEffect((()=>{t.unstable_rowSpanning?e.current.state.rowSpanning===lH&&o():e.current.state.rowSpanning!==lH&&e.current.setState((e=>Yp({},e,{rowSpanning:lH})))}),[e,o,t.unstable_rowSpanning])})(n,t),wz(n,t),(e=>{const t=i.useRef({}),n=()=>{t.current={}},r=i.useCallback((n=>{let{rowId:r,minFirstColumn:i,maxLastColumn:o,columns:a}=n;for(let s=i;s<o;s+=1){const n=zz({apiRef:e,lookup:t.current,columnIndex:s,rowId:r,minFirstColumnIndex:i,maxLastColumnIndex:o,columns:a});n.colSpan>1&&(s+=n.colSpan-1)}}),[e]),o={resetColSpan:n,calculateColSpan:r};TF(e,{unstable_getCellColSpanInfo:(e,n)=>t.current[e]?.[n]},"public"),TF(e,o,"private"),hL(e,"columnOrderChange",n)})(n),((e,t)=>{const n=i.useCallback((t=>jN(e)[t]??[]),[e]),r=i.useCallback((()=>UN(e)),[e]);TF(e,{getColumnGroupPath:n,getAllGroupDetails:r},"public");const o=i.useCallback((()=>{const n=Qz(t.columnGroupingModel??[]);e.current.setState((e=>{const t=e.columns?.orderedFields??[],r=e.pinnedColumns??{},i=Wz(t,n,r);return Yp({},e,{columnGrouping:Yp({},e.columnGrouping,{headerStructure:i})})}))}),[e,t.columnGroupingModel]),a=i.useCallback((t=>{const n=e.current.getPinnedColumns?.()??{},r=tM(e),i=aM(e),o=$z(t??[]),a=Qz(t??[]),s=Wz(r,a,n),l=0===i.length?0:Math.max(...i.map((e=>a[e]?.length??0)));e.current.setState((e=>Yp({},e,{columnGrouping:{lookup:o,unwrappedGroupingModel:a,headerStructure:s,maxDepth:l}})))}),[e]);hL(e,"columnIndexChange",o),hL(e,"columnsChange",(()=>{a(t.columnGroupingModel)})),hL(e,"columnVisibilityModelChange",(()=>{a(t.columnGroupingModel)})),i.useEffect((()=>{a(t.columnGroupingModel)}),[a,t.columnGroupingModel])})(n,t),yz(n,t),((e,t)=>{const n=hU(e,"useGridFocus"),r=i.useRef(null),o=null!==e.current.rootElementRef.current,a=i.useCallback(((t,n)=>{t&&e.current.getRow(t.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(t.id,t.field),n)}),[e]),s=i.useCallback(((t,r)=>{const i=FF(e);i?.id===t&&i?.field===r||(e.current.setState((e=>(n.debug(`Focusing on cell with id=${t} and field=${r}`),Yp({},e,{tabIndex:{cell:{id:t,field:r},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:t,field:r},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))),e.current.forceUpdate(),e.current.getRow(t)&&(i&&a(i,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(t,r))))}),[e,n,a]),l=i.useCallback((function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=FF(e);a(i,r),e.current.setState((e=>(n.debug(`Focusing on column header with colIndex=${t}`),Yp({},e,{tabIndex:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))),e.current.forceUpdate()}),[e,n,a]),c=i.useCallback((function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=FF(e);a(i,r),e.current.setState((e=>(n.debug(`Focusing on column header filter with colIndex=${t}`),Yp({},e,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null}})))),e.current.forceUpdate()}),[e,n,a]),u=i.useCallback((function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=FF(e);i&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(i.id,i.field),r),e.current.setState((e=>Yp({},e,{tabIndex:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:t,depth:n},columnHeader:null,columnHeaderFilter:null,cell:null}}))),e.current.forceUpdate()}),[e]),d=i.useCallback((()=>UF(e)),[e]),h=i.useCallback(((n,r,i)=>{let o=e.current.getColumnIndex(r);const a=oM(e),s=gF(e,(t.pagination,t.paginationMode)),l=EM(e),c=[].concat(l.top||[],s.rows,l.bottom||[]);let u=c.findIndex((e=>e.id===n));"right"===i?o+=1:"left"===i?o-=1:u+=1,o>=a.length?(u+=1,u<c.length&&(o=0)):o<0&&(u-=1,u>=0&&(o=a.length-1)),u=qR(u,0,c.length-1);const d=c[u];if(!d)return;const h=e.current.unstable_getCellColSpanInfo(d.id,o);h&&h.spannedByColSpan&&("left"===i||"below"===i?o=h.leftVisibleCellIndex:"right"===i&&(o=h.rightVisibleCellIndex)),o=qR(o,0,a.length-1);const p=a[o];e.current.setCellFocus(d.id,p.field)}),[e,t.pagination,t.paginationMode]),p=i.useCallback((t=>{let{id:n,field:r}=t;e.current.setCellFocus(n,r)}),[e]),f=i.useCallback(((t,n)=>{"Enter"===n.key||"Tab"===n.key||"Shift"===n.key||vS(n.key)||e.current.setCellFocus(t.id,t.field)}),[e]),m=i.useCallback(((t,n)=>{let{field:r}=t;n.target===n.currentTarget&&e.current.setColumnHeaderFocus(r,n)}),[e]),g=i.useCallback(((t,n)=>{let{fields:r,depth:i}=t;if(n.target!==n.currentTarget)return;const o=UF(e);null!==o&&o.depth===i&&r.includes(o.field)||e.current.setColumnGroupHeaderFocus(r[0],i,n)}),[e]),v=i.useCallback(((t,r)=>{r.relatedTarget?.getAttribute("class")?.includes(QC.columnHeader)||(n.debug("Clearing focus"),e.current.setState((e=>Yp({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))))}),[n,e]),y=i.useCallback((e=>{r.current=e}),[]),b=i.useCallback((t=>{const n=r.current;r.current=null;const i=FF(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:t,cell:n}))return;if(!i)return void(n&&e.current.setCellFocus(n.id,n.field));if(n?.id===i.id&&n?.field===i.field)return;const o=e.current.getCellElement(i.id,i.field);o?.contains(t.target)||(n?e.current.setCellFocus(n.id,n.field):(e.current.setState((e=>Yp({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),a(i,t)))}),[e,a]),A=i.useCallback((t=>{if("view"===t.cellMode)return;const n=FF(e);n?.id===t.id&&n?.field===t.field||e.current.setCellFocus(t.id,t.field)}),[e]),x=i.useCallback((()=>{const n=FF(e);if(n&&!e.current.getRow(n.id)){const r=n.id;let i=null;if("undefined"!==typeof r){const n=e.current.getRowElement(r),o=n?.dataset.rowindex?Number(n?.dataset.rowindex):0,a=gF(e,(t.pagination,t.paginationMode)),s=a.rows[qR(o,0,a.rows.length-1)];i=s?.id??null}e.current.setState((e=>Yp({},e,{focus:{cell:null===i?null:{id:i,field:n.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))}}),[e,t.pagination,t.paginationMode]),w=Hp((()=>{const n=FF(e);if(!n)return;const r=gF(e,(t.pagination,t.paginationMode));if(r.rows.find((e=>e.id===n.id)))return;const i=oM(e);e.current.setState((e=>Yp({},e,{tabIndex:{cell:{id:r.rows[0].id,field:i[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}})))})),C={moveFocusToRelativeCell:h,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:d};TF(e,{setCellFocus:s,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:c},"public"),TF(e,C,"private"),i.useEffect((()=>{const t=qp(e.current.rootElementRef.current);return t.addEventListener("mouseup",b),()=>{t.removeEventListener("mouseup",b)}}),[e,o,b]),hL(e,"columnHeaderBlur",v),hL(e,"cellDoubleClick",p),hL(e,"cellMouseDown",y),hL(e,"cellKeyDown",f),hL(e,"cellModeChange",A),hL(e,"columnHeaderFocus",m),hL(e,"columnGroupHeaderFocus",g),hL(e,"rowsSet",x),hL(e,"paginationModelChange",w)})(n,t),((e,t)=>{const n=hU(e,"useGridPreferencesPanel"),r=i.useCallback((()=>{e.current.setState((t=>{if(!t.preferencePanel.open)return t;n.debug("Hiding Preferences Panel");const r=RE(t);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:r.openedPanelValue}),Yp({},t,{preferencePanel:{open:!1}})}))}),[e,n]),o=i.useCallback(((t,r,i)=>{n.debug("Opening Preferences Panel"),e.current.setState((e=>Yp({},e,{preferencePanel:Yp({},e.preferencePanel,{open:!0,openedPanelValue:t,panelId:r,labelId:i})}))),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:t})}),[n,e]);TF(e,{showPreferences:o,hidePreferences:r},"public");const a=i.useCallback(((n,r)=>{const i=RE(e.current.state);return!r.exportOnlyDirtyModels||null!=t.initialState?.preferencePanel||i.open?Yp({},n,{preferencePanel:i}):n}),[e,t.initialState?.preferencePanel]),s=i.useCallback(((t,n)=>{const r=n.stateToRestore.preferencePanel;return null!=r&&e.current.setState((e=>Yp({},e,{preferencePanel:r}))),t}),[e]);TU(e,"exportState",a),TU(e,"restoreState",s)})(n,t),((e,t)=>{const n=hU(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:GM,changeEvent:"filterModelChange"});const r=i.useCallback((()=>{e.current.setState((t=>{const n=GM(t,e.current.instanceId),r=e.current.getFilterState(n),i=Yp({},t,{filter:Yp({},t.filter,r)});return Yp({},i,{visibleRowsLookup:HU(e,i)})})),e.current.publishEvent("filteredRowsSet")}),[e]),o=i.useCallback(((e,n)=>null==n||!1===n.filterable||t.disableColumnFilter?e:[...e,"columnMenuFilterItem"]),[t.disableColumnFilter]),a=i.useCallback((()=>{r(),e.current.forceUpdate()}),[e,r]),s=i.useCallback((t=>{const n=GM(e),r=[...n.items],i=r.findIndex((e=>e.id===t.id));-1===i?r.push(t):r[i]=t,e.current.setFilterModel(Yp({},n,{items:r}),"upsertFilterItem")}),[e]),l=i.useCallback((t=>{const n=GM(e),r=[...n.items];t.forEach((e=>{const t=r.findIndex((t=>t.id===e.id));-1===t?r.push(e):r[t]=e})),e.current.setFilterModel(Yp({},n,{items:r}),"upsertFilterItems")}),[e]),c=i.useCallback((t=>{const n=GM(e),r=n.items.filter((e=>e.id!==t.id));r.length!==n.items.length&&e.current.setFilterModel(Yp({},n,{items:r}),"deleteFilterItem")}),[e]),u=i.useCallback(((r,i,o)=>{if(n.debug("Displaying filter panel"),r){const n=GM(e),i=n.items.filter((t=>{if(void 0!==t.value)return!Array.isArray(t.value)||0!==t.value.length;const n=e.current.getColumn(t.field),r=n.filterOperators?.find((e=>e.value===t.operator));return!("undefined"===typeof r?.requiresFilterValue||r?.requiresFilterValue)}));let o;const a=i.find((e=>e.field===r)),s=e.current.getColumn(r);o=a?i:t.disableMultipleColumnsFiltering?[AD({field:r,operator:s.filterOperators[0].value},e)]:[...i,AD({field:r,operator:s.filterOperators[0].value},e)],e.current.setFilterModel(Yp({},n,{items:o}))}e.current.showPreferences(PE.filters,i,o)}),[e,n,t.disableMultipleColumnsFiltering]),d=i.useCallback((()=>{n.debug("Hiding filter panel"),e.current.hidePreferences()}),[e,n]),h=i.useCallback((t=>{const n=GM(e);n.logicOperator!==t&&e.current.setFilterModel(Yp({},n,{logicOperator:t}),"changeLogicOperator")}),[e]),p=i.useCallback((t=>{const n=GM(e);XR(n.quickFilterValues,t)||e.current.setFilterModel(Yp({},n,{quickFilterValues:[...t]}))}),[e]),f=i.useCallback(((r,i)=>{GM(e)!==r&&(n.debug("Setting filter model"),e.current.updateControlState("filter",wD(r,t.disableMultipleColumnsFiltering,e),i),e.current.unstable_applyFilters())}),[e,n,t.disableMultipleColumnsFiltering]),m=i.useCallback((n=>{const r=xD(n,t.disableMultipleColumnsFiltering,e),i="client"===t.filterMode?ID(r,e,t.disableEval):null;return Yp({},e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:i,filterModel:r??vD()}),{filterModel:r})}),[t.disableMultipleColumnsFiltering,t.filterMode,t.disableEval,e]),g={setFilterLogicOperator:h,unstable_applyFilters:a,deleteFilterItem:c,upsertFilterItem:s,upsertFilterItems:l,setFilterModel:f,showFilterPanel:u,hideFilterPanel:d,setQuickFilterValues:p,ignoreDiacritics:t.ignoreDiacritics,getFilterState:m};TF(e,g,"public");const v=i.useCallback(((n,r)=>{const i=GM(e);return r.exportOnlyDirtyModels&&null==t.filterModel&&null==t.initialState?.filter?.filterModel&&XR(i,vD())?n:Yp({},n,{filter:{filterModel:i}})}),[e,t.filterModel,t.initialState?.filter?.filterModel]),y=i.useCallback(((n,r)=>{const i=r.stateToRestore.filter?.filterModel;return null==i?n:(e.current.updateControlState("filter",wD(i,t.disableMultipleColumnsFiltering,e),"restoreState"),Yp({},n,{callbacks:[...n.callbacks,e.current.unstable_applyFilters]}))}),[e,t.disableMultipleColumnsFiltering]),b=i.useCallback(((e,n)=>{if(n===PE.filters){const e=t.slots.filterPanel;return(0,Ty.jsx)(e,Yp({},t.slotProps?.filterPanel))}return e}),[t.slots.filterPanel,t.slotProps?.filterPanel]),{getRowId:A}=t,x=Dp(VU),w=i.useCallback((n=>{if("client"!==t.filterMode||!n.isRowMatchingFilters||!n.filterModel.items.length&&!n.filterModel.quickFilterValues?.length)return gD;const r=gM(e),i={},{isRowMatchingFilters:o}=n,a={},s={passingFilterItems:null,passingQuickFilterValues:null},l=x.current(e.current.state.rows.dataRowIdToModelLookup);for(let t=0;t<l.length;t+=1){const r=l[t],c=A?A(r):r.id;o(r,void 0,s);const u=RD([s.passingFilterItems],[s.passingQuickFilterValues],n.filterModel,e,a);i[c]=u}const c="auto-generated-group-footer-root";return r[c]&&(i[c]=!0),{filteredRowsLookup:i,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}}),[e,t.filterMode,A,x]);TU(e,"columnMenu",o),TU(e,"exportState",v),TU(e,"restoreState",y),TU(e,"preferencePanel",b),jU(e,sU,"filtering",w),jU(e,sU,"visibleRowsLookupCreation",zU);const C=i.useCallback((()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const t=GM(e),r=nM(e),i=t.items.filter((e=>e.field&&r[e.field]));i.length<t.items.length&&e.current.setFilterModel(Yp({},t,{items:i}))}),[e,n]),E=i.useCallback((t=>{"filtering"===t&&e.current.unstable_applyFilters()}),[e]),S=i.useCallback((()=>{e.current.setState((t=>Yp({},t,{visibleRowsLookup:HU(e,t)}))),e.current.forceUpdate()}),[e]);hL(e,"rowsSet",r),hL(e,"columnsChange",C),hL(e,"activeStrategyProcessorChange",E),hL(e,"rowExpansionChange",S),hL(e,"columnVisibilityModelChange",(()=>{const t=GM(e);t.quickFilterValues&&MD(t)&&e.current.unstable_applyFilters()})),IU((()=>{e.current.unstable_applyFilters()})),zp((()=>{void 0!==t.filterModel&&e.current.setFilterModel(t.filterModel)}),[e,n,t.filterModel])})(n,t),((e,t)=>{const n=hU(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:zM,changeEvent:"sortModelChange"});const r=i.useCallback(((t,n)=>{const r=zM(e),i=r.findIndex((e=>e.field===t));let o=[...r];return i>-1?null==n?.sort?o.splice(i,1):o.splice(i,1,n):o=[...r,n],o}),[e]),o=i.useCallback(((n,r)=>{const i=zM(e).find((e=>e.field===n.field));if(i){const e=void 0===r?xL(n.sortingOrder??t.sortingOrder,i.sort):r;return void 0===e?void 0:Yp({},i,{sort:e})}return{field:n.field,sort:void 0===r?xL(n.sortingOrder??t.sortingOrder):r}}),[e,t.sortingOrder]),a=i.useCallback(((e,n)=>null==n||!1===n.sortable||t.disableColumnSorting?e:(n.sortingOrder||t.sortingOrder).some((e=>!!e))?[...e,"columnMenuSortItem"]:e),[t.sortingOrder,t.disableColumnSorting]),s=i.useCallback((()=>{e.current.setState((r=>{if("server"===t.sortingMode)return n.debug("Skipping sorting rows as sortingMode = server"),Yp({},r,{sorting:Yp({},r.sorting,{sortedRows:BM(yM(e),_M,!1)})});const i=zM(r,e.current.instanceId),o=AL(i,e),a=e.current.applyStrategyProcessor("sorting",{sortRowList:o});return Yp({},r,{sorting:Yp({},r.sorting,{sortedRows:a})})})),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()}),[e,n,t.sortingMode]),l=i.useCallback((r=>{zM(e)!==r&&(n.debug("Setting sort model"),e.current.setState(bL(r,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())}),[e,n,t.disableMultipleColumnsSorting]),c=i.useCallback(((n,i,a)=>{const s=e.current.getColumn(n),l=o(s,i);let c;c=!a||t.disableMultipleColumnsSorting?null==l?.sort?[]:[l]:r(s.field,l),e.current.setSortModel(c)}),[e,r,o,t.disableMultipleColumnsSorting]),u=i.useCallback((()=>zM(e)),[e]),d=i.useCallback((()=>UM(e).map((e=>e.model))),[e]),h=i.useCallback((()=>jM(e)),[e]),p=i.useCallback((t=>e.current.getSortedRowIds()[t]),[e]);TF(e,{getSortModel:u,getSortedRows:d,getSortedRowIds:h,getRowIdFromRowIndex:p,setSortModel:l,sortColumn:c,applySorting:s},"public");const f=i.useCallback(((n,r)=>{const i=zM(e);return!r.exportOnlyDirtyModels||null!=t.sortModel||null!=t.initialState?.sorting?.sortModel||i.length>0?Yp({},n,{sorting:{sortModel:i}}):n}),[e,t.sortModel,t.initialState?.sorting?.sortModel]),m=i.useCallback(((n,r)=>{const i=r.stateToRestore.sorting?.sortModel;return null==i?n:(e.current.setState(bL(i,t.disableMultipleColumnsSorting)),Yp({},n,{callbacks:[...n.callbacks,e.current.applySorting]}))}),[e,t.disableMultipleColumnsSorting]),g=i.useCallback((t=>{const n=yM(e),r=n[_M],i=t.sortRowList?t.sortRowList(r.children.map((e=>n[e]))):[...r.children];return null!=r.footerId&&i.push(r.footerId),i}),[e]);TU(e,"exportState",f),TU(e,"restoreState",m),jU(e,sU,"sorting",g);const v=i.useCallback(((e,n)=>{let{field:r,colDef:i}=e;if(!i.sortable||t.disableColumnSorting)return;const o=n.shiftKey||n.metaKey||n.ctrlKey;c(r,void 0,o)}),[c,t.disableColumnSorting]),y=i.useCallback(((e,n)=>{let{field:r,colDef:i}=e;i.sortable&&!t.disableColumnSorting&&("Enter"!==n.key||n.ctrlKey||n.metaKey||c(r,void 0,n.shiftKey))}),[c,t.disableColumnSorting]),b=i.useCallback((()=>{const t=zM(e),n=nM(e);if(t.length>0){const r=t.filter((e=>n[e.field]));r.length<t.length&&e.current.setSortModel(r)}}),[e]),A=i.useCallback((t=>{"sorting"===t&&e.current.applySorting()}),[e]);TU(e,"columnMenu",a),hL(e,"columnHeaderClick",v),hL(e,"columnHeaderKeyDown",y),hL(e,"rowsSet",e.current.applySorting),hL(e,"columnsChange",b),hL(e,"activeStrategyProcessorChange",A),IU((()=>{e.current.applySorting()})),zp((()=>{void 0!==t.sortModel&&e.current.setSortModel(t.sortModel)}),[e,t.sortModel])})(n,t),((e,t)=>{const n=hU(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:fS,changeEvent:"densityChange"});const r=Hp((t=>{fS(e.current.state)!==t&&(n.debug(`Set grid density to ${t}`),e.current.setState((e=>Yp({},e,{density:t}))))}));TF(e,{setDensity:r},"public");const o=i.useCallback(((n,r)=>{const i=fS(e.current.state);return r.exportOnlyDirtyModels&&null==t.density&&null==t.initialState?.density?n:Yp({},n,{density:i})}),[e,t.density,t.initialState?.density]),a=i.useCallback(((t,n)=>{const r=n.stateToRestore?.density?n.stateToRestore.density:fS(e.current.state);return e.current.setState((e=>Yp({},e,{density:r}))),t}),[e]);TU(e,"exportState",o),TU(e,"restoreState",a),i.useEffect((()=>{t.density&&e.current.setDensity(t.density)}),[e,t.density])})(n,t),iH(n,t),oz(n,t),((e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:o}=t,a=e.current.caches.rowsMeta.heights,s=i.useRef(-1),l=i.useRef(!1),c=i.useRef(!1),u=cE(e,mS),d=vF(e),h=cE(e,EM),p=cE(e,JO),f=i.useCallback((t=>{const i=KO(e.current.state).rowHeight,a=e.current.getRowHeightEntry(t.id);if(n){const e=n(Yp({},t,{densityFactor:u}));if("auto"===e){if(a.needsFirstMeasurement){const e=o?o(Yp({},t,{densityFactor:u})):i;a.content=e??i}l.current=!0,a.autoHeight=!0}else a.content=NM(e,i),a.needsFirstMeasurement=!1,a.autoHeight=!1}else a.content=i,a.needsFirstMeasurement=!1;if(r){const n=e.current.getRowIndexRelativeToVisibleRows(t.id),i=r(Yp({},t,{isFirstVisible:0===n,isLastVisible:n===d.rows.length-1,indexRelativeToCurrentPage:n}));a.spacingTop=i.top??0,a.spacingBottom=i.bottom??0}else a.spacingTop=0,a.spacingBottom=0;return e.current.unstable_applyPipeProcessors("rowHeight",a,t),a}),[e,d.rows,n,o,p,r,u]),m=i.useCallback((()=>{l.current=!1;const t=h.top.reduce(((e,t)=>{const n=f(t);return e+n.content+n.spacingTop+n.spacingBottom+n.detail}),0),n=h.bottom.reduce(((e,t)=>{const n=f(t);return e+n.content+n.spacingTop+n.spacingBottom+n.detail}),0),r=[],i=d.rows.reduce(((e,t)=>{r.push(e);const n=f(t);return e+(n.content+n.spacingTop+n.spacingBottom+n.detail)}),0);l.current||(s.current=1/0);const o=t!==e.current.state.rowsMeta.pinnedTopRowsTotalHeight||n!==e.current.state.rowsMeta.pinnedBottomRowsTotalHeight||i!==e.current.state.rowsMeta.currentPageTotalHeight,a={currentPageTotalHeight:i,positions:r,pinnedTopRowsTotalHeight:t,pinnedBottomRowsTotalHeight:n};e.current.setState((e=>Yp({},e,{rowsMeta:a}))),o&&e.current.updateDimensions(),c.current=!0}),[e,h,d.rows,f]),g=Dp((()=>new jz((t=>{for(let n=0;n<t.length;n+=1){const r=t[n],i=r.borderBoxSize&&r.borderBoxSize.length>0?r.borderBoxSize[0].blockSize:r.contentRect.height,o=r.target.__mui_id,a=WF(e)?.id;if(a===o&&0===i)return;e.current.unstable_storeRowHeightMeasurement(o,i)}c.current||e.current.requestPipeProcessorsApplication("rowHeight")})))).current;RU(e,"rowHeight",m),zp((()=>{m()}),[m]);const v={unstable_getRowHeight:e=>a.get(e)?.content??p,unstable_setLastMeasuredRowIndex:e=>{l.current&&e>s.current&&(s.current=e)},unstable_storeRowHeightMeasurement:(t,n)=>{const r=e.current.getRowHeightEntry(t),i=r.content!==n;r.needsFirstMeasurement=!1,r.content=n,c.current&&=!i},resetRowHeights:()=>{a.clear(),m()}},y={hydrateRowsMeta:m,observeRowHeight:(e,t)=>(e.__mui_id=t,g.observe(e),()=>g.unobserve(e)),rowHasAutoHeight:e=>a.get(e)?.autoHeight??!1,getRowHeightEntry:e=>{let t=a.get(e);return void 0===t&&(t={content:p,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},a.set(e,t)),t},getLastMeasuredRowIndex:()=>s.current};TF(e,v,"public"),TF(e,y,"private")})(n,t),((e,t)=>{const n=aC(),r=hU(e,"useGridScroll"),o=e.current.columnHeadersContainerRef,a=e.current.virtualScrollerRef,s=cE(e,qM),l=i.useCallback((n=>{const i=KO(e.current.state),o=pM(e),l=t.unstable_listView?[DF(e.current.state)]:oM(e);if(null!=n.rowIndex&&0===o||0===l.length)return!1;r.debug(`Scrolling to cell at row ${n.rowIndex}, col: ${n.colIndex} `);let c={};if(void 0!==n.colIndex){const t=lM(e);let r;if("undefined"!==typeof n.rowIndex){const t=s[n.rowIndex]?.id,i=e.current.unstable_getCellColSpanInfo(t,n.colIndex);i&&!i.spannedByColSpan&&(r=i.cellProps.width)}"undefined"===typeof r&&(r=l[n.colIndex].computedWidth),c.left=Iz({containerSize:i.viewportOuterSize.width,scrollPosition:Math.abs(a.current.scrollLeft),elementSize:r,elementOffset:t[n.colIndex]})}if(void 0!==n.rowIndex){const r=CF(e.current.state),o=cF(e),s=uF(e),l=t.pagination?n.rowIndex-o*s:n.rowIndex,u=r.positions[l+1]?r.positions[l+1]-r.positions[l]:r.currentPageTotalHeight-r.positions[l];c.top=Iz({containerSize:i.viewportInnerSize.height,scrollPosition:a.current.scrollTop,elementSize:u,elementOffset:r.positions[l]})}return c=e.current.unstable_applyPipeProcessors("scrollToIndexes",c,n),(void 0!==typeof c.left||void 0!==typeof c.top)&&(e.current.scroll(c),!0)}),[r,e,a,t.pagination,s,t.unstable_listView]),c=i.useCallback((e=>{if(a.current&&void 0!==e.left&&o.current){const t=n?-1:1;o.current.scrollLeft=e.left,a.current.scrollLeft=t*e.left,r.debug(`Scrolling left: ${e.left}`)}a.current&&void 0!==e.top&&(a.current.scrollTop=e.top,r.debug(`Scrolling top: ${e.top}`)),r.debug("Scrolling, updating container, and viewport")}),[a,n,o,r]),u=i.useCallback((()=>a?.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0}),[a]);TF(e,{scroll:c,scrollToIndexes:l,getScrollPosition:u},"public")})(n,t),(e=>{const t=hU(e,"useGridColumnMenu"),n=i.useCallback((n=>{const r=dj(e.current.state),i=n;(!0!==r.open||i!==r.field)&&(e.current.setState((e=>e.columnMenu.open&&e.columnMenu.field===n?e:(t.debug("Opening Column Menu"),Yp({},e,{columnMenu:{open:!0,field:n}})))),e.current.hidePreferences())}),[e,t]),r=i.useCallback((()=>{const n=dj(e.current.state);if(n.field){const t=nM(e),r=iM(e),i=tM(e);let o=n.field;if(t[o]||(o=i[0]),!1===r[o]){const e=i.filter((e=>e===o||!1!==r[e])),t=e.indexOf(o);o=e[t+1]||e[t-1]}e.current.setColumnHeaderFocus(o)}const r={open:!1,field:void 0};(r.open!==n.open||r.field!==n.field)&&e.current.setState((e=>(t.debug("Hiding Column Menu"),Yp({},e,{columnMenu:r}))))}),[e,t]),o=i.useCallback((i=>{t.debug("Toggle Column Menu");const o=dj(e.current.state);o.open&&o.field===i?r():n(i)}),[e,t,n,r]);TF(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:o},"public"),hL(e,"columnResizeStart",r),hL(e,"virtualScrollerWheel",e.current.hideColumnMenu),hL(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)})(n),DU(n,t),FU(n,t),_U(n,t),Oz(n,t),function(e,t){fL(e,"columnHeaderClick",t.onColumnHeaderClick),fL(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),fL(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),fL(e,"columnHeaderOver",t.onColumnHeaderOver),fL(e,"columnHeaderOut",t.onColumnHeaderOut),fL(e,"columnHeaderEnter",t.onColumnHeaderEnter),fL(e,"columnHeaderLeave",t.onColumnHeaderLeave),fL(e,"cellClick",t.onCellClick),fL(e,"cellDoubleClick",t.onCellDoubleClick),fL(e,"cellKeyDown",t.onCellKeyDown),fL(e,"preferencePanelClose",t.onPreferencePanelClose),fL(e,"preferencePanelOpen",t.onPreferencePanelOpen),fL(e,"menuOpen",t.onMenuOpen),fL(e,"menuClose",t.onMenuClose),fL(e,"rowDoubleClick",t.onRowDoubleClick),fL(e,"rowClick",t.onRowClick),fL(e,"stateChange",t.onStateChange)}(n,t),(e=>{const t=i.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.current.unstable_applyPipeProcessors("exportState",{},t)}),[e]),n=i.useCallback((t=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:t}).callbacks.forEach((e=>{e()})),e.current.forceUpdate()}),[e]);TF(e,{exportState:t,restoreState:n},"public")})(n),function(e,t){const n=n=>{e.current.setState((e=>Yp({},e,{virtualization:Yp({},e.virtualization,{enabled:n,enabledForColumns:n,enabledForRows:n&&!t.autoHeight})})))},r={unstable_setVirtualization:n,unstable_setColumnVirtualization:t=>{e.current.setState((e=>Yp({},e,{virtualization:Yp({},e.virtualization,{enabledForColumns:t})})))}};TF(e,r,"public"),i.useEffect((()=>{n(!t.disableVirtualization)}),[t.disableVirtualization,t.autoHeight])}(n,t),function(e,t){const n=()=>{e.current.setState((t=>t.listViewColumn?Yp({},t,{listViewColumn:Yp({},t.listViewColumn,{computedWidth:mH(e)})}):t))},r=i.useRef(null);hL(e,"viewportInnerSizeChange",(e=>{r.current!==e.width&&(r.current=e.width,n())})),hL(e,"columnVisibilityModelChange",n),zp((()=>{const n=t.unstable_listColumn;n&&e.current.setState((t=>Yp({},t,{listViewColumn:Yp({},n,{computedWidth:mH(e)})})))}),[e,t.unstable_listColumn]),i.useEffect((()=>{t.unstable_listView&&t.unstable_listColumn}),[t.unstable_listView,t.unstable_listColumn])}(n,t),n};function vH(e){let{props:t,name:n}=e;return Rk({props:t,name:n,defaultTheme:gy,themeId:vy})}const yH={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>1!==e?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search\u2026",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>1!==e?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>1!==e?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function bH(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function AH(e){return parseFloat(e)}function xH(e){return lb("MuiSkeleton",e)}cb("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const wH=Xb`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,CH=Xb`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,EH="string"!==typeof wH?$b`
        animation: ${wH} 2s ease-in-out 0.5s infinite;
      `:null,SH="string"!==typeof CH?$b`
        &::after {
          animation: ${CH} 2s linear 0.5s infinite;
        }
      `:null,_H=Ay("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(My((e=>{let{theme:t}=e;const n=bH(t.shape.borderRadius)||"px",r=AH(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:hv(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:e=>{let{ownerState:t}=e;return t.hasChildren},style:{"& > *":{visibility:"hidden"}}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.width},style:{maxWidth:"fit-content"}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.height},style:{height:"auto"}},{props:{animation:"pulse"},style:EH||{animation:`${wH} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(\n                90deg,\n                transparent,\n                ${(t.vars||t).palette.action.hover},\n                transparent\n              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:SH||{"&::after":{animation:`${CH} 2s linear 0.5s infinite`}}}]}}))),MH=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:i,component:o="span",height:a,style:s,variant:l="text",width:c,...u}=n,d={...n,animation:r,component:o,variant:l,hasChildren:Boolean(u.children)},h=(e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:o,height:a}=e;return Op({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!a&&"heightAuto"]},xH,t)})(d);return(0,Ty.jsx)(_H,{as:o,ref:t,className:ib(h.root,i),ownerState:d,...u,style:{width:c,height:a,...s}})})),IH=MH,TH=["field","type","align","width","height","empty","style","className"],RH="1.3em",kH=[40,80],PH={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},BH=function(e){const t=function(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}(e);return(e,n)=>e+(n-e)*t()}(12345);const OH=LO((function(e){const{field:t,type:n,align:r,width:o,height:a,empty:s=!1,style:l,className:c}=e,u=Ly(e,TH),d=(e=>{const{align:t,classes:n,empty:r}=e;return Op({root:["cell","cellSkeleton",`cell--text${t?Km(t):"Left"}`,r&&"cellEmpty"]},GC,n)})({classes:qC().classes,align:r,empty:s}),h=i.useMemo((()=>{if("boolean"===n||"actions"===n)return{variant:"circular",width:RH,height:RH};const[e,t]=n?PH[n]??kH:kH;return{variant:"text",width:`${Math.round(BH(e,t))}%`,height:"1.2em"}}),[n]);return(0,Ty.jsx)("div",Yp({"data-field":t,className:ib(d.root,c),style:Yp({height:a,maxWidth:o,minWidth:o},l)},u,{children:!s&&(0,Ty.jsx)(IH,Yp({},h))}))})),LH=["className"],DH=VC("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})((()=>({display:"flex",visibility:"hidden",width:0}))),NH=HC((function(e,t){const{className:n}=e,r=Ly(e,LH),i=qC(),o=(e=>{const{classes:t}=e;return Op({root:["iconButtonContainer"]},GC,t)})(i);return(0,Ty.jsx)(DH,Yp({className:ib(o.root,n),ownerState:i},r,{ref:t}))}));function FH(e){const{counter:t,field:n,onClick:r}=e,o=OE(),a=qC(),s=(e=>{const{classes:t}=e;return Op({icon:["filterIcon"]},GC,t)})(Yp({},e,{classes:a.classes})),l=Lb(),c=uE(o,kE,l),u=Lb(),d=i.useCallback((e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:i}=RE(o.current.state);t&&i===PE.filters?o.current.hideFilterPanel():o.current.showFilterPanel(void 0,u,l),r&&r(o.current.getColumnHeaderParams(n),e)}),[o,n,r,u,l]);if(!t)return null;const h=(0,Ty.jsx)(a.slots.baseIconButton,Yp({id:l,onClick:d,color:"default","aria-label":o.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":c,"aria-controls":c?u:void 0},a.slotProps?.baseIconButton,{children:(0,Ty.jsx)(a.slots.columnFilteredIcon,{className:s.icon,fontSize:"small"})}));return(0,Ty.jsx)(a.slots.baseTooltip,Yp({title:o.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},a.slotProps?.baseTooltip,{children:(0,Ty.jsxs)(NH,{children:[t>1&&(0,Ty.jsx)(a.slots.baseBadge,{badgeContent:t,color:"default",children:h}),1===t&&h]})}))}const jH=["direction","index","sortingOrder","disabled"];function UH(e){const{direction:t,index:n,sortingOrder:r,disabled:i}=e,o=Ly(e,jH),a=OE(),s=qC(),l=(e=>{const{classes:t}=e;return Op({icon:["sortIcon"]},GC,t)})(Yp({},e,{classes:s.classes})),c=function(e,t,n,r){let i;const o={};return"asc"===t?i=e.columnSortedAscendingIcon:"desc"===t?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,o.sortingOrder=r),i?(0,Ty.jsx)(i,Yp({fontSize:"small",className:n},o)):null}(s.slots,t,l.icon,r);if(!c)return null;const u=(0,Ty.jsx)(s.slots.baseIconButton,Yp({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:i},s.slotProps?.baseIconButton,o,{children:c}));return(0,Ty.jsxs)(NH,{children:[null!=n&&(0,Ty.jsx)(s.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:u}),null==n&&u]})}const zH=i.memo(UH),HH=["className","selectedRowCount"],VH=VC("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})((e=>{let{theme:t}=e;return{alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0,[t.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}})),GH=HC((function(e,t){const{className:n,selectedRowCount:r}=e,i=Ly(e,HH),o=OE(),a=qC(),s=(e=>{const{classes:t}=e;return Op({root:["selectedRowCount"]},GC,t)})(a),l=o.current.getLocaleText("footerRowSelected")(r);return(0,Ty.jsx)(VH,Yp({className:ib(s.root,n),ownerState:a},i,{ref:t,children:l}))})),QH=["className"],WH=VC("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),qH=HC((function(e,t){const{className:n}=e,r=Ly(e,QH),i=qC(),o=(e=>{const{classes:t}=e;return Op({root:["footerContainer","withBorderColor"]},GC,t)})(i);return(0,Ty.jsx)(WH,Yp({className:ib(o.root,n),ownerState:i},r,{ref:t}))})),$H=HC((function(e,t){const n=OE(),r=qC(),i=cE(n,mM),o=cE(n,AF),a=cE(n,ZM),s=!r.hideFooterSelectedRowCount&&o>0?(0,Ty.jsx)(GH,{selectedRowCount:o}):(0,Ty.jsx)("div",{}),l=r.hideFooterRowCount||r.pagination?null:(0,Ty.jsx)(r.slots.footerRowCount,Yp({},r.slotProps?.footerRowCount,{rowCount:i,visibleRowCount:a})),c=r.pagination&&!r.hideFooterPagination&&r.slots.pagination&&(0,Ty.jsx)(r.slots.pagination,Yp({},r.slotProps?.pagination));return(0,Ty.jsxs)(qH,Yp({},e,{ref:t,children:[s,l,c]}))})),XH=["className","rowCount","visibleRowCount"],KH=VC("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})((e=>{let{theme:t}=e;return{alignItems:"center",display:"flex",margin:t.spacing(0,2)}})),YH=HC((function(e,t){const{className:n,rowCount:r,visibleRowCount:i}=e,o=Ly(e,XH),a=OE(),s=qC(),l=(e=>{const{classes:t}=e;return Op({root:["rowCount"]},GC,t)})(s);if(0===r)return null;const c=i<r?a.current.getLocaleText("footerTotalVisibleRows")(i,r):r.toLocaleString();return(0,Ty.jsxs)(KH,Yp({className:ib(l.root,n),ownerState:s},o,{ref:t,children:[a.current.getLocaleText("footerTotalRows")," ",c]}))}));function JH(e){return lb("MuiLinearProgress",e)}cb("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const ZH=Xb`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,eV="string"!==typeof ZH?$b`
        animation: ${ZH} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,tV=Xb`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,nV="string"!==typeof tV?$b`
        animation: ${tV} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,rV=Xb`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,iV="string"!==typeof rV?$b`
        animation: ${rV} 3s infinite linear;
      `:null,oV=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?gv(e.palette[t].main,.62):fv(e.palette[t].main,.5),aV=Ay("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Oy(n.color)}`],t[n.variant]]}})(My((e=>{let{theme:t}=e;return{position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:oV(t,n)}}})),{props:e=>{let{ownerState:t}=e;return"inherit"===t.color&&"buffer"!==t.variant},style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}}))),sV=Ay("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${Oy(n.color)}`]]}})(My((e=>{let{theme:t}=e;return{position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;const r=oV(t,n);return{props:{color:n},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}}))]}})),iV||{animation:`${rV} 3s infinite linear`}),lV=Ay("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar1,t[`barColor${Oy(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})(My((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main}}})),{props:{variant:"determinate"},style:{transition:"transform .4s linear"}},{props:{variant:"buffer"},style:{zIndex:1,transition:"transform .4s linear"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:eV||{animation:`${ZH} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}}))),cV=Ay("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t.bar2,t[`barColor${Oy(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})(My((e=>{let{theme:t}=e;return{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{"--LinearProgressBar2-barColor":(t.vars||t).palette[n].main}}})),{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"!==t.color},style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:e=>{let{ownerState:t}=e;return"buffer"!==t.variant&&"inherit"===t.color},style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n,variant:"buffer"},style:{backgroundColor:oV(t,n),transition:"transform .4s linear"}}})),{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant||"query"===t.variant},style:nV||{animation:`${tV} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}}))),uV=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiLinearProgress"}),{className:r,color:i="primary",value:o,valueBuffer:a,variant:s="indeterminate",...l}=n,c={...n,color:i,variant:s},u=(e=>{const{classes:t,variant:n,color:r}=e;return Op({root:["root",`color${Oy(r)}`,n],dashed:["dashed",`dashedColor${Oy(r)}`],bar1:["bar","bar1",`barColor${Oy(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","bar2","buffer"!==n&&`barColor${Oy(r)}`,"buffer"===n&&`color${Oy(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},JH,t)})(c),d=aC(),h={},p={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==o){h["aria-valuenow"]=Math.round(o),h["aria-valuemin"]=0,h["aria-valuemax"]=100;let e=o-100;d&&(e=-e),p.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===s)if(void 0!==a){let e=(a||0)-100;d&&(e=-e),p.bar2.transform=`translateX(${e}%)`}else 0;return(0,Ty.jsxs)(aV,{className:ib(u.root,r),ownerState:c,role:"progressbar",...h,ref:t,...l,children:["buffer"===s?(0,Ty.jsx)(sV,{className:u.dashed,ownerState:c}):null,(0,Ty.jsx)(lV,{className:u.bar1,ownerState:c,style:p.bar1}),"determinate"===s?null:(0,Ty.jsx)(cV,{className:u.bar2,ownerState:c,style:p.bar2})]})})),dV=uV,hV=["className"],pV=VC("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),fV=HC((function(e,t){const{className:n}=e,r=Ly(e,hV),i=qC(),o=(e=>{const{classes:t}=e;return Op({root:["overlay"]},GC,t)})(i);return(0,Ty.jsx)(pV,Yp({className:ib(o.root,n),ownerState:i},r,{ref:t}))})),mV=(e,t,n,r,i,o)=>{let a;switch(e){case JD.LEFT:a=r[n];break;case JD.RIGHT:a=i-r[n]-t+o;break;default:a=void 0}return a},gV=(e,t,n,r,i)=>{const o=t===n-1;return!(e!==JD.LEFT||!o)||!!r&&(e===JD.LEFT||(e===JD.RIGHT?!o:!o||i))},vV=(e,t)=>e===JD.RIGHT&&0===t,yV={root:QC.scrollbarFiller,header:QC["scrollbarFiller--header"],borderTop:QC["scrollbarFiller--borderTop"],borderBottom:QC["scrollbarFiller--borderBottom"],pinnedRight:QC["scrollbarFiller--pinnedRight"]};function bV(e){let{header:t,borderTop:n=!0,borderBottom:r,pinnedRight:i}=e;return(0,Ty.jsx)("div",{role:"presentation",className:ib(yV.root,t&&yV.header,n&&yV.borderTop,r&&yV.borderBottom,i&&yV.pinnedRight)})}const AV=(e,t)=>{if(e)if(t){if(e===JD.LEFT)return"right";if(e===JD.RIGHT)return"left"}else{if(e===JD.LEFT)return"left";if(e===JD.RIGHT)return"right"}};function xV(e,t,n,r){const i=AV(n,t);return i&&void 0!==r?(e[i]=r,e):e}const wV=VC("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(e,t)=>t.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),CV=e=>parseInt(e.getAttribute("data-colindex"),10),EV=HC((function(e,t){const n=qC(),{slots:r}=n,o=aC(),a=(e=>{const{classes:t}=e;return Op({root:["skeletonLoadingOverlay"]},GC,t)})({classes:n.classes}),s=i.useRef(null),l=Wp(s,t),c=OE(),u=cE(c,KO),d=u?.viewportInnerSize.height??0,h=Math.ceil(d/u.rowHeight),p=cE(c,YO),f=cE(c,lM),m=i.useMemo((()=>f.filter((e=>e<=p)).length),[p,f]),g=cE(c,oM),v=i.useMemo((()=>g.slice(0,m)),[g,m]),y=cE(c,sM),b=i.useCallback((e=>-1!==y.left.findIndex((t=>t.field===e))?JD.LEFT:-1!==y.right.findIndex((t=>t.field===e))?JD.RIGHT:void 0),[y.left,y.right]),A=i.useMemo((()=>{const e=[];for(let t=0;t<h;t+=1){const i=[];for(let e=0;e<v.length;e+=1){const a=v[e],s=b(a.field),l=s===JD.LEFT,c=s===JD.RIGHT,d=AV(s,o),h=d?y[d].length:v.length-y.left.length-y.right.length,p=d?y[d].findIndex((e=>e.field===a.field)):e-y.left.length,m=u.hasScrollY?u.scrollbarSize:0,g=xV({},o,s,mV(s,a.computedWidth,e,f,u.columnsTotalWidth,m)),A=u.columnsTotalWidth<u.viewportOuterSize.width,x=gV(s,p,h,n.showCellVerticalBorder,A),w=vV(s,p),C=e===v.length-1,E=c&&0===p,S=E&&A,_=C&&!E&&A,M=u.viewportOuterSize.width-u.columnsTotalWidth,I=Math.max(0,M),T=(0,Ty.jsx)(r.skeletonCell,{width:I,empty:!0},`skeleton-filler-column-${t}`),R=C&&0!==m;S&&i.push(T),i.push((0,Ty.jsx)(r.skeletonCell,{field:a.field,type:a.type,align:a.align,width:"var(--width)",height:u.rowHeight,"data-colindex":e,className:ib(l&&QC["cell--pinnedLeft"],c&&QC["cell--pinnedRight"],x&&QC["cell--withRightBorder"],w&&QC["cell--withLeftBorder"]),style:Yp({"--width":`${a.computedWidth}px`},g)},`skeleton-column-${t}-${a.field}`)),_&&i.push(T),R&&i.push((0,Ty.jsx)(bV,{pinnedRight:y.right.length>0},`skeleton-scrollbar-filler-${t}`))}e.push((0,Ty.jsx)("div",{className:ib(QC.row,QC.rowSkeleton,0===t&&QC["row--firstVisible"]),children:i},`skeleton-row-${t}`))}return e}),[r,v,y,h,n.showCellVerticalBorder,u,f,b,o]);return hL(c,"columnResize",(e=>{const{colDef:t,width:n}=e,r=s.current?.querySelectorAll(`[data-field="${WU(t.field)}"]`);if(!r)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const i=v.findIndex((e=>e.field===t.field)),o=b(t.field),a=o===JD.LEFT,l=o===JD.RIGHT,c=getComputedStyle(r[0]).getPropertyValue("--width"),u=parseInt(c,10)-n;if(r&&r.forEach((e=>{e.style.setProperty("--width",`${n}px`)})),a){const e=s.current?.querySelectorAll(`.${QC["cell--pinnedLeft"]}`);e?.forEach((e=>{CV(e)>i&&(e.style.left=parseInt(getComputedStyle(e).left,10)-u+"px")}))}if(l){const e=s.current?.querySelectorAll(`.${QC["cell--pinnedRight"]}`);e?.forEach((e=>{CV(e)<i&&(e.style.right=`${parseInt(getComputedStyle(e).right,10)+u}px`)}))}})),(0,Ty.jsx)(wV,Yp({className:a.root},e,{ref:l,children:A}))})),SV=["variant","noRowsVariant","style"],_V={"circular-progress":{component:xA,style:{}},"linear-progress":{component:dV,style:{display:"block"}},skeleton:{component:EV,style:{display:"block"}}},MV=HC((function(e,t){const{variant:n="circular-progress",noRowsVariant:r="circular-progress",style:i}=e,o=Ly(e,SV),a=OE(),s=cE(a,pM),l=_V[0===s?r:n];return(0,Ty.jsx)(fV,Yp({style:Yp({},l.style,i)},o,{ref:t,children:(0,Ty.jsx)(l.component,{})}))})),IV=HC((function(e,t){const n=OE().current.getLocaleText("noRowsLabel");return(0,Ty.jsx)(fV,Yp({},e,{ref:t,children:n}))}));const TV=i.createContext();const RV=i.createContext();function kV(e){return lb("MuiTableCell",e)}const PV=cb("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),BV=Ay("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Oy(n.size)}`],"normal"!==n.padding&&t[`padding${Oy(n.padding)}`],"inherit"!==n.align&&t[`align${Oy(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(My((e=>{let{theme:t}=e;return{...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?gv(hv(t.palette.divider,1),.88):fv(hv(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${PV.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}}))),OV=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTableCell"}),{align:r="inherit",className:o,component:a,padding:s,scope:l,size:c,sortDirection:u,variant:d,...h}=n,p=i.useContext(TV),f=i.useContext(RV),m=f&&"head"===f.variant;let g;g=a||(m?"th":"td");let v=l;"td"===g?v=void 0:!v&&m&&(v="col");const y=d||f&&f.variant,b={...n,align:r,component:g,padding:s||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===y&&p&&p.stickyHeader,variant:y},A=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:a}=e;return Op({root:["root",n,a&&"stickyHeader","inherit"!==r&&`align${Oy(r)}`,"normal"!==i&&`padding${Oy(i)}`,`size${Oy(o)}`]},kV,t)})(b);let x=null;return u&&(x="asc"===u?"ascending":"descending"),(0,Ty.jsx)(BV,{as:g,ref:t,className:ib(A.root,o),"aria-sort":x,scope:v,ownerState:b,...h})})),LV=OV;function DV(e){return lb("MuiToolbar",e)}cb("MuiToolbar",["root","gutters","regular","dense"]);const NV=Ay("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(My((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}))),FV=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:a="regular",...s}=n,l={...n,component:i,disableGutters:o,variant:a},c=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return Op({root:["root",!n&&"gutters",r]},DV,t)})(l);return(0,Ty.jsx)(NV,{as:i,className:ib(c.root,r),ref:t,ownerState:l,...s})})),jV=FV,UV=PA((0,Ty.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),zV=PA((0,Ty.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),HV=PA((0,Ty.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),VV=PA((0,Ty.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),GV=i.forwardRef((function(e,t){const{backIconButtonProps:n,count:r,disabled:i=!1,getItemAriaLabel:o,nextIconButtonProps:a,onPageChange:s,page:l,rowsPerPage:c,showFirstButton:u,showLastButton:d,slots:h={},slotProps:p={},...f}=e,m=aC(),g=h.firstButton??MA,v=h.lastButton??MA,y=h.nextButton??MA,b=h.previousButton??MA,A=h.firstButtonIcon??VV,x=h.lastButtonIcon??HV,w=h.nextButtonIcon??zV,C=h.previousButtonIcon??UV,E=m?v:g,S=m?y:b,_=m?b:y,M=m?g:v,I=m?p.lastButton:p.firstButton,T=m?p.nextButton:p.previousButton,R=m?p.previousButton:p.nextButton,k=m?p.firstButton:p.lastButton;return(0,Ty.jsxs)("div",{ref:t,...f,children:[u&&(0,Ty.jsx)(E,{onClick:e=>{s(e,0)},disabled:i||0===l,"aria-label":o("first",l),title:o("first",l),...I,children:m?(0,Ty.jsx)(x,{...p.lastButtonIcon}):(0,Ty.jsx)(A,{...p.firstButtonIcon})}),(0,Ty.jsx)(S,{onClick:e=>{s(e,l-1)},disabled:i||0===l,color:"inherit","aria-label":o("previous",l),title:o("previous",l),...T??n,children:m?(0,Ty.jsx)(w,{...p.nextButtonIcon}):(0,Ty.jsx)(C,{...p.previousButtonIcon})}),(0,Ty.jsx)(_,{onClick:e=>{s(e,l+1)},disabled:i||-1!==r&&l>=Math.ceil(r/c)-1,color:"inherit","aria-label":o("next",l),title:o("next",l),...R??a,children:m?(0,Ty.jsx)(C,{...p.previousButtonIcon}):(0,Ty.jsx)(w,{...p.nextButtonIcon})}),d&&(0,Ty.jsx)(M,{onClick:e=>{s(e,Math.max(0,Math.ceil(r/c)-1))},disabled:i||l>=Math.ceil(r/c)-1,"aria-label":o("last",l),title:o("last",l),...k,children:m?(0,Ty.jsx)(A,{...p.firstButtonIcon}):(0,Ty.jsx)(x,{...p.lastButtonIcon})})]})})),QV=GV;function WV(e){return lb("MuiTablePagination",e)}const qV=cb("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var $V;const XV=Ay(LV,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(My((e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}}))),KV=Ay(jV,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${qV.actions}`]:t.actions,...t.toolbar})})(My((e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${qV.actions}`]:{flexShrink:0,marginLeft:20}}}))),YV=Ay("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),JV=Ay("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(My((e=>{let{theme:t}=e;return{...t.typography.body2,flexShrink:0}}))),ZV=Ay(jR,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${qV.selectIcon}`]:t.selectIcon,[`& .${qV.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${qV.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),eG=Ay(cS,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),tG=Ay("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(My((e=>{let{theme:t}=e;return{...t.typography.body2,flexShrink:0}})));function nG(e){let{from:t,to:n,count:r}=e;return`${t}\u2013${n} of ${-1!==r?r:`more than ${n}`}`}function rG(e){return`Go to ${e} page`}const iG=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTablePagination"}),{ActionsComponent:r=QV,backIconButtonProps:o,colSpan:a,component:s=LV,count:l,disabled:c=!1,getItemAriaLabel:u=rG,labelDisplayedRows:d=nG,labelRowsPerPage:h="Rows per page:",nextIconButtonProps:p,onPageChange:f,onRowsPerPageChange:m,page:g,rowsPerPage:v,rowsPerPageOptions:y=[10,25,50,100],SelectProps:b={},showFirstButton:A=!1,showLastButton:x=!1,slotProps:w={},slots:C={},...E}=n,S=n,_=(e=>{const{classes:t}=e;return Op({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},WV,t)})(S),M=w?.select??b,I=M.native?"option":eG;let T;s!==LV&&"td"!==s||(T=a||1e3);const R=Db(M.id),k=Db(M.labelId),P={slots:C,slotProps:w},[B,O]=_b("root",{ref:t,className:_.root,elementType:XV,externalForwardedProps:{...P,component:s,...E},ownerState:S,additionalProps:{colSpan:T}}),[L,D]=_b("toolbar",{className:_.toolbar,elementType:KV,externalForwardedProps:P,ownerState:S}),[N,F]=_b("spacer",{className:_.spacer,elementType:YV,externalForwardedProps:P,ownerState:S}),[j,U]=_b("selectLabel",{className:_.selectLabel,elementType:JV,externalForwardedProps:P,ownerState:S,additionalProps:{id:k}}),[z,H]=_b("select",{className:_.select,elementType:ZV,externalForwardedProps:P,ownerState:S}),[V,G]=_b("menuItem",{className:_.menuItem,elementType:I,externalForwardedProps:P,ownerState:S}),[Q,W]=_b("displayedRows",{className:_.displayedRows,elementType:tG,externalForwardedProps:P,ownerState:S});return(0,Ty.jsx)(B,{...O,children:(0,Ty.jsxs)(L,{...D,children:[(0,Ty.jsx)(N,{...F}),y.length>1&&(0,Ty.jsx)(j,{...U,children:h}),y.length>1&&(0,Ty.jsx)(z,{variant:"standard",...!M.variant&&{input:$V||($V=(0,Ty.jsx)(PI,{}))},value:v,onChange:m,id:R,labelId:k,...M,classes:{...M.classes,root:ib(_.input,_.selectRoot,(M.classes||{}).root),select:ib(_.select,(M.classes||{}).select),icon:ib(_.selectIcon,(M.classes||{}).icon)},disabled:c,...H,children:y.map((e=>(0,i.createElement)(V,{...G,key:e.label?e.label:e,value:e.value?e.value:e},e.label?e.label:e)))}),(0,Ty.jsx)(Q,{...W,children:d({from:0===l?0:g*v+1,to:-1===l?(g+1)*v:-1===v?l:Math.min(l,(g+1)*v),count:-1===l?-1:l,page:g})}),(0,Ty.jsx)(r,{className:_.actions,backIconButtonProps:o,count:l,nextIconButtonProps:p,onPageChange:f,page:g,rowsPerPage:v,showFirstButton:A,showLastButton:x,slotProps:w.actions,slots:C.actions,getItemAriaLabel:u,disabled:c})]})})})),oG=Ay(iG)((e=>{let{theme:t}=e;return{maxHeight:"calc(100% + 1px)",flexGrow:1,[`& .${qV.selectLabel}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},[`& .${qV.input}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}}})),aG=e=>{let{from:t,to:n,count:r,estimated:i}=e;return i?`${t}\u2013${n} of ${-1!==r?r:`more than ${i>n?i:n}`}`:`${t}\u2013${n} of ${-1!==r?r:`more than ${n}`}`},sG=HC((function(e,t){const n=OE(),r=qC(),o=cE(n,aF),a=cE(n,sF),s=cE(n,dF),{paginationMode:l,loading:c,estimatedRowCount:u}=r,d=i.useMemo((()=>-1===a&&"server"===l&&c?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{}),[c,l,a]),h=i.useMemo((()=>Math.max(0,s-1)),[s]),p=i.useMemo((()=>-1===a||o.page<=h?o.page:h),[h,o.page,a]),f=i.useCallback((e=>{const t=Number(e.target.value);n.current.setPageSize(t)}),[n]),m=i.useCallback(((e,t)=>{n.current.setPage(t)}),[n]);const g=(e=>{for(let t=0;t<r.pageSizeOptions.length;t+=1){const n=r.pageSizeOptions[t];if("number"===typeof n){if(n===e)return!0}else if(n.value===e)return!0}return!1})(o.pageSize)?r.pageSizeOptions:[],v=n.current.getLocaleText("MuiTablePagination"),y=(b=v.labelDisplayedRows||aG,A=u,e=>{let{from:t,to:n,count:r,page:i}=e;return b({from:t,to:n,count:r,page:i,estimated:A})});var b,A;return(0,Ty.jsx)(oG,Yp({component:"div",count:a,page:p,rowsPerPageOptions:g,rowsPerPage:o.pageSize,onPageChange:m,onRowsPerPageChange:f},d,v,{labelDisplayedRows:y},e,{ref:t}))})),lG=["className"],cG=VC("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function uG(e){const{className:t}=e,n=Ly(e,lG),r=qC(),i=(e=>{const{classes:t}=e;return Op({root:["panelContent"]},GC,t)})(r);return(0,Ty.jsx)(cG,Yp({className:ib(i.root,t),ownerState:r},n))}const dG=["className"],hG=VC("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})((e=>{let{theme:t}=e;return{padding:t.spacing(.5),display:"flex",justifyContent:"space-between"}}));function pG(e){const{className:t}=e,n=Ly(e,dG),r=qC(),i=(e=>{const{classes:t}=e;return Op({root:["panelFooter"]},GC,t)})(r);return(0,Ty.jsx)(hG,Yp({className:ib(i.root,t),ownerState:r},n))}const fG=["className","slotProps"],mG=Ay("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),gG=()=>!0,vG=HC((function(e,t){const{className:n,slotProps:r={}}=e,i=Ly(e,fG),o=qC(),a=(e=>{const{classes:t}=e;return Op({root:["panelWrapper"]},GC,t)})(o);return(0,Ty.jsx)(MT,Yp({open:!0,disableEnforceFocus:!0,isEnabled:gG},r.TrapFocus,{children:(0,Ty.jsx)(mG,Yp({tabIndex:-1,className:ib(a.root,n),ownerState:o},i,{ref:t}))}))})),yG=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],bG=["InputComponentProps"],AG=Ay("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})((e=>{let{theme:t}=e;return{display:"flex",padding:t.spacing(1)}})),xG=Ay("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})((e=>{let{theme:t}=e;return{flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)}})),wG=Ay("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),CG=Ay("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),EG=Ay("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:150}),SG=Ay("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),_G=e=>e.headerName||e.field,MG=new Intl.Collator,IG=HC((function(e,t){const{item:n,hasMultipleFilters:r,deleteFilter:o,applyFilterChanges:a,showMultiFilterOperators:s,disableMultiFilterOperator:l,applyMultiFilterOperatorChanges:c,focusElementRef:u,logicOperators:d=[mD.And,mD.Or],columnsSort:h,filterColumns:p,deleteIconProps:f={},logicOperatorInputProps:m={},operatorInputProps:g={},columnInputProps:v={},valueInputProps:y={},readOnly:b}=e,A=Ly(e,yG),x=OE(),w=cE(x,nM),C=cE(x,cM),E=cE(x,GM),S=Lb(),_=Lb(),M=Lb(),I=Lb(),T=qC(),R=(e=>{const{classes:t}=e;return Op({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},GC,t)})(T),k=i.useRef(null),P=i.useRef(null),B=E.logicOperator??mD.And,O=r&&d.length>0,L=T.slotProps?.baseFormControl||{},D=(T.slotProps?.baseSelect||{}).native??!1,N=T.slotProps?.baseInputLabel||{},F=T.slotProps?.baseSelectOption||{},{InputComponentProps:j}=y,U=Ly(y,bG),{filteredColumns:z,selectedField:H}=i.useMemo((()=>{let e=n.field;const t=!1===w[n.field].filterable?w[n.field]:null;if(t)return{filteredColumns:[t],selectedField:e};if(void 0===p||"function"!==typeof p)return{filteredColumns:C,selectedField:e};const r=p({field:n.field,columns:C,currentFilters:E?.items||[]});return{filteredColumns:C.filter((t=>{const i=r.includes(t.field);return t.field!==n.field||i||(e=void 0),i})),selectedField:e}}),[p,E?.items,C,n.field,w]),V=i.useMemo((()=>{switch(h){case"asc":return z.sort(((e,t)=>MG.compare(_G(e),_G(t))));case"desc":return z.sort(((e,t)=>-MG.compare(_G(e),_G(t))));default:return z}}),[z,h]),G=n.field?x.current.getColumn(n.field):null,Q=i.useMemo((()=>n.operator&&G?G.filterOperators?.find((e=>e.value===n.operator)):null),[n,G]),W=i.useCallback((e=>{const t=e.target.value,r=x.current.getColumn(t);if(r.field===G.field)return;const i=r.filterOperators.find((e=>e.value===n.operator))||r.filterOperators[0];let o=!i.InputComponent||i.InputComponent!==Q?.InputComponent||r.type!==G.type?void 0:n.value;if("singleSelect"===r.type&&void 0!==o){const e=r,t=mN(e);Array.isArray(o)?o=o.filter((n=>void 0!==gN(n,t,e?.getOptionValue))):void 0===gN(n.value,t,e?.getOptionValue)&&(o=void 0)}a(Yp({},n,{field:t,operator:i.value,value:o}))}),[x,a,n,G,Q]),q=i.useCallback((e=>{const t=e.target.value,r=G?.filterOperators.find((e=>e.value===t));a(Yp({},n,{operator:t,value:!r?.InputComponent||r?.InputComponent!==Q?.InputComponent?void 0:n.value}))}),[a,n,G,Q]),$=i.useCallback((e=>{const t=e.target.value===mD.And.toString()?mD.And:mD.Or;c(t)}),[c]);return i.useImperativeHandle(u,(()=>({focus:()=>{Q?.InputComponent?k?.current?.focus():P.current.focus()}})),[Q]),(0,Ty.jsxs)(AG,Yp({className:R.root,"data-id":n.id,ownerState:T},A,{ref:t,children:[(0,Ty.jsx)(xG,Yp({variant:"standard",as:T.slots.baseFormControl},L,f,{className:ib(R.deleteIcon,L.className,f.className),ownerState:T,children:(0,Ty.jsx)(T.slots.baseIconButton,Yp({"aria-label":x.current.getLocaleText("filterPanelDeleteIconLabel"),title:x.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:()=>{o(n)},size:"small",disabled:b},T.slotProps?.baseIconButton,{children:(0,Ty.jsx)(T.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,Ty.jsx)(wG,Yp({variant:"standard",as:T.slots.baseFormControl},L,m,{sx:[O?{display:"flex"}:{display:"none"},s?{visibility:"visible"}:{visibility:"hidden"},L.sx,m.sx],className:ib(R.logicOperatorInput,L.className,m.className),ownerState:T,children:(0,Ty.jsx)(T.slots.baseSelect,Yp({inputProps:{"aria-label":x.current.getLocaleText("filterPanelLogicOperator")},value:B??"",onChange:$,disabled:!!l||1===d.length,native:D},T.slotProps?.baseSelect,{children:d.map((e=>(0,i.createElement)(T.slots.baseSelectOption,Yp({},F,{native:D,key:e.toString(),value:e.toString()}),x.current.getLocaleText((e=>{switch(e){case mD.And:return"filterPanelOperatorAnd";case mD.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}})(e)))))}))})),(0,Ty.jsxs)(CG,Yp({variant:"standard",as:T.slots.baseFormControl},L,v,{className:ib(R.columnInput,L.className,v.className),ownerState:T,children:[(0,Ty.jsx)(T.slots.baseInputLabel,Yp({},N,{htmlFor:S,id:_,children:x.current.getLocaleText("filterPanelColumns")})),(0,Ty.jsx)(T.slots.baseSelect,Yp({labelId:_,id:S,label:x.current.getLocaleText("filterPanelColumns"),value:H??"",onChange:W,native:D,disabled:b},T.slotProps?.baseSelect,{children:V.map((e=>(0,i.createElement)(T.slots.baseSelectOption,Yp({},F,{native:D,key:e.field,value:e.field}),_G(e))))}))]})),(0,Ty.jsxs)(EG,Yp({variant:"standard",as:T.slots.baseFormControl},L,g,{className:ib(R.operatorInput,L.className,g.className),ownerState:T,children:[(0,Ty.jsx)(T.slots.baseInputLabel,Yp({},N,{htmlFor:M,id:I,children:x.current.getLocaleText("filterPanelOperator")})),(0,Ty.jsx)(T.slots.baseSelect,Yp({labelId:I,label:x.current.getLocaleText("filterPanelOperator"),id:M,value:n.operator,onChange:q,native:D,inputRef:P,disabled:b},T.slotProps?.baseSelect,{children:G?.filterOperators?.map((e=>(0,i.createElement)(T.slots.baseSelectOption,Yp({},F,{native:D,key:e.value,value:e.value}),e.label||x.current.getLocaleText(`filterOperator${Km(e.value)}`))))}))]})),(0,Ty.jsx)(SG,Yp({variant:"standard",as:T.slots.baseFormControl},L,U,{className:ib(R.valueInput,L.className,U.className),ownerState:T,children:Q?.InputComponent?(0,Ty.jsx)(Q.InputComponent,Yp({apiRef:x,item:n,applyValue:a,focusElementRef:k,disabled:b},Q.InputComponentProps,j),n.field):null}))]}))})),TG=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],RG=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(1e5*Math.random())}),kG=HC((function(e,t){const n=OE(),r=qC(),o=cE(n,GM),a=cE(n,cM),s=cE(n,uM),l=i.useRef(null),c=i.useRef(null),{logicOperators:u=[mD.And,mD.Or],columnsSort:d,filterFormProps:h,getColumnForNewFilter:p,disableAddFilterButton:f=!1,disableRemoveAllButton:m=!1}=e,g=Ly(e,TG),v=n.current.upsertFilterItem,y=i.useCallback((e=>{n.current.setFilterLogicOperator(e)}),[n]),b=i.useCallback((()=>{let e;if(p&&"function"===typeof p){const t=p({currentFilters:o?.items||[],columns:a});if(null===t)return null;e=a.find((e=>{let{field:n}=e;return n===t}))}else e=a.find((e=>e.filterOperators?.length));return e?RG(e):null}),[o?.items,a,p]),A=i.useCallback((()=>{if(void 0===p||"function"!==typeof p)return b();const e=o.items.length?o.items:[b()].filter(Boolean),t=p({currentFilters:e,columns:a});if(null===t)return null;const n=a.find((e=>{let{field:n}=e;return n===t}));return n?RG(n):null}),[o.items,a,p,b]),x=i.useMemo((()=>o.items.length?o.items:(c.current||(c.current=b()),c.current?[c.current]:[])),[o.items,b]),w=x.length>1,{readOnlyFilters:C,validFilters:E}=i.useMemo((()=>x.reduce(((e,t)=>(s[t.field]?e.validFilters.push(t):e.readOnlyFilters.push(t),e)),{readOnlyFilters:[],validFilters:[]})),[x,s]),S=i.useCallback((()=>{const e=A();e&&n.current.upsertFilterItems([...x,e])}),[n,A,x]),_=i.useCallback((e=>{const t=1===E.length;n.current.deleteFilterItem(e),t&&n.current.hideFilterPanel()}),[n,E.length]),M=i.useCallback((()=>1===E.length&&void 0===E[0].value?(n.current.deleteFilterItem(E[0]),n.current.hideFilterPanel()):n.current.setFilterModel(Yp({},o,{items:C}),"removeAllFilterItems")),[n,C,o,E]);return i.useEffect((()=>{u.length>0&&o.logicOperator&&!u.includes(o.logicOperator)&&y(u[0])}),[u,y,o.logicOperator]),i.useEffect((()=>{E.length>0&&l.current.focus()}),[E.length]),(0,Ty.jsxs)(vG,Yp({},g,{ref:t,children:[(0,Ty.jsxs)(uG,{children:[C.map(((e,t)=>(0,Ty.jsx)(IG,Yp({item:e,applyFilterChanges:v,deleteFilter:_,hasMultipleFilters:w,showMultiFilterOperators:t>0,disableMultiFilterOperator:1!==t,applyMultiFilterOperatorChanges:y,focusElementRef:null,readOnly:!0,logicOperators:u,columnsSort:d},h),null==e.id?t:e.id))),E.map(((e,t)=>(0,Ty.jsx)(IG,Yp({item:e,applyFilterChanges:v,deleteFilter:_,hasMultipleFilters:w,showMultiFilterOperators:C.length+t>0,disableMultiFilterOperator:C.length+t!==1,applyMultiFilterOperatorChanges:y,focusElementRef:t===E.length-1?l:null,logicOperators:u,columnsSort:d},h),null==e.id?t+C.length:e.id)))]}),r.disableMultipleColumnsFiltering||f&&m?null:(0,Ty.jsxs)(pG,{children:[f?(0,Ty.jsx)("span",{}):(0,Ty.jsx)(r.slots.baseButton,Yp({onClick:S,startIcon:(0,Ty.jsx)(r.slots.filterPanelAddIcon,{})},r.slotProps?.baseButton,{children:n.current.getLocaleText("filterPanelAddFilter")})),!m&&E.length>0?(0,Ty.jsx)(r.slots.baseButton,Yp({onClick:M,startIcon:(0,Ty.jsx)(r.slots.filterPanelRemoveAllIcon,{})},r.slotProps?.baseButton,{children:n.current.getLocaleText("filterPanelRemoveAll")})):null]})]}))}));function PG(e){return lb("MuiFormControlLabel",e)}const BG=cb("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),OG=Ay("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${BG.label}`]:t.label},t.root,t[`labelPlacement${Oy(n.labelPlacement)}`]]}})(My((e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${BG.disabled}`]:{cursor:"default"},[`& .${BG.label}`]:{[`&.${BG.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}}))),LG=Ay("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(My((e=>{let{theme:t}=e;return{[`&.${BG.error}`]:{color:(t.vars||t).palette.error.main}}}))),DG=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiFormControlLabel"}),{checked:r,className:o,componentsProps:a={},control:s,disabled:l,disableTypography:c,inputRef:u,label:d,labelPlacement:h="end",name:p,onChange:f,required:m,slots:g={},slotProps:v={},value:y,...b}=n,A=AI(),x=l??s.props.disabled??A?.disabled,w=m??s.props.required,C={disabled:x,required:w};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof s.props[e]&&"undefined"!==typeof n[e]&&(C[e]=n[e])}));const E=yI({props:n,muiFormControl:A,states:["error"]}),S={...n,disabled:x,labelPlacement:h,required:w,error:E.error},_=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e;return Op({root:["root",n&&"disabled",`labelPlacement${Oy(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},PG,t)})(S),M={slots:g,slotProps:{...a,...v}},[I,T]=_b("typography",{elementType:Tk,externalForwardedProps:M,ownerState:S});let R=d;return null==R||R.type===Tk||c||(R=(0,Ty.jsx)(I,{component:"span",...T,className:ib(_.label,T?.className),children:R})),(0,Ty.jsxs)(OG,{className:ib(_.root,o),ownerState:S,ref:t,...b,children:[i.cloneElement(s,C),w?(0,Ty.jsxs)("div",{children:[R,(0,Ty.jsxs)(LG,{ownerState:S,"aria-hidden":!0,className:_.asterisk,children:["\u2009","*"]})]}):R]})})),NG=DG,FG=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,jG=new Intl.Collator;const UG=Ay("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(e,t)=>t.columnsManagement})((e=>{let{theme:t}=e;return{padding:t.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"}})),zG=Ay("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(e,t)=>t.columnsManagementHeader})((e=>{let{theme:t}=e;return{padding:t.spacing(1.5,3)}})),HG=Ay(GR,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput",overridesResolver:(e,t)=>t.columnsManagementSearchInput})((e=>{let{theme:t}=e;return{[`& .${EI.root}`]:{padding:t.spacing(0,1.5,0,1.5)},[`& .${EI.input}::-webkit-search-decoration,\n  & .${EI.input}::-webkit-search-cancel-button,\n  & .${EI.input}::-webkit-search-results-button,\n  & .${EI.input}::-webkit-search-results-decoration`]:{display:"none"}}})),VG=Ay("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(e,t)=>t.columnsManagementFooter})((e=>{let{theme:t}=e;return{padding:t.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${t.palette.divider}`}})),GG=Ay("div")((e=>{let{theme:t}=e;return{padding:t.spacing(.5,0),color:t.palette.grey[500]}})),QG=["children","className","classes"],WG=cb("MuiDataGrid",["panel","paper"]),qG=Ay(W_,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),$G=Ay(pb,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${t.spacing(.5)})`,overflow:"auto"}})),XG=HC(((e,t)=>{const{children:n,className:r}=e,o=Ly(e,QG),a=OE(),s=qC(),l=WG,[c,u]=i.useState(!1),d=i.useCallback((()=>{a.current.hidePreferences()}),[a]),h=i.useCallback((e=>{"Escape"===e.key&&a.current.hidePreferences()}),[a]),p=i.useMemo((()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{u(!0)},effect:()=>()=>{u(!1)}}]),[]),[f,m]=i.useState(null);return i.useEffect((()=>{const e=a.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');e&&m(e)}),[a]),f?(0,Ty.jsx)(qG,Yp({placement:"bottom-start",className:ib(l.panel,r),ownerState:s,anchorEl:f,modifiers:p},o,{ref:t,children:(0,Ty.jsx)(Kp,{mouseEvent:"onPointerUp",touchEvent:!1,onClickAway:d,children:(0,Ty.jsx)($G,{className:l.paper,ownerState:s,elevation:8,onKeyDown:h,children:c&&n})})})):null}));const KG=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],YG=IE(sz,((e,t)=>{if(!t)return!1;const n=!function(e){for(const t in e)return!1;return!0}(e);return!n})),JG=HC((function(e,t){const{selected:n,rowId:r,row:o,index:a,style:s,rowHeight:l,className:c,visibleColumns:u,pinnedColumns:d,offsetLeft:h,columnsTotalWidth:p,firstColumnIndex:f,lastColumnIndex:m,focusedColumnIndex:g,isFirstVisible:v,isLastVisible:y,isNotVisible:b,showBottomBorder:A,scrollbarWidth:x,gridHasFiller:w,onClick:C,onDoubleClick:E,onMouseEnter:S,onMouseLeave:_,onMouseOut:M,onMouseOver:I}=e,T=Ly(e,KG),R=NO(),k=fj(),P=i.useRef(null),B=qC(),O=vF(R),L=cE(R,zM),D=cE(R,wM),N=cE(R,lM),F=B.rowReordering,j=uE(R,YG,F),U=Wp(P,t),z=R.current.getRowNode(r),H=uE(R,lz,{rowId:r,editMode:B.editMode}),V=B.editMode===dN.Row,G=void 0!==g,Q=G&&g>=d.left.length&&g<f,W=G&&g<u.length-d.right.length&&g>=m,q=function(e,t){return Op(t,GC,e)}(B.classes,{root:["row",n&&"selected",V&&"row--editable",H&&"row--editing",v&&"row--firstVisible",y&&"row--lastVisible",A&&"row--borderBottom","auto"===l&&"row--dynamicHeight"]}),$=k.hooks.useGridRowAriaAttributes();i.useLayoutEffect((()=>{if(O.range){const e=R.current.getRowIndexRelativeToVisibleRows(r);void 0!==e&&R.current.unstable_setLastMeasuredRowIndex(e)}if(P.current&&"auto"===l)return R.current.observeRowHeight(P.current,r)}),[R,O.range,l,r]);const X=i.useCallback(((e,t)=>n=>{$U(n)||R.current.getRow(r)&&(R.current.publishEvent(e,R.current.getRowParams(r),n),t&&t(n))}),[R,r]),K=i.useCallback((e=>{const t=QU(e.target,QC.cell),n=t?.getAttribute("data-field");if(n){if(n===AU.field)return;if(n===YD)return;if("__reorder__"===n)return;if(R.current.getCellMode(r,n)===hN.Edit)return;const e=R.current.getColumn(n);if(e?.type===PN)return}X("rowClick",C)(e)}),[R,C,X,r]),{slots:Y,slotProps:J,disableColumnReorder:Z}=B,ee=cE(R,(()=>Yp({},R.current.getRowHeightEntry(r))),iE),te=i.useMemo((()=>{if(b)return{opacity:0,width:0,height:0};const e=Yp({},s,{maxHeight:"auto"===l?"none":l,minHeight:l,"--height":"number"===typeof l?`${l}px`:l});if(ee.spacingTop){e["border"===B.rowSpacingType?"borderTopWidth":"marginTop"]=ee.spacingTop}if(ee.spacingBottom){const t="border"===B.rowSpacingType?"borderBottomWidth":"marginBottom";let n=e[t];"number"!==typeof n&&(n=parseInt(n||"0",10)),n+=ee.spacingBottom,e[t]=n}return e}),[b,l,s,ee,B.rowSpacingType]),ne=R.current.unstable_applyPipeProcessors("rowClassName",[],r),re=z?$(z,a):void 0;if("function"===typeof B.getRowClassName){const e=a-(O.range?.firstRowIndex||0),t=Yp({},R.current.getRowParams(r),{isFirstVisible:0===e,isLastVisible:e===O.rows.length-1,indexRelativeToCurrentPage:e});ne.push(B.getRowClassName(t))}if(!z)return null;const ie=function(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:JD.NONE;const s=R.current.unstable_getCellColSpanInfo(r,n);if(s?.spannedByColSpan)return null;const c=s?.cellProps.width??e.computedWidth,u=s?.cellProps.colSpan??1,d=mV(a,e.computedWidth,n,N,p,x);if("skeletonRow"===z?.type)return(0,Ty.jsx)(Y.skeletonCell,{type:e.type,width:c,height:l,field:e.field,align:e.align},e.field);const h="__reorder__"===e.field,f=!(Z||e.disableReorder),m=j&&!L.length&&D<=1,g=!(f||h&&m),v=a===JD.VIRTUAL,y=vV(a,t),b=gV(a,t,i,B.showCellVerticalBorder,w);return(0,Ty.jsx)(Y.cell,Yp({column:e,width:c,rowId:r,align:e.align||"left",colIndex:n,colSpan:u,disableDragEvents:g,isNotVisible:v,pinnedOffset:d,pinnedPosition:a,showLeftBorder:y,showRightBorder:b,row:o,rowNode:z},J?.cell),e.field)},oe=d.left.map(((e,t)=>ie(e,t,t,d.left.length,JD.LEFT))),ae=d.right.map(((e,t)=>{const n=u.length-d.right.length+t;return ie(e,t,n,d.right.length,JD.RIGHT)})),se=u.length-d.left.length-d.right.length,le=[];Q&&le.push(ie(u[g],g-d.left.length,g,se,JD.VIRTUAL));for(let i=f;i<m;i+=1){const e=u[i],t=i-d.left.length;e&&le.push(ie(e,t,i,se))}W&&le.push(ie(u[g],g-d.left.length,g,se,JD.VIRTUAL));const ce=o?{onClick:K,onDoubleClick:X("rowDoubleClick",E),onMouseEnter:X("rowMouseEnter",S),onMouseLeave:X("rowMouseLeave",_),onMouseOut:X("rowMouseOut",M),onMouseOver:X("rowMouseOver",I)}:null;return(0,Ty.jsxs)("div",Yp({"data-id":r,"data-rowindex":a,role:"row",className:ib(...ne,q.root,c),style:te},re,ce,T,{ref:U,children:[oe,(0,Ty.jsx)("div",{role:"presentation",className:QC.cellOffsetLeft,style:{width:h}}),le,(0,Ty.jsx)("div",{role:"presentation",className:ib(QC.cell,QC.cellEmpty)}),ae,0!==x&&(0,Ty.jsx)(bV,{pinnedRight:d.right.length>0,borderTop:!v})]}))})),ZG=LO(JG);let eQ;const tQ=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],nQ=["changeReason","unstable_updateValueOnRender"];JD.LEFT,J_.LEFT,JD.RIGHT,J_.RIGHT,JD.NONE,JD.VIRTUAL;const rQ=HC((function(e,t){const{column:n,row:r,rowId:o,rowNode:a,align:s,colIndex:l,width:c,className:u,style:d,colSpan:h,disableDragEvents:p,isNotVisible:f,pinnedOffset:m,pinnedPosition:g,showRightBorder:v,showLeftBorder:y,onClick:b,onDoubleClick:A,onMouseDown:x,onMouseUp:w,onMouseOver:C,onKeyDown:E,onKeyUp:S,onDragEnter:_,onDragOver:M}=e,I=Ly(e,tQ),T=NO(),R=qC(),k=aC(),P=n.field,B=uE(T,cz,{rowId:o,field:P}),O=B?hN.Edit:hN.View,L=T.current.getCellParamsForRow(o,P,r,{colDef:n,cellMode:O,rowNode:a,tabIndex:cE(T,(()=>{const e=HF(T);return e&&e.field===P&&e.id===o?0:-1})),hasFocus:cE(T,(()=>{const e=FF(T);return e?.id===o&&e.field===P}))});L.api=T.current;const D=cE(T,(()=>T.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:o,field:P}))),N=cE(T,BF),F=cE(T,OF),{hasFocus:j,isEditable:U=!1,value:z}=L,H="actions"===n.type&&n.getActions?.(T.current.getRowParams(o)).some((e=>!e.props.disabled)),V="view"!==O&&U||H?-1:L.tabIndex,{classes:G,getCellClassName:Q}=R,W=[cE(T,(()=>T.current.unstable_applyPipeProcessors("cellClassName",[],{id:o,field:P}).filter(Boolean).join(" ")))];n.cellClassName&&W.push("function"===typeof n.cellClassName?n.cellClassName(L):n.cellClassName),"flex"===n.display&&W.push(QC["cell--flex"]),Q&&W.push(Q(L));const q=L.formattedValue??z,$=i.useRef(null),X=Wp(t,$),K=i.useRef(null),Y=R.cellSelection??!1,J=(e=>{const{align:t,showLeftBorder:n,showRightBorder:r,pinnedPosition:i,isEditable:o,isSelected:a,isSelectionMode:s,classes:l}=e;return Op({root:["cell",`cell--text${Km(t)}`,a&&"selected",o&&"cell--editable",n&&"cell--withLeftBorder",r&&"cell--withRightBorder",i===JD.LEFT&&"cell--pinnedLeft",i===JD.RIGHT&&"cell--pinnedRight",s&&!o&&"cell--selectionMode"]},GC,l)})({align:s,showLeftBorder:y,showRightBorder:v,isEditable:U,classes:R.classes,pinnedPosition:g,isSelected:D,isSelectionMode:Y}),Z=i.useCallback((e=>t=>{const n=T.current.getCellParams(o,P||"");T.current.publishEvent(e,n,t),w&&w(t)}),[T,P,w,o]),ee=i.useCallback((e=>t=>{const n=T.current.getCellParams(o,P||"");T.current.publishEvent(e,n,t),x&&x(t)}),[T,P,x,o]),te=i.useCallback(((e,t)=>n=>{if(!T.current.getRow(o))return;const r=T.current.getCellParams(o,P||"");T.current.publishEvent(e,r,n),t&&t(n)}),[T,P,o]),ne=N[o]?.[P]??!1,re=F[o]?.[P]??1,ie=i.useMemo((()=>{if(f)return{padding:0,opacity:0,width:0,height:0,border:0};const e=xV(Yp({"--width":`${c}px`},d),k,g,m),t=g===JD.LEFT,n=g===JD.RIGHT;return re>1&&(e.height=`calc(var(--height) * ${re})`,e.zIndex=5,(t||n)&&(e.zIndex=6)),e}),[c,f,d,m,g,k,re]);if(i.useEffect((()=>{if(!j||O===hN.Edit)return;const e=qp(T.current.rootElementRef.current);if($.current&&!$.current.contains(e.activeElement)){const e=$.current.querySelector('[tabindex="0"]'),t=K.current||e||$.current;if(void 0===eQ&&document.createElement("div").focus({get preventScroll(){return eQ=!0,!1}}),eQ)t.focus({preventScroll:!0});else{const e=T.current.getScrollPosition();t.focus(),T.current.scroll(e)}}}),[j,O,T]),ne)return(0,Ty.jsx)("div",{"data-colindex":l,role:"presentation",style:Yp({width:"var(--width)"},ie)});let oe,ae,se=I.onFocus;if(null===B&&n.renderCell&&(oe=n.renderCell(L)),null!==B&&n.renderEditCell){const e=T.current.getRowWithUpdatedValues(o,n.field),t=Ly(B,nQ),r=Yp({},L,{row:e,formattedValue:n.valueFormatter?n.valueFormatter(B.value,e,n,T):L.formattedValue},t);oe=n.renderEditCell(r),W.push(QC["cell--editing"]),W.push(G?.["cell--editing"])}if(void 0===oe){const e=q?.toString();oe=e,ae=e}i.isValidElement(oe)&&H&&(oe=i.cloneElement(oe,{focusElementRef:K}));const le=p?null:{onDragEnter:te("cellDragEnter",_),onDragOver:te("cellDragOver",M)};return(0,Ty.jsx)("div",Yp({className:ib(J.root,W,u),role:"gridcell","data-field":P,"data-colindex":l,"aria-colindex":l+1,"aria-colspan":h,"aria-rowspan":re,style:ie,title:ae,tabIndex:V,onClick:te("cellClick",b),onDoubleClick:te("cellDoubleClick",A),onMouseOver:te("cellMouseOver",C),onMouseDown:ee("cellMouseDown"),onMouseUp:Z("cellMouseUp"),onKeyDown:te("cellKeyDown",E),onKeyUp:te("cellKeyUp",S)},le,I,{onFocus:se,ref:X,children:oe}))})),iQ=LO(rQ),oQ=i.memo((e=>{const{colDef:t,open:n,columnMenuId:r,columnMenuButtonId:o,iconButtonRef:a}=e,s=OE(),l=qC(),c=(e=>{const{classes:t,open:n}=e;return Op({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},GC,t)})(Yp({},e,{classes:l.classes})),u=i.useCallback((e=>{e.preventDefault(),e.stopPropagation(),s.current.toggleColumnMenu(t.field)}),[s,t.field]);return(0,Ty.jsx)("div",{className:c.root,children:(0,Ty.jsx)(l.slots.baseTooltip,Yp({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},l.slotProps?.baseTooltip,{children:(0,Ty.jsx)(l.slots.baseIconButton,Yp({ref:a,tabIndex:-1,className:c.button,"aria-label":s.current.getLocaleText("columnMenuLabel"),size:"small",onClick:u,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?r:void 0,id:o},l.slotProps?.baseIconButton,{children:(0,Ty.jsx)(l.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})}));function aQ(e){let{columnMenuId:t,columnMenuButtonId:n,ContentComponent:r,contentComponentProps:i,field:o,open:a,target:s,onExited:l}=e;const c=OE(),u=c.current.getColumn(o),d=Hp((e=>{e&&(e.stopPropagation(),s?.contains(e.target))||c.current.hideColumnMenu()}));return s&&u?(0,Ty.jsx)(K_,{placement:"bottom-"+("right"===u.align?"start":"end"),open:a,target:s,onClose:d,onExited:l,children:(0,Ty.jsx)(r,Yp({colDef:u,hideMenu:d,open:a,id:t,labelledby:n},i))}):null}const sQ=["className","aria-label"],lQ=VC("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),cQ=HC((function(e,t){const{className:n}=e,r=Ly(e,sQ),i=qC(),o=(e=>{const{classes:t}=e;return Op({root:["columnHeaderTitle"]},GC,t)})(i);return(0,Ty.jsx)(lQ,Yp({className:ib(o.root,n),ownerState:i},r,{ref:t}))}));function uQ(e){const{label:t,description:n}=e,r=qC(),o=i.useRef(null),[a,s]=i.useState(""),l=i.useCallback((()=>{if(!n&&o?.current){const n=(e=o.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;s(n?t:"")}var e}),[n,t]);return(0,Ty.jsx)(r.slots.baseTooltip,Yp({title:n||a},r.slotProps?.baseTooltip,{children:(0,Ty.jsx)(cQ,{onMouseOver:l,ref:o,children:t})}))}const dQ=["resizable","resizing","height","side"];var hQ=function(e){return e.Left="left",e.Right="right",e}(hQ||{});function pQ(e){const{height:t,side:n=hQ.Right}=e,r=Ly(e,dQ),o=qC(),a=(e=>{const{resizable:t,resizing:n,classes:r,side:i}=e;return Op({root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&`columnSeparator--side${Km(i)}`],icon:["iconSeparator"]},GC,r)})(Yp({},e,{side:n,classes:o.classes})),s=i.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]);return(0,Ty.jsx)("div",Yp({className:a.root,style:{minHeight:t}},r,{onClick:s,children:(0,Ty.jsx)(o.slots.columnResizeIcon,{className:a.icon})}))}const fQ=i.memo(pQ),mQ=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],gQ=HC((function(e,t){const{classes:n,colIndex:r,height:o,isResizing:a,sortDirection:s,hasFocus:l,tabIndex:c,separatorSide:u,isDraggable:d,headerComponent:h,description:p,width:f,columnMenuIconButton:m=null,columnMenu:g=null,columnTitleIconButtons:v=null,headerClassName:y,label:b,resizable:A,draggableContainerProps:x,columnHeaderSeparatorProps:w,style:C}=e,E=Ly(e,mQ),S=NO(),_=qC(),M=i.useRef(null),I=Wp(M,t);let T="none";return null!=s&&(T="asc"===s?"ascending":"descending"),i.useLayoutEffect((()=>{const e=S.current.state.columnMenu;if(l&&!e.open){const e=M.current.querySelector('[tabindex="0"]')||M.current;e?.focus(),S.current.columnHeadersContainerRef?.current&&(S.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[S,l]),(0,Ty.jsxs)("div",Yp({className:ib(n.root,y),style:Yp({},C,{height:o,width:f}),role:"columnheader",tabIndex:c,"aria-colindex":r+1,"aria-sort":T},E,{ref:I,children:[(0,Ty.jsxs)("div",Yp({className:n.draggableContainer,draggable:d,role:"presentation"},x,{children:[(0,Ty.jsxs)("div",{className:n.titleContainer,role:"presentation",children:[(0,Ty.jsx)("div",{className:n.titleContainerContent,children:void 0!==h?h:(0,Ty.jsx)(uQ,{label:b,description:p,columnWidth:f})}),v]}),m]})),(0,Ty.jsx)(fQ,Yp({resizable:!_.disableColumnResize&&!!A,resizing:a,height:o,side:u},w)),g]}))}));const vQ=LO((function(e){const{colDef:t,columnMenuOpen:n,colIndex:r,headerHeight:o,isResizing:a,isLast:s,sortDirection:l,sortIndex:c,filterItemsCounter:u,hasFocus:d,tabIndex:h,disableReorder:p,separatorSide:f,showLeftBorder:m,showRightBorder:g,pinnedPosition:v,pinnedOffset:y}=e,b=NO(),A=qC(),x=aC(),w=i.useRef(null),C=Lb(),E=Lb(),S=i.useRef(null),[_,M]=i.useState(n),I=i.useMemo((()=>!A.disableColumnReorder&&!p&&!t.disableReorder),[A.disableColumnReorder,p,t.disableReorder]);let T;t.renderHeader&&(T=t.renderHeader(b.current.getColumnHeaderParams(t.field)));const R=(e=>{const{colDef:t,classes:n,isDragging:r,sortDirection:i,showRightBorder:o,showLeftBorder:a,filterItemsCounter:s,pinnedPosition:l,isLastUnpinned:c,isSiblingFocused:u}=e,d=null!=i,h=null!=s&&s>0,p="number"===t.type;return Op({root:["columnHeader","left"===t.headerAlign&&"columnHeader--alignLeft","center"===t.headerAlign&&"columnHeader--alignCenter","right"===t.headerAlign&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",d&&"columnHeader--sorted",h&&"columnHeader--filtered",p&&"columnHeader--numeric","withBorderColor",o&&"columnHeader--withRightBorder",a&&"columnHeader--withLeftBorder",l===JD.LEFT&&"columnHeader--pinnedLeft",l===JD.RIGHT&&"columnHeader--pinnedRight",c&&"columnHeader--lastUnpinned",u&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]},GC,n)})(Yp({},e,{classes:A.classes,showRightBorder:g,showLeftBorder:m})),k=i.useCallback((e=>n=>{$U(n)||b.current.publishEvent(e,b.current.getColumnHeaderParams(t.field),n)}),[b,t.field]),P=i.useMemo((()=>({onClick:k("columnHeaderClick"),onContextMenu:k("columnHeaderContextMenu"),onDoubleClick:k("columnHeaderDoubleClick"),onMouseOver:k("columnHeaderOver"),onMouseOut:k("columnHeaderOut"),onMouseEnter:k("columnHeaderEnter"),onMouseLeave:k("columnHeaderLeave"),onKeyDown:k("columnHeaderKeyDown"),onFocus:k("columnHeaderFocus"),onBlur:k("columnHeaderBlur")})),[k]),B=i.useMemo((()=>I?{onDragStart:k("columnHeaderDragStart"),onDragEnter:k("columnHeaderDragEnter"),onDragOver:k("columnHeaderDragOver"),onDragEnd:k("columnHeaderDragEnd")}:{}),[I,k]),O=i.useMemo((()=>({onMouseDown:k("columnSeparatorMouseDown"),onDoubleClick:k("columnSeparatorDoubleClick")})),[k]);i.useEffect((()=>{_||M(n)}),[_,n]);const L=i.useCallback((()=>{M(!1)}),[]),D=!A.disableColumnMenu&&!t.disableColumnMenu&&(0,Ty.jsx)(oQ,{colDef:t,columnMenuId:C,columnMenuButtonId:E,open:_,iconButtonRef:S}),N=(0,Ty.jsx)(aQ,{columnMenuId:C,columnMenuButtonId:E,field:t.field,open:n,target:S.current,ContentComponent:A.slots.columnMenu,contentComponentProps:A.slotProps?.columnMenu,onExited:L}),F=t.sortingOrder??A.sortingOrder,j=(t.sortable||null!=l)&&!t.hideSortIcons&&!A.disableColumnSorting,U=(0,Ty.jsxs)(i.Fragment,{children:[!A.disableColumnFilter&&(0,Ty.jsx)(A.slots.columnHeaderFilterIconButton,Yp({field:t.field,counter:u},A.slotProps?.columnHeaderFilterIconButton)),j&&(0,Ty.jsx)(A.slots.columnHeaderSortIcon,Yp({field:t.field,direction:l,index:c,sortingOrder:F,disabled:!t.sortable},A.slotProps?.columnHeaderSortIcon))]});i.useLayoutEffect((()=>{const e=b.current.state.columnMenu;if(d&&!e.open){const e=w.current.querySelector('[tabindex="0"]')||w.current;e?.focus(),b.current.columnHeadersContainerRef?.current&&(b.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[b,d]);const z="function"===typeof t.headerClassName?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,H=t.headerName??t.field,V=i.useMemo((()=>xV(Yp({},e.style),x,v,y)),[v,y,e.style,x]);return(0,Ty.jsx)(gQ,Yp({ref:w,classes:R,columnMenuOpen:n,colIndex:r,height:o,isResizing:a,sortDirection:l,hasFocus:d,tabIndex:h,separatorSide:f,isDraggable:I,headerComponent:T,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:D,columnTitleIconButtons:U,headerClassName:ib(z,s&&QC["columnHeader--last"]),label:H,resizable:!A.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:N,draggableContainerProps:B,columnHeaderSeparatorProps:O,style:V},P))}));function yQ(e){const{groupId:t,width:n,depth:r,maxDepth:o,fields:a,height:s,colIndex:l,hasFocus:c,tabIndex:u,isLastColumn:d,pinnedPosition:h,pinnedOffset:p}=e,f=qC(),m=aC(),g=i.useRef(null),v=OE(),y=cE(v,UN),b=t?y[t]:{},{headerName:A=t??"",description:x="",headerAlign:w}=b;let C;const E=t&&y[t]?.renderHeaderGroup,S=i.useMemo((()=>({groupId:t,headerName:A,description:x,depth:r,maxDepth:o,fields:a,colIndex:l,isLastColumn:d})),[t,A,x,r,o,a,l,d]);t&&E&&(C=E(S));const _=Yp({},e,{classes:f.classes,headerAlign:w,depth:r,isDragging:!1}),M=A??t,I=Lb(),T=null===t?`empty-group-cell-${I}`:t,R=(e=>{const{classes:t,headerAlign:n,isDragging:r,isLastColumn:i,showLeftBorder:o,showRightBorder:a,groupId:s,pinnedPosition:l}=e;return Op({root:["columnHeader","left"===n&&"columnHeader--alignLeft","center"===n&&"columnHeader--alignCenter","right"===n&&"columnHeader--alignRight",r&&"columnHeader--moving",a&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder","withBorderColor",null===s?"columnHeader--emptyGroup":"columnHeader--filledGroup",l===JD.LEFT&&"columnHeader--pinnedLeft",l===JD.RIGHT&&"columnHeader--pinnedRight",i&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},GC,t)})(_);i.useLayoutEffect((()=>{if(c){const e=g.current.querySelector('[tabindex="0"]')||g.current;e?.focus()}}),[v,c]);const k=i.useCallback((e=>t=>{$U(t)||v.current.publishEvent(e,S,t)}),[v,S]),P=i.useMemo((()=>({onKeyDown:k("columnGroupHeaderKeyDown"),onFocus:k("columnGroupHeaderFocus"),onBlur:k("columnGroupHeaderBlur")})),[k]),B="function"===typeof b.headerClassName?b.headerClassName(S):b.headerClassName,O=i.useMemo((()=>xV(Yp({},e.style),m,h,p)),[h,p,e.style,m]);return(0,Ty.jsx)(gQ,Yp({ref:g,classes:R,columnMenuOpen:!1,colIndex:l,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:C,headerClassName:B,description:x,elementId:T,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:M,"aria-colspan":a.length,"data-fields":`|-${a.join("-|-")}-|`,style:O},P))}const bQ=Ay("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})({display:"flex"}),AQ=["className"],xQ=VC("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),wQ=HC((function(e,t){const{className:n}=e,r=Ly(e,AQ),i=qC(),o=(e=>{const{classes:t}=e;return Op({root:["columnHeaders"]},GC,t)})(i);return(0,Ty.jsx)(xQ,Yp({className:ib(o.root,n),ownerState:i},r,{role:"presentation",ref:t}))})),CQ=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],EQ=HC((function(e,t){const{visibleColumns:n,sortColumnLookup:r,filterColumnLookup:o,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:s,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:f}=e,m=Ly(e,CQ),{getInnerProps:g,getColumnHeadersRow:v,getColumnGroupHeadersRows:y}=(e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:s,columnGroupHeaderFocus:l,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:d,columnGroupsHeaderStructure:h,hasOtherElementInTabSequence:p}=e,[f,m]=i.useState(""),[g,v]=i.useState(""),y=NO(),b=qC(),A=cE(y,jN),x=cE(y,lM),w=cE(y,IF),C=cE(y,sM),E=cE(y,nM),S=oj(x,w,C.left.length),_=cE(y,YO),M=cE(y,nL),I=cE(y,rL),T=cE(y,iL),R=cE(y,oL),k=i.useCallback((e=>v(e.field)),[]),P=i.useCallback((()=>v("")),[]),B=i.useCallback((e=>m(e.field)),[]),O=i.useCallback((()=>m("")),[]),L=i.useMemo((()=>C.left.length?{firstColumnIndex:0,lastColumnIndex:C.left.length}:null),[C.left.length]),D=i.useMemo((()=>C.right.length?{firstColumnIndex:t.length-C.right.length,lastColumnIndex:t.length}:null),[C.right.length,t.length]);hL(y,"columnResizeStart",k),hL(y,"columnResizeStop",P),hL(y,"columnHeaderDragStart",B),hL(y,"columnHeaderDragEnd",O);const N=e=>{const{renderContext:n=w}=e||{},r=n.firstColumnIndex,i=n.lastColumnIndex;return{renderedColumns:t.slice(r,i),firstColumnToRender:r,lastColumnToRender:i}},F=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e?.position===JD.RIGHT,a=void 0===e?.position,s=C.right.length>0&&o||0===C.right.length&&a,l=S-n;return(0,Ty.jsxs)(i.Fragment,{children:[a&&(0,Ty.jsx)("div",{role:"presentation",style:{width:l}}),t,a&&(0,Ty.jsx)("div",{role:"presentation",className:ib(QC.filler,r&&QC["filler--borderBottom"])}),s&&(0,Ty.jsx)(bV,{header:!0,pinnedRight:o,borderBottom:r,borderTop:!1})]})},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{renderedColumns:i,firstColumnToRender:a}=N(e),l=[];for(let c=0;c<i.length;c+=1){const d=i[c],h=a+c,m=0===h,v=null!==o&&o.field===d.field||m&&!p?0:-1,y=null!==s&&s.field===d.field,A=u.open&&u.field===d.field,w=e?.position,E=mV(w,d.computedWidth,h,x,_,R),S=w===JD.RIGHT?i[c-1]:i[c+1],T=!!S&&null!==s&&s.field===S.field,k=h+1===x.length-C.right.length,P=c,B=i.length,O=vV(w,P),L=gV(w,P,B,b.showColumnVerticalBorder,M);l.push((0,Ty.jsx)(vQ,Yp({},n[d.field],{columnMenuOpen:A,filterItemsCounter:r[d.field]&&r[d.field].length,headerHeight:I,isDragging:d.field===f,colDef:d,colIndex:h,isResizing:g===d.field,isLast:h===x.length-1,hasFocus:y,tabIndex:v,pinnedPosition:w,pinnedOffset:E,isLastUnpinned:k,isSiblingFocused:T,showLeftBorder:O,showRightBorder:L},t),d.field))}return F(e,l,0)},U=e=>{let{depth:n,params:r}=e;const i=N(r);if(0===i.renderedColumns.length)return null;const{firstColumnToRender:o,lastColumnToRender:s}=i,u=h[n],p=t[o].field,f=A[p]?.[n]??null,m=u.findIndex((e=>{let{groupId:t,columnFields:n}=e;return t===f&&n.includes(p)})),g=t[s-1].field,v=A[g]?.[n]??null,y=u.findIndex((e=>{let{groupId:t,columnFields:n}=e;return t===v&&n.includes(g)})),w=u.slice(m,y+1).map((e=>Yp({},e,{columnFields:e.columnFields.filter((e=>!1!==d[e]))}))).filter((e=>e.columnFields.length>0)),C=w[0].columnFields.indexOf(p),S=w[0].columnFields.slice(0,C).reduce(((e,t)=>e+(E[t].computedWidth??0)),0);let I=o;const k=w.map(((e,t)=>{let{groupId:i,columnFields:o}=e;const s=null!==l&&l.depth===n&&o.includes(l.field),u=null!==a&&a.depth===n&&o.includes(a.field)?0:-1,d={groupId:i,width:o.reduce(((e,t)=>e+E[t].computedWidth),0),fields:o,colIndex:I,hasFocus:s,tabIndex:u},h=r.position,p=mV(h,d.width,I,x,_,R);I+=o.length;let f=t;return h===JD.LEFT&&(f=I-1),(0,Ty.jsx)(yQ,{groupId:i,width:d.width,fields:d.fields,colIndex:d.colIndex,depth:n,isLastColumn:t===w.length-1,maxDepth:c,height:T,hasFocus:s,tabIndex:u,pinnedPosition:h,pinnedOffset:p,showLeftBorder:vV(h,f),showRightBorder:gV(h,f,w.length,b.showColumnVerticalBorder,M)},t)}));return F(r,k,S)};return{renderContext:w,leftRenderContext:L,rightRenderContext:D,pinnedColumns:C,visibleColumns:t,columnPositions:x,getFillers:F,getColumnHeadersRow:()=>(0,Ty.jsxs)(bQ,{role:"row","aria-rowindex":c+1,ownerState:b,className:QC["row--borderBottom"],children:[L&&j({position:JD.LEFT,renderContext:L},{disableReorder:!0}),j({renderContext:w}),D&&j({position:JD.RIGHT,renderContext:D},{disableReorder:!0,separatorSide:hQ.Left})]}),getColumnsToRender:N,getColumnGroupHeadersRows:()=>{if(0===c)return null;const e=[];for(let t=0;t<c;t+=1)e.push((0,Ty.jsxs)(bQ,{role:"row","aria-rowindex":t+1,ownerState:b,children:[L&&U({depth:t,params:{position:JD.LEFT,renderContext:L,maxLastColumn:L.lastColumnIndex}}),U({depth:t,params:{renderContext:w}}),D&&U({depth:t,params:{position:JD.RIGHT,renderContext:D,maxLastColumn:D.lastColumnIndex}})]},t));return e},getPinnedCellOffset:mV,isDragging:!!f,getInnerProps:()=>({role:"rowgroup"})}})({visibleColumns:n,sortColumnLookup:r,filterColumnLookup:o,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:s,columnHeaderFocus:l,columnGroupHeaderFocus:c,headerGroupingMaxDepth:u,columnMenuState:d,columnVisibility:h,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:f});return(0,Ty.jsxs)(wQ,Yp({},m,g(),{ref:t,children:[y(),v()]}))})),SQ=LO(EQ),_Q=["displayOrder"],MQ=["hideMenu","colDef","id","labelledby","className","children","open"],IQ=Ay(JE)((()=>({minWidth:248}))),TQ=HC((function(e,t){const{hideMenu:n,id:r,labelledby:o,className:a,children:s,open:l}=e,c=Ly(e,MQ),u=i.useCallback((e=>{"Tab"===e.key&&e.preventDefault(),yS(e.key)&&n(e)}),[n]);return(0,Ty.jsx)(IQ,Yp({id:r,className:ib(QC.menuList,a),"aria-labelledby":o,onKeyDown:u,autoFocus:l},c,{ref:t,children:s}))})),RQ=Ay("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${iS.primary}`]:t.primary},{[`& .${iS.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Ck.root}:where(& .${iS.primary})`]:{display:"block"},[`.${Ck.root}:where(& .${iS.secondary})`]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),kQ=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:h={},slotProps:p={},...f}=n,{dense:m}=i.useContext(NE);let g=null!=l?l:r,v=u;const y={...n,disableTypography:a,inset:s,primary:!!g,secondary:!!v,dense:m},b=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e;return Op({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},rS,t)})(y),A={slots:h,slotProps:{primary:c,secondary:d,...p}},[x,w]=_b("primary",{className:b.primary,elementType:Tk,externalForwardedProps:A,ownerState:y}),[C,E]=_b("secondary",{className:b.secondary,elementType:Tk,externalForwardedProps:A,ownerState:y});return null==g||g.type===Tk||a||(g=(0,Ty.jsx)(x,{variant:m?"body2":"body1",component:w?.variant?void 0:"span",...w,children:g})),null==v||v.type===Tk||a||(v=(0,Ty.jsx)(C,{variant:"body2",color:"textSecondary",...E,children:v})),(0,Ty.jsxs)(RQ,{className:ib(b.root,o),ownerState:y,ref:t,...f,children:[g,v]})})),PQ=kQ;function BQ(e){const{colDef:t,onClick:n}=e,r=OE(),o=qC(),a=1===oM(r).filter((e=>!0!==e.disableColumnMenu)).length,s=i.useCallback((e=>{a||(r.current.setColumnVisibility(t.field,!1),n(e))}),[r,t.field,n,a]);return o.disableColumnSelector||!1===t.hideable?null:(0,Ty.jsxs)(cS,{onClick:s,disabled:a,children:[(0,Ty.jsx)(hS,{children:(0,Ty.jsx)(o.slots.columnMenuHideIcon,{fontSize:"small"})}),(0,Ty.jsx)(PQ,{children:r.current.getLocaleText("columnMenuHideColumn")})]})}function OQ(e){const{onClick:t}=e,n=OE(),r=qC(),o=i.useCallback((e=>{t(e),n.current.showPreferences(PE.columns)}),[n,t]);return r.disableColumnSelector?null:(0,Ty.jsxs)(cS,{onClick:o,children:[(0,Ty.jsx)(hS,{children:(0,Ty.jsx)(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),(0,Ty.jsx)(PQ,{children:n.current.getLocaleText("columnMenuManageColumns")})]})}const LQ=["defaultSlots","defaultSlotProps","slots","slotProps"],DQ={columnMenuSortItem:function(e){const{colDef:t,onClick:n}=e,r=OE(),o=cE(r,zM),a=qC(),s=i.useMemo((()=>{if(!t)return null;const e=o.find((e=>e.field===t.field));return e?.sort}),[t,o]),l=t.sortingOrder??a.sortingOrder,c=i.useCallback((e=>{n(e);const i=e.currentTarget.getAttribute("data-value")||null;r.current.sortColumn(t.field,i===s?null:i)}),[r,t,n,s]);if(a.disableColumnSorting||!t||!t.sortable||!l.some((e=>!!e)))return null;const u=e=>{const n=r.current.getLocaleText(e);return"function"===typeof n?n(t):n};return(0,Ty.jsxs)(i.Fragment,{children:[l.includes("asc")&&"asc"!==s?(0,Ty.jsxs)(cS,{onClick:c,"data-value":"asc",children:[(0,Ty.jsx)(hS,{children:(0,Ty.jsx)(a.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),(0,Ty.jsx)(PQ,{children:u("columnMenuSortAsc")})]}):null,l.includes("desc")&&"desc"!==s?(0,Ty.jsxs)(cS,{onClick:c,"data-value":"desc",children:[(0,Ty.jsx)(hS,{children:(0,Ty.jsx)(a.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),(0,Ty.jsx)(PQ,{children:u("columnMenuSortDesc")})]}):null,l.includes(null)&&null!=s?(0,Ty.jsxs)(cS,{onClick:c,children:[(0,Ty.jsx)(hS,{}),(0,Ty.jsx)(PQ,{children:r.current.getLocaleText("columnMenuUnsort")})]}):null]})},columnMenuFilterItem:function(e){const{colDef:t,onClick:n}=e,r=OE(),o=qC(),a=i.useCallback((e=>{n(e),r.current.showFilterPanel(t.field)}),[r,t.field,n]);return o.disableColumnFilter||!t.filterable?null:(0,Ty.jsxs)(cS,{onClick:a,children:[(0,Ty.jsx)(hS,{children:(0,Ty.jsx)(o.slots.columnMenuFilterIcon,{fontSize:"small"})}),(0,Ty.jsx)(PQ,{children:r.current.getLocaleText("columnMenuFilter")})]})},columnMenuColumnsItem:function(e){return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(BQ,Yp({},e)),(0,Ty.jsx)(OQ,Yp({},e))]})}},NQ={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},FQ=HC((function(e,t){const{defaultSlots:n,defaultSlotProps:r,slots:o,slotProps:a}=e,s=Ly(e,LQ),l=(e=>{const t=NO(),n=qC(),{defaultSlots:r,defaultSlotProps:o,slots:a={},slotProps:s={},hideMenu:l,colDef:c,addDividers:u=!0}=e,d=i.useMemo((()=>Yp({},r,a)),[r,a]),h=i.useMemo((()=>{if(!s||0===Object.keys(s).length)return o;const e=Yp({},s);return Object.entries(o).forEach((t=>{let[n,r]=t;e[n]=Yp({},r,s[n]||{})})),e}),[o,s]),p=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),f=i.useMemo((()=>{const e=Object.keys(r);return Object.keys(a).filter((t=>!e.includes(t)))}),[a,r]);return i.useMemo((()=>{const e=Array.from(new Set([...p,...f])).filter((e=>null!=d[e])).sort(((e,t)=>{const n=h[e],r=h[t];return(Number.isFinite(n?.displayOrder)?n.displayOrder:100)-(Number.isFinite(r?.displayOrder)?r.displayOrder:100)}));return e.reduce(((t,r,i)=>{let o={colDef:c,onClick:l};const a=h[r];return a&&(o=Yp({},o,Ly(a,_Q))),u&&i!==e.length-1?[...t,[d[r],o],[n.slots.baseDivider,{}]]:[...t,[d[r],o]]}),[])}),[u,c,p,l,d,h,f,n.slots.baseDivider])})(Yp({},s,{defaultSlots:n,defaultSlotProps:r,slots:o,slotProps:a}));return(0,Ty.jsx)(TQ,Yp({},s,{ref:t,children:l.map(((e,t)=>{let[n,r]=e;return(0,Ty.jsx)(n,Yp({},r),t)}))}))})),jQ=HC((function(e,t){return(0,Ty.jsx)(FQ,Yp({},e,{ref:t,defaultSlots:DQ,defaultSlotProps:NQ}))}));const UQ=HC((function(e,t){const n=OE().current.getLocaleText("noResultsOverlayLabel");return(0,Ty.jsx)(fV,Yp({},e,{ref:t,children:n}))}));const zQ=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,o=TL({badgeContent:t,max:r});let a=n;!1!==n||0!==t||i||(a=!0);const{badgeContent:s,max:l=r}=a?o:e;return{badgeContent:s,invisible:a,max:l,displayValue:s&&Number(s)>l?`${l}+`:s}};function HQ(e){return lb("MuiBadge",e)}const VQ=cb("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),GQ=Ay("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),QQ=Ay("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${Oy(n.anchorOrigin.vertical)}${Oy(n.anchorOrigin.horizontal)}${Oy(n.overlap)}`],"default"!==n.color&&t[`color${Oy(n.color)}`],n.invisible&&t.invisible]}})(My((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(Rb(["contrastText"])).map((e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${VQ.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})));function WQ(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}const qQ=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiBadge"}),{anchorOrigin:r,className:i,classes:o,component:a,components:s={},componentsProps:l={},children:c,overlap:u="rectangular",color:d="default",invisible:h=!1,max:p=99,badgeContent:f,slots:m,slotProps:g,showZero:v=!1,variant:y="standard",...b}=n,{badgeContent:A,invisible:x,max:w,displayValue:C}=zQ({max:p,invisible:h,badgeContent:f,showZero:v}),E=TL({anchorOrigin:WQ(r),color:d,overlap:u,variant:y,badgeContent:f}),S=x||null==A&&"dot"!==y,{color:_=d,overlap:M=u,anchorOrigin:I,variant:T=y}=S?E:n,R=WQ(I),k="dot"!==T?C:void 0,P={...n,badgeContent:A,invisible:S,max:w,displayValue:k,showZero:v,anchorOrigin:R,color:_,overlap:M,variant:T},B=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:o,classes:a={}}=e;return Op({root:["root"],badge:["badge",o,r&&"invisible",`anchorOrigin${Oy(n.vertical)}${Oy(n.horizontal)}`,`anchorOrigin${Oy(n.vertical)}${Oy(n.horizontal)}${Oy(i)}`,`overlap${Oy(i)}`,"default"!==t&&`color${Oy(t)}`]},HQ,a)})(P),O=m?.root??s.Root??GQ,L=m?.badge??s.Badge??QQ,D=g?.root??l.root,N=g?.badge??l.badge,F=L_({elementType:O,externalSlotProps:D,externalForwardedProps:b,additionalProps:{ref:t,as:a},ownerState:P,className:ib(D?.className,B.root,i)}),j=L_({elementType:L,externalSlotProps:N,ownerState:P,className:ib(B.badge,N?.className)});return(0,Ty.jsxs)(O,{...F,children:[c,(0,Ty.jsx)(L,{...j,children:k})]})})),$Q=qQ;function XQ(e){return lb("PrivateSwitchBase",e)}cb("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const KQ=Ay(uA)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),YQ=Ay("input",{shouldForwardProp:by})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),JQ=i.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,defaultChecked:o,disabled:a,disableFocusRipple:s=!1,edge:l=!1,icon:c,id:u,inputProps:d,inputRef:h,name:p,onBlur:f,onChange:m,onFocus:g,readOnly:v,required:y=!1,tabIndex:b,type:A,value:x,slots:w={},slotProps:C={},...E}=e,[S,_]=wR({controlled:r,default:Boolean(o),name:"SwitchBase",state:"checked"}),M=AI();let I=a;M&&"undefined"===typeof I&&(I=M.disabled);const T="checkbox"===A||"radio"===A,R={...e,checked:S,disabled:I,disableFocusRipple:s,edge:l},k=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return Op({root:["root",n&&"checked",r&&"disabled",i&&`edge${Oy(i)}`],input:["input"]},XQ,t)})(R),P={slots:w,slotProps:{input:d,...C}},[B,O]=_b("root",{ref:t,elementType:KQ,className:k.root,shouldForwardComponentProp:!0,externalForwardedProps:{...P,component:"span",...E},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{g&&g(e),M&&M.onFocus&&M.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{f&&f(e),M&&M.onBlur&&M.onBlur(e)})(t)}}),ownerState:R,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:I,role:void 0,tabIndex:null}}),[L,D]=_b("input",{ref:h,elementType:YQ,className:k.input,externalForwardedProps:P,getSlotProps:e=>({onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;_(t),m&&m(e,t)})(t)}}),ownerState:R,additionalProps:{autoFocus:n,checked:r,defaultChecked:o,disabled:I,id:T?u:void 0,name:p,readOnly:v,required:y,tabIndex:b,type:A,..."checkbox"===A&&void 0===x?{}:{value:x}}});return(0,Ty.jsxs)(B,{...O,children:[(0,Ty.jsx)(L,{...D}),S?i:c]})})),ZQ=JQ,eW=PA((0,Ty.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),tW=PA((0,Ty.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),nW=PA((0,Ty.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function rW(e){return lb("MuiCheckbox",e)}const iW=cb("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),oW=Ay(ZQ,{shouldForwardProp:e=>by(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Oy(n.size)}`],"default"!==n.color&&t[`color${Oy(n.color)}`]]}})(My((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:hv(t.palette[n].main,t.palette.action.hoverOpacity)}}}})),...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${iW.checked}, &.${iW.indeterminate}`]:{color:(t.vars||t).palette[n].main},[`&.${iW.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}}))),aW=(0,Ty.jsx)(tW,{}),sW=(0,Ty.jsx)(eW,{}),lW=(0,Ty.jsx)(nW,{}),cW=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiCheckbox"}),{checkedIcon:r=aW,color:o="primary",icon:a=sW,indeterminate:s=!1,indeterminateIcon:l=lW,inputProps:c,size:u="medium",disableRipple:d=!1,className:h,slots:p={},slotProps:f={},...m}=n,g=s?l:a,v=s?l:r,y={...n,disableRipple:d,color:o,indeterminate:s,size:u},b=(e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o=Op({root:["root",n&&"indeterminate",`color${Oy(r)}`,`size${Oy(i)}`]},rW,t);return{...t,...o}})(y),A=f.input??c,[x,w]=_b("root",{ref:t,elementType:oW,className:ib(b.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:f,...m},ownerState:y,additionalProps:{type:"checkbox",icon:i.cloneElement(g,{fontSize:g.props.fontSize??u}),checkedIcon:i.cloneElement(v,{fontSize:v.props.fontSize??u}),disableRipple:d,slots:p,slotProps:{input:KT("function"===typeof A?A(y):A,{"data-indeterminate":s})}}});return(0,Ty.jsx)(x,{...w,classes:b})})),uW=cW,dW=Ay("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(My((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:hv(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),hW=Ay("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(My((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}}))),pW=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:o,orientation:a="horizontal",component:s=(i||"vertical"===a?"div":"hr"),flexItem:l=!1,light:c=!1,role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth",...p}=n,f={...n,absolute:r,component:s,flexItem:l,light:c,orientation:a,role:u,textAlign:d,variant:h},m=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=e;return Op({root:["root",t&&"absolute",l,o&&"light","vertical"===a&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},ZE,r)})(f);return(0,Ty.jsx)(dW,{as:s,className:ib(m.root,o),role:u,ref:t,ownerState:f,"aria-orientation":"separator"!==u||"hr"===s&&"vertical"!==a?void 0:a,...p,children:i?(0,Ty.jsx)(hW,{className:m.wrapper,ownerState:f,children:i}):null})}));pW&&(pW.muiSkipListHighlight=!0);const fW=pW;function mW(e){return lb("MuiInputAdornment",e)}const gW=cb("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var vW;const yW=Ay("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Oy(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(My((e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${gW.positionStart}&:not(.${gW.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}}))),bW=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:a="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:c,variant:u,...d}=n,h=AI()||{};let p=u;u&&h.variant,h&&!p&&(p=h.variant);const f={...n,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:s,position:c,variant:p},m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:a}=e;return Op({root:["root",n&&"disablePointerEvents",i&&`position${Oy(i)}`,a,r&&"hiddenLabel",o&&`size${Oy(o)}`]},mW,t)})(f);return(0,Ty.jsx)(bI.Provider,{value:null,children:(0,Ty.jsx)(yW,{as:a,ownerState:f,className:ib(m.root,o),ref:t,...d,children:"string"!==typeof r||l?(0,Ty.jsxs)(i.Fragment,{children:["start"===c?vW||(vW=(0,Ty.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,r]}):(0,Ty.jsx)(Tk,{color:"textSecondary",children:r})})})})),AW=bW;function xW(e){return lb("MuiTooltip",e)}const wW=cb("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function CW(e){return Math.round(1e5*e)/1e5}const EW=Ay(W_,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(My((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{[`&[data-popper-placement*="bottom"] .${wW.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${wW.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${wW.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${wW.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{[`&[data-popper-placement*="right"] .${wW.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{[`&[data-popper-placement*="right"] .${wW.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{[`&[data-popper-placement*="left"] .${wW.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{[`&[data-popper-placement*="left"] .${wW.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}}))),SW=Ay("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${Oy(n.placement.split("-")[0])}`]]}})(My((e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:hv(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${wW.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${wW.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${wW.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${wW.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${CW(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[`.${wW.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${wW.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[`.${wW.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${wW.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[`.${wW.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${wW.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[`.${wW.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${wW.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[`.${wW.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[`.${wW.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}}))),_W=Ay("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(My((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:hv(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})));let MW=!1;const IW=new jp;let TW={x:0,y:0};function RW(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&t(n,...i),e(n,...i)}}const kW=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:o,classes:a,components:s={},componentsProps:l={},describeChild:c=!1,disableFocusListener:u=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:f=100,enterNextDelay:m=0,enterTouchDelay:g=700,followCursor:v=!1,id:y,leaveDelay:b=0,leaveTouchDelay:A=1500,onClose:x,onOpen:w,open:C,placement:E="bottom",PopperComponent:S,PopperProps:_={},slotProps:M={},slots:I={},title:T,TransitionComponent:R,TransitionProps:k,...P}=n,B=i.isValidElement(o)?o:(0,Ty.jsx)("span",{children:o}),O=Ey(),L=aC(),[D,N]=i.useState(),[F,j]=i.useState(null),U=i.useRef(!1),z=h||v,H=Up(),V=Up(),G=Up(),Q=Up(),[W,q]=wR({controlled:C,default:!1,name:"Tooltip",state:"open"});let $=W;const X=Db(y),K=i.useRef(),Y=Fb((()=>{void 0!==K.current&&(document.body.style.WebkitUserSelect=K.current,K.current=void 0),Q.clear()}));i.useEffect((()=>Y),[Y]);const J=e=>{IW.clear(),MW=!0,q(!0),w&&!$&&w(e)},Z=Fb((e=>{IW.start(800+b,(()=>{MW=!1})),q(!1),x&&$&&x(e),H.start(O.transitions.duration.shortest,(()=>{U.current=!1}))})),ee=e=>{U.current&&"touchstart"!==e.type||(D&&D.removeAttribute("title"),V.clear(),G.clear(),f||MW&&m?V.start(MW?m:f,(()=>{J(e)})):J(e))},te=e=>{V.clear(),G.start(b,(()=>{Z(e)}))},[,ne]=i.useState(!1),re=e=>{Nb(e.target)||(ne(!1),te(e))},ie=e=>{D||N(e.currentTarget),Nb(e.target)&&(ne(!0),ee(e))},oe=e=>{U.current=!0;const t=B.props;t.onTouchStart&&t.onTouchStart(e)},ae=e=>{oe(e),G.clear(),H.clear(),Y(),K.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Q.start(g,(()=>{document.body.style.WebkitUserSelect=K.current,ee(e)}))},se=e=>{B.props.onTouchEnd&&B.props.onTouchEnd(e),Y(),G.start(A,(()=>{Z(e)}))};i.useEffect((()=>{if($)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&Z(e)}}),[Z,$]);const le=Yy($p(B),N,t);T||0===T||($=!1);const ce=i.useRef(),ue={},de="string"===typeof T;c?(ue.title=$||!de||d?null:T,ue["aria-describedby"]=$?X:null):(ue["aria-label"]=de?T:null,ue["aria-labelledby"]=$&&!de?X:null);const he={...ue,...P,...B.props,className:ib(P.className,B.props.className),onTouchStart:oe,ref:le,...v?{onMouseMove:e=>{const t=B.props;t.onMouseMove&&t.onMouseMove(e),TW={x:e.clientX,y:e.clientY},ce.current&&ce.current.update()}}:{}};const pe={};p||(he.onTouchStart=ae,he.onTouchEnd=se),d||(he.onMouseOver=RW(ee,he.onMouseOver),he.onMouseLeave=RW(te,he.onMouseLeave),z||(pe.onMouseOver=ee,pe.onMouseLeave=te)),u||(he.onFocus=RW(ie,he.onFocus),he.onBlur=RW(re,he.onBlur),z||(pe.onFocus=ie,pe.onBlur=re));const fe={...n,isRtl:L,arrow:r,disableInteractive:z,placement:E,PopperComponentProp:S,touch:U.current},me="function"===typeof M.popper?M.popper(fe):M.popper,ge=i.useMemo((()=>{let e=[{name:"arrow",enabled:Boolean(F),options:{element:F,padding:4}}];return _.popperOptions?.modifiers&&(e=e.concat(_.popperOptions.modifiers)),me?.popperOptions?.modifiers&&(e=e.concat(me.popperOptions.modifiers)),{..._.popperOptions,...me?.popperOptions,modifiers:e}}),[F,_.popperOptions,me?.popperOptions]),ve=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e;return Op({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Oy(o.split("-")[0])}`],arrow:["arrow"]},xW,t)})(fe),ye="function"===typeof M.transition?M.transition(fe):M.transition,be={slots:{popper:s.Popper,transition:s.Transition??R,tooltip:s.Tooltip,arrow:s.Arrow,...I},slotProps:{arrow:M.arrow??l.arrow,popper:{..._,...me??l.popper},tooltip:M.tooltip??l.tooltip,transition:{...k,...ye??l.transition}}},[Ae,xe]=_b("popper",{elementType:EW,externalForwardedProps:be,ownerState:fe,className:ib(ve.popper,_?.className)}),[we,Ce]=_b("transition",{elementType:nb,externalForwardedProps:be,ownerState:fe}),[Ee,Se]=_b("tooltip",{elementType:SW,className:ve.tooltip,externalForwardedProps:be,ownerState:fe}),[_e,Me]=_b("arrow",{elementType:_W,className:ve.arrow,externalForwardedProps:be,ownerState:fe,ref:j});return(0,Ty.jsxs)(i.Fragment,{children:[i.cloneElement(B,he),(0,Ty.jsx)(Ae,{as:S??W_,placement:E,anchorEl:v?{getBoundingClientRect:()=>({top:TW.y,left:TW.x,right:TW.x,bottom:TW.y,width:0,height:0})}:D,popperRef:ce,open:!!D&&$,id:X,transition:!0,...pe,...xe,popperOptions:ge,children:e=>{let{TransitionProps:t}=e;return(0,Ty.jsx)(we,{timeout:O.transitions.duration.shorter,...t,...Ce,children:(0,Ty.jsxs)(Ee,{...Se,children:[T,r?(0,Ty.jsx)(_e,{...Me}):null]})})}})]})})),PW=kW,BW=["sortingOrder"],OW=i.memo((function(e){const{sortingOrder:t}=e,n=Ly(e,BW),r=qC(),[i]=t,o="asc"===i?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return o?(0,Ty.jsx)(o,Yp({},n)):null})),LW=PA((0,Ty.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),DW=PA((0,Ty.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),NW=PA((0,Ty.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),FW=PA((0,Ty.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),jW=PA((0,Ty.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),UW=PA((0,Ty.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),zW=PA((0,Ty.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),HW=(PA((0,Ty.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),PA((0,Ty.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),PA((0,Ty.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),VW=PA((0,Ty.jsx)("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),GW=PA((0,Ty.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),QW=PA((0,Ty.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),WW=PA((0,Ty.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),qW=PA((0,Ty.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),$W=PA((0,Ty.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),XW=PA((0,Ty.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),KW=PA((0,Ty.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),YW=PA((0,Ty.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),JW=PA((0,Ty.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),ZW=PA((0,Ty.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),eq=PA((0,Ty.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),tq=PA((0,Ty.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),nq=PA((0,Ty.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),rq=PA((0,Ty.jsx)("g",{children:(0,Ty.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),iq=PA((0,Ty.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),oq=(PA((0,Ty.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),PA((0,Ty.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")),aq=["native"];const sq=Yp({},{booleanCellTrueIcon:eq,booleanCellFalseIcon:$W,columnMenuIcon:qW,openFilterButtonIcon:jW,filterPanelDeleteIcon:$W,columnFilteredIcon:UW,columnSelectorIcon:HW,columnUnsortedIcon:OW,columnSortedAscendingIcon:LW,columnSortedDescendingIcon:DW,columnResizeIcon:VW,densityCompactIcon:GW,densityStandardIcon:QW,densityComfortableIcon:WW,exportIcon:ZW,moreActionsIcon:tq,treeDataCollapseIcon:FW,treeDataExpandIcon:NW,groupingCriteriaCollapseIcon:FW,groupingCriteriaExpandIcon:NW,detailPanelExpandIcon:XW,detailPanelCollapseIcon:KW,rowReorderIcon:JW,quickFilterIcon:zW,quickFilterClearIcon:$W,columnMenuHideIcon:nq,columnMenuSortAscendingIcon:LW,columnMenuSortDescendingIcon:DW,columnMenuFilterIcon:UW,columnMenuManageColumnsIcon:rq,columnMenuClearIcon:iq,loadIcon:YW,filterPanelAddIcon:XW,filterPanelRemoveAllIcon:oq,columnReorderIcon:JW},{baseBadge:$Q,baseCheckbox:uW,baseDivider:fW,baseTextField:GR,baseFormControl:gT,baseSelect:jR,baseButton:IO,baseIconButton:MA,baseInputAdornment:AW,baseTooltip:PW,basePopper:W_,baseInputLabel:uT,baseSelectOption:function(e){let{native:t}=e,n=Ly(e,aq);return t?(0,Ty.jsx)("option",Yp({},n)):(0,Ty.jsx)(cS,Yp({},n))},baseChip:$L}),lq=Yp({},sq,{cell:iQ,skeletonCell:OH,columnHeaderFilterIconButton:function(e){return e.counter?(0,Ty.jsx)(FH,Yp({},e)):null},columnHeaderSortIcon:zH,columnMenu:jQ,columnHeaders:SQ,detailPanels:function(e){return null},footer:$H,footerRowCount:YH,toolbar:null,pinnedRows:function(e){return null},loadingOverlay:MV,noResultsOverlay:UQ,noRowsOverlay:IV,pagination:sG,filterPanel:kG,columnsPanel:function(e){const t=qC();return(0,Ty.jsx)(vG,Yp({},e,{children:(0,Ty.jsx)(t.slots.columnsManagement,Yp({},t.slotProps?.columnsManagement))}))},columnsManagement:function(e){const t=OE(),n=i.useRef(null),r=cE(t,rM),o=Dp((()=>iM(t))).current,a=cE(t,iM),s=qC(),[l,c]=i.useState(""),u=(e=>{const{classes:t}=e;return Op({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},GC,t)})(s),{sort:d,searchPredicate:h=FG,autoFocusSearchField:p=!0,disableShowHideToggle:f=!1,disableResetButton:m=!1,toggleAllMode:g="all",getTogglableColumns:v,searchInputProps:y}=e,b=i.useMemo((()=>((e,t)=>{const n=new Set(Object.keys(e).filter((t=>!1===e[t]))),r=new Set(Object.keys(t).filter((e=>!1===t[e])));if(n.size!==r.size)return!1;let i=!0;return n.forEach((e=>{r.has(e)||(i=!1)})),i})(a,o)),[a,o]),A=i.useMemo((()=>{switch(d){case"asc":return[...r].sort(((e,t)=>jG.compare(e.headerName||e.field,t.headerName||t.field)));case"desc":return[...r].sort(((e,t)=>-jG.compare(e.headerName||e.field,t.headerName||t.field)));default:return r}}),[r,d]),x=e=>{const{name:n}=e.target;t.current.setColumnVisibility(n,!1===a[n])},w=i.useMemo((()=>{const e=v?v(A):null,t=e?A.filter((t=>{let{field:n}=t;return e.includes(n)})):A;return l?t.filter((e=>h(e,l.toLowerCase()))):t}),[A,l,h,v]),C=i.useCallback((e=>{const n=Yp({},iM(t)),i=v?v(r):null;return("filteredOnly"===g?w:r).forEach((t=>{t.hideable&&(null==i||i.includes(t.field))&&(e?delete n[t.field]:n[t.field]=!1)})),t.current.setColumnVisibilityModel(n)}),[t,r,v,g,w]),E=i.useCallback((e=>{c(e.target.value)}),[]),S=i.useMemo((()=>w.filter((e=>e.hideable))),[w]),_=i.useMemo((()=>S.every((e=>null==a[e.field]||!1!==a[e.field]))),[a,S]),M=i.useMemo((()=>S.every((e=>!1===a[e.field]))),[a,S]),I=i.useRef(null);i.useEffect((()=>{p?n.current.focus():I.current&&"function"===typeof I.current.focus&&I.current.focus()}),[p]);let T=!1;const R=e=>!1===T&&!1!==e.hideable&&(T=!0,!0),k=i.useCallback((()=>{c(""),n.current.focus()}),[]);return(0,Ty.jsxs)(i.Fragment,{children:[(0,Ty.jsx)(zG,{className:u.header,ownerState:s,children:(0,Ty.jsx)(HG,Yp({as:s.slots.baseTextField,ownerState:s,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:u.searchInput,value:l,onChange:E,variant:"outlined",size:"small",type:"search",InputProps:{startAdornment:(0,Ty.jsx)(s.slots.baseInputAdornment,{position:"start",children:(0,Ty.jsx)(s.slots.quickFilterIcon,{})}),endAdornment:(0,Ty.jsx)(s.slots.baseIconButton,Yp({"aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),size:"small",sx:[l?{visibility:"visible"}:{visibility:"hidden"}],tabIndex:-1,onClick:k},s.slotProps?.baseIconButton,{children:(0,Ty.jsx)(s.slots.quickFilterClearIcon,{fontSize:"small"})}))},inputProps:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")},autoComplete:"off",fullWidth:!0},s.slotProps?.baseTextField,y))}),(0,Ty.jsxs)(UG,{className:u.root,ownerState:s,children:[w.map((e=>(0,Ty.jsx)(NG,{className:u.row,control:(0,Ty.jsx)(s.slots.baseCheckbox,Yp({disabled:!1===e.hideable,checked:!1!==a[e.field],onClick:x,name:e.field,sx:{p:.5},inputRef:R(e)?I:void 0},s.slotProps?.baseCheckbox)),label:e.headerName||e.field},e.field))),0===w.length&&(0,Ty.jsx)(GG,{ownerState:s,children:t.current.getLocaleText("columnsManagementNoColumns")})]}),f&&m||!(w.length>0)?null:(0,Ty.jsxs)(VG,{ownerState:s,className:u.footer,children:[f?(0,Ty.jsx)("span",{}):(0,Ty.jsx)(NG,{control:(0,Ty.jsx)(s.slots.baseCheckbox,Yp({disabled:0===S.length,checked:_,indeterminate:!_&&!M,onClick:()=>C(!_),name:t.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},s.slotProps?.baseCheckbox)),label:t.current.getLocaleText("columnsManagementShowHideAllText")}),m?null:(0,Ty.jsx)(s.slots.baseButton,Yp({onClick:()=>t.current.setColumnVisibilityModel(o),disabled:b},s.slotProps?.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]})]})},panel:XG,row:ZG});function cq(e){return i.useMemo((()=>function(e){if(e.slotProps?.root)return e;const t=Object.keys(e);if(!t.some((e=>e.startsWith("aria-")||e.startsWith("data-"))))return e;const n={},r=e.forwardedProps??{};for(let i=0;i<t.length;i+=1){const o=t[i];o.startsWith("aria-")||o.startsWith("data-")?r[o]=e[o]:n[o]=e[o]}return n.forwardedProps=r,n}(e)),[e])}const uq={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",unstable_listView:!1},dq=lq,hq=e=>{const t=cq(vH({props:e,name:"MuiDataGrid"})),n=i.useMemo((()=>Yp({},yH,t.localeText)),[t.localeText]),r=i.useMemo((()=>function(e){let{defaultSlots:t,slots:n}=e;const r=n;if(!r||0===Object.keys(r).length)return t;const i=Yp({},t);return Object.keys(r).forEach((e=>{const t=e;void 0!==r[t]&&(i[t]=r[t])})),i}({defaultSlots:dq,slots:t.slots})),[t.slots]),o=i.useMemo((()=>Object.keys(Tz).reduce(((e,n)=>(e[n]=t[n]??Tz[n],e)),{})),[t]);return i.useMemo((()=>Yp({},t,o,{localeText:n,slots:r},uq)),[t,n,r,o])},pq={hooks:{useGridAriaAttributes:()=>{const e=NO(),t=qC(),n=cE(e,oM),r=cE(e,JM),i=cE(e,HN),o=cE(e,SM);return{role:"grid","aria-colcount":n.length,"aria-rowcount":i+1+o+r,"aria-multiselectable":Qj(t)}},useGridRowAriaAttributes:()=>{const e=NO(),t=cE(e,wF),n=cE(e,HN);return i.useCallback(((r,i)=>{const o={},a=i+n+2;return o["aria-rowindex"]=a,e.current.isRowSelectable(r.id)&&(o["aria-selected"]=void 0!==t[r.id]),o}),[e,t,n])}}},fq=HC((function(e,t){const n=hq(e),r=gH(n.apiRef,n);return(0,Ty.jsx)($j,{privateApiRef:r,configuration:pq,props:n,children:(0,Ty.jsx)(Vj,Yp({className:n.className,style:n.style,sx:n.sx},n.forwardedProps,n.slotProps?.root,{ref:t}))})})),mq=i.memo(fq);fq.propTypes={apiRef:OO().shape({current:OO().object.isRequired}),"aria-label":OO().string,"aria-labelledby":OO().string,autoHeight:OO().bool,autoPageSize:OO().bool,autosizeOnMount:OO().bool,autosizeOptions:OO().shape({columns:OO().arrayOf(OO().string),disableColumnVirtualization:OO().bool,expand:OO().bool,includeHeaders:OO().bool,includeOutliers:OO().bool,outliersFactor:OO().number}),cellModesModel:OO().object,checkboxSelection:OO().bool,classes:OO().object,clipboardCopyCellDelimiter:OO().string,columnBufferPx:OO().number,columnGroupHeaderHeight:OO().number,columnGroupingModel:OO().arrayOf(OO().object),columnHeaderHeight:OO().number,columns:OO().arrayOf(OO().object).isRequired,columnVisibilityModel:OO().object,density:OO().oneOf(["comfortable","compact","standard"]),disableAutosize:OO().bool,disableColumnFilter:OO().bool,disableColumnMenu:OO().bool,disableColumnResize:OO().bool,disableColumnSelector:OO().bool,disableColumnSorting:OO().bool,disableDensitySelector:OO().bool,disableEval:OO().bool,disableMultipleRowSelection:OO().bool,disableRowSelectionOnClick:OO().bool,disableVirtualization:OO().bool,editMode:OO().oneOf(["cell","row"]),estimatedRowCount:OO().number,experimentalFeatures:OO().shape({warnIfFocusStateIsNotSynced:OO().bool}),filterDebounceMs:OO().number,filterMode:OO().oneOf(["client","server"]),filterModel:OO().shape({items:OO().arrayOf(OO().shape({field:OO().string.isRequired,id:OO().oneOfType([OO().number,OO().string]),operator:OO().string.isRequired,value:OO().any})).isRequired,logicOperator:OO().oneOf(["and","or"]),quickFilterExcludeHiddenColumns:OO().bool,quickFilterLogicOperator:OO().oneOf(["and","or"]),quickFilterValues:OO().array}),forwardedProps:OO().object,getCellClassName:OO().func,getDetailPanelContent:OO().func,getEstimatedRowHeight:OO().func,getRowClassName:OO().func,getRowHeight:OO().func,getRowId:OO().func,getRowSpacing:OO().func,hideFooter:OO().bool,hideFooterPagination:OO().bool,hideFooterSelectedRowCount:OO().bool,ignoreDiacritics:OO().bool,ignoreValueFormatterDuringExport:OO().oneOfType([OO().shape({clipboardExport:OO().bool,csvExport:OO().bool}),OO().bool]),indeterminateCheckboxAction:OO().oneOf(["deselect","select"]),initialState:OO().object,isCellEditable:OO().func,isRowSelectable:OO().func,keepNonExistentRowsSelected:OO().bool,loading:OO().bool,localeText:OO().object,logger:OO().shape({debug:OO().func.isRequired,error:OO().func.isRequired,info:OO().func.isRequired,warn:OO().func.isRequired}),logLevel:OO().oneOf(["debug","error","info","warn",!1]),nonce:OO().string,onCellClick:OO().func,onCellDoubleClick:OO().func,onCellEditStart:OO().func,onCellEditStop:OO().func,onCellKeyDown:OO().func,onCellModesModelChange:OO().func,onClipboardCopy:OO().func,onColumnHeaderClick:OO().func,onColumnHeaderContextMenu:OO().func,onColumnHeaderDoubleClick:OO().func,onColumnHeaderEnter:OO().func,onColumnHeaderLeave:OO().func,onColumnHeaderOut:OO().func,onColumnHeaderOver:OO().func,onColumnOrderChange:OO().func,onColumnResize:OO().func,onColumnVisibilityModelChange:OO().func,onColumnWidthChange:OO().func,onDensityChange:OO().func,onFilterModelChange:OO().func,onMenuClose:OO().func,onMenuOpen:OO().func,onPaginationMetaChange:OO().func,onPaginationModelChange:OO().func,onPreferencePanelClose:OO().func,onPreferencePanelOpen:OO().func,onProcessRowUpdateError:OO().func,onResize:OO().func,onRowClick:OO().func,onRowCountChange:OO().func,onRowDoubleClick:OO().func,onRowEditStart:OO().func,onRowEditStop:OO().func,onRowModesModelChange:OO().func,onRowSelectionModelChange:OO().func,onSortModelChange:OO().func,onStateChange:OO().func,pageSizeOptions:OO().arrayOf(OO().oneOfType([OO().number,OO().shape({label:OO().string.isRequired,value:OO().number.isRequired})]).isRequired),pagination:OO().oneOf([!0]),paginationMeta:OO().shape({hasNextPage:OO().bool}),paginationMode:OO().oneOf(["client","server"]),paginationModel:OO().shape({page:OO().number.isRequired,pageSize:OO().number.isRequired}),processRowUpdate:OO().func,resetPageOnSortFilter:OO().bool,resizeThrottleMs:OO().number,rowBufferPx:OO().number,rowCount:OO().number,rowHeight:OO().number,rowModesModel:OO().object,rowPositionsDebounceMs:OO().number,rows:OO().arrayOf(OO().object),rowSelection:OO().bool,rowSelectionModel:OO().oneOfType([OO().arrayOf(OO().oneOfType([OO().number,OO().string]).isRequired),OO().number,OO().string]),rowSpacingType:OO().oneOf(["border","margin"]),scrollbarSize:OO().number,showCellVerticalBorder:OO().bool,showColumnVerticalBorder:OO().bool,slotProps:OO().object,slots:OO().object,sortingMode:OO().oneOf(["client","server"]),sortingOrder:OO().arrayOf(OO().oneOf(["asc","desc"])),sortModel:OO().arrayOf(OO().shape({field:OO().string.isRequired,sort:OO().oneOf(["asc","desc"])})),sx:OO().oneOfType([OO().arrayOf(OO().oneOfType([OO().func,OO().object,OO().bool])),OO().func,OO().object]),unstable_rowSpanning:OO().bool,virtualizeColumnsWithAutoRowHeight:OO().bool};const gq=()=>{const e=Ey(),[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(""),[a,s]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null),[f,m]=(0,i.useState)(!1),[g,v]=(0,i.useState)({}),y={recipe:["id","part_id","recipe_name","ingredient_count","source_level","base_input","base_production_type","produced_in_automated","produced_in_manual","base_demand_pm","base_supply_pm","byproduct","byproduct_supply_pm"],alternate_recipe:["id","part_id","recipe_id","selected"],node_purity:["id","node_purity"],machine_level:["id","machine_level"],miner_supply:["id","node_purity_id","machine_level_id","base_supply_pm"],power_shards:["id","quantity","output_increase"],user:["id","role","username","email","password","is_verified"],part:["id","part_name","level","category"],data_validation:["id","table_name","column_name","value","description"]},b=a.map(((e,t)=>({id:t,...e}))),A=l.map((e=>({field:e,headerName:e.replace(/_/g," ").toUpperCase(),flex:1})));(0,i.useEffect)((()=>{(async()=>{try{const e=await dO.get(UC.tables);n(e.data.tables)}catch(e){console.error("Error fetching table names:",e)}})()}),[]);const x=async e=>{try{const t=await dO.get(`${UC.tables}/${e}`);s(t.data.rows);const n=y[e]||Object.keys(t.data.rows[0]||{});c(n)}catch(t){console.error(`Error fetching data for table ${e}:`,t)}},w=()=>{d(!1),p(null)},C=()=>{m(!1),v({})};return(0,Ty.jsx)(pk,{sx:{display:"flex",height:"100vh",Width:"100%"},children:(0,Ty.jsxs)(pk,{sx:{flex:4,padding:e.spacing(2),background:e.palette.background,color:e.palette.text.primary,width:"100%",maxWidth:"100vw",display:"flex",flexDirection:"column"},children:[(0,Ty.jsx)(Tk,{variant:"h1",gutterBottom:!0,children:"Data Management Page"}),(0,Ty.jsxs)(pk,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:e.spacing(2),padding:e.spacing(2),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background,flexWrap:"wrap"},children:[(0,Ty.jsxs)(pk,{sx:{display:"flex",flexDirection:"column",minWidth:"200px"},children:[(0,Ty.jsx)("label",{style:{marginBottom:e.spacing(.5)},children:"Select Table:"}),(0,Ty.jsxs)("select",{value:r,onChange:e=>(e=>{const t=e.target.value;o(t),t&&x(t)})(e),children:[(0,Ty.jsx)("option",{value:"",children:"-- Select a Table --"}),t.map((e=>(0,Ty.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ty.jsx)(IO,{variant:"contained",onClick:()=>{const e=l.reduce(((e,t)=>(e[t]="",e)),{});v(e),m(!0)},disabled:!r,sx:{height:"fit-content",whiteSpace:"nowrap"},children:"Create New Row"})]}),r&&(0,Ty.jsx)(pk,{sx:{height:"calc(100vh - 200px)",width:"100%",minWidth:0},children:(0,Ty.jsx)(mq,{density:"compact",rows:b,columns:[...A,{field:"actions",headerName:"Actions",flex:1,renderCell:t=>(0,Ty.jsxs)(pk,{sx:{display:"flex",gap:e.spacing(2)},children:[(0,Ty.jsx)(IO,{variant:"contained",onClick:()=>{return e=t.row,p(e),void d(!0);var e},children:"Edit"}),(0,Ty.jsx)(IO,{variant:"contained",color:"error",onClick:()=>(async e=>{try{const t=`${UC.tables}/${r}/${e}`;console.log(`Calling DELETE on URL: ${t}`);const n=await dO.delete(t);console.log("DELETE response:",n.data),alert("Row deleted successfully!"),x(r)}catch(t){console.error("Error deleting row:",t,t.response)}})(t.row.id),children:"Delete"})]})}]})}),u&&h&&(0,Ty.jsx)(PO,{row:h,columns:A.map((e=>e.field)),onSave:async e=>{try{console.log(`Calling PUT on URL: ${UC.tables}/${r}/${e.id}`),await dO.put(`${UC.tables}/${r}/${e.id}`,e),alert("Row updated successfully!"),x(r),w()}catch(t){console.error("Error updating row:",t)}},onClose:w,isCreateModalOpen:f,tableName:r}),f&&(0,Ty.jsx)(PO,{row:g,columns:A.map((e=>e.field)),onSave:async e=>{try{await dO.post(`${UC.tables}/${r}`,e),alert("Row created successfully!"),x(r),C()}catch(t){console.error("Error creating new row:",t)}},onClose:C,isCreateModalOpen:f,tableName:r})]})})};function vq(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function yq(e,t){var n,r,i,o,a,s=new wq(e),l=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=bq);n=c.pop();)if(l&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new wq(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(xq)}function bq(e){return e.children}function Aq(e){e.data=e.data.data}function xq(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function wq(e){this.data=e,this.depth=this.height=0,this.parent=null}function Cq(e,t){return e.parent===t.parent?1:2}function Eq(e){var t=e.children;return t?t[0]:e.t}function Sq(e){var t=e.children;return t?t[t.length-1]:e.t}function _q(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Mq(e,t,n){return e.a.parent===t.parent?e.a:n}function Iq(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Tq(){var e=Cq,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,o,a=new Iq(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new Iq(r[i],i)),n.parent=t;return(a.parent=new Iq(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var c=i,u=i,d=i;i.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)}));var h=c===u?1:e(c,u)/2,p=h-c.x,f=t/(u.x+h+p),m=n/(d.depth||1);i.eachBefore((function(e){e.x=(e.x+p)*f,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,l=o.parent.children[0],c=o.m,u=a.m,d=s.m,h=l.m;s=Sq(s),o=Eq(o),s&&o;)l=Eq(l),(a=Sq(a)).a=t,(i=s.z+d-o.z-c+e(s._,o._))>0&&(_q(Mq(s,t,r),t,i),c+=i,u+=i),d+=s.m,c+=o.m,h+=l.m,u+=a.m;s&&!Sq(a)&&(a.t=s,a.m+=d-u),o&&!Eq(l)&&(l.t=o,l.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function Rq(){}function kq(e){return null==e?Rq:function(){return this.querySelector(e)}}function Pq(){return[]}function Bq(e){return null==e?Pq:function(){return this.querySelectorAll(e)}}function Oq(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function Lq(e){return function(){return this.matches(e)}}function Dq(e){return function(t){return t.matches(e)}}wq.prototype=yq.prototype={constructor:wq,count:function(){return this.eachAfter(vq)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return yq(this).eachBefore(Aq)}},Iq.prototype=Object.create(wq.prototype);var Nq=Array.prototype.find;function Fq(){return this.firstElementChild}var jq=Array.prototype.filter;function Uq(){return Array.from(this.children)}function zq(e){return new Array(e.length)}function Hq(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Vq(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Hq(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Gq(e,t,n,r,i,o,a){var s,l,c,u=new Map,d=t.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(e,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new Hq(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function Qq(e){return e.__data__}function Wq(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function qq(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Hq.prototype={constructor:Hq,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var $q="http://www.w3.org/1999/xhtml";const Xq={svg:"http://www.w3.org/2000/svg",xhtml:$q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Kq(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Xq.hasOwnProperty(t)?{space:Xq[t],local:e}:e}function Yq(e){return function(){this.removeAttribute(e)}}function Jq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zq(e,t){return function(){this.setAttribute(e,t)}}function e$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function t$(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function n$(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function r$(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function i$(e){return function(){this.style.removeProperty(e)}}function o$(e,t,n){return function(){this.style.setProperty(e,t,n)}}function a$(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function s$(e,t){return e.style.getPropertyValue(t)||r$(e).getComputedStyle(e,null).getPropertyValue(t)}function l$(e){return function(){delete this[e]}}function c$(e,t){return function(){this[e]=t}}function u$(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function d$(e){return e.trim().split(/^|\s+/)}function h$(e){return e.classList||new p$(e)}function p$(e){this._node=e,this._names=d$(e.getAttribute("class")||"")}function f$(e,t){for(var n=h$(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function m$(e,t){for(var n=h$(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function g$(e){return function(){f$(this,e)}}function v$(e){return function(){m$(this,e)}}function y$(e,t){return function(){(t.apply(this,arguments)?f$:m$)(this,e)}}function b$(){this.textContent=""}function A$(e){return function(){this.textContent=e}}function x$(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function w$(){this.innerHTML=""}function C$(e){return function(){this.innerHTML=e}}function E$(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function S$(){this.nextSibling&&this.parentNode.appendChild(this)}function _$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function M$(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===$q&&t.documentElement.namespaceURI===$q?t.createElement(e):t.createElementNS(n,e)}}function I$(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function T$(e){var t=Kq(e);return(t.local?I$:M$)(t)}function R$(){return null}function k$(){var e=this.parentNode;e&&e.removeChild(this)}function P$(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function B$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function O$(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function L$(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function D$(e,t,n){var r=r$(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function N$(e,t){return function(){return D$(this,e,t)}}function F$(e,t){return function(){return D$(this,e,t.apply(this,arguments))}}p$.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var j$=[null];function U$(e,t){this._groups=e,this._parents=t}function z$(){return new U$([[document.documentElement]],j$)}U$.prototype=z$.prototype={constructor:U$,select:function(e){"function"!==typeof e&&(e=kq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new U$(r,this._parents)},selectAll:function(e){e="function"===typeof e?Oq(e):Bq(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new U$(r,i)},selectChild:function(e){return this.select(null==e?Fq:function(e){return function(){return Nq.call(this.children,e)}}("function"===typeof e?e:Dq(e)))},selectChildren:function(e){return this.selectAll(null==e?Uq:function(e){return function(){return jq.call(this.children,e)}}("function"===typeof e?e:Dq(e)))},filter:function(e){"function"!==typeof e&&(e=Lq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new U$(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Qq);var n=t?Gq:Vq,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],h=d.length,p=Wq(e.call(u,u&&u.__data__,c,r)),f=p.length,m=s[c]=new Array(f),g=a[c]=new Array(f);n(u,d,m,g,l[c]=new Array(h),p,t);for(var v,y,b=0,A=0;b<f;++b)if(v=m[b]){for(b>=A&&(A=b+1);!(y=g[A])&&++A<f;);v._next=y||null}}return(a=new U$(a,r))._enter=s,a._exit=l,a},enter:function(){return new U$(this._enter||this._groups.map(zq),this._parents)},exit:function(){return new U$(this._exit||this._groups.map(zq),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],d=r[l],h=u.length,p=s[l]=new Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;l<i;++l)s[l]=n[l];return new U$(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=qq);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new U$(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=Kq(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Jq:Yq:"function"===typeof t?n.local?n$:t$:n.local?e$:Zq)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?i$:"function"===typeof t?a$:o$)(e,t,null==n?"":n)):s$(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?l$:"function"===typeof t?u$:c$)(e,t)):this.node()[e]},classed:function(e,t){var n=d$(e+"");if(arguments.length<2){for(var r=h$(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?y$:t?g$:v$)(n,t))},text:function(e){return arguments.length?this.each(null==e?b$:("function"===typeof e?x$:A$)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?w$:("function"===typeof e?E$:C$)(e)):this.node().innerHTML},raise:function(){return this.each(S$)},lower:function(){return this.each(_$)},append:function(e){var t="function"===typeof e?e:T$(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:T$(e),r=null==t?R$:"function"===typeof t?t:kq(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(k$)},clone:function(e){return this.select(e?B$:P$)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?L$:O$,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?F$:N$)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const H$=z$;function V$(e){return"string"===typeof e?new U$([[document.querySelector(e)]],[document.documentElement]):new U$([[e]],j$)}var G$={value:function(){}};function Q$(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new W$(r)}function W$(e){this._=e}function q$(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function $$(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=G$,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}W$.prototype=Q$.prototype={constructor:W$,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=$$(i[n],e.name,t);else if(null==t)for(n in i)i[n]=$$(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=q$(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new W$(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const X$=Q$,K$={capture:!0,passive:!1};function Y$(e){e.preventDefault(),e.stopImmediatePropagation()}var J$=Math.SQRT2;function Z$(e){return((e=Math.exp(e))+1/e)/2}function eX(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],c=t[2],u=s-i,d=l-o,h=u*u+d*d;if(h<1e-12)r=Math.log(c/a)/J$,n=function(e){return[i+e*u,o+e*d,a*Math.exp(J$*e*r)]};else{var p=Math.sqrt(h),f=(c*c-a*a+4*h)/(2*a*2*p),m=(c*c-a*a-4*h)/(2*c*2*p),g=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/J$,n=function(e){var t=e*r,n=Z$(g),s=a/(2*p)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(J$*t+g)-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+s*u,o+s*d,a*n/Z$(J$*t+g)]}}return n.duration=1e3*r,n}function tX(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var nX,rX,iX=0,oX=0,aX=0,sX=0,lX=0,cX=0,uX="object"===typeof performance&&performance.now?performance:Date,dX="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hX(){return lX||(dX(pX),lX=uX.now()+cX)}function pX(){lX=0}function fX(){this._call=this._time=this._next=null}function mX(e,t,n){var r=new fX;return r.restart(e,t,n),r}function gX(){lX=(sX=uX.now())+cX,iX=oX=0;try{!function(){hX(),++iX;for(var e,t=nX;t;)(e=lX-t._time)>=0&&t._call.call(null,e),t=t._next;--iX}()}finally{iX=0,function(){var e,t,n=nX,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:nX=t);rX=e,yX(r)}(),lX=0}}function vX(){var e=uX.now(),t=e-sX;t>1e3&&(cX-=t,sX=e)}function yX(e){iX||(oX&&(oX=clearTimeout(oX)),e-lX>24?(e<1/0&&(oX=setTimeout(gX,e-uX.now()-cX)),aX&&(aX=clearInterval(aX))):(aX||(sX=uX.now(),aX=setInterval(vX,1e3)),iX=1,dX(gX)))}function bX(e,t,n){var r=new fX;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}fX.prototype=mX.prototype={constructor:fX,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?hX():+n)+(null==t?0:+t),this._next||rX===this||(rX?rX._next=this:nX=this,rX=this),this._call=e,this._time=n,yX()},stop:function(){this._call&&(this._call=null,this._time=1/0,yX())}};var AX=X$("start","end","cancel","interrupt"),xX=[];function wX(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var c,u,d,h;if(1!==n.state)return l();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return bX(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(bX((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=mX(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:AX,tween:xX,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function CX(e,t){var n=SX(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function EX(e,t){var n=SX(e,t);if(n.state>3)throw new Error("too late; already running");return n}function SX(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function _X(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}function MX(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var IX,TX,RX,kX,PX=180/Math.PI,BX={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function OX(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*PX,skewX:Math.atan(l)*PX,scaleX:a,scaleY:s}}function LX(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:MX(e,i)},{i:l-2,x:MX(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:MX(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:MX(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:MX(e,n)},{i:s-2,x:MX(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var DX=LX((function(e){return"none"===e?BX:(IX||(IX=document.createElement("DIV"),TX=document.documentElement,RX=document.defaultView),IX.style.transform=e,e=RX.getComputedStyle(TX.appendChild(IX),null).getPropertyValue("transform"),TX.removeChild(IX),OX(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),NX=LX((function(e){return null==e?BX:(kX||(kX=document.createElementNS("http://www.w3.org/2000/svg","g")),kX.setAttribute("transform",e),(e=kX.transform.baseVal.consolidate())?OX((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):BX)}),", ",")",")");function FX(e,t){var n,r;return function(){var i=EX(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function jX(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=EX(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function UX(e,t,n){var r=e._id;return e.each((function(){var e=EX(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return SX(e,r).value[t]}}function zX(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HX(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function VX(){}var GX=.7,QX=1/GX,WX="\\s*([+-]?\\d+)\\s*",qX="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$X="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XX=/^#([0-9a-f]{3,8})$/,KX=new RegExp("^rgb\\("+[WX,WX,WX]+"\\)$"),YX=new RegExp("^rgb\\("+[$X,$X,$X]+"\\)$"),JX=new RegExp("^rgba\\("+[WX,WX,WX,qX]+"\\)$"),ZX=new RegExp("^rgba\\("+[$X,$X,$X,qX]+"\\)$"),eK=new RegExp("^hsl\\("+[qX,$X,$X]+"\\)$"),tK=new RegExp("^hsla\\("+[qX,$X,$X,qX]+"\\)$"),nK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rK(){return this.rgb().formatHex()}function iK(){return this.rgb().formatRgb()}function oK(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?aK(t):3===n?new cK(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?sK(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?sK(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=KX.exec(e))?new cK(t[1],t[2],t[3],1):(t=YX.exec(e))?new cK(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=JX.exec(e))?sK(t[1],t[2],t[3],t[4]):(t=ZX.exec(e))?sK(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eK.exec(e))?pK(t[1],t[2]/100,t[3]/100,1):(t=tK.exec(e))?pK(t[1],t[2]/100,t[3]/100,t[4]):nK.hasOwnProperty(e)?aK(nK[e]):"transparent"===e?new cK(NaN,NaN,NaN,0):null}function aK(e){return new cK(e>>16&255,e>>8&255,255&e,1)}function sK(e,t,n,r){return r<=0&&(e=t=n=NaN),new cK(e,t,n,r)}function lK(e,t,n,r){return 1===arguments.length?function(e){return e instanceof VX||(e=oK(e)),e?new cK((e=e.rgb()).r,e.g,e.b,e.opacity):new cK}(e):new cK(e,t,n,null==r?1:r)}function cK(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function uK(){return"#"+hK(this.r)+hK(this.g)+hK(this.b)}function dK(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hK(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function pK(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mK(e,t,n,r)}function fK(e){if(e instanceof mK)return new mK(e.h,e.s,e.l,e.opacity);if(e instanceof VX||(e=oK(e)),!e)return new mK;if(e instanceof mK)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new mK(a,s,l,e.opacity)}function mK(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function gK(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function vK(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function yK(e){return function(){return e}}function bK(e,t){return function(n){return e+n*t}}function AK(e){return 1===(e=+e)?xK:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):yK(isNaN(t)?n:t)}}function xK(e,t){var n=t-e;return n?bK(e,n):yK(isNaN(e)?t:e)}zX(VX,oK,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:rK,formatHex:rK,formatHsl:function(){return fK(this).formatHsl()},formatRgb:iK,toString:iK}),zX(cK,lK,HX(VX,{brighter:function(e){return e=null==e?QX:Math.pow(QX,e),new cK(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?GX:Math.pow(GX,e),new cK(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uK,formatHex:uK,formatRgb:dK,toString:dK})),zX(mK,(function(e,t,n,r){return 1===arguments.length?fK(e):new mK(e,t,n,null==r?1:r)}),HX(VX,{brighter:function(e){return e=null==e?QX:Math.pow(QX,e),new mK(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?GX:Math.pow(GX,e),new mK(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new cK(gK(e>=240?e-240:e+120,i,r),gK(e,i,r),gK(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const wK=function e(t){var n=AK(t);function r(e,t){var r=n((e=lK(e)).r,(t=lK(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=xK(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function CK(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=lK(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}CK((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return vK((n-r/t)*t,a,i,o,s)}})),CK((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return vK((n-r/t)*t,i,o,a,s)}}));var EK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SK=new RegExp(EK.source,"g");function _K(e,t){var n,r,i,o=EK.lastIndex=SK.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=EK.exec(e))&&(r=SK.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:MX(n,r)})),o=SK.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function MK(e,t){var n;return("number"===typeof t?MX:t instanceof oK?wK:(n=oK(t))?(t=n,wK):_K)(e,t)}function IK(e){return function(){this.removeAttribute(e)}}function TK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RK(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function kK(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function PK(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function BK(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function OK(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function LK(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function DK(e,t){return function(){CX(this,e).delay=+t.apply(this,arguments)}}function NK(e,t){return t=+t,function(){CX(this,e).delay=t}}function FK(e,t){return function(){EX(this,e).duration=+t.apply(this,arguments)}}function jK(e,t){return t=+t,function(){EX(this,e).duration=t}}var UK=H$.prototype.constructor;function zK(e){return function(){this.style.removeProperty(e)}}var HK=0;function VK(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function GK(){return++HK}var QK=H$.prototype;VK.prototype=function(e){return H$().transition(e)}.prototype={constructor:VK,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=kq(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=e.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,wX(d[h],t,n,h,d,SX(s,n)));return new VK(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Bq(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=e.call(l,l.__data__,d,c),f=SX(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&wX(h,t,n,m,p,f);o.push(p),a.push(l)}return new VK(o,a,t,n)},selectChild:QK.selectChild,selectChildren:QK.selectChildren,filter:function(e){"function"!==typeof e&&(e=Lq(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new VK(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<r;++s)a[s]=t[s];return new VK(a,this._parents,this._name,this._id)},selection:function(){return new UK(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=GK(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=SX(a,t);wX(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new VK(r,this._parents,e,n)},call:QK.call,nodes:QK.nodes,node:QK.node,size:QK.size,empty:QK.empty,each:QK.each,on:function(e,t){var n=this._id;return arguments.length<2?SX(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?CX:EX;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=Kq(e),r="transform"===n?NX:MK;return this.attrTween(e,"function"===typeof t?(n.local?BK:PK)(n,r,UX(this,"attr."+e,t)):null==t?(n.local?TK:IK)(n):(n.local?kK:RK)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Kq(e);return this.tween(n,(r.local?OK:LK)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?DX:MK;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=s$(this,e),a=(this.style.removeProperty(e),s$(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,zK(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=s$(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=s$(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,UX(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=EX(this,e),c=l.on,u=null==l.value[a]?o||(o=zK(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=s$(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(UX(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=SX(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?FX:jX)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?DK:NK)(t,e)):SX(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?FK:jK)(t,e)):SX(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){EX(this,e).ease=t}}(t,e)):SX(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;EX(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--i&&o()}};n.each((function(){var n=EX(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:QK[Symbol.iterator]};var WK={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function qK(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}H$.prototype.interrupt=function(e){return this.each((function(){_X(this,e)}))},H$.prototype.transition=function(e){var t,n;e instanceof VK?(t=e._id,e=e._name):(t=GK(),(n=WK).time=hX(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&wX(a,e,t,c,s,n||qK(a,t));return new VK(r,this._parents,e,t)};const $K=e=>()=>e;function XK(e,t){let{sourceEvent:n,target:r,transform:i,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function KK(e,t,n){this.k=e,this.x=t,this.y=n}KK.prototype={constructor:KK,scale:function(e){return 1===e?this:new KK(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new KK(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var YK=new KK(1,0,0);function JK(e){e.stopImmediatePropagation()}function ZK(e){e.preventDefault(),e.stopImmediatePropagation()}function eY(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function tY(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function nY(){return this.__zoom||YK}function rY(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function iY(){return navigator.maxTouchPoints||"ontouchstart"in this}function oY(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function aY(){var e,t,n,r=eY,i=tY,o=oY,a=rY,s=iY,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=eX,h=X$("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",nY).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",_).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new KK(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new KK(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",(function(){A(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){A(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,a=A(e,o).event(r),s=i.apply(e,o),l=null==n?y(s):"function"===typeof n?n.apply(e,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,h="function"===typeof t?t.apply(e,o):t,p=d(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new KK(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function A(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=A(this,n).event(e),u=this.__zoom,d=Math.max(l[0],Math.min(l[1],u.k*Math.pow(2,a.apply(this,arguments)))),h=tX(e);if(s.wheel)s.mouse[0][0]===h[0]&&s.mouse[0][1]===h[1]||(s.mouse[1]=u.invert(s.mouse[0]=h)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[h,u.invert(h)],_X(this),s.start()}ZK(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",o(v(g(u,d),s.mouse[0],s.mouse[1]),s.extent,c))}}function C(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=A(this,i,!0).event(e),u=V$(e.view).on("mousemove.zoom",(function(e){if(ZK(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",o(v(l.that.__zoom,l.mouse[0]=tX(e,s),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),function(e,t){var n=e.document.documentElement,r=V$(e).on("dragstart.drag",null);t&&(r.on("click.drag",Y$,K$),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,l.moved),ZK(e),l.event(e).end()}),!0),d=tX(e,s),h=e.clientX,f=e.clientY;!function(e){var t=e.document.documentElement,n=V$(e).on("dragstart.drag",Y$,K$);"onselectstart"in t?n.on("selectstart.drag",Y$,K$):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(e.view),JK(e),l.mouse=[d,this.__zoom.invert(d)],_X(this),l.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=this.__zoom,l=tX(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(l),h=s.k*(e.shiftKey?.5:2),p=o(v(g(s,h),l,d),i.apply(this,n),c);ZK(e),u>0?V$(this).transition().duration(u).call(b,p,l,e):V$(this).call(m.transform,p,l,e)}}function S(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(r.apply(this,arguments)){var s,l,c,u,d=n.touches,h=d.length,p=A(this,o,n.changedTouches.length===h).event(n);for(JK(n),l=0;l<h;++l)u=[u=tX(c=d[l],this),this.__zoom.invert(u),c.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),500)),_X(this),p.start())}}function _(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s,l,u=A(this,n).event(e),d=e.changedTouches,h=d.length;for(ZK(e),i=0;i<h;++i)s=tX(a=d[i],this),u.touch0&&u.touch0[2]===a.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===a.identifier&&(u.touch1[0]=s);if(a=u.that.__zoom,u.touch1){var p=u.touch0[0],f=u.touch0[1],m=u.touch1[0],y=u.touch1[1],b=(b=m[0]-p[0])*b+(b=m[1]-p[1])*b,x=(x=y[0]-f[0])*x+(x=y[1]-f[1])*x;a=g(a,Math.sqrt(b/x)),s=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+y[0])/2,(f[1]+y[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],l=u.touch0[1]}u.zoom("touch",o(v(a,s,l),u.extent,c))}}function M(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(this.__zooming){var a,s,l=A(this,i).event(e),c=e.changedTouches,u=c.length;for(JK(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),a=0;a<u;++a)s=c[a],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=tX(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<f)){var d=V$(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",nY),e!==i?b(e,t,n,r):i.interrupt().each((function(){A(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,a=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"===typeof t?t.apply(this,arguments):t;return o(v(g(r,l),a,s),e,c)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return o(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,(function(){var e=i.apply(this,arguments),a=this.__zoom,s=null==r?y(e):"function"===typeof r?r.apply(this,arguments):r;return o(YK.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=V$(this.that).datum();h.call(e,this.that,new XK(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:$K(+e),m):a},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:$K(!!e),m):r},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:$K(!!e),m):s},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:$K([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(o=e,m):o},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}KK.prototype;var sY=Object.prototype.hasOwnProperty;function lY(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&lY(e[r],t[r]););return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(sY.call(e,n)&&++r&&!sY.call(t,n))return!1;if(!(n in t)||!lY(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var cY,uY=n(224),dY=new Uint8Array(16);function hY(){if(!cY&&!(cY="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cY(dY)}const pY=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const fY=function(e){return"string"===typeof e&&pY.test(e)};for(var mY=[],gY=0;gY<256;++gY)mY.push((gY+256).toString(16).substr(1));const vY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(mY[e[t+0]]+mY[e[t+1]]+mY[e[t+2]]+mY[e[t+3]]+"-"+mY[e[t+4]]+mY[e[t+5]]+"-"+mY[e[t+6]]+mY[e[t+7]]+"-"+mY[e[t+8]]+mY[e[t+9]]+"-"+mY[e[t+10]]+mY[e[t+11]]+mY[e[t+12]]+mY[e[t+13]]+mY[e[t+14]]+mY[e[t+15]]).toLowerCase();if(!fY(n))throw TypeError("Stringified UUID is invalid");return n};const yY=function(e,t,n){var r=(e=e||{}).random||(e.rng||hY)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return vY(r)};var bY=n(1509);const AY=e=>e.enableLegacyTransitions?i.createElement(bY.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):i.createElement("g",{className:e.className,transform:e.transform},e.children),xY={textAnchor:"start",x:40},wY={x:40,dy:"1.2em"},CY=e=>{let{nodeDatum:t,toggleNode:n,onNodeClick:r,onNodeMouseOver:o,onNodeMouseOut:a}=e;return i.createElement(i.Fragment,null,i.createElement("circle",{r:15,onClick:e=>{n(),r(e)},onMouseOver:o,onMouseOut:a}),i.createElement("g",{className:"rd3t-label"},i.createElement("text",Object.assign({className:"rd3t-label__title"},xY),t.name),i.createElement("text",{className:"rd3t-label__attributes"},t.attributes&&Object.entries(t.attributes).map(((e,t)=>{let[n,r]=e;return i.createElement("tspan",Object.assign({key:`${n}-${t}`},wY),n,": ","boolean"===typeof r?r.toString():r)})))))};class EY extends i.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(e,t,n,r)=>t.subscriptions!==e.subscriptions||t.position.x!==e.position.x||t.position.y!==e.position.y||t.orientation!==e.orientation||r.wasClicked!==n.wasClicked,this.renderNodeElement=()=>{const{data:e,hierarchyPointNode:t,renderCustomNodeElement:n}=this.props;return("function"===typeof n?n:CY)({hierarchyPointNode:t,nodeDatum:e,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren})},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=e=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,e)},this.handleOnMouseOver=e=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,e)},this.handleOnMouseOut=e=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,e)},this.handleAddChildren=e=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,e)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(e,t){return this.shouldNodeTransform(this.props,e,this.state,t)}setTransform(e,t,n){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){const e=null!==t&&void 0!==t,r=e?t.x:0,i=e?t.y:0;return"horizontal"===n?`translate(${i},${r})`:`translate(${r},${i})`}return"horizontal"===n?`translate(${e.y},${e.x})`:`translate(${e.x},${e.y})`}applyTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};this.props.enableLegacyTransitions?V$(this.nodeRef).transition().duration(t).attr("transform",e).style("opacity",n).on("end",r):(V$(this.nodeRef).attr("transform",e).style("opacity",n),r())}commitTransform(){const{orientation:e,transitionDuration:t,position:n,parent:r}=this.props,i=this.setTransform(n,r,e);this.applyTransform(i,t)}componentWillLeave(e){const{orientation:t,transitionDuration:n,position:r,parent:i}=this.props,o=this.setTransform(r,i,t,!0);this.applyTransform(o,n,0,e)}render(){const{data:e,nodeClassName:t}=this.props;return i.createElement("g",{id:e.__rd3t.id,ref:e=>{this.nodeRef=e},style:this.state.initialStyle,className:[e.children&&e.children.length>0?"rd3t-node":"rd3t-leaf-node",t].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}}var SY=Math.PI,_Y=2*SY,MY=1e-6,IY=_Y-MY;function TY(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function RY(){return new TY}TY.prototype=RY.prototype={constructor:TY,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>MY)if(Math.abs(u*s-l*c)>MY&&i){var h=n-o,p=r-a,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),y=i*Math.tan((SY-Math.acos((f+d-m)/(2*g*v)))/2),b=y/v,A=y/g;Math.abs(b-1)>MY&&(this._+="L"+(e+b*c)+","+(t+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*p)+","+(this._x1=e+A*s)+","+(this._y1=t+A*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>MY||Math.abs(this._y1-c)>MY)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%_Y+_Y),d>IY?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>MY&&(this._+="A"+n+","+n+",0,"+ +(d>=SY)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const kY=RY;var PY=Array.prototype.slice;function BY(e){return function(){return e}}function OY(e){return e[0]}function LY(e){return e[1]}function DY(e){return e.source}function NY(e){return e.target}function FY(e){var t=DY,n=NY,r=OY,i=LY,o=null;function a(){var a,s=PY.call(arguments),l=t.apply(this,s),c=n.apply(this,s);if(o||(o=a=kY()),e(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"===typeof e?e:BY(+e),a):r},a.y=function(e){return arguments.length?(i="function"===typeof e?e:BY(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function jY(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function UY(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}class zY extends i.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=e=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOver=e=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,e)},this.handleOnMouseOut=e=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,e)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(e){this.applyOpacity(0,this.props.transitionDuration,e)}applyOpacity(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};this.props.enableLegacyTransitions?V$(this.linkRef).transition().duration(t).style("opacity",e).on("end",n):(V$(this.linkRef).style("opacity",e),n())}drawStepPath(e,t){const{source:n,target:r}=e,i=r.y-n.y;return"horizontal"===t?`M${n.y},${n.x} H${n.y+i/2} V${r.x} H${r.y}`:`M${n.x},${n.y} V${n.y+i/2} H${r.x} V${r.y}`}drawDiagonalPath(e,t){const{source:n,target:r}=e;return"horizontal"===t?FY(jY)({source:[n.y,n.x],target:[r.y,r.x]}):FY(UY)({source:[n.x,n.y],target:[r.x,r.y]})}drawStraightPath(e,t){const{source:n,target:r}=e;return"horizontal"===t?`M${n.y},${n.x}L${r.y},${r.x}`:`M${n.x},${n.y}L${r.x},${r.y}`}drawElbowPath(e,t){return"horizontal"===t?`M${e.source.y},${e.source.x}V${e.target.x}H${e.target.y}`:`M${e.source.x},${e.source.y}V${e.target.y}H${e.target.x}`}drawPath(){const{linkData:e,orientation:t,pathFunc:n}=this.props;return"function"===typeof n?n(e,t):"elbow"===n?this.drawElbowPath(e,t):"straight"===n?this.drawStraightPath(e,t):"step"===n?this.drawStepPath(e,t):this.drawDiagonalPath(e,t)}getClassNames(){const{linkData:e,orientation:t,pathClassFunc:n}=this.props,r=["rd3t-link"];return"function"===typeof n&&r.push(n(e,t)),r.join(" ").trim()}render(){const{linkData:e}=this.props;return i.createElement("path",{ref:e=>{this.linkRef=e},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":e.source.id,"data-target-id":e.target.id})}}class HY extends i.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:HY.assignInternalProperties(uY(this.props.data)),d3:HY.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${yY()}`,this.gInstanceRef=`rd3t-g-${yY()}`,this.handleNodeToggle=e=>{const t=uY(this.state.data),n=this.findNodesById(e,t,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(n.__rd3t.collapsed?(HY.expandNode(n),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(n,t)):HY.collapseNode(n),this.props.enableLegacyTransitions?(this.setState({data:t,isTransitioning:!0}),setTimeout((()=>this.setState({isTransitioning:!1})),this.props.transitionDuration+10)):this.setState({data:t}),this.internalState.targetNode=n)},this.handleAddChildrenToNode=(e,t)=>{const n=uY(this.state.data),r=this.findNodesById(e,n,[]);if(r.length>0){const e=r[0],i=e.__rd3t.depth,o=uY(t).map((e=>HY.assignInternalProperties([e],i+1)));e.children.push(...o.flat()),this.setState({data:n})}},this.handleOnNodeClickCb=(e,t)=>{const{onNodeClick:n}=this.props;n&&"function"===typeof n&&(t.persist(),n(uY(e),t))},this.handleOnLinkClickCb=(e,t,n)=>{const{onLinkClick:r}=this.props;r&&"function"===typeof r&&(n.persist(),r(uY(e),uY(t),n))},this.handleOnNodeMouseOverCb=(e,t)=>{const{onNodeMouseOver:n}=this.props;n&&"function"===typeof n&&(t.persist(),n(uY(e),t))},this.handleOnLinkMouseOverCb=(e,t,n)=>{const{onLinkMouseOver:r}=this.props;r&&"function"===typeof r&&(n.persist(),r(uY(e),uY(t),n))},this.handleOnNodeMouseOutCb=(e,t)=>{const{onNodeMouseOut:n}=this.props;n&&"function"===typeof n&&(t.persist(),n(uY(e),t))},this.handleOnLinkMouseOutCb=(e,t,n)=>{const{onLinkMouseOut:r}=this.props;r&&"function"===typeof r&&(n.persist(),r(uY(e),uY(t),n))},this.centerNode=e=>{const{dimensions:t,orientation:n,zoom:r,centeringTransitionDuration:i}=this.props;if(t){const o=V$(`.${this.gInstanceRef}`),a=V$(`.${this.svgInstanceRef}`),s=this.state.d3.scale;let l,c;"horizontal"===n?(c=-e.x*s+t.height/2,l=-e.y*s+t.width/2):(l=-e.x*s+t.width/2,c=-e.y*s+t.height/2),o.transition().duration(i).attr("transform","translate("+l+","+c+")scale("+s+")"),a.call(aY().transform,YK.translate(l,c).scale(r))}},this.getNodeClassName=(e,t)=>{const{rootNodeClassName:n,branchNodeClassName:r,leafNodeClassName:i}=this.props;return null!==e&&void 0!==e?t.children?r:i:n}}static getDerivedStateFromProps(e,t){let n=null;const r=!e.dataKey||t.dataKey!==e.dataKey;e.data!==t.dataRef&&r&&(n={dataRef:e.data,data:HY.assignInternalProperties(uY(e.data)),isInitialRenderForDataset:!0,dataKey:e.dataKey});const i=HY.calculateD3Geometry(e);return lY(i,t.d3)||(n=n||{},n.d3=i),n}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(e){this.props.data!==e.data&&this.setState({isInitialRenderForDataset:!1}),lY(this.props.translate,e.translate)&&lY(this.props.scaleExtent,e.scaleExtent)&&this.props.zoomable===e.zoomable&&this.props.draggable===e.draggable&&this.props.zoom===e.zoom&&this.props.enableLegacyTransitions===e.enableLegacyTransitions||this.bindZoomListener(this.props),"function"===typeof this.props.onUpdate&&this.props.onUpdate({node:this.internalState.targetNode?uY(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(e,t){e.forEach((e=>{e.data.__rd3t.collapsed=e.depth>=t}))}bindZoomListener(e){const{zoomable:t,scaleExtent:n,translate:r,zoom:i,onUpdate:o,hasInteractiveNodes:a}=e,s=V$(`.${this.svgInstanceRef}`),l=V$(`.${this.gInstanceRef}`);s.call(aY().transform,YK.translate(r.x,r.y).scale(i)),s.call(aY().scaleExtent(t?[n.min,n.max]:[i,i]).filter((e=>!a||(e.target.classList.contains(this.svgInstanceRef)||e.target.classList.contains(this.gInstanceRef)||e.shiftKey))).on("zoom",(e=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(e.sourceEvent.type)||(l.attr("transform",e.transform),"function"===typeof o&&(o({node:null,zoom:e.transform.k,translate:{x:e.transform.x,y:e.transform.y}}),this.state.d3.scale=e.transform.k,this.state.d3.translate={x:e.transform.x,y:e.transform.y}))})))}static assignInternalProperties(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Array.isArray(e)?e:[e]).map((e=>{const n=e;return n.__rd3t={id:null,depth:null,collapsed:!1},n.__rd3t.id=yY(),n.__rd3t.depth=t,n.children&&n.children.length>0&&(n.children=HY.assignInternalProperties(n.children,t+1)),n}))}findNodesById(e,t,n){return n.length>0||(n=n.concat(t.filter((t=>t.__rd3t.id===e))),t.forEach((t=>{t.children&&t.children.length>0&&(n=this.findNodesById(e,t.children,n))}))),n}findNodesAtDepth(e,t,n){return n=n.concat(t.filter((t=>t.__rd3t.depth===e))),t.forEach((t=>{t.children&&t.children.length>0&&(n=this.findNodesAtDepth(e,t.children,n))})),n}static collapseNode(e){e.__rd3t.collapsed=!0,e.children&&e.children.length>0&&e.children.forEach((e=>{HY.collapseNode(e)}))}static expandNode(e){e.__rd3t.collapsed=!1}collapseNeighborNodes(e,t){const n=this.findNodesAtDepth(e.__rd3t.depth,t,[]).filter((t=>t.__rd3t.id!==e.__rd3t.id));n.forEach((e=>HY.collapseNode(e)))}generateTree(){const{initialDepth:e,depthFactor:t,separation:n,nodeSize:r,orientation:i}=this.props,{isInitialRenderForDataset:o}=this.state,a=Tq().nodeSize("horizontal"===i?[r.y,r.x]:[r.x,r.y]).separation(((e,t)=>e.parent.data.__rd3t.id===t.parent.data.__rd3t.id?n.siblings:n.nonSiblings)),s=a(yq(this.state.data[0],(e=>e.__rd3t.collapsed?null:e.children)));let l=s.descendants();const c=s.links();return void 0!==e&&o&&this.setInitialTreeDepth(l,e),t&&l.forEach((e=>{e.y=e.depth*t})),{nodes:l,links:c}}static calculateD3Geometry(e){let t;return t=e.zoom>e.scaleExtent.max?e.scaleExtent.max:e.zoom<e.scaleExtent.min?e.scaleExtent.min:e.zoom,{translate:e.translate,scale:t}}render(){const{nodes:e,links:t}=this.generateTree(),{renderCustomNodeElement:n,orientation:r,pathFunc:o,transitionDuration:a,nodeSize:s,depthFactor:l,initialDepth:c,separation:u,enableLegacyTransitions:d,svgClassName:h,pathClassFunc:p}=this.props,{translate:f,scale:m}=this.state.d3,g=Object.assign(Object.assign(Object.assign({},s),u),{depthFactor:l,initialDepth:c});return i.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},i.createElement("style",null,"\n/* Tree */\n.rd3t-tree-container {\n  width: 100%;\n  height: 100%;\n}\n\n.rd3t-grabbable {\n  cursor: move; /* fallback if grab cursor is unsupported */\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.rd3t-grabbable:active {\n    cursor: grabbing;\n    cursor: -moz-grabbing;\n    cursor: -webkit-grabbing;\n}\n\n/* Node */\n.rd3t-node {\n  cursor: pointer;\n  fill: #777;\n  stroke: #000;\n  stroke-width: 2;\n}\n\n.rd3t-leaf-node {\n  cursor: pointer;\n  fill: transparent;\n  stroke: #000;\n  stroke-width: 1;\n}\n\n.rd3t-label__title {\n  fill: #000;\n  stroke: none;\n  font-weight: bolder;\n}\n\n.rd3t-label__attributes {\n  fill: #777;\n  stroke: none;\n  font-weight: bolder;\n  font-size: smaller;\n}\n\n/* Link */\n.rd3t-link {\n  fill: none;\n  stroke: #000;\n}\n"),i.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},i.createElement(AY,{enableLegacyTransitions:d,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${f.x},${f.y}) scale(${m})`},t.map(((e,t)=>i.createElement(zY,{key:"link-"+t,orientation:r,pathFunc:o,pathClassFunc:p,linkData:e,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:d,transitionDuration:a}))),e.map(((e,t)=>{const{data:o,x:l,y:c,parent:u}=e;return i.createElement(EY,{key:"node-"+t,data:o,position:{x:l,y:c},hierarchyPointNode:e,parent:u,nodeClassName:this.getNodeClassName(u,o),renderCustomNodeElement:n,nodeSize:s,orientation:r,enableLegacyTransitions:d,transitionDuration:a,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:g,centerNode:this.centerNode})})))))}}HY.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};const VY=HY;function GY(e){return lb("MuiTableContainer",e)}cb("MuiTableContainer",["root"]);const QY=Ay("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),WY=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTableContainer"}),{className:r,component:i="div",...o}=n,a={...n,component:i},s=(e=>{const{classes:t}=e;return Op({root:["root"]},GY,t)})(a);return(0,Ty.jsx)(QY,{ref:t,as:i,className:ib(s.root,r),ownerState:a,...o})})),qY=WY;function $Y(e){return lb("MuiTable",e)}cb("MuiTable",["root","stickyHeader"]);const XY=Ay("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(My((e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}}))),KY="table",YY=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTable"}),{className:r,component:o=KY,padding:a="normal",size:s="medium",stickyHeader:l=!1,...c}=n,u={...n,component:o,padding:a,size:s,stickyHeader:l},d=(e=>{const{classes:t,stickyHeader:n}=e;return Op({root:["root",n&&"stickyHeader"]},$Y,t)})(u),h=i.useMemo((()=>({padding:a,size:s,stickyHeader:l})),[a,s,l]);return(0,Ty.jsx)(TV.Provider,{value:h,children:(0,Ty.jsx)(XY,{as:o,role:o===KY?null:"table",ref:t,className:ib(d.root,r),ownerState:u,...c})})})),JY=YY;function ZY(e){return lb("MuiTableHead",e)}cb("MuiTableHead",["root"]);const eJ=Ay("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),tJ={variant:"head"},nJ="thead",rJ=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTableHead"}),{className:r,component:i=nJ,...o}=n,a={...n,component:i},s=(e=>{const{classes:t}=e;return Op({root:["root"]},ZY,t)})(a);return(0,Ty.jsx)(RV.Provider,{value:tJ,children:(0,Ty.jsx)(eJ,{as:i,className:ib(s.root,r),ref:t,role:i===nJ?null:"rowgroup",ownerState:a,...o})})})),iJ=rJ;function oJ(e){return lb("MuiTableRow",e)}const aJ=cb("MuiTableRow",["root","selected","hover","head","footer"]),sJ=Ay("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(My((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${aJ.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${aJ.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hv(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}}))),lJ="tr",cJ=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTableRow"}),{className:r,component:o=lJ,hover:a=!1,selected:s=!1,...l}=n,c=i.useContext(RV),u={...n,component:o,hover:a,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant},d=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e;return Op({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},oJ,t)})(u);return(0,Ty.jsx)(sJ,{as:o,ref:t,className:ib(d.root,r),role:o===lJ?null:"row",ownerState:u,...l})})),uJ=cJ;function dJ(e){return lb("MuiTableBody",e)}cb("MuiTableBody",["root"]);const hJ=Ay("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),pJ={variant:"body"},fJ="tbody",mJ=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTableBody"}),{className:r,component:i=fJ,...o}=n,a={...n,component:i},s=(e=>{const{classes:t}=e;return Op({root:["root"]},dJ,t)})(a);return(0,Ty.jsx)(RV.Provider,{value:pJ,children:(0,Ty.jsx)(hJ,{className:ib(s.root,r),as:i,ref:t,role:i===fJ?null:"rowgroup",ownerState:a,...o})})})),gJ=mJ;function vJ(e){return vH}function yJ(e){return lb("MuiSimpleTreeView",e)}cb("MuiSimpleTreeView",["root"]);const bJ=()=>{const[e]=i.useState((()=>new eU));return{instance:{$$publishEvent:i.useCallback((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const[i,o,a={}]=n;a.defaultMuiPrevented=!1,(e=>void 0!==e.isPropagationStopped)(a)&&a.isPropagationStopped()||e.emit(i,o,a)}),[e]),$$subscribeEvent:i.useCallback(((t,n)=>(e.on(t,n),()=>{e.removeListener(t,n)})),[e])}}};bJ.params={};const AJ=e=>{let{plugins:t}=e;const n=new Set(t);return{instance:{getAvailablePlugins:()=>n}}};AJ.params={};let xJ=0;const wJ=e=>{let{id:t,treeId:n="",itemId:r}=e;return null!=t?t:`${n}-${r}`},CJ=e=>{let{params:t,state:n,setState:r}=e;i.useEffect((()=>{r((e=>e.id.treeId===t.id&&void 0!==e.id.treeId?e:Yp({},e,{id:Yp({},e.id,{treeId:t.id??(xJ+=1,`mui-tree-view-${xJ}`)})})))}),[r,t.id]);const o=t.id??n.id.treeId;return{getRootProps:()=>({id:o}),contextValue:{treeId:o}}};CJ.params={id:!0},CJ.getInitialState=e=>{let{id:t}=e;return{id:{treeId:t??void 0}}};const EJ=[bJ,AJ,CJ],SJ=["slots","slotProps","apiRef","experimentalFeatures"];const _J=e=>{let{plugins:t,rootRef:n,props:r}=e;const o=[...EJ,...t],{pluginParams:a,forwardedProps:s,apiRef:l,experimentalFeatures:c,slots:u,slotProps:d}=(e=>{let{props:{slots:t,slotProps:n,apiRef:r,experimentalFeatures:i},plugins:o}=e,a=Ly(e.props,SJ);const s={};o.forEach((e=>{Object.assign(s,e.params)}));const l={},c={};Object.keys(a).forEach((e=>{const t=a[e];s[e]?l[e]=t:c[e]=t}));const u=i??{},d=o.reduce(((e,t)=>t.getDefaultizedParams?t.getDefaultizedParams({params:e,experimentalFeatures:u}):e),l);return{apiRef:r,forwardedProps:c,pluginParams:d,slots:t??{},slotProps:n??{},experimentalFeatures:u}})({plugins:o,props:r}),h=((e,t)=>{const n=i.useRef({}),[r,o]=i.useState((()=>{const r={};return e.forEach((e=>{e.models&&Object.entries(e.models).forEach((e=>{let[i,o]=e;n.current[i]={isControlled:void 0!==t[i],getDefaultValue:o.getDefaultValue},r[i]=o.getDefaultValue(t)}))})),r})),a=Object.fromEntries(Object.entries(n.current).map((e=>{let[n,i]=e;const a=t[n]??r[n];return[n,{value:a,setControlledValue:e=>{i.isControlled||o((t=>Yp({},t,{[n]:e})))}}]})));return a})(o,a),p=i.useRef({}).current,f=function(e){const t=i.useRef({});return e?(null==e.current&&(e.current={}),e.current):t.current}(l),m=i.useRef(null),g=Wp(m,n),v=(e=>{let{plugins:t,instance:n,publicAPI:r,rootRef:i}=e;return{runItemPlugins:e=>{let n=null,r=null;const i=[],o={};t.forEach((t=>{if(!t.itemPlugin)return;const a=t.itemPlugin({props:e,rootRef:n,contentRef:r});a?.rootRef&&(n=a.rootRef),a?.contentRef&&(r=a.contentRef),a?.propsEnhancers&&(i.push(a.propsEnhancers),Object.keys(a.propsEnhancers).forEach((e=>{o[e]=!0})))}));const a=Object.fromEntries(Object.keys(o).map((e=>{return[e,(t=e,e=>{const n={};return i.forEach((r=>{const i=r[t];null!=i&&Object.assign(n,i(e))})),n})];var t})));return{contentRef:r,rootRef:n,propsEnhancers:a}},wrapItem:e=>{let{itemId:r,children:i}=e,o=i;for(let a=t.length-1;a>=0;a-=1){const e=t[a];e.wrapItem&&(o=e.wrapItem({itemId:r,children:o,instance:n}))}return o},wrapRoot:e=>{let{children:r}=e,i=r;for(let o=t.length-1;o>=0;o-=1){const e=t[o];e.wrapRoot&&(i=e.wrapRoot({children:i,instance:n}))}return i},instance:n,rootRef:i,publicAPI:r}})({plugins:o,instance:p,publicAPI:f,rootRef:m}),[y,b]=i.useState((()=>{const e={};return o.forEach((t=>{t.getInitialState&&Object.assign(e,t.getInitialState(a))})),e})),A=[];o.forEach((e=>{const t=e({instance:p,params:a,slots:u,slotProps:d,experimentalFeatures:c,state:y,setState:b,rootRef:m,models:h,plugins:o});t.getRootProps&&A.push(t.getRootProps),t.publicAPI&&Object.assign(f,t.publicAPI),t.instance&&Object.assign(p,t.instance),t.contextValue&&Object.assign(v,t.contextValue)}));return{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Yp({role:"tree"},s,e,{ref:g});return A.forEach((n=>{Object.assign(t,n(e))})),t},rootRef:g,contextValue:v,instance:p}},MJ=i.createContext(null);function IJ(e){const{value:t,children:n}=e;return(0,Ty.jsx)(MJ.Provider,{value:t,children:t.wrapRoot({children:n,instance:t.instance})})}const TJ=(e,t,n)=>{e.$$publishEvent(t,n)},RJ="__TREE_VIEW_ROOT_PARENT_ID__",kJ=e=>{const t={};return e.forEach(((e,n)=>{t[e]=n})),t},PJ=i.createContext((()=>-1));const BJ=["children"],OJ=e=>{let{items:t,isItemDisabled:n,getItemLabel:r,getItemId:i}=e;const o={},a={},s={[RJ]:[]},l=(e,t,c)=>{const u=i?i(e):e.id;if(null==u)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(e)].join("\n"));if(null!=o[u])throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${u}"`].join("\n"));const d=r?r(e):e.label;if(null==d)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(e)].join("\n"));o[u]={id:u,label:d,parentId:c,idAttribute:void 0,expandable:!!e.children?.length,disabled:!!n&&n(e),depth:t},a[u]=e;const h=c??RJ;s[h]||(s[h]=[]),s[h].push(u),e.children?.forEach((e=>l(e,t+1,u)))};t.forEach((e=>l(e,0,null)));const c={};return Object.keys(s).forEach((e=>{c[e]=kJ(s[e])})),{itemMetaMap:o,itemMap:a,itemOrderedChildrenIds:s,itemChildrenIndexes:c}},LJ=e=>{let{instance:t,params:n,state:r,setState:o,experimentalFeatures:a}=e;const s=i.useCallback((e=>r.items.itemMetaMap[e]),[r.items.itemMetaMap]),l=i.useCallback((e=>r.items.itemMap[e]),[r.items.itemMap]),c=i.useCallback((()=>{const e=t=>{const n=Ly(r.items.itemMap[t],BJ),i=r.items.itemOrderedChildrenIds[t];return i&&(n.children=i.map(e)),n};return r.items.itemOrderedChildrenIds[RJ].map(e)}),[r.items.itemMap,r.items.itemOrderedChildrenIds]),u=i.useCallback((e=>{if(null==e)return!1;let n=t.getItemMeta(e);if(!n)return!1;if(n.disabled)return!0;for(;null!=n.parentId;)if(n=t.getItemMeta(n.parentId),n.disabled)return!0;return!1}),[t]),d=i.useCallback((e=>{const n=t.getItemMeta(e).parentId??RJ;return r.items.itemChildrenIndexes[n][e]}),[t,r.items.itemChildrenIndexes]),h=i.useCallback((e=>r.items.itemOrderedChildrenIds[e??RJ]??[]),[r.items.itemOrderedChildrenIds]),p=e=>{const n=t.getItemMeta(e);return null==n?null:document.getElementById(wJ({treeId:r.id.treeId,itemId:e,id:n.idAttribute}))},f=i.useRef(!1),m=i.useCallback((()=>{f.current=!0}),[]),g=i.useCallback((()=>f.current),[]);i.useEffect((()=>{t.areItemUpdatesPrevented()||o((e=>{const r=OJ({items:n.items,isItemDisabled:n.isItemDisabled,getItemId:n.getItemId,getItemLabel:n.getItemLabel});return Object.values(e.items.itemMetaMap).forEach((e=>{r.itemMetaMap[e.id]||TJ(t,"removeItem",{id:e.id})})),Yp({},e,{items:r})}))}),[t,o,n.items,n.isItemDisabled,n.getItemId,n.getItemLabel]);return{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":"number"===typeof n.itemChildrenIndentation?`${n.itemChildrenIndentation}px`:n.itemChildrenIndentation}}),publicAPI:{getItem:l,getItemDOMElement:p,getItemTree:c,getItemOrderedChildrenIds:h},instance:{getItemMeta:s,getItem:l,getItemTree:c,getItemsToRender:()=>{const e=t=>{const n=r.items.itemMetaMap[t];return{label:n.label,itemId:n.id,id:n.idAttribute,children:r.items.itemOrderedChildrenIds[t]?.map(e)}};return r.items.itemOrderedChildrenIds[RJ].map(e)},getItemIndex:d,getItemDOMElement:p,getItemOrderedChildrenIds:h,isItemDisabled:u,isItemNavigable:e=>!!n.disabledItemsFocusable||!t.isItemDisabled(e),preventItemUpdates:m,areItemUpdatesPrevented:g},contextValue:{items:{onItemClick:n.onItemClick,disabledItemsFocusable:n.disabledItemsFocusable,indentationAtItemLevel:a.indentationAtItemLevel??!1}}}};LJ.getInitialState=e=>({items:OJ({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})}),LJ.getDefaultizedParams=e=>{let{params:t}=e;return Yp({},t,{disabledItemsFocusable:t.disabledItemsFocusable??!1,itemChildrenIndentation:t.itemChildrenIndentation??"12px"})},LJ.wrapRoot=e=>{let{children:t,instance:n}=e;return(0,Ty.jsx)(PJ.Provider,{value:e=>n.getItemMeta(e)?.depth??0,children:t})},LJ.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const DJ=e=>{let{instance:t,params:n,models:r}=e;const o=i.useMemo((()=>{const e=new Map;return r.expandedItems.value.forEach((t=>{e.set(t,!0)})),e}),[r.expandedItems.value]),a=(e,t)=>{n.onExpandedItemsChange?.(e,t),r.expandedItems.setControlledValue(t)},s=i.useCallback((e=>o.has(e)),[o]),l=i.useCallback((e=>!!t.getItemMeta(e)?.expandable),[t]),c=Hp(((e,n)=>{const r=t.isItemExpanded(n);t.setItemExpansion(e,n,!r)})),u=Hp(((e,i,o)=>{if(t.isItemExpanded(i)===o)return;let s;s=o?[i].concat(r.expandedItems.value):r.expandedItems.value.filter((e=>e!==i)),n.onItemExpansionToggle&&n.onItemExpansionToggle(e,i,o),a(e,s)}));return{publicAPI:{setItemExpansion:u},instance:{isItemExpanded:s,isItemExpandable:l,setItemExpansion:u,toggleItemExpansion:c,expandAllSiblings:(e,i)=>{const o=t.getItemMeta(i),s=t.getItemOrderedChildrenIds(o.parentId).filter((e=>t.isItemExpandable(e)&&!t.isItemExpanded(e))),l=r.expandedItems.value.concat(s);s.length>0&&(n.onItemExpansionToggle&&s.forEach((t=>{n.onItemExpansionToggle(e,t,!0)})),a(e,l))}},contextValue:{expansion:{expansionTrigger:i.useMemo((()=>n.expansionTrigger?n.expansionTrigger:t.isTreeViewEditable?"iconContainer":"content"),[n.expansionTrigger,t.isTreeViewEditable])}}}};DJ.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const NJ=[];DJ.getDefaultizedParams=e=>{let{params:t}=e;return Yp({},t,{defaultExpandedItems:t.defaultExpandedItems??NJ})},DJ.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const FJ=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(-1!==n)return t[n]},jJ=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),i=e.getItemIndex(t);if(0===i)return n.parentId;let o=i-1;for(;!e.isItemNavigable(r[o])&&o>=0;)o-=1;if(-1===o)return null==n.parentId?null:jJ(e,n.parentId);let a=r[o],s=FJ(e,e.getItemOrderedChildrenIds(a));for(;e.isItemExpanded(a)&&null!=s;)a=s,s=e.getItemOrderedChildrenIds(a).find(e.isItemNavigable);return a},UJ=(e,t)=>{if(e.isItemExpanded(t)){const n=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(null!=n)return n}let n=e.getItemMeta(t);for(;null!=n;){const t=e.getItemOrderedChildrenIds(n.parentId),r=e.getItemIndex(n.id);if(r<t.length-1){let n=r+1;for(;!e.isItemNavigable(t[n])&&n<t.length-1;)n+=1;if(e.isItemNavigable(t[n]))return t[n]}n=e.getItemMeta(n.parentId)}return null},zJ=e=>{let t=null;for(;null==t||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=FJ(e,n);if(null==r)return t;t=r}return t},HJ=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),VJ=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),i=e.getItemMeta(n);if(r.parentId===i.id||i.parentId===r.id)return i.parentId===r.id?[r.id,i.id]:[i.id,r.id];const o=[r.id],a=[i.id];let s=r.parentId,l=i.parentId,c=-1!==a.indexOf(s),u=-1!==o.indexOf(l),d=!0,h=!0;for(;!u&&!c;)d&&(o.push(s),c=-1!==a.indexOf(s),d=null!==s,!c&&d&&(s=e.getItemMeta(s).parentId)),h&&!c&&(a.push(l),u=-1!==o.indexOf(l),h=null!==l,!u&&h&&(l=e.getItemMeta(l).parentId));const p=c?s:l,f=e.getItemOrderedChildrenIds(p),m=o[o.indexOf(p)-1],g=a[a.indexOf(p)-1];return f.indexOf(m)<f.indexOf(g)?[t,n]:[n,t]},GJ=(e,t)=>t!==e.closest('*[role="treeitem"]'),QJ=e=>Array.isArray(e)?e:null!=e?[e]:[],WJ=e=>{const t={};return e.forEach((e=>{t[e]=!0})),t},qJ=e=>{let{instance:t,params:n,models:r}=e;const o=i.useRef(null),a=i.useRef({}),s=i.useMemo((()=>{const e=new Map;return Array.isArray(r.selectedItems.value)?r.selectedItems.value.forEach((t=>{e.set(t,!0)})):null!=r.selectedItems.value&&e.set(r.selectedItems.value,!0),e}),[r.selectedItems.value]),l=(e,i)=>{if(n.onItemSelectionToggle)if(n.multiSelect){const o=i.filter((e=>!t.isItemSelected(e))),a=r.selectedItems.value.filter((e=>!i.includes(e)));o.forEach((t=>{n.onItemSelectionToggle(e,t,!0)})),a.forEach((t=>{n.onItemSelectionToggle(e,t,!1)}))}else i!==r.selectedItems.value&&(null!=r.selectedItems.value&&n.onItemSelectionToggle(e,r.selectedItems.value,!1),null!=i&&n.onItemSelectionToggle(e,i,!0));n.onSelectedItemsChange&&n.onSelectedItemsChange(e,i),r.selectedItems.setControlledValue(i)},c=e=>{let i,{event:s,itemId:c,keepExistingSelection:u=!1,shouldBeSelected:d}=e;if(!n.disableSelection){if(u){const e=QJ(r.selectedItems.value),n=t.isItemSelected(c);i=!n||!1!==d&&null!=d?n||!0!==d&&null!=d?e:[c].concat(e):e.filter((e=>e!==c))}else i=!1===d||null==d&&t.isItemSelected(c)?n.multiSelect?[]:null:n.multiSelect?[c]:c;l(s,i),o.current=c,a.current={}}},u=(e,i)=>{let[o,s]=i;if(n.disableSelection||!n.multiSelect)return;let c=QJ(r.selectedItems.value).slice();Object.keys(a.current).length>0&&(c=c.filter((e=>!a.current[e])));const u=WJ(c),d=((e,t,n)=>{const r=t=>{if(e.isItemExpandable(t)&&e.isItemExpanded(t))return e.getItemOrderedChildrenIds(t)[0];let n=e.getItemMeta(t);for(;null!=n;){const t=e.getItemOrderedChildrenIds(n.parentId),r=e.getItemIndex(n.id);if(r<t.length-1)return t[r+1];n=e.getItemMeta(n.parentId)}throw new Error("Invalid range")},[i,o]=VJ(e,t,n),a=[i];let s=i;for(;s!==o;)s=r(s),e.isItemDisabled(s)||a.push(s);return a})(t,o,s),h=d.filter((e=>!u[e]));c=c.concat(h),l(e,c),a.current=WJ(d)};return{getRootProps:()=>({"aria-multiselectable":n.multiSelect}),publicAPI:{selectItem:c},instance:{isItemSelected:e=>s.has(e),selectItem:c,selectAllNavigableItems:e=>{if(n.disableSelection||!n.multiSelect)return;const r=(e=>{let t=HJ(e);const n=[];for(;null!=t;)n.push(t),t=UJ(e,t);return n})(t);l(e,r),a.current=WJ(r)},expandSelectionRange:(e,n)=>{if(null!=o.current){const[r,i]=VJ(t,n,o.current);u(e,[r,i])}},selectRangeFromStartToItem:(e,n)=>{u(e,[HJ(t),n])},selectRangeFromItemToEnd:(e,n)=>{u(e,[n,zJ(t)])},selectItemFromArrowNavigation:(e,t,i)=>{if(n.disableSelection||!n.multiSelect)return;let o=QJ(r.selectedItems.value).slice();0===Object.keys(a.current).length?(o.push(i),a.current={[t]:!0,[i]:!0}):(a.current[t]||(a.current={}),a.current[i]?(o=o.filter((e=>e!==t)),delete a.current[t]):(o.push(i),a.current[i]=!0)),l(e,o)}},contextValue:{selection:{multiSelect:n.multiSelect,checkboxSelection:n.checkboxSelection,disableSelection:n.disableSelection}}}};qJ.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const $J=[];qJ.getDefaultizedParams=e=>{let{params:t}=e;return Yp({},t,{disableSelection:t.disableSelection??!1,multiSelect:t.multiSelect??!1,checkboxSelection:t.checkboxSelection??!1,defaultSelectedItems:t.defaultSelectedItems??(t.multiSelect?$J:null)})},qJ.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};class XJ{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=e}register(e,t,n){this.timeouts||(this.timeouts=new Map);const r=setTimeout((()=>{"function"===typeof t&&t(),this.timeouts.delete(n.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(n.cleanupToken,r)}unregister(e){const t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach(((e,t)=>{this.unregister({cleanupToken:t})})),this.timeouts=void 0)}}class KJ{constructor(){this.registry=new FinalizationRegistry((e=>{"function"===typeof e&&e()}))}register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}}class YJ{}const JJ={registry:null},ZJ=function(e){let t=0;return function(n,r,o){null===e.registry&&(e.registry="undefined"!==typeof FinalizationRegistry?new KJ:new XJ);const[a]=i.useState(new YJ),s=i.useRef(null),l=i.useRef(void 0);l.current=o;const c=i.useRef(null);if(!s.current&&l.current){const i=(e,t)=>{t.defaultMuiPrevented||l.current?.(e,t)};s.current=n.$$subscribeEvent(r,i),t+=1,c.current={cleanupToken:t},e.registry.register(a,(()=>{s.current?.(),s.current=null,c.current=null}),c.current)}else!l.current&&s.current&&(s.current(),s.current=null,c.current&&(e.registry.unregister(c.current),c.current=null));i.useEffect((()=>{if(!s.current&&l.current){const e=(e,t)=>{t.defaultMuiPrevented||l.current?.(e,t)};s.current=n.$$subscribeEvent(r,e)}return c.current&&e.registry&&(e.registry.unregister(c.current),c.current=null),()=>{s.current?.(),s.current=null}}),[n,r])}}(JJ),eZ=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?eZ(e.shadowRoot):e:null};const tZ=e=>{let{instance:t,params:n,state:r,setState:o,models:a,rootRef:s}=e;const l=((e,t)=>{let n=QJ(t).find((t=>{if(!e.isItemNavigable(t))return!1;const n=e.getItemMeta(t);return n&&(null==n.parentId||e.isItemExpanded(n.parentId))}));return null==n&&(n=HJ(e)),n})(t,a.selectedItems.value),c=Hp((e=>{const t="function"===typeof e?e(r.focusedItemId):e;r.focusedItemId!==t&&o((e=>Yp({},e,{focusedItemId:t})))})),u=i.useCallback((()=>!!s.current&&s.current.contains(eZ(qp(s.current)))),[s]),d=i.useCallback((e=>r.focusedItemId===e&&u()),[r.focusedItemId,u]),h=(e,r)=>{const i=t.getItemDOMElement(r);i&&i.focus(),c(r),n.onItemFocus&&n.onItemFocus(e,r)},p=Hp(((e,n)=>{(e=>{const n=t.getItemMeta(e);return n&&(null==n.parentId||t.isItemExpanded(n.parentId))})(n)&&h(e,n)})),f=Hp((()=>{if(null==r.focusedItemId)return;if(t.getItemMeta(r.focusedItemId)){const e=t.getItemDOMElement(r.focusedItemId);e&&e.blur()}c(null)}));ZJ(t,"removeItem",(e=>{let{id:t}=e;r.focusedItemId===t&&h(null,l)}));const m=e=>t=>{e.onFocus?.(t),t.defaultMuiPrevented||t.target===t.currentTarget&&h(t,l)};return{getRootProps:e=>({onFocus:m(e)}),publicAPI:{focusItem:p},instance:{isItemFocused:d,canItemBeTabbed:e=>e===l,focusItem:p,removeFocusedItem:f}}};tZ.getInitialState=()=>({focusedItemId:null}),tZ.params={onItemFocus:!0};const nZ=(e,t)=>e.getAvailablePlugins().has(t),rZ=()=>{const e=i.useContext(MJ);if(null==e)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join("\n"));return e},iZ=e=>{let{instance:t,state:n,setState:r,params:o}=e;const a=i.useRef(n.editedItemId),s=Boolean(o.isItemEditable),l=(e,t)=>{if(!t)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",e].join("\n"));r((n=>{const r=n.items.itemMetaMap[e];return r.label!==t?Yp({},n,{items:Yp({},n.items,{itemMetaMap:Yp({},n.items.itemMetaMap,{[e]:Yp({},r,{label:t})})})}):n})),o.onItemLabelChange&&o.onItemLabelChange(e,t)};return{instance:{setEditedItemId:e=>{r((t=>Yp({},t,{editedItemId:e}))),a.current=e},isItemBeingEdited:e=>e===n.editedItemId,updateItemLabel:l,isItemEditable:e=>{if(null==e||!s)return!1;const n=t.getItem(e);return!!n&&("function"===typeof o.isItemEditable?o.isItemEditable(n):Boolean(o.isItemEditable))},isTreeViewEditable:s,isItemBeingEditedRef:e=>a.current===e},publicAPI:{updateItemLabel:l}}};iZ.itemPlugin=e=>{let{props:t}=e;const{instance:n}=rZ(),{label:r,itemId:o}=t,[a,s]=i.useState(r),l=n.isItemBeingEdited(o);return i.useEffect((()=>{l||s(r)}),[l,r]),{propsEnhancers:{labelInput:e=>{let{externalEventHandlers:t,interactions:r}=e;if(!n.isItemEditable(o))return{};return{value:a??"","data-element":"labelInput",onChange:e=>{t.onChange?.(e),s(e.target.value)},onKeyDown:e=>{if(t.onKeyDown?.(e),e.defaultMuiPrevented)return;const n=e.target;"Enter"===e.key&&n.value?r.handleSaveItemLabel(e,n.value):"Escape"===e.key&&r.handleCancelItemLabelEditing(e)},onBlur:e=>{t.onBlur?.(e),e.defaultMuiPrevented||e.target.value&&r.handleSaveItemLabel(e,e.target.value)},autoFocus:!0,type:"text"}}}}},iZ.getDefaultizedParams=e=>{let{params:t,experimentalFeatures:n}=e;const r=n?.labelEditing;return Yp({},t,{isItemEditable:!!r&&(t.isItemEditable??!1)})},iZ.getInitialState=()=>({editedItemId:null}),iZ.params={onItemLabelChange:!0,isItemEditable:!0};const oZ=e=>{let{instance:t,params:n,state:r}=e;const o=aC(),a=i.useRef({}),s=Hp((e=>{a.current=e(a.current)}));i.useEffect((()=>{if(t.areItemUpdatesPrevented())return;const e={};Object.values(r.items.itemMetaMap).forEach((t=>{e[t.id]=t.label.substring(0,1).toLowerCase()})),a.current=e}),[r.items.itemMetaMap,n.getItemId,t]);const l=e=>!n.disableSelection&&!t.isItemDisabled(e),c=e=>!t.isItemDisabled(e)&&t.isItemExpandable(e);return{instance:{updateFirstCharMap:s,handleItemKeyDown:(e,r)=>{if(e.defaultMuiPrevented)return;if(e.altKey||GJ(e.target,e.currentTarget))return;const i=e.ctrlKey||e.metaKey,s=e.key;switch(!0){case" "===s&&l(r):e.preventDefault(),n.multiSelect&&e.shiftKey?t.expandSelectionRange(e,r):t.selectItem({event:e,itemId:r,keepExistingSelection:n.multiSelect,shouldBeSelected:!n.multiSelect||void 0});break;case"Enter"===s:nZ(t,iZ)&&t.isItemEditable(r)&&!t.isItemBeingEdited(r)?t.setEditedItemId(r):c(r)?(t.toggleItemExpansion(e,r),e.preventDefault()):l(r)&&(n.multiSelect?(e.preventDefault(),t.selectItem({event:e,itemId:r,keepExistingSelection:!0})):t.isItemSelected(r)||(t.selectItem({event:e,itemId:r}),e.preventDefault()));break;case"ArrowDown"===s:{const i=UJ(t,r);i&&(e.preventDefault(),t.focusItem(e,i),n.multiSelect&&e.shiftKey&&l(i)&&t.selectItemFromArrowNavigation(e,r,i));break}case"ArrowUp"===s:{const i=jJ(t,r);i&&(e.preventDefault(),t.focusItem(e,i),n.multiSelect&&e.shiftKey&&l(i)&&t.selectItemFromArrowNavigation(e,r,i));break}case"ArrowRight"===s&&!o||"ArrowLeft"===s&&o:if(i)return;if(t.isItemExpanded(r)){const n=UJ(t,r);n&&(t.focusItem(e,n),e.preventDefault())}else c(r)&&(t.toggleItemExpansion(e,r),e.preventDefault());break;case"ArrowLeft"===s&&!o||"ArrowRight"===s&&o:if(i)return;if(c(r)&&t.isItemExpanded(r))t.toggleItemExpansion(e,r),e.preventDefault();else{const n=t.getItemMeta(r).parentId;n&&(t.focusItem(e,n),e.preventDefault())}break;case"Home"===s:l(r)&&n.multiSelect&&i&&e.shiftKey?t.selectRangeFromStartToItem(e,r):t.focusItem(e,HJ(t)),e.preventDefault();break;case"End"===s:l(r)&&n.multiSelect&&i&&e.shiftKey?t.selectRangeFromItemToEnd(e,r):t.focusItem(e,zJ(t)),e.preventDefault();break;case"*"===s:t.expandAllSiblings(e,r),e.preventDefault();break;case"A"===String.fromCharCode(e.keyCode)&&i&&n.multiSelect&&!n.disableSelection:t.selectAllNavigableItems(e),e.preventDefault();break;case!i&&!e.shiftKey&&function(e){return!!e&&1===e.length&&!!e.match(/\S/)}(s):{const n=((e,n)=>{const r=n.toLowerCase(),i=e=>{const n=UJ(t,e);return null===n?HJ(t):n};let o=null,s=i(e);const l={};for(;null==o&&!l[s];)a.current[s]===r?o=s:(l[s]=!0,s=i(s));return o})(r,s);null!=n&&(t.focusItem(e,n),e.preventDefault());break}}}}}};oZ.params={};const aZ=e=>{let{slots:t,slotProps:n}=e;return{contextValue:{icons:{slots:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon},slotProps:{collapseIcon:n.collapseIcon,expandIcon:n.expandIcon,endIcon:n.endIcon}}}}};aZ.params={};const sZ=i.createContext(null);function lZ(e){const{children:t,itemId:n=null}=e,{instance:r,treeId:o,rootRef:a}=rZ(),s=i.useRef(new Map);i.useEffect((()=>{if(!a.current)return;let e=null;if(null==n)e=a.current.id;else{const t=r.getItemMeta(n);void 0!==t&&(e=wJ({itemId:n,treeId:o,id:t.idAttribute}))}if(null==e)return;const t=r.getItemOrderedChildrenIds(n??null)??[],i=e.replace(/["\\]/g,"\\$&");const l=a.current.querySelectorAll(`${null==n?"":`*[id="${i}"] `}[role="treeitem"]:not(*[id="${i}"] [role="treeitem"] [role="treeitem"])`),c=Array.from(l).map((e=>s.current.get(e.id)));(c.length!==t.length||c.some(((e,n)=>e!==t[n])))&&r.setJSXItemsOrderedChildrenIds(n??null,c)}));const l=i.useMemo((()=>({registerChild:(e,t)=>s.current.set(e,t),unregisterChild:e=>s.current.delete(e),parentId:n})),[n]);return(0,Ty.jsx)(sZ.Provider,{value:l,children:t})}const cZ=e=>{let{instance:t,setState:n}=e;t.preventItemUpdates();return{instance:{insertJSXItem:Hp((e=>(n((t=>{if(null!=t.items.itemMetaMap[e.id])throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${e.id}"`].join("\n"));return Yp({},t,{items:Yp({},t.items,{itemMetaMap:Yp({},t.items.itemMetaMap,{[e.id]:e}),itemMap:Yp({},t.items.itemMap,{[e.id]:{id:e.id,label:e.label}})})})})),()=>{n((t=>{const n=Yp({},t.items.itemMetaMap),r=Yp({},t.items.itemMap);return delete n[e.id],delete r[e.id],Yp({},t,{items:Yp({},t.items,{itemMetaMap:n,itemMap:r})})})),TJ(t,"removeItem",{id:e.id})}))),setJSXItemsOrderedChildrenIds:(e,t)=>{const r=e??RJ;n((e=>Yp({},e,{items:Yp({},e.items,{itemOrderedChildrenIds:Yp({},e.items.itemOrderedChildrenIds,{[r]:t}),itemChildrenIndexes:Yp({},e.items.itemChildrenIndexes,{[r]:kJ(t)})})})))},mapFirstCharFromJSX:Hp(((e,n)=>(t.updateFirstCharMap((t=>(t[e]=n,t))),()=>{t.updateFirstCharMap((t=>{const n=Yp({},t);return delete n[e],n}))})))}}},uZ=e=>Array.isArray(e)?e.length>0&&e.some(uZ):Boolean(e);cZ.itemPlugin=e=>{let{props:t,rootRef:n,contentRef:r}=e;const{instance:o,treeId:a}=rZ(),{children:s,disabled:l=!1,label:c,itemId:u,id:d}=t,h=i.useContext(sZ);if(null==h)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join("\n"));const{registerChild:p,unregisterChild:f,parentId:m}=h,g=uZ(s),v=i.useRef(null),y=Wp(v,r);return zp((()=>{const e=wJ({itemId:u,treeId:a,id:d});return p(e,u),()=>{f(e)}}),[p,f,u,d,a]),i.useEffect((()=>o.insertJSXItem({id:u,idAttribute:d,parentId:m,expandable:g,disabled:l})),[o,m,u,g,l,d]),i.useEffect((()=>{if(c)return o.mapFirstCharFromJSX(u,(v.current?.textContent??"").substring(0,1).toLowerCase())}),[o,u,c]),{contentRef:y,rootRef:n}},cZ.wrapItem=e=>{let{children:t,itemId:n}=e;const r=i.useContext(PJ);return(0,Ty.jsx)(lZ,{itemId:n,children:(0,Ty.jsx)(PJ.Provider,{value:r+1,children:t})})},cZ.wrapRoot=e=>{let{children:t}=e;return(0,Ty.jsx)(lZ,{children:(0,Ty.jsx)(PJ.Provider,{value:0,children:t})})},cZ.params={};const dZ=[LJ,DJ,qJ,tZ,oZ,aZ,cZ],hZ=vJ(),pZ=Ay("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),fZ=[],mZ=i.forwardRef((function(e,t){const n=hZ({props:e,name:"MuiSimpleTreeView"}),r=n;const{getRootProps:i,contextValue:o}=_J({plugins:dZ,rootRef:t,props:Yp({},n,{items:fZ})}),{slots:a,slotProps:s}=n,l=(e=>{const{classes:t}=e;return Op({root:["root"]},yJ,t)})(n),c=a?.root??pZ,u=L_({elementType:c,externalSlotProps:s?.root,className:l.root,getSlotProps:i,ownerState:r});return(0,Ty.jsx)(IJ,{value:o,children:(0,Ty.jsx)(c,Yp({},u))})}));function gZ(e){return lb("MuiCollapse",e)}cb("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const vZ=Ay("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(My((e=>{let{theme:t}=e;return{height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"exited"===t.state&&!t.in&&"0px"===t.collapsedSize},style:{visibility:"hidden"}}]}}))),yZ=Ay("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),bZ=Ay("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),AZ=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:a,collapsedSize:s="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:f,onExited:m,onExiting:g,orientation:v="vertical",style:y,timeout:b=qv.standard,TransitionComponent:A=$y,...x}=n,w={...n,orientation:v,collapsedSize:s},C=(e=>{const{orientation:t,classes:n}=e;return Op({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},gZ,n)})(w),E=Ey(),S=Up(),_=i.useRef(null),M=i.useRef(),I="number"===typeof s?`${s}px`:s,T="horizontal"===v,R=T?"width":"height",k=i.useRef(null),P=Yy(t,k),B=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},O=()=>_.current?_.current[T?"clientWidth":"clientHeight"]:0,L=B(((e,t)=>{_.current&&T&&(_.current.style.position="absolute"),e.style[R]=I,d&&d(e,t)})),D=B(((e,t)=>{const n=O();_.current&&T&&(_.current.style.position="");const{duration:r,easing:i}=Ky({style:y,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=E.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,M.current=t}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[R]=`${n}px`,e.style.transitionTimingFunction=i,p&&p(e,t)})),N=B(((e,t)=>{e.style[R]="auto",h&&h(e,t)})),F=B((e=>{e.style[R]=`${O()}px`,f&&f(e)})),j=B(m),U=B((e=>{const t=O(),{duration:n,easing:r}=Ky({style:y,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=E.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,M.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[R]=I,e.style.transitionTimingFunction=r,g&&g(e)}));return(0,Ty.jsx)(A,{in:u,onEnter:L,onEntered:N,onEntering:D,onExit:F,onExited:j,onExiting:U,addEndListener:e=>{"auto"===b&&S.start(M.current||0,e),r&&r(k.current,e)},nodeRef:k,timeout:"auto"===b?null:b,...x,children:(e,t)=>{let{ownerState:n,...r}=t;return(0,Ty.jsx)(vZ,{as:l,className:ib(C.root,a,{entered:C.entered,exited:!u&&"0px"===I&&C.hidden}[e]),style:{[T?"minWidth":"minHeight"]:I,...y},ref:P,ownerState:{...w,state:e},...r,children:(0,Ty.jsx)(yZ,{ownerState:{...w,state:e},className:C.wrapper,ref:_,children:(0,Ty.jsx)(bZ,{ownerState:{...w,state:e},className:C.wrapperInner,children:o})})})}})}));AZ&&(AZ.muiSupportAuto=!0);const xZ=AZ;function wZ(e){const{instance:t,items:{onItemClick:n},selection:{multiSelect:r,checkboxSelection:i,disableSelection:o},expansion:{expansionTrigger:a}}=rZ(),s=t.isItemExpandable(e),l=t.isItemExpanded(e),c=t.isItemFocused(e),u=t.isItemSelected(e),d=t.isItemDisabled(e),h=!!t?.isItemBeingEdited&&t?.isItemBeingEdited(e),p=!!t.isItemEditable&&t.isItemEditable(e),f=()=>{nZ(t,iZ)&&t.isItemEditable(e)&&(t.isItemBeingEdited(e)?t.setEditedItemId(null):t.setEditedItemId(e))};return{disabled:d,expanded:l,selected:u,focused:c,editable:p,editing:h,disableSelection:o,checkboxSelection:i,handleExpansion:n=>{if(!d){c||t.focusItem(n,e);const i=r&&(n.shiftKey||n.ctrlKey||n.metaKey);!s||i&&t.isItemExpanded(e)||t.toggleItemExpansion(n,e)}},handleSelection:n=>{if(!d){c||t.focusItem(n,e);r&&(n.shiftKey||n.ctrlKey||n.metaKey)?n.shiftKey?t.expandSelectionRange(n,e):t.selectItem({event:n,itemId:e,keepExistingSelection:!0}):t.selectItem({event:n,itemId:e,shouldBeSelected:!0})}},handleCheckboxSelection:n=>{if(o||d)return;const i=n.nativeEvent.shiftKey;r&&i?t.expandSelectionRange(n,e):t.selectItem({event:n,itemId:e,keepExistingSelection:r,shouldBeSelected:n.target.checked})},handleContentClick:n,preventSelection:e=>{(e.shiftKey||e.ctrlKey||e.metaKey||d)&&e.preventDefault()},expansionTrigger:a,toggleItemEditing:f,handleSaveItemLabel:(n,r)=>{nZ(t,iZ)&&t.isItemBeingEditedRef(e)&&(t.updateItemLabel(e,r),f(),t.focusItem(n,e))},handleCancelItemLabelEditing:n=>{nZ(t,iZ)&&t.isItemBeingEditedRef(e)&&(f(),t.focusItem(n,e))}}}const CZ=Ay("div",{name:"MuiTreeItem2DragAndDropOverlay",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Jg(e)&&"action"!==e})((e=>{let{theme:t}=e;return{position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:t.shape.borderRadius,backgroundColor:t.vars?`rgba(${t.vars.palette.primary.darkChannel} / ${t.vars.palette.action.focusOpacity})`:hv(t.palette.primary.dark,t.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(t.vars||t).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(t.vars||t).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(t.vars||t).palette.action.active}`}}]}}));function EZ(e){return null==e.action?null:(0,Ty.jsx)(CZ,Yp({},e))}const SZ=Ay("input",{name:"MuiTreeItem2",slot:"LabelInput",overridesResolver:(e,t)=>t.labelInput})((e=>{let{theme:t}=e;return Yp({},t.typography.body1,{width:"100%",backgroundColor:t.palette.background.paper,borderRadius:t.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${t.palette.primary.main}`}})})),_Z=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown","dragAndDropOverlayProps","labelInputProps"],MZ=i.forwardRef((function(e,t){const{classes:n,className:r,displayIcon:o,expansionIcon:a,icon:s,label:l,itemId:c,onClick:u,onMouseDown:d,dragAndDropOverlayProps:h,labelInputProps:p}=e,f=Ly(e,_Z),{disabled:m,expanded:g,selected:v,focused:y,editing:b,editable:A,disableSelection:x,checkboxSelection:w,handleExpansion:C,handleSelection:E,handleCheckboxSelection:S,handleContentClick:_,preventSelection:M,expansionTrigger:I,toggleItemEditing:T}=wZ(c),R=s||a||o,k=i.useRef(null);return(0,Ty.jsxs)("div",Yp({},f,{className:ib(n.root,r,g&&n.expanded,v&&n.selected,y&&n.focused,m&&n.disabled,b&&n.editing,A&&n.editable),onClick:e=>{_?.(e,c),k.current?.contains(e.target)||("content"===I&&C(e),w||E(e),u&&u(e))},onMouseDown:e=>{M(e),d&&d(e)},ref:t,children:[(0,Ty.jsx)("div",{className:n.iconContainer,children:R}),w&&(0,Ty.jsx)(uW,{className:n.checkbox,checked:v,onChange:S,disabled:m||x,ref:k,tabIndex:-1}),b?(0,Ty.jsx)(SZ,Yp({},p,{className:n.labelInput})):(0,Ty.jsx)("div",Yp({className:n.label},A&&{onDoubleClick:e=>{e.defaultMuiPrevented||T()}},{children:l})),h&&(0,Ty.jsx)(EZ,Yp({},h))]}))}));function IZ(e){return lb("MuiTreeItem",e)}const TZ=cb("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label","checkbox","labelInput","editable","editing","dragAndDropOverlay"]),RZ=PA((0,Ty.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),kZ=PA((0,Ty.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function PZ(e){const{children:t,itemId:n}=e,{wrapItem:r,instance:i}=rZ();return r({children:t,itemId:n,instance:i})}PZ.propTypes={children:OO().node,itemId:OO().string.isRequired};const BZ=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],OZ=["ownerState"],LZ=["ownerState"],DZ=["ownerState"],NZ=vJ(),FZ=Ay("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),jZ=Ay(MZ,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${TZ.iconContainer}`]:t.iconContainer},t.label&&{[`& .${TZ.label}`]:t.label}],shouldForwardProp:e=>Jg(e)&&"indentationAtItemLevel"!==e})((e=>{let{theme:t}=e;return{padding:t.spacing(.5,1),borderRadius:t.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:t.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${TZ.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${TZ.focused}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${TZ.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hv(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:hv(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${TZ.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:hv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`& .${TZ.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${TZ.label}`]:Yp({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},t.typography.body1),[`& .${TZ.checkbox}`]:{padding:0},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${t.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}}]}})),UZ=Ay(xZ,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>Jg(e)&&"indentationAtItemLevel"!==e})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]}),zZ=i.forwardRef((function(e,t){const{icons:n,runItemPlugins:r,items:{disabledItemsFocusable:o,indentationAtItemLevel:a},selection:{disableSelection:s},expansion:{expansionTrigger:l},treeId:c,instance:u}=rZ(),d=i.useContext(PJ),h=NZ({props:e,name:"MuiTreeItem"}),{children:p,className:f,slots:m,slotProps:g,ContentComponent:v=MZ,ContentProps:y,itemId:b,id:A,label:x,onClick:w,onMouseDown:C,onBlur:E,onKeyDown:S}=h,_=Ly(h,BZ),{expanded:M,focused:I,selected:T,disabled:R,editing:k,handleExpansion:P,handleCancelItemLabelEditing:B,handleSaveItemLabel:O}=wZ(b);const{contentRef:L,rootRef:D,propsEnhancers:N}=r(h),F=i.useRef(null),j=i.useRef(null),U=Wp(t,D,F),z=Wp(y?.ref,L,j),H={expandIcon:m?.expandIcon??n.slots.expandIcon??RZ,collapseIcon:m?.collapseIcon??n.slots.collapseIcon??kZ,endIcon:m?.endIcon??n.slots.endIcon,icon:m?.icon,groupTransition:m?.groupTransition},V=e=>Array.isArray(e)?e.length>0&&e.some(V):Boolean(e),G=V(p),Q=Yp({},h,{expanded:M,focused:I,selected:T,disabled:R,indentationAtItemLevel:a}),W=(e=>{const{classes:t}=e;return Op({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],labelInput:["labelInput"],editing:["editing"],editable:["editable"],groupTransition:["groupTransition"]},IZ,t)})(Q),q=H.groupTransition??void 0,$=L_({elementType:q,ownerState:{},externalSlotProps:g?.groupTransition,additionalProps:Yp({unmountOnExit:!0,in:M,component:"ul",role:"group"},a?{indentationAtItemLevel:!0}:{}),className:W.groupTransition}),X=M?H.collapseIcon:H.expandIcon,K=Ly(L_({elementType:X,ownerState:{},externalSlotProps:e=>M?Yp({},Cb(n.slotProps.collapseIcon,e),Cb(g?.collapseIcon,e)):Yp({},Cb(n.slotProps.expandIcon,e),Cb(g?.expandIcon,e)),additionalProps:{onClick:e=>{"iconContainer"===l&&P(e)}}}),OZ),Y=G&&X?(0,Ty.jsx)(X,Yp({},K)):null,J=G?void 0:H.endIcon,Z=Ly(L_({elementType:J,ownerState:{},externalSlotProps:e=>G?{}:Yp({},Cb(n.slotProps.endIcon,e),Cb(g?.endIcon,e))}),LZ),ee=J?(0,Ty.jsx)(J,Yp({},Z)):null,te=H.icon,ne=Ly(L_({elementType:te,ownerState:{},externalSlotProps:g?.icon}),DZ),re=te?(0,Ty.jsx)(te,Yp({},ne)):null;let ie;ie=!!T||!(!s&&!R)&&void 0;const oe=wJ({itemId:b,treeId:c,id:A}),ae=u.canItemBeTabbed(b)?0:-1,se={rootRefObject:F,contentRefObject:j,interactions:{handleSaveItemLabel:O,handleCancelItemLabelEditing:B}},le=N.root?.(Yp({},se,{externalEventHandlers:Vp(_)}))??{},ce=N.content?.(Yp({},se,{externalEventHandlers:Vp(y)}))??{},ue=N.dragAndDropOverlay?.(Yp({},se,{externalEventHandlers:{}}))??{},de=N.labelInput?.(Yp({},se,{externalEventHandlers:{}}))??{};return(0,Ty.jsx)(PZ,{itemId:b,children:(0,Ty.jsxs)(FZ,Yp({className:ib(W.root,f),role:"treeitem","aria-expanded":G?M:void 0,"aria-selected":ie,"aria-disabled":R||void 0,id:oe,tabIndex:ae},_,{ownerState:Q,onFocus:function(e){!I&&(!R||o)&&e.currentTarget===e.target&&u.focusItem(e,b)},onBlur:function(e){E?.(e),k||e.relatedTarget&&GJ(e.relatedTarget,F.current)&&(e.target&&"labelInput"===e.target?.dataset?.element&&GJ(e.target,F.current)||"labelInput"===e.relatedTarget?.dataset?.element)||u.removeFocusedItem()},onKeyDown:e=>{S?.(e),"labelInput"!==e.target?.dataset?.element&&u.handleItemKeyDown(e,b)},ref:U,style:a?Yp({},_.style,{"--TreeView-itemDepth":"function"===typeof d?d(b):d}):_.style},le,{children:[(0,Ty.jsx)(jZ,Yp({as:v,classes:{root:W.content,expanded:W.expanded,selected:W.selected,focused:W.focused,disabled:W.disabled,editable:W.editable,editing:W.editing,iconContainer:W.iconContainer,label:W.label,labelInput:W.labelInput,checkbox:W.checkbox},label:x,itemId:b,onClick:w,onMouseDown:C,icon:re,expansionIcon:Y,displayIcon:ee,ownerState:Q},y,ce,null==ue.action?{}:{dragAndDropOverlayProps:ue},null==de.value?{}:{labelInputProps:de},{ref:z})),p&&(0,Ty.jsx)(UZ,Yp({as:q},$,{children:p}))]}))})})),HZ=()=>{const e=Ey(),{user:t}=(0,i.useContext)(hO),{showAlert:n}=qA(),[r,o]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[h,p]=(0,i.useState)(""),[f,m]=(0,i.useState)(""),[g,v]=(0,i.useState)("_Standard"),[y,b]=(0,i.useState)(""),[A,x]=(0,i.useState)(1),[w,C]=(0,i.useState)(null),[E,S]=(0,i.useState)(null),[_,M]=(0,i.useState)([]),[I,T]=(0,i.useState)(""),[R,k]=(0,i.useState)(!1),[P,B]=(0,i.useState)(!1),[O,L]=(0,i.useState)(""),[D,N]=(0,i.useState)([]),[F,j]=(0,i.useState)(0),[U,z]=(0,i.useState)(!1),[H,V]=(0,i.useState)(0),[G,Q]=(0,i.useState)(F),[W,q]=(0,i.useState)([]),[$,X]=(0,i.useState)(!1),[K,Y]=(0,i.useState)([]),[J,Z]=(0,i.useState)(""),[ee,te]=(0,i.useState)(""),[ne,re]=(0,i.useState)(l),[ie,oe]=(0,i.useState)(!1),ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:1};const r=[];if(!e||"object"!==typeof e)return r;for(const[i,o]of Object.entries(e)){if(!o||"object"!==typeof o)continue;const e=`${t}-${n.id++}`,a={id:e,name:i,"Required Quantity":o["Required Quantity"]||"N/A","Produced In":o["Produced In"]||"N/A","No. of Machines":o["No. of Machines"]||"N/A",children:o.Subtree&&"object"===typeof o.Subtree?ae(o.Subtree,e,n):[]};console.log("Current Node:",i,"Unique id:",e,"Subtree:",o.Subtree),a.id&&"undefined"!==a.id||console.error("Node with missing ID:",a),r.push(a)}return r},se=e=>(console.log("Rendering Tree Data:"),e.map((e=>e.id&&"undefined"!==e.id?(console.log("Rendering Node:",e.id,e.name),(0,Ty.jsx)(zZ,{itemId:e.id,nodeid:e.id,label:(0,Ty.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Ty.jsx)("strong",{children:e.name}),(0,Ty.jsxs)("span",{children:["Qty: ",e["Required Quantity"]]}),(0,Ty.jsxs)("span",{children:["Produced In: ",e["Produced In"]]}),(0,Ty.jsxs)("span",{children:["No. of Machines: ",e["No. of Machines"]]}),(0,Ty.jsxs)("span",{children:["Recipe: ",e.Recipe]})]}),children:e.children.length>0&&se(e.children)},e.id)):(console.error("Attempting to render a node with invalid ID:",e),null)))),le=()=>{if(!_.length)return(0,Ty.jsx)(Tk,{children:"No data to display"});const e=ce(_);return(0,Ty.jsx)("div",{id:"treeWrapper",style:{width:"100%",height:"600px"},children:(0,Ty.jsx)(VY,{data:e,orientation:"vertical",translate:{x:400,y:50},nodeSize:{x:200,y:100},pathFunc:"straight"})})},ce=e=>{const t={};return{name:"Root",children:e.map((n=>ue(e,n,t)))}},ue=(e,t,n)=>{const r=t.id;if(n[r])return n[r];const i={name:t.Node,attributes:{"Required Quantity":t["Required Quantity"],"Produced In":t["Produced In"],"No. of Machines":t["No. of Machines"],Recipe:t.Recipe},children:e.filter((e=>e.Parent===t.Node)).map((t=>ue(e,t,n)))};return n[r]=i,i},de=_.map(((e,t)=>({id:t,parent:e.Parent,node:e.Node,level:e.Level,requiredQuantity:e["Required Quantity"],producedIn:e["Produced In"],machines:e["No. of Machines"],recipe:e.Recipe}))),he=e=>{let t=[];return Array.isArray(e)?e.forEach((e=>{t.push(e.id),e.children&&e.children.length>0&&(t=t.concat(he(e.children)))})):e&&"object"===typeof e&&(t.push(e.id),e.children&&e.children.length>0&&(t=t.concat(he(e.children)))),t},pe=()=>{if(E){const e=he(E);N(e),B(!0)}},fe=()=>{N([]),k(!0)};(0,i.useEffect)((()=>{(async()=>{try{console.log("Getting Part Names",UC.part_names);const e=(await dO.get(UC.part_names)).data;o(Array.isArray(e)?e:[]),console.log("Getting Alt Recipes",UC.alternate_recipe);const t=await dO.get(UC.alternate_recipe);s(t.data),c(t.data)}catch(e){console.error("Failed to fetch parts or recipes:",e),o([]),s([])}})()}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=(await dO.get(UC.selected_recipes)).data.map((e=>e.recipe_id));d(e)}catch(I){console.error("Error fetching recipes:",I)}})()}),[]),(0,i.useEffect)((()=>{(()=>{let e=a;J&&(e=e.filter((e=>e.part_name===J))),ee&&(e=e.filter((e=>e.recipe_name===ee))),c(e)})()}),[J,ee,a]);const me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[];return Object.keys(e).forEach((i=>{const o=e[i];r.push({Parent:t||"Root",Node:i,Level:n,"Required Quantity":o["Required Quantity"]||"N/A","Produced In":o["Produced In"]||"N/A","No. of Machines":o["No. of Machines"]||"N/A",Recipe:o.Recipe||"N/A"}),o.Subtree&&r.push(...me(o.Subtree,i,n+1))})),r},ge=async()=>{if(0!==K.length)try{await Promise.all(K.map((e=>dO.delete(`${UC.tracker_data}/${e}`)))),n("success","Selected items deleted successfully."),ye(),Y([])}catch(I){console.error("Error deleting selected items:",I),n("error","Failed to delete selected items. Please try again.")}else n("warning","Please select at least one item to delete.")},ve=e=>{const{id:t,target_quantity:r}=e;return(async(e,t)=>{try{await dO.put(`${UC.tracker_data}/${e}`,{target_quantity:t}),n("success","Quantity updated successfully."),ye()}catch(I){console.error("Error updating tracker item:",I),n("error","Failed to update quantity. Please try again.")}})(t,r),e};(0,i.useEffect)((()=>{ye()}),[]);const ye=async()=>{X(!0);try{const e=await dO.get(UC.tracker_data);q(e.data)}catch(I){console.error("Error fetching tracker data:",I)}finally{X(!1)}},be=[...new Set(a.map((e=>e.part_name)))],Ae=[...new Set(a.map((e=>e.recipe_name)))];return(0,Ty.jsxs)(pk,{sx:{display:"flex",height:"100vh"},children:[(0,Ty.jsxs)(pk,{sx:{flex:O?3:4,width:`calc(100% - ${F}px)`,transition:U?"none":"width 0.2s ease",padding:e.spacing(2),backgroundColor:e.palette.background,color:e.palette.text.primary,overflow:"hidden"},children:[(0,Ty.jsxs)(pk,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:e.spacing(2),marginBottom:e.spacing(2)},children:[(0,Ty.jsxs)(pk,{sx:{display:"flex",flexDirection:"column"},children:[(0,Ty.jsx)("label",{style:{marginBottom:e.spacing(.5)},children:"Select Part:"}),(0,Ty.jsxs)("select",{value:h,onChange:e=>p(e.target.value),style:{padding:e.spacing(1),borderRadius:e.shape.borderRadius,border:`1px solid ${e.palette.text.disabled}`,background:e.palette.background.dropdown,color:e.palette.text.dropdown},children:[(0,Ty.jsx)("option",{value:"",children:"-- Select a Part --"}),r.map((e=>(0,Ty.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,Ty.jsxs)(pk,{sx:{display:"flex",flexDirection:"column"},children:[(0,Ty.jsx)("label",{style:{marginBottom:e.spacing(.5)},children:"Target Quantity Per Minute:"}),(0,Ty.jsx)("input",{type:"number",placeholder:"Enter Quantity",value:A,onChange:e=>x(e.target.value),style:{padding:e.spacing(1),borderRadius:e.shape.borderRadius,border:`1px solid ${e.palette.text.disabled}`,background:e.palette.background.dropdown,color:e.palette.text.dropdown}})]})]}),(0,Ty.jsx)(IO,{variant:"contained",onClick:async()=>{try{const e=await dO.get(UC.build_tree,{params:{part_id:h,recipe_name:g,target_quantity:A}});e.data;C(e.data),M(me(e.data)),S(ae(e.data)),console.log("Fetched Tree Data:",e.data,w)}catch(I){T("Failed to fetch dependency tree. Check console for details."),console.error("Error fetching dependency tree:",I)}},disabled:!h,sx:{marginBottom:e.spacing(2)},children:"Fetch Dependencies"}),(0,Ty.jsx)(pk,{sx:{height:650,width:"100%"},children:(0,Ty.jsx)(mq,{density:"compact",rows:de,columns:[{field:"id",headerName:"ID",flex:1},{field:"parent",headerName:"Part",flex:1},{field:"node",headerName:"Ingredient",flex:1},{field:"level",headerName:"Level",flex:1,type:"number"},{field:"requiredQuantity",headerName:"Required Quantity",flex:1,type:"number"},{field:"producedIn",headerName:"Produced In",flex:1},{field:"machines",headerName:"No. of Machines",flex:1,type:"number"},{field:"recipe",headerName:"Recipe Name",flex:1}],loading:$})})]}),(0,Ty.jsx)(pk,{sx:{width:O?`${F}px`:"0px",transition:U?"none":"width 0.2s ease",borderLeft:`2px solid ${e.palette.text.disabled}`,overflow:"hidden",backgroundColor:e.palette.background,color:e.palette.text.primary},children:O&&(0,Ty.jsx)(pk,{sx:{padding:e.spacing(2),height:"100%",overflowY:"auto"},children:(0,Ty.jsx)(pb,{sx:{padding:e.spacing(2),backgroundColor:e.palette.background,color:e.palette.text.primary,borderRadius:e.shape.borderRadius},children:(()=>{switch(O){case"alternateRecipes":const i=ie?l.filter((e=>u.includes(e.recipe_id))):l;return(0,Ty.jsxs)("div",{children:[(0,Ty.jsx)(Tk,{variant:"h2",gutterBottom:!0,children:"Alternate Recipes"}),(0,Ty.jsxs)(pk,{sx:{display:"flex",gap:e.spacing(1),marginBottom:e.spacing(1),alignItems:"center"},children:[(0,Ty.jsxs)("div",{children:[(0,Ty.jsx)("label",{children:"Filter by Part:"}),(0,Ty.jsxs)("select",{value:J,onChange:e=>Z(e.target.value),children:[(0,Ty.jsx)("option",{value:"",children:"-- Select Part --"}),be.map(((e,t)=>(0,Ty.jsx)("option",{value:e,children:e},t)))]})]}),(0,Ty.jsxs)("div",{children:[(0,Ty.jsx)("label",{children:"Filter by Recipe:"}),(0,Ty.jsxs)("select",{value:ee,onChange:e=>te(e.target.value),children:[(0,Ty.jsx)("option",{value:"",children:"-- Select Recipe --"}),Ae.map(((e,t)=>(0,Ty.jsx)("option",{value:e,children:e},t)))]})]})]}),(0,Ty.jsx)(pk,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginTop:e.spacing(8)},children:(0,Ty.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:e.spacing(1)},children:["Show Selected Only",(0,Ty.jsx)("input",{type:"checkbox",checked:ie,onChange:e=>oe(e.target.checked)})]})}),(0,Ty.jsx)(qY,{component:pb,sx:{marginTop:e.spacing(1),maxHeight:"700px",overflow:"auto"},children:(0,Ty.jsxs)(JY,{stickyHeader:!0,children:[(0,Ty.jsx)(iJ,{children:(0,Ty.jsxs)(uJ,{children:[(0,Ty.jsx)(LV,{children:"Part"}),(0,Ty.jsx)(LV,{children:"Recipe"}),(0,Ty.jsx)(LV,{children:"Select"})]})}),(0,Ty.jsx)(gJ,{children:i.map(((e,t)=>(0,Ty.jsxs)(uJ,{children:[(0,Ty.jsx)(LV,{children:e.part_name}),(0,Ty.jsx)(LV,{children:e.recipe_name}),(0,Ty.jsx)(LV,{children:(0,Ty.jsx)(uW,{checked:u.includes(e.recipe_id),onChange:()=>(async(e,t)=>{const r=u.includes(e),i=r?u.filter((t=>t!==e)):[...u,e];d(i);try{if(r){const t=await dO.delete(`${UC.selected_recipes}/${e}`);200===t.status?(n("success","Recipe removed successfully."),console.log("Recipe removed successfully."),d(u.filter((t=>t!==e)))):console.error("Unexpected response from backend:",t)}else{const r=await dO.post(UC.selected_recipes,{part_id:t,recipe_id:e});200===r.status?(n("success","Recipe added successfully."),console.log("Recipe added successfully.")):console.error("Unexpected response from backend:",r)}}catch(I){console.error("Error updating selected recipe:",I),n("error","Failed to update selected recipe.")}})(e.recipe_id,e.part_id)})})]},t)))})]})})]});case"visualiseTree":return(0,Ty.jsxs)("div",{children:[(0,Ty.jsxs)(Tk,{children:[" ",(0,Ty.jsx)("strong",{children:"Visualise Tree:"})," "]}),(0,Ty.jsxs)(pk,{sx:{display:"flex",gap:e.spacing(1),mb:e.spacing(1)},children:[(0,Ty.jsx)(IO,{variant:"contained",onClick:pe,children:"Expand All"}),(0,Ty.jsx)(IO,{variant:"contained",onClick:fe,children:"Collapse All"})]}),(0,Ty.jsx)(pk,{sx:{overflowY:"auto"},children:E.length>0?(0,Ty.jsx)(mZ,{sx:{defaultCollapseIcon:"\ud83d\udd3d",defaultExpandIcon:"\u25b6"},expandedItems:D,onExpandedItemsChange:(e,t)=>N(t),children:se(E)}):(0,Ty.jsx)(Tk,{children:"No data to display"})})]});case"spiderDiagram":return(0,Ty.jsxs)("div",{children:[(0,Ty.jsx)(Tk,{variant:"h2",gutterBottom:!0,children:"Spider Diagram"}),le()]});case"tracker":const o=Number(h),a=r.find((e=>e.id===o)),s=a?a.name:"Unknown Part";console.log("User",t,"Part Data:",r,"Selected Part ID:",o,"Part Name:",s);const c=[{field:"part_name",headerName:"Part",flex:1},{field:"recipe_name",headerName:"Recipe",flex:1},{field:"target_quantity",headerName:"Target Quantity",flex:1,type:"number",editable:!0},{field:"created_at",headerName:"Created At",flex:1},{field:"updated_at",headerName:"Updated At",flex:1}],p=W.map(((e,t)=>({id:e.id||t,...e})));return(0,Ty.jsxs)(pk,{children:[(0,Ty.jsx)(Tk,{variant:"h2",gutterBottom:!0,children:"My Tracker Data"}),(0,Ty.jsxs)(pk,{sx:{display:"flex",alignItems:"center",marginBottom:e.spacing(2)},children:[w?(0,Ty.jsxs)(Tk,{variant:"body1",children:[s,", ",g]}):(0,Ty.jsx)(Tk,{variant:"body1",children:"No Part Selected"}),(0,Ty.jsx)(IO,{variant:"contained",sx:{marginLeft:e.spacing(2)},onClick:()=>(async(e,r,i)=>{if(t)try{console.log("Fetching Recipe ID for Part:",e,"and Recipe Name:",i);const t=(await dO.get(UC.get_recipe_id(e),{params:{recipe_name:i}})).data;if(0===t.length)return void n("warning","No recipe found for the selected part and recipe name.");const o=t[0].id;console.log("Retrieved Recipe ID:",o),console.log("Adding Part to Tracker:",e,r,o);const a=await dO.post(UC.add_to_tracker,{partId:e,targetQuantity:r,recipeId:o});200===a.status?(console.log("Part added to tracker:",a.data),n("success","Part added to your tracker!"),ye()):n("error",a.data.error||"Failed to add part to tracker.")}catch(I){console.error("Error adding part to tracker:",I),n("error","Failed to add part to tracker. Please log in.")}else window.location.href="/login"})(o,A,g),disabled:!w,children:"Add to My Tracker"})]},h),(0,Ty.jsxs)(pk,{children:[(0,Ty.jsxs)(Tk,{variant:"body3",gutterBottom:!0,children:["* Double-click on the ",(0,Ty.jsx)("strong",{children:"Target Quantity"})," field to edit. Press Enter to save."]}),(0,Ty.jsx)("div",{style:{height:600,width:"100%"},children:(0,Ty.jsx)(mq,{density:"compact",rows:p,columns:c,loading:$,onRowSelectionModelChange:e=>Y(e),processRowUpdate:ve,experimentalFeatures:{newEditingApi:!0}})})]}),(0,Ty.jsx)(pk,{sx:{marginTop:e.spacing(2),textAlign:"right"},children:(0,Ty.jsx)(IO,{variant:"contained",color:"error",onClick:ge,disabled:0===K.length,children:"Delete Selected"})})]})}})()})})}),(0,Ty.jsx)(pk,{sx:{width:"100px",display:"flex",flexDirection:"column",backgroundColor:e.palette.background,borderLeft:`2px solid ${e.palette.text.disabled}`},children:[{id:"alternateRecipes",label:"Alternate Recipes"},{id:"visualiseTree",label:"Visualise Tree",disabled:!w}].map((t=>(0,Ty.jsx)(IO,{onClick:()=>(e=>{L((t=>t===e?(j(0),""):(0===F&&j(700),e)))})(t.id),disabled:t.disabled,sx:{textAlign:"center",padding:e.spacing(4),gap:e.spacing(1),borderRadius:e.shape.borderRadius,backgroundColor:(t.id,e.palette.button.main),color:(t.id,e.palette.button.contrastText),"&:hover":{backgroundColor:e.palette.button.hover,color:e.palette.button.contrastText}},children:t.label},t.id)))})]})};dO.defaults.withCredentials=!0;console.log("SignupPage Loaded!");const VZ=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),p=Vx(),f="6LeyCZ0qAAAAAAj6Hid0OE_wtQsoTd57FfSskc3k",[m,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{console.log("reCAPTCHA container state:",document.getElementById("recaptcha-container")),window.grecaptcha&&!m&&(console.log("reCAPTCHA script loaded."),window.grecaptcha.ready((()=>{console.log("reCAPTCHA is ready.");const e=document.getElementById("recaptcha-container");if(e&&e.hasChildNodes()){if(!!e.querySelector("iframe"))return void console.log("reCAPTCHA already rendered. Skipping...");console.log("Clearing reCAPTCHA container..."),e.innerHTML=""}console.log("Rendering reCAPTCHA..."),window.grecaptcha.render("recaptcha-container",{sitekey:f}),g(!0)})))}),[f,m]);return(0,Ty.jsx)(pk,{sx:{background:"linear-gradient(to right, #0A4B3E, #000000)",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:4},children:(0,Ty.jsxs)(pk,{sx:{background:"background.paper",padding:4,borderRadius:2,boxShadow:3,width:"100%",maxWidth:400},children:[(0,Ty.jsx)(Tk,{variant:"h1",color:"primary",align:"center",gutterBottom:!0,children:"Sign Up"}),s&&(0,Ty.jsx)(GA,{severity:"error",sx:{mb:2},children:s}),c&&(0,Ty.jsx)(GA,{severity:"success",sx:{mb:2},children:c}),(0,Ty.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),h(!0),l(""),u("");const r=window.grecaptcha.getResponse();if(!r)return l("Please complete the reCAPTCHA."),void h(!1);try{const t=await dO.post(UC.signup,{username:e,email:n,password:o,recaptcha_token:r});u(t.data.message||"Account created successfully! Redirecting to login page..."),setTimeout((()=>p("/login")),2e3)}catch(s){var i,a;l((null===(i=s.response)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message)||"Signup failed. Please try again.")}finally{h(!1)}},children:[(0,Ty.jsx)(GR,{label:"Username",value:e,onChange:e=>t(e.target.value),fullWidth:!0,required:!0,margin:"normal"}),(0,Ty.jsx)(GR,{label:"Email",type:"email",value:n,onChange:e=>r(e.target.value),fullWidth:!0,required:!0,margin:"normal"}),(0,Ty.jsx)(GR,{label:"Password",type:"password",value:o,onChange:e=>a(e.target.value),fullWidth:!0,required:!0,margin:"normal"}),(0,Ty.jsx)("div",{id:"recaptcha-container"}),(0,Ty.jsx)(IO,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,sx:{mt:2},disabled:d,children:d?"Signing up...":"Sign Up"})]}),(0,Ty.jsxs)(Tk,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:["Already have an account? ",(0,Ty.jsx)(IO,{variant:"text",onClick:()=>p("/login"),color:"secondary",children:"Log in"})]})]})})};var GZ,QZ;function WZ(){return WZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WZ.apply(null,arguments)}function qZ(e,t){let{title:n,titleId:r,...o}=e;return i.createElement("svg",WZ({width:71,height:55,viewBox:"0 0 71 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,GZ||(GZ=i.createElement("g",{clipPath:"url(#clip0)"},i.createElement("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"#ffffff"}))),QZ||(QZ=i.createElement("defs",null,i.createElement("clipPath",{id:"clip0"},i.createElement("rect",{width:71,height:55,fill:"white"})))))}const $Z=i.forwardRef(qZ);n.p;var XZ;function KZ(){return KZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KZ.apply(null,arguments)}function YZ(e,t){let{title:n,titleId:r,...o}=e;return i.createElement("svg",KZ({viewBox:"0 0 98 96",width:24,height:24,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,XZ||(XZ=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"#fff"})))}const JZ=i.forwardRef(YZ),ZZ=(n.p,PA((0,Ty.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout")),e0=PA((0,Ty.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),t0=PA((0,Ty.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),n0=PA((0,Ty.jsx)("path",{d:"M19 7H9c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m0 2v2H9V9zm-6 6v-2h2v2zm2 2v2h-2v-2zm-4-2H9v-2h2zm6-2h2v2h-2zm-8 4h2v2H9zm8 2v-2h2v2zM6 17H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v1h-2V5H5v10h1z"}),"TableView"),r0=PA((0,Ty.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),i0=PA((0,Ty.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),o0=PA((0,Ty.jsx)("path",{d:"m2 19.99 7.5-7.51 4 4 7.09-7.97L22 9.92l-8.5 9.56-4-4-6 6.01zm1.5-4.5 6-6.01 4 4L22 3.92l-1.41-1.41-7.09 7.97-4-4L2 13.99z"}),"StackedLineChart"),a0=PA((0,Ty.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9h-4v4h-2v-4H9V9h4V5h2v4h4z"}),"LibraryAdd"),s0=PA((0,Ty.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment"),l0=PA((0,Ty.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),c0=PA((0,Ty.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.88 15.76V19h-1.75v-1.29c-.74-.18-2.39-.77-3.02-2.96l1.65-.67c.06.22.58 2.09 2.4 2.09.93 0 1.98-.48 1.98-1.61 0-.96-.7-1.46-2.28-2.03-1.1-.39-3.35-1.03-3.35-3.31 0-.1.01-2.4 2.62-2.96V5h1.75v1.24c1.84.32 2.51 1.79 2.66 2.23l-1.58.67c-.11-.35-.59-1.34-1.9-1.34-.7 0-1.81.37-1.81 1.39 0 .95.86 1.31 2.64 1.9 2.4.83 3.01 2.05 3.01 3.45 0 2.63-2.5 3.13-3.02 3.22"}),"Paid");var u0=n(7514),d0={},h0=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(d0[i])return d0[i];var o=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return d0[i]=o,o},p0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0=function(e){var t=e.white,n=e.grey,r=e.size,o=e.renderers,a=e.borderRadius,s=e.boxShadow,l=e.children,c=(0,u0.Ay)({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+h0(t,n,r,o.canvas)+") center left"}}});return(0,i.isValidElement)(l)?i.cloneElement(l,p0({},l.props,{style:p0({},l.props.style,c.grid)})):i.createElement("div",{style:c.grid})};f0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const m0=f0;var g0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var b0=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y0(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=function(e,t,n,r,i){var o=i.clientWidth,a=i.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),u=l-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=u<0?0:u>a?1:Math.round(100*u/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var h=void 0;if(r!==(h=c<0?0:c>o?1:Math.round(100*c/o)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null}(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},y0(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v0(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,u0.Ay)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:g0({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return i.createElement("div",{style:n.alpha},i.createElement("div",{style:n.checkboard},i.createElement(m0,{renderers:this.props.renderers})),i.createElement("div",{style:n.gradient}),i.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.createElement("div",{style:n.pointer},this.props.pointer?i.createElement(this.props.pointer,this.props):i.createElement("div",{style:n.slider}))))}}]),t}(i.PureComponent||i.Component);const A0=b0;var x0=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w0=[38,40],C0=1,E0=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,w0.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+C0++,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),x0(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,u0.Ay)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.createElement("div",{style:t.wrap},i.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);const S0=E0;var _0=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function M0(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var I0=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=M0(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=function(e,t,n,r){var i=r.clientWidth,o=r.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),c=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(u=c<0?359:c>o?0:360*(-100*c/o+100)/100,n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d=void 0;if(d=l<0?0:l>i?359:100*l/i*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},M0(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_0(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,u0.Ay)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.createElement("div",{style:r.hue},i.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.createElement("div",{style:r.pointer},this.props.pointer?i.createElement(this.props.pointer,this.props):i.createElement("div",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);const T0=I0;const R0=function(){this.__data__=[],this.size=0};const k0=function(e,t){return e===t||e!==e&&t!==t};const P0=function(e,t){for(var n=e.length;n--;)if(k0(e[n][0],t))return n;return-1};var B0=Array.prototype.splice;const O0=function(e){var t=this.__data__,n=P0(t,e);return!(n<0)&&(n==t.length-1?t.pop():B0.call(t,n,1),--this.size,!0)};const L0=function(e){var t=this.__data__,n=P0(t,e);return n<0?void 0:t[n][1]};const D0=function(e){return P0(this.__data__,e)>-1};const N0=function(e,t){var n=this.__data__,r=P0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function F0(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}F0.prototype.clear=R0,F0.prototype.delete=O0,F0.prototype.get=L0,F0.prototype.has=D0,F0.prototype.set=N0;const j0=F0;const U0=function(){this.__data__=new j0,this.size=0};const z0=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const H0=function(e){return this.__data__.get(e)};const V0=function(e){return this.__data__.has(e)};const G0="object"==typeof global&&global&&global.Object===Object&&global;var Q0="object"==typeof self&&self&&self.Object===Object&&self;const W0=G0||Q0||Function("return this")();const q0=W0.Symbol;var $0=Object.prototype,X0=$0.hasOwnProperty,K0=$0.toString,Y0=q0?q0.toStringTag:void 0;const J0=function(e){var t=X0.call(e,Y0),n=e[Y0];try{e[Y0]=void 0;var r=!0}catch(z_e){}var i=K0.call(e);return r&&(t?e[Y0]=n:delete e[Y0]),i};var Z0=Object.prototype.toString;const e1=function(e){return Z0.call(e)};var t1=q0?q0.toStringTag:void 0;const n1=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":t1&&t1 in Object(e)?J0(e):e1(e)};const r1=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const i1=function(e){if(!r1(e))return!1;var t=n1(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const o1=W0["__core-js_shared__"];var a1=function(){var e=/[^.]+$/.exec(o1&&o1.keys&&o1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const s1=function(e){return!!a1&&a1 in e};var l1=Function.prototype.toString;const c1=function(e){if(null!=e){try{return l1.call(e)}catch(z_e){}try{return e+""}catch(z_e){}}return""};var u1=/^\[object .+?Constructor\]$/,d1=Function.prototype,h1=Object.prototype,p1=d1.toString,f1=h1.hasOwnProperty,m1=RegExp("^"+p1.call(f1).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const g1=function(e){return!(!r1(e)||s1(e))&&(i1(e)?m1:u1).test(c1(e))};const v1=function(e,t){return null==e?void 0:e[t]};const y1=function(e,t){var n=v1(e,t);return g1(n)?n:void 0};const b1=y1(W0,"Map");const A1=y1(Object,"create");const x1=function(){this.__data__=A1?A1(null):{},this.size=0};const w1=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var C1=Object.prototype.hasOwnProperty;const E1=function(e){var t=this.__data__;if(A1){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return C1.call(t,e)?t[e]:void 0};var S1=Object.prototype.hasOwnProperty;const _1=function(e){var t=this.__data__;return A1?void 0!==t[e]:S1.call(t,e)};const M1=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=A1&&void 0===t?"__lodash_hash_undefined__":t,this};function I1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I1.prototype.clear=x1,I1.prototype.delete=w1,I1.prototype.get=E1,I1.prototype.has=_1,I1.prototype.set=M1;const T1=I1;const R1=function(){this.size=0,this.__data__={hash:new T1,map:new(b1||j0),string:new T1}};const k1=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const P1=function(e,t){var n=e.__data__;return k1(t)?n["string"==typeof t?"string":"hash"]:n.map};const B1=function(e){var t=P1(this,e).delete(e);return this.size-=t?1:0,t};const O1=function(e){return P1(this,e).get(e)};const L1=function(e){return P1(this,e).has(e)};const D1=function(e,t){var n=P1(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function N1(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}N1.prototype.clear=R1,N1.prototype.delete=B1,N1.prototype.get=O1,N1.prototype.has=L1,N1.prototype.set=D1;const F1=N1;const j1=function(e,t){var n=this.__data__;if(n instanceof j0){var r=n.__data__;if(!b1||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new F1(r)}return n.set(e,t),this.size=n.size,this};function U1(e){var t=this.__data__=new j0(e);this.size=t.size}U1.prototype.clear=U0,U1.prototype.delete=z0,U1.prototype.get=H0,U1.prototype.has=V0,U1.prototype.set=j1;const z1=U1;const H1=function(){try{var e=y1(Object,"defineProperty");return e({},"",{}),e}catch(z_e){}}();const V1=function(e,t,n){"__proto__"==t&&H1?H1(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const G1=function(e,t,n){(void 0!==n&&!k0(e[t],n)||void 0===n&&!(t in e))&&V1(e,t,n)};const Q1=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}};const W1=Q1();var q1="object"==typeof exports&&exports&&!exports.nodeType&&exports,$1=q1&&"object"==typeof module&&module&&!module.nodeType&&module,X1=$1&&$1.exports===q1?W0.Buffer:void 0,K1=X1?X1.allocUnsafe:void 0;const Y1=function(e,t){if(t)return e.slice();var n=e.length,r=K1?K1(n):new e.constructor(n);return e.copy(r),r};const J1=W0.Uint8Array;const Z1=function(e){var t=new e.constructor(e.byteLength);return new J1(t).set(new J1(e)),t};const e2=function(e,t){var n=t?Z1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const t2=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var n2=Object.create,r2=function(){function e(){}return function(t){if(!r1(t))return{};if(n2)return n2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const i2=r2;const o2=function(e,t){return function(n){return e(t(n))}};const a2=o2(Object.getPrototypeOf,Object);var s2=Object.prototype;const l2=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s2)};const c2=function(e){return"function"!=typeof e.constructor||l2(e)?{}:i2(a2(e))};const u2=function(e){return null!=e&&"object"==typeof e};const d2=function(e){return u2(e)&&"[object Arguments]"==n1(e)};var h2=Object.prototype,p2=h2.hasOwnProperty,f2=h2.propertyIsEnumerable,m2=d2(function(){return arguments}())?d2:function(e){return u2(e)&&p2.call(e,"callee")&&!f2.call(e,"callee")};const g2=m2;const v2=Array.isArray;const y2=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const b2=function(e){return null!=e&&y2(e.length)&&!i1(e)};const A2=function(e){return u2(e)&&b2(e)};const x2=function(){return!1};var w2="object"==typeof exports&&exports&&!exports.nodeType&&exports,C2=w2&&"object"==typeof module&&module&&!module.nodeType&&module,E2=C2&&C2.exports===w2?W0.Buffer:void 0;const S2=(E2?E2.isBuffer:void 0)||x2;var _2=Function.prototype,M2=Object.prototype,I2=_2.toString,T2=M2.hasOwnProperty,R2=I2.call(Object);const k2=function(e){if(!u2(e)||"[object Object]"!=n1(e))return!1;var t=a2(e);if(null===t)return!0;var n=T2.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&I2.call(n)==R2};var P2={};P2["[object Float32Array]"]=P2["[object Float64Array]"]=P2["[object Int8Array]"]=P2["[object Int16Array]"]=P2["[object Int32Array]"]=P2["[object Uint8Array]"]=P2["[object Uint8ClampedArray]"]=P2["[object Uint16Array]"]=P2["[object Uint32Array]"]=!0,P2["[object Arguments]"]=P2["[object Array]"]=P2["[object ArrayBuffer]"]=P2["[object Boolean]"]=P2["[object DataView]"]=P2["[object Date]"]=P2["[object Error]"]=P2["[object Function]"]=P2["[object Map]"]=P2["[object Number]"]=P2["[object Object]"]=P2["[object RegExp]"]=P2["[object Set]"]=P2["[object String]"]=P2["[object WeakMap]"]=!1;const B2=function(e){return u2(e)&&y2(e.length)&&!!P2[n1(e)]};const O2=function(e){return function(t){return e(t)}};var L2="object"==typeof exports&&exports&&!exports.nodeType&&exports,D2=L2&&"object"==typeof module&&module&&!module.nodeType&&module,N2=D2&&D2.exports===L2&&G0.process,F2=function(){try{var e=D2&&D2.require&&D2.require("util").types;return e||N2&&N2.binding&&N2.binding("util")}catch(z_e){}}();var j2=F2&&F2.isTypedArray;const U2=j2?O2(j2):B2;const z2=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var H2=Object.prototype.hasOwnProperty;const V2=function(e,t,n){var r=e[t];H2.call(e,t)&&k0(r,n)&&(void 0!==n||t in e)||V1(e,t,n)};const G2=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?V1(n,s,l):V2(n,s,l)}return n};const Q2=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var W2=/^(?:0|[1-9]\d*)$/;const q2=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&W2.test(e))&&e>-1&&e%1==0&&e<t};var $2=Object.prototype.hasOwnProperty;const X2=function(e,t){var n=v2(e),r=!n&&g2(e),i=!n&&!r&&S2(e),o=!n&&!r&&!i&&U2(e),a=n||r||i||o,s=a?Q2(e.length,String):[],l=s.length;for(var c in e)!t&&!$2.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||q2(c,l))||s.push(c);return s};const K2=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var Y2=Object.prototype.hasOwnProperty;const J2=function(e){if(!r1(e))return K2(e);var t=l2(e),n=[];for(var r in e)("constructor"!=r||!t&&Y2.call(e,r))&&n.push(r);return n};const Z2=function(e){return b2(e)?X2(e,!0):J2(e)};const e3=function(e){return G2(e,Z2(e))};const t3=function(e,t,n,r,i,o,a){var s=z2(e,n),l=z2(t,n),c=a.get(l);if(c)G1(e,n,c);else{var u=o?o(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var h=v2(l),p=!h&&S2(l),f=!h&&!p&&U2(l);u=l,h||p||f?v2(s)?u=s:A2(s)?u=t2(s):p?(d=!1,u=Y1(l,!0)):f?(d=!1,u=e2(l,!0)):u=[]:k2(l)||g2(l)?(u=s,g2(s)?u=e3(s):r1(s)&&!i1(s)||(u=c2(l))):d=!1}d&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),G1(e,n,u)}};const n3=function e(t,n,r,i,o){t!==n&&W1(n,(function(a,s){if(o||(o=new z1),r1(a))t3(t,n,s,r,e,i,o);else{var l=i?i(z2(t,s),a,s+"",t,n,o):void 0;void 0===l&&(l=a),G1(t,s,l)}}),Z2)};const r3=function(e){return e};const i3=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var o3=Math.max;const a3=function(e,t,n){return t=o3(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=o3(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),i3(e,this,s)}};const s3=function(e){return function(){return e}};var l3=H1?function(e,t){return H1(e,"toString",{configurable:!0,enumerable:!1,value:s3(t),writable:!0})}:r3;const c3=l3;var u3=Date.now;const d3=function(e){var t=0,n=0;return function(){var r=u3(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const h3=d3(c3);const p3=function(e,t){return h3(a3(e,t,r3),e+"")};const f3=function(e,t,n){if(!r1(n))return!1;var r=typeof t;return!!("number"==r?b2(n)&&q2(t,n.length):"string"==r&&t in n)&&k0(n[t],e)};const m3=function(e){return p3((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&f3(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))};var g3=m3((function(e,t,n){n3(e,t,n)}));const v3=g3;var y3=function(e){var t=e.zDepth,n=e.radius,r=e.background,o=e.children,a=e.styles,s=void 0===a?{}:a,l=(0,u0.Ay)(v3({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":1===t});return i.createElement("div",{style:l.wrap},i.createElement("div",{style:l.bg}),i.createElement("div",{style:l.content},o))};y3.propTypes={background:OO().string,zDepth:OO().oneOf([0,1,2,3,4,5]),radius:OO().number,styles:OO().object},y3.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const b3=y3;const A3=function(){return W0.Date.now()};var x3=/\s/;const w3=function(e){for(var t=e.length;t--&&x3.test(e.charAt(t)););return t};var C3=/^\s+/;const E3=function(e){return e?e.slice(0,w3(e)+1).replace(C3,""):e};const S3=function(e){return"symbol"==typeof e||u2(e)&&"[object Symbol]"==n1(e)};var _3=/^[-+]0x[0-9a-f]+$/i,M3=/^0b[01]+$/i,I3=/^0o[0-7]+$/i,T3=parseInt;const R3=function(e){if("number"==typeof e)return e;if(S3(e))return NaN;if(r1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=E3(e);var n=M3.test(e);return n||I3.test(e)?T3(e.slice(2),n?2:8):_3.test(e)?NaN:+e};var k3=Math.max,P3=Math.min;const B3=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=A3();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?P3(n,o-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?p(e):(r=i=void 0,a)}function v(){var e=A3(),n=f(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?p(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=R3(t)||0,r1(n)&&(u=!!n.leading,o=(d="maxWait"in n)?k3(R3(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:g(A3())},v};const O3=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r1(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),B3(e,t,{leading:r,maxWait:t,trailing:i})};var L3=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var D3=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),c<0?c=0:c>o&&(c=o);var u=l/i,d=1-c/o;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=O3((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),L3(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,a=t.pointer,s=t.circle,l=(0,u0.Ay)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:a,circle:s}},{custom:!!this.props.style});return i.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.createElement("div",{style:l.white,className:"saturation-white"},i.createElement("div",{style:l.black,className:"saturation-black"}),i.createElement("div",{style:l.pointer},this.props.pointer?i.createElement(this.props.pointer,this.props):i.createElement("div",{style:l.circle}))))}}]),t}(i.PureComponent||i.Component);const N3=D3;const F3=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const j3=o2(Object.keys,Object);var U3=Object.prototype.hasOwnProperty;const z3=function(e){if(!l2(e))return j3(e);var t=[];for(var n in Object(e))U3.call(e,n)&&"constructor"!=n&&t.push(n);return t};const H3=function(e){return b2(e)?X2(e):z3(e)};const V3=function(e,t){return e&&W1(e,t,H3)};const G3=function(e,t){return function(n,r){if(null==n)return n;if(!b2(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(V3);const Q3=function(e){return"function"==typeof e?e:r3};const W3=function(e,t){return(v2(e)?F3:G3)(e,Q3(t))};function q3(e){return q3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q3(e)}var $3=/^\s+/,X3=/\s+$/;function K3(e,t){if(t=t||{},(e=e||"")instanceof K3)return e;if(!(this instanceof K3))return new K3(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace($3,"").replace(X3,"").toLowerCase();var t,n=!1;if(p4[e])e=p4[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=C4.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=C4.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=C4.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=C4.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=C4.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=C4.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=C4.hex8.exec(e))return{r:y4(t[1]),g:y4(t[2]),b:y4(t[3]),a:w4(t[4]),format:n?"name":"hex8"};if(t=C4.hex6.exec(e))return{r:y4(t[1]),g:y4(t[2]),b:y4(t[3]),format:n?"name":"hex"};if(t=C4.hex4.exec(e))return{r:y4(t[1]+""+t[1]),g:y4(t[2]+""+t[2]),b:y4(t[3]+""+t[3]),a:w4(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=C4.hex3.exec(e))return{r:y4(t[1]+""+t[1]),g:y4(t[2]+""+t[2]),b:y4(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==q3(e)&&(E4(e.r)&&E4(e.g)&&E4(e.b)?(t=function(e,t,n){return{r:255*g4(e,255),g:255*g4(t,255),b:255*g4(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):E4(e.h)&&E4(e.s)&&E4(e.v)?(r=A4(e.s),i=A4(e.v),t=function(e,t,n){e=6*g4(e,360),t=g4(t,100),n=g4(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*d}}(e.h,r,i),a=!0,s="hsv"):E4(e.h)&&E4(e.s)&&E4(e.l)&&(r=A4(e.s),o=A4(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=g4(e,360),t=g4(t,100),n=g4(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=m4(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Y3(e,t,n){e=g4(e,255),t=g4(t,255),n=g4(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function J3(e,t,n){e=g4(e,255),t=g4(t,255),n=g4(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function Z3(e,t,n,r){var i=[b4(Math.round(e).toString(16)),b4(Math.round(t).toString(16)),b4(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function e4(e,t,n,r){return[b4(x4(r)),b4(Math.round(e).toString(16)),b4(Math.round(t).toString(16)),b4(Math.round(n).toString(16))].join("")}function t4(e,t){t=0===t?0:t||10;var n=K3(e).toHsl();return n.s-=t/100,n.s=v4(n.s),K3(n)}function n4(e,t){t=0===t?0:t||10;var n=K3(e).toHsl();return n.s+=t/100,n.s=v4(n.s),K3(n)}function r4(e){return K3(e).desaturate(100)}function i4(e,t){t=0===t?0:t||10;var n=K3(e).toHsl();return n.l+=t/100,n.l=v4(n.l),K3(n)}function o4(e,t){t=0===t?0:t||10;var n=K3(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),K3(n)}function a4(e,t){t=0===t?0:t||10;var n=K3(e).toHsl();return n.l-=t/100,n.l=v4(n.l),K3(n)}function s4(e,t){var n=K3(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,K3(n)}function l4(e){var t=K3(e).toHsl();return t.h=(t.h+180)%360,K3(t)}function c4(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=K3(e).toHsl(),r=[K3(e)],i=360/t,o=1;o<t;o++)r.push(K3({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function u4(e){var t=K3(e).toHsl(),n=t.h;return[K3(e),K3({h:(n+72)%360,s:t.s,l:t.l}),K3({h:(n+216)%360,s:t.s,l:t.l})]}function d4(e,t,n){t=t||6,n=n||30;var r=K3(e).toHsl(),i=360/n,o=[K3(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(K3(r));return o}function h4(e,t){t=t||6;for(var n=K3(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(K3({h:r,s:i,v:o})),o=(o+s)%1;return a}K3.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=m4(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=J3(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=J3(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Y3(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Y3(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Z3(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[b4(Math.round(e).toString(16)),b4(Math.round(t).toString(16)),b4(Math.round(n).toString(16)),b4(x4(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*g4(this._r,255))+"%",g:Math.round(100*g4(this._g,255))+"%",b:Math.round(100*g4(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*g4(this._r,255))+"%, "+Math.round(100*g4(this._g,255))+"%, "+Math.round(100*g4(this._b,255))+"%)":"rgba("+Math.round(100*g4(this._r,255))+"%, "+Math.round(100*g4(this._g,255))+"%, "+Math.round(100*g4(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(f4[Z3(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+e4(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=K3(e);n="#"+e4(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return K3(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(i4,arguments)},brighten:function(){return this._applyModification(o4,arguments)},darken:function(){return this._applyModification(a4,arguments)},desaturate:function(){return this._applyModification(t4,arguments)},saturate:function(){return this._applyModification(n4,arguments)},greyscale:function(){return this._applyModification(r4,arguments)},spin:function(){return this._applyModification(s4,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(d4,arguments)},complement:function(){return this._applyCombination(l4,arguments)},monochromatic:function(){return this._applyCombination(h4,arguments)},splitcomplement:function(){return this._applyCombination(u4,arguments)},triad:function(){return this._applyCombination(c4,[3])},tetrad:function(){return this._applyCombination(c4,[4])}},K3.fromRatio=function(e,t){if("object"==q3(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:A4(e[r]));e=n}return K3(e,t)},K3.equals=function(e,t){return!(!e||!t)&&K3(e).toRgbString()==K3(t).toRgbString()},K3.random=function(){return K3.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},K3.mix=function(e,t,n){n=0===n?0:n||50;var r=K3(e).toRgb(),i=K3(t).toRgb(),o=n/100;return K3({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},K3.readability=function(e,t){var n=K3(e),r=K3(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},K3.isReadable=function(e,t,n){var r,i,o=K3.readability(e,t);switch(i=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},K3.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=K3.readability(e,t[c]))>l&&(l=r,s=K3(t[c]));return K3.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,K3.mostReadable(e,["#fff","#000"],n))};var p4=K3.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},f4=K3.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(p4);function m4(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function g4(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function v4(e){return Math.min(1,Math.max(0,e))}function y4(e){return parseInt(e,16)}function b4(e){return 1==e.length?"0"+e:""+e}function A4(e){return e<=1&&(e=100*e+"%"),e}function x4(e){return Math.round(255*parseFloat(e)).toString(16)}function w4(e){return y4(e)/255}var C4=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function E4(e){return!!C4.CSS_UNIT.exec(e)}var S4=function(e){var t=0,n=0;return W3(["r","g","b","a","h","s","l","v"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e},_4=function(e,t){var n=e.hex?K3(e.hex):K3(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},M4=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&K3(e).isValid()},I4=function(e){if(!e)return"#fff";var t=_4(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},T4=function(e,t){return K3(t+" ("+e.replace("\xb0","")+")")._ok},R4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k4=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();const P4=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(S4(e)){var r=_4(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(S4(e)){var r=_4(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=R4({},_4(e.color,0)),t.debounce=B3((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),k4(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),i.createElement(e,R4({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return R4({},_4(e.color,t.oldHue))}}]),n}(i.PureComponent||i.Component);return t.propTypes=R4({},e.propTypes),t.defaultProps=R4({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};var B4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O4=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function L4(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var D4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const N4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=L4(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},L4(n,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),O4(r,[{key:"render",value:function(){return i.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.createElement(e,B4({},this.props,this.state)))}}]),r}(i.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,a=e.onHover,s=e.title,l=void 0===s?t:s,c=e.children,u=e.focus,d=e.focusStyle,h=void 0===d?{}:d,p="transparent"===t,f=(0,u0.Ay)({default:{swatch:D4({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,u?h:{})}}),m={};return a&&(m.onMouseOver=function(e){return a(t,e)}),i.createElement("div",D4({style:f.swatch,onClick:function(e){return o(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},m),c,p&&i.createElement(m0,{borderRadius:f.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));const F4=function(e){var t=e.direction,n=(0,u0.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.createElement("div",{style:n.picker})};var j4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U4=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,a=e.onChange,s=e.direction,l=e.style,c=e.renderers,u=e.pointer,d=e.className,h=void 0===d?"":d,p=(0,u0.Ay)({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:l}}});return i.createElement("div",{style:p.picker,className:"alpha-picker "+h},i.createElement(A0,j4({},p.alpha,{rgb:t,hsl:n,pointer:u,renderers:c,onChange:a,direction:s})))};U4.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:F4};P4(U4);const z4=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};const H4=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const V4=function(e){return this.__data__.has(e)};function G4(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new F1;++t<n;)this.add(e[t])}G4.prototype.add=G4.prototype.push=H4,G4.prototype.has=V4;const Q4=G4;const W4=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const q4=function(e,t){return e.has(t)};const $4=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=2&n?new Q4:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],m=t[d];if(r)var g=a?r(m,f,d,t,e,o):r(f,m,d,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!W4(t,(function(e,t){if(!q4(p,t)&&(f===e||i(f,e,n,r,o)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h};const X4=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const K4=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var Y4=q0?q0.prototype:void 0,J4=Y4?Y4.valueOf:void 0;const Z4=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new J1(e),new J1(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return k0(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=X4;case"[object Set]":var l=1&r;if(s||(s=K4),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=$4(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(J4)return J4.call(e)==J4.call(t)}return!1};const e5=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const t5=function(e,t,n){var r=t(e);return v2(e)?r:e5(r,n(e))};const n5=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const r5=function(){return[]};var i5=Object.prototype.propertyIsEnumerable,o5=Object.getOwnPropertySymbols,a5=o5?function(e){return null==e?[]:(e=Object(e),n5(o5(e),(function(t){return i5.call(e,t)})))}:r5;const s5=a5;const l5=function(e){return t5(e,H3,s5)};var c5=Object.prototype.hasOwnProperty;const u5=function(e,t,n,r,i,o){var a=1&n,s=l5(e),l=s.length;if(l!=l5(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:c5.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var v=a?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p};const d5=y1(W0,"DataView");const h5=y1(W0,"Promise");const p5=y1(W0,"Set");const f5=y1(W0,"WeakMap");var m5="[object Map]",g5="[object Promise]",v5="[object Set]",y5="[object WeakMap]",b5="[object DataView]",A5=c1(d5),x5=c1(b1),w5=c1(h5),C5=c1(p5),E5=c1(f5),S5=n1;(d5&&S5(new d5(new ArrayBuffer(1)))!=b5||b1&&S5(new b1)!=m5||h5&&S5(h5.resolve())!=g5||p5&&S5(new p5)!=v5||f5&&S5(new f5)!=y5)&&(S5=function(e){var t=n1(e),n="[object Object]"==t?e.constructor:void 0,r=n?c1(n):"";if(r)switch(r){case A5:return b5;case x5:return m5;case w5:return g5;case C5:return v5;case E5:return y5}return t});const _5=S5;var M5="[object Arguments]",I5="[object Array]",T5="[object Object]",R5=Object.prototype.hasOwnProperty;const k5=function(e,t,n,r,i,o){var a=v2(e),s=v2(t),l=a?I5:_5(e),c=s?I5:_5(t),u=(l=l==M5?T5:l)==T5,d=(c=c==M5?T5:c)==T5,h=l==c;if(h&&S2(e)){if(!S2(t))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new z1),a||U2(e)?$4(e,t,n,r,i,o):Z4(e,t,l,n,r,i,o);if(!(1&n)){var p=u&&R5.call(e,"__wrapped__"),f=d&&R5.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return o||(o=new z1),i(m,g,n,r,o)}}return!!h&&(o||(o=new z1),u5(e,t,n,r,i,o))};const P5=function e(t,n,r,i,o){return t===n||(null==t||null==n||!u2(t)&&!u2(n)?t!==t&&n!==n:k5(t,n,r,i,e,o))};const B5=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new z1;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?P5(u,c,3,r,d):h))return!1}}return!0};const O5=function(e){return e===e&&!r1(e)};const L5=function(e){for(var t=H3(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,O5(i)]}return t};const D5=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const N5=function(e){var t=L5(e);return 1==t.length&&t[0][2]?D5(t[0][0],t[0][1]):function(n){return n===e||B5(n,e,t)}};var F5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j5=/^\w*$/;const U5=function(e,t){if(v2(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!S3(e))||(j5.test(e)||!F5.test(e)||null!=t&&e in Object(t))};function z5(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(z5.Cache||F1),n}z5.Cache=F1;const H5=z5;const V5=function(e){var t=H5(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t};var G5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q5=/\\(\\)?/g,W5=V5((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G5,(function(e,n,r,i){t.push(r?i.replace(Q5,"$1"):n||e)})),t}));const q5=W5;var $5=q0?q0.prototype:void 0,X5=$5?$5.toString:void 0;const K5=function e(t){if("string"==typeof t)return t;if(v2(t))return z4(t,e)+"";if(S3(t))return X5?X5.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Y5=function(e){return null==e?"":K5(e)};const J5=function(e,t){return v2(e)?e:U5(e,t)?[e]:q5(Y5(e))};const Z5=function(e){if("string"==typeof e||S3(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const e6=function(e,t){for(var n=0,r=(t=J5(t,e)).length;null!=e&&n<r;)e=e[Z5(t[n++])];return n&&n==r?e:void 0};const t6=function(e,t,n){var r=null==e?void 0:e6(e,t);return void 0===r?n:r};const n6=function(e,t){return null!=e&&t in Object(e)};const r6=function(e,t,n){for(var r=-1,i=(t=J5(t,e)).length,o=!1;++r<i;){var a=Z5(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&y2(i)&&q2(a,i)&&(v2(e)||g2(e))};const i6=function(e,t){return null!=e&&r6(e,t,n6)};const o6=function(e,t){return U5(e)&&O5(t)?D5(Z5(e),t):function(n){var r=t6(n,e);return void 0===r&&r===t?i6(n,e):P5(t,r,3)}};const a6=function(e){return function(t){return null==t?void 0:t[e]}};const s6=function(e){return function(t){return e6(t,e)}};const l6=function(e){return U5(e)?a6(Z5(e)):s6(e)};const c6=function(e){return"function"==typeof e?e:null==e?r3:"object"==typeof e?v2(e)?o6(e[0],e[1]):N5(e):l6(e)};const u6=function(e,t){var n=-1,r=b2(e)?Array(e.length):[];return G3(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const d6=function(e,t){return(v2(e)?z4:u6)(e,c6(t,3))};const h6=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,o=(0,u0.Ay)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return i.createElement("div",{style:o.swatches},d6(t,(function(e){return i.createElement(N4,{key:e,color:e,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),i.createElement("div",{style:o.clear}))};var p6=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,a=e.width,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h="transparent"===r,p=function(e,n){M4(e)&&t({hex:e,source:"hex"},n)},f=(0,u0.Ay)(v3({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:I4(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===s});return i.createElement("div",{style:f.card,className:"block-picker "+d},i.createElement("div",{style:f.triangle}),i.createElement("div",{style:f.head},h&&i.createElement(m0,{borderRadius:"6px 6px 0 0"}),i.createElement("div",{style:f.label},r)),i.createElement("div",{style:f.body},i.createElement(h6,{colors:o,onClick:p,onSwatchHover:n}),i.createElement(S0,{style:{input:f.input},value:r,onChange:p})))};p6.propTypes={width:OO().oneOfType([OO().string,OO().number]),colors:OO().arrayOf(OO().string),triangle:OO().oneOf(["top","hide"]),styles:OO().object},p6.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};P4(p6);var f6={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},m6={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},g6={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},v6={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},y6={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},b6={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},A6={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},x6={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},w6={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},C6={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},E6={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},S6={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},_6={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},M6={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},I6={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},T6={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},R6={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},k6={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"};var P6=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,o=e.hover,a=e.active,s=e.circleSize,l=e.circleSpacing,c=(0,u0.Ay)({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:a});return i.createElement("div",{style:c.swatch},i.createElement(N4,{style:c.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};P6.defaultProps={circleSize:28,circleSpacing:14};const B6=(0,u0.H8)(P6);var O6=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,o=e.colors,a=e.hex,s=e.circleSize,l=e.styles,c=void 0===l?{}:l,u=e.circleSpacing,d=e.className,h=void 0===d?"":d,p=(0,u0.Ay)(v3({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),f=function(e,t){return n({hex:e,source:"hex"},t)};return i.createElement("div",{style:p.card,className:"circle-picker "+h},d6(o,(function(e){return i.createElement(B6,{key:e,color:e,onClick:f,onSwatchHover:r,active:a===e.toLowerCase(),circleSize:s,circleSpacing:u})})))};O6.propTypes={width:OO().oneOfType([OO().string,OO().number]),circleSize:OO().number,circleSpacing:OO().number,styles:OO().object},O6.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[f6[500],m6[500],g6[500],v6[500],y6[500],b6[500],A6[500],x6[500],w6[500],C6[500],E6[500],S6[500],_6[500],M6[500],I6[500],T6[500],R6[500],k6[500]],styles:{}};P4(O6);const L6=function(e){return void 0===e};var D6=n(9128),N6=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var F6=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?M4(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(L6(e.s)?n.props.hsl.s:e.s),l:Number(L6(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N6(t,[{key:"render",value:function(){var e=this,t=(0,u0.Ay)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=i.createElement("div",{style:t.fields,className:"flexbox-fix"},i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=i.createElement("div",{style:t.fields,className:"flexbox-fix"},i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),i.createElement("div",{style:t.alpha},i.createElement(S0,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=i.createElement("div",{style:t.fields,className:"flexbox-fix"},i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),i.createElement("div",{style:t.field},i.createElement(S0,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),i.createElement("div",{style:t.alpha},i.createElement(S0,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,i.createElement("div",{style:t.toggle},i.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.createElement(D6.A,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(i.Component);F6.defaultProps={view:"hex"};const j6=F6;const U6=function(){var e=(0,u0.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.createElement("div",{style:e.picker})};const z6=function(){var e=(0,u0.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return i.createElement("div",{style:e.picker})};var H6=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,o=e.rgb,a=e.hsl,s=e.hsv,l=e.hex,c=e.renderers,u=e.styles,d=void 0===u?{}:u,h=e.className,p=void 0===h?"":h,f=e.defaultView,m=(0,u0.Ay)(v3({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:r});return i.createElement("div",{style:m.picker,className:"chrome-picker "+p},i.createElement("div",{style:m.saturation},i.createElement(N3,{style:m.Saturation,hsl:a,hsv:s,pointer:z6,onChange:n})),i.createElement("div",{style:m.body},i.createElement("div",{style:m.controls,className:"flexbox-fix"},i.createElement("div",{style:m.color},i.createElement("div",{style:m.swatch},i.createElement("div",{style:m.active}),i.createElement(m0,{renderers:c}))),i.createElement("div",{style:m.toggles},i.createElement("div",{style:m.hue},i.createElement(T0,{style:m.Hue,hsl:a,pointer:U6,onChange:n})),i.createElement("div",{style:m.alpha},i.createElement(A0,{style:m.Alpha,rgb:o,hsl:a,pointer:U6,renderers:c,onChange:n})))),i.createElement(j6,{rgb:o,hsl:a,hex:l,view:f,onChange:n,disableAlpha:r})))};H6.propTypes={width:OO().oneOfType([OO().string,OO().number]),disableAlpha:OO().bool,styles:OO().object,defaultView:OO().oneOf(["hex","rgb","hsl"])},H6.defaultProps={width:225,disableAlpha:!1,styles:{}};P4(H6);const V6=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,a=e.active,s=(0,u0.Ay)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:I4(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:a,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.createElement(N4,{style:s.color,color:t,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},i.createElement("div",{style:s.dot}))};const G6=function(e){var t=e.hex,n=e.rgb,r=e.onChange,o=(0,u0.Ay)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return i.createElement("div",{style:o.fields,className:"flexbox-fix"},i.createElement("div",{style:o.active}),i.createElement(S0,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:a}),i.createElement(S0,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:a}),i.createElement(S0,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:a}),i.createElement(S0,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:a}))};var Q6=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,a=e.rgb,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,u0.Ay)(v3({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(e,n){e.hex?M4(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return i.createElement(b3,{style:d.Compact,styles:l},i.createElement("div",{style:d.compact,className:"compact-picker "+u},i.createElement("div",null,d6(r,(function(e){return i.createElement(V6,{key:e,color:e,active:e.toLowerCase()===o,onClick:h,onSwatchHover:n})})),i.createElement("div",{style:d.clear})),i.createElement(G6,{hex:o,rgb:a,onChange:h})))};Q6.propTypes={colors:OO().arrayOf(OO().string),styles:OO().object},Q6.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};P4(Q6);const W6=(0,u0.H8)((function(e){var t=e.hover,n=e.color,r=e.onClick,o=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=(0,u0.Ay)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:t});return i.createElement("div",{style:s.swatch},i.createElement(N4,{color:n,onClick:r,onHover:o,focusStyle:a}))}));var q6=function(e){var t=e.width,n=e.colors,r=e.onChange,o=e.onSwatchHover,a=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,d=(0,u0.Ay)(v3({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-left-triangle":"bottom-left"===a,"bottom-right-triangle":"bottom-right"===a}),h=function(e,t){return r({hex:e,source:"hex"},t)};return i.createElement("div",{style:d.card,className:"github-picker "+u},i.createElement("div",{style:d.triangleShadow}),i.createElement("div",{style:d.triangle}),d6(n,(function(e){return i.createElement(W6,{color:e,key:e,onClick:h,onSwatchHover:o})})))};q6.propTypes={width:OO().oneOfType([OO().string,OO().number]),colors:OO().arrayOf(OO().string),triangle:OO().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:OO().object},q6.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};P4(q6);const $6=function(e){var t=e.direction,n=(0,u0.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.createElement("div",{style:n.picker})};var X6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K6=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,a=e.direction,s=e.pointer,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,u0.Ay)(v3({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},c));return i.createElement("div",{style:h.picker,className:"hue-picker "+d},i.createElement(T0,X6({},h.hue,{hsl:o,pointer:s,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:a})))};K6.propTypes={styles:OO().object},K6.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:$6,styles:{}};P4(K6);P4((function(e){var t=e.onChange,n=e.hex,r=e.rgb,o=e.styles,a=void 0===o?{}:o,s=e.className,l=void 0===s?"":s,c=(0,u0.Ay)(v3({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),u=function(e,n){e.hex?M4(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return i.createElement(b3,{styles:a},i.createElement("div",{style:c.material,className:"material-picker "+l},i.createElement(S0,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:u}),i.createElement("div",{style:c.split,className:"flexbox-fix"},i.createElement("div",{style:c.third},i.createElement(S0,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:r.r,onChange:u})),i.createElement("div",{style:c.third},i.createElement(S0,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:r.g,onChange:u})),i.createElement("div",{style:c.third},i.createElement(S0,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:r.b,onChange:u})))))}));const Y6=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,o=e.hex,a=(0,u0.Ay)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(e,i){e["#"]?M4(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return i.createElement("div",{style:a.fields},i.createElement(S0,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(r.h),onChange:s}),i.createElement(S0,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:s}),i.createElement(S0,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:s}),i.createElement("div",{style:a.divider}),i.createElement(S0,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:s}),i.createElement(S0,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:s}),i.createElement(S0,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:s}),i.createElement("div",{style:a.divider}),i.createElement(S0,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:o.replace("#",""),onChange:s}),i.createElement("div",{style:a.fieldSymbols},i.createElement("div",{style:a.symbol},"\xb0"),i.createElement("div",{style:a.symbol},"%"),i.createElement("div",{style:a.symbol},"%")))};const J6=function(e){var t=e.hsl,n=(0,u0.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return i.createElement("div",{style:n.picker})};const Z6=function(){var e=(0,u0.Ay)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return i.createElement("div",{style:e.pointer},i.createElement("div",{style:e.left},i.createElement("div",{style:e.leftInside})),i.createElement("div",{style:e.right},i.createElement("div",{style:e.rightInside})))};const e8=function(e){var t=e.onClick,n=e.label,r=e.children,o=e.active,a=(0,u0.Ay)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return i.createElement("div",{style:a.button,onClick:t},n||r)};const t8=function(e){var t=e.rgb,n=e.currentColor,r=(0,u0.Ay)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return i.createElement("div",null,i.createElement("div",{style:r.label},"new"),i.createElement("div",{style:r.swatches},i.createElement("div",{style:r.new}),i.createElement("div",{style:r.current})),i.createElement("div",{style:r.label},"current"))};var n8=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r8=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n8(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,a=(0,u0.Ay)(v3({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return i.createElement("div",{style:a.picker,className:"photoshop-picker "+o},i.createElement("div",{style:a.head},this.props.header),i.createElement("div",{style:a.body,className:"flexbox-fix"},i.createElement("div",{style:a.saturation},i.createElement(N3,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:J6,onChange:this.props.onChange})),i.createElement("div",{style:a.hue},i.createElement(T0,{direction:"vertical",hsl:this.props.hsl,pointer:Z6,onChange:this.props.onChange})),i.createElement("div",{style:a.controls},i.createElement("div",{style:a.top,className:"flexbox-fix"},i.createElement("div",{style:a.previews},i.createElement(t8,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.createElement("div",{style:a.actions},i.createElement(e8,{label:"OK",onClick:this.props.onAccept,active:!0}),i.createElement(e8,{label:"Cancel",onClick:this.props.onCancel}),i.createElement(Y6,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.Component);r8.propTypes={header:OO().string,styles:OO().object},r8.defaultProps={header:"Color Picker",styles:{}};P4(r8);const i8=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,a=e.disableAlpha,s=(0,u0.Ay)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),l=function(e,i){e.hex?M4(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return i.createElement("div",{style:s.fields,className:"flexbox-fix"},i.createElement("div",{style:s.double},i.createElement(S0,{style:{input:s.input,label:s.label},label:"hex",value:o.replace("#",""),onChange:l})),i.createElement("div",{style:s.single},i.createElement(S0,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),i.createElement("div",{style:s.single},i.createElement(S0,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),i.createElement("div",{style:s.single},i.createElement(S0,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),i.createElement("div",{style:s.alpha},i.createElement(S0,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:l,dragLabel:"true",dragMax:"100"})))};var o8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a8=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,a=(0,u0.Ay)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){r({hex:e,source:"hex"},t)};return i.createElement("div",{style:a.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return i.createElement("div",{key:n,style:a.swatchWrap},i.createElement(N4,o8({},t,{style:a.swatch,onClick:s,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};a8.propTypes={colors:OO().arrayOf(OO().oneOfType([OO().string,OO().shape({color:OO().string,title:OO().string})])).isRequired};const s8=a8;var l8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c8=function(e){var t=e.width,n=e.rgb,r=e.hex,o=e.hsv,a=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,u=e.presetColors,d=e.renderers,h=e.styles,p=void 0===h?{}:h,f=e.className,m=void 0===f?"":f,g=(0,u0.Ay)(v3({default:l8({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return i.createElement("div",{style:g.picker,className:"sketch-picker "+m},i.createElement("div",{style:g.saturation},i.createElement(N3,{style:g.Saturation,hsl:a,hsv:o,onChange:s})),i.createElement("div",{style:g.controls,className:"flexbox-fix"},i.createElement("div",{style:g.sliders},i.createElement("div",{style:g.hue},i.createElement(T0,{style:g.Hue,hsl:a,onChange:s})),i.createElement("div",{style:g.alpha},i.createElement(A0,{style:g.Alpha,rgb:n,hsl:a,renderers:d,onChange:s}))),i.createElement("div",{style:g.color},i.createElement(m0,null),i.createElement("div",{style:g.activeColor}))),i.createElement(i8,{rgb:n,hsl:a,hex:r,onChange:s,disableAlpha:c}),i.createElement(s8,{colors:u,onClick:s,onSwatchHover:l}))};c8.propTypes={disableAlpha:OO().bool,width:OO().oneOfType([OO().string,OO().number]),styles:OO().object},c8.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const u8=P4(c8);const d8=function(e){var t=e.hsl,n=e.offset,r=e.onClick,o=void 0===r?function(){}:r,a=e.active,s=e.first,l=e.last,c=(0,u0.Ay)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:s,last:l});return i.createElement("div",{style:c.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:"hsl"},e)}})};const h8=function(e){var t=e.onClick,n=e.hsl,r=(0,u0.Ay)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return i.createElement("div",{style:r.swatches},i.createElement("div",{style:r.swatch},i.createElement(d8,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<o&&Math.abs(n.s-.5)<o,onClick:t,first:!0})),i.createElement("div",{style:r.swatch},i.createElement(d8,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<o&&Math.abs(n.s-.5)<o,onClick:t})),i.createElement("div",{style:r.swatch},i.createElement(d8,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<o&&Math.abs(n.s-.5)<o,onClick:t})),i.createElement("div",{style:r.swatch},i.createElement(d8,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<o&&Math.abs(n.s-.5)<o,onClick:t})),i.createElement("div",{style:r.swatch},i.createElement(d8,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<o&&Math.abs(n.s-.5)<o,onClick:t,last:!0})),i.createElement("div",{style:r.clear}))};const p8=function(){var e=(0,u0.Ay)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.createElement("div",{style:e.picker})};var f8=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,o=e.styles,a=void 0===o?{}:o,s=e.className,l=void 0===s?"":s,c=(0,u0.Ay)(v3({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},a));return i.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},i.createElement("div",{style:c.hue},i.createElement(T0,{style:c.Hue,hsl:t,pointer:r,onChange:n})),i.createElement("div",{style:c.swatches},i.createElement(h8,{hsl:t,onClick:n})))};f8.propTypes={styles:OO().object},f8.defaultProps={pointer:p8,styles:{}};P4(f8);var m8=n(4371);const g8=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,a=e.first,s=e.last,l=e.active,c=(0,u0.Ay)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:I4(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:a,last:s,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.createElement(N4,{color:t,style:c.color,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},i.createElement("div",{style:c.check},i.createElement(m8.A,null)))};const v8=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,o=e.active,a=(0,u0.Ay)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return i.createElement("div",{style:a.group},d6(r,(function(e,a){return i.createElement(g8,{key:e,color:e,active:e.toLowerCase()===o,first:0===a,last:a===r.length-1,onClick:t,onSwatchHover:n})})))};var y8=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.onSwatchHover,a=e.colors,s=e.hex,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,u0.Ay)(v3({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(e,t){return r({hex:e,source:"hex"},t)};return i.createElement("div",{style:h.picker,className:"swatches-picker "+d},i.createElement(b3,null,i.createElement("div",{style:h.overflow},i.createElement("div",{style:h.body},d6(a,(function(e){return i.createElement(v8,{key:e.toString(),group:e,active:s,onClick:p,onSwatchHover:o})})),i.createElement("div",{style:h.clear})))))};y8.propTypes={width:OO().oneOfType([OO().string,OO().number]),height:OO().oneOfType([OO().string,OO().number]),colors:OO().arrayOf(OO().arrayOf(OO().string)),styles:OO().object},y8.defaultProps={width:320,height:240,colors:[[f6[900],f6[700],f6[500],f6[300],f6[100]],[m6[900],m6[700],m6[500],m6[300],m6[100]],[g6[900],g6[700],g6[500],g6[300],g6[100]],[v6[900],v6[700],v6[500],v6[300],v6[100]],[y6[900],y6[700],y6[500],y6[300],y6[100]],[b6[900],b6[700],b6[500],b6[300],b6[100]],[A6[900],A6[700],A6[500],A6[300],A6[100]],[x6[900],x6[700],x6[500],x6[300],x6[100]],[w6[900],w6[700],w6[500],w6[300],w6[100]],["#194D33",C6[700],C6[500],C6[300],C6[100]],[E6[900],E6[700],E6[500],E6[300],E6[100]],[S6[900],S6[700],S6[500],S6[300],S6[100]],[_6[900],_6[700],_6[500],_6[300],_6[100]],[M6[900],M6[700],M6[500],M6[300],M6[100]],[I6[900],I6[700],I6[500],I6[300],I6[100]],[T6[900],T6[700],T6[500],T6[300],T6[100]],[R6[900],R6[700],R6[500],R6[300],R6[100]],[k6[900],k6[700],k6[500],k6[300],k6[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};P4(y8);var b8=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,a=e.width,s=e.triangle,l=e.styles,c=void 0===l?{}:l,u=e.className,d=void 0===u?"":u,h=(0,u0.Ay)(v3({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s}),p=function(e,n){M4(e)&&t({hex:e,source:"hex"},n)};return i.createElement("div",{style:h.card,className:"twitter-picker "+d},i.createElement("div",{style:h.triangleShadow}),i.createElement("div",{style:h.triangle}),i.createElement("div",{style:h.body},d6(o,(function(e,t){return i.createElement(N4,{key:t,color:e,hex:e,style:h.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),i.createElement("div",{style:h.hash},"#"),i.createElement(S0,{label:null,style:{input:h.input},value:r.replace("#",""),onChange:p}),i.createElement("div",{style:h.clear})))};b8.propTypes={width:OO().oneOfType([OO().string,OO().number]),triangle:OO().oneOf(["hide","top-left","top-right"]),colors:OO().arrayOf(OO().string),styles:OO().object},b8.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};P4(b8);var A8=function(e){var t=(0,u0.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return i.createElement("div",{style:t.picker})};A8.propTypes={hsl:OO().shape({h:OO().number,s:OO().number,l:OO().number,a:OO().number})},A8.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const x8=A8;var w8=function(e){var t=(0,u0.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return i.createElement("div",{style:t.picker})};w8.propTypes={hsl:OO().shape({h:OO().number,s:OO().number,l:OO().number,a:OO().number})},w8.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const C8=w8;const E8=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,a=e.hsv,s=function(e,n){if(e.hex)M4(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");T4(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");T4(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");T4(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},l=(0,u0.Ay)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,u=Math.round(r.h)+"\xb0, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",d=Math.round(a.h)+"\xb0, "+Math.round(100*a.s)+"%, "+Math.round(100*a.v)+"%";return i.createElement("div",{style:l.wrap,className:"flexbox-fix"},i.createElement("div",{style:l.fields},i.createElement("div",{style:l.double},i.createElement(S0,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:s})),i.createElement("div",{style:l.column},i.createElement("div",{style:l.single},i.createElement(S0,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:s})),i.createElement("div",{style:l.single},i.createElement(S0,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:s})),i.createElement("div",{style:l.single},i.createElement(S0,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:s})))))};var S8=function(e){var t=e.width,n=e.onChange,r=e.rgb,o=e.hsl,a=e.hsv,s=e.hex,l=e.header,c=e.styles,u=void 0===c?{}:c,d=e.className,h=void 0===d?"":d,p=(0,u0.Ay)(v3({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return i.createElement("div",{style:p.picker,className:"google-picker "+h},i.createElement("div",{style:p.head},l),i.createElement("div",{style:p.swatch}),i.createElement("div",{style:p.saturation},i.createElement(N3,{hsl:o,hsv:a,pointer:x8,onChange:n})),i.createElement("div",{style:p.body},i.createElement("div",{style:p.controls,className:"flexbox-fix"},i.createElement("div",{style:p.hue},i.createElement(T0,{style:p.Hue,hsl:o,radius:"4px",pointer:C8,onChange:n}))),i.createElement(E8,{rgb:r,hsl:o,hex:s,hsv:a,onChange:n})))};S8.propTypes={width:OO().oneOfType([OO().string,OO().number]),styles:OO().object,header:OO().string},S8.defaultProps={width:652,styles:{},header:"Color picker"};P4(S8);const _8=PA((0,Ty.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),M8=e=>{let{open:t,onClose:n}=e;const r=Ey(),{showAlert:o}=qA(),[a,s]=(0,i.useState)({}),[l,c]=(0,i.useState)({}),[u,d]=(0,i.useState)("light"),[h,p]=(0,i.useState)({}),[f,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>{if(t){(async()=>{try{const e=(await dO.get(UC.user_settings)).data.reduce(((e,t)=>(e[t.key]=t.value,e)),{});s(e),c(e),d(e.active_theme||"light")}catch(e){console.error("Error fetching user settings:",e)}})()}}),[t]);const g=async e=>{const t=e.target.value;d(t);try{await dO.post(UC.user_settings,{category:"Active Theme",key:"active_theme",value:t})}catch(n){console.error("Error saving active theme setting:",n)}},v="dark"===u?ak:ok,y=e=>{const{name:t,value:n}=e.target;c({...l,[t]:n}),m(!0)};return(0,Ty.jsx)($T,{open:t,onClose:n,children:(0,Ty.jsxs)(pk,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"20%",maxHeight:"80vh",overflowY:"auto",bgcolor:"background.paper",p:4,borderRadius:2,boxShadow:24},children:[(0,Ty.jsx)(Tk,{variant:"h2",gutterBottom:!0,children:"User Settings"}),(0,Ty.jsx)(Tk,{variant:"h3",gutterBottom:!0,children:"Theme Settings"}),(0,Ty.jsxs)(pk,{sx:{display:"flex",gap:2,marginBottom:4},children:[(0,Ty.jsx)(NG,{control:(0,Ty.jsx)(uW,{checked:"light"===u,onChange:g,value:"light"}),label:"Light"}),(0,Ty.jsx)(NG,{control:(0,Ty.jsx)(uW,{checked:"dark"===u,onChange:g,value:"dark"}),label:"Dark"}),(0,Ty.jsx)(NG,{control:(0,Ty.jsx)(uW,{checked:"custom"===u,onChange:g,value:"custom"}),label:"Custom"})]}),(0,Ty.jsx)(Kk,{container:!0,spacing:2,children:Object.keys(v).map((e=>(0,Ty.jsxs)(Kk,{item:!0,xs:12,sm:6,sx:{display:"flex",alignItems:"center",gap:2},children:[(0,Ty.jsx)(Tk,{sx:{width:"150px"},children:e.replace(/_/g," ")}),"string"===typeof v[e]&&v[e].startsWith("#")?(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)(pk,{sx:{width:24,height:24,backgroundColor:l[e]||v[e],border:"1px solid #000"}}),(0,Ty.jsx)("input",{type:"text",name:e,value:l[e]||v[e],onChange:y,style:{width:"100px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,Ty.jsx)(MA,{onClick:()=>(e=>{p({...h,[e]:!h[e]})})(e),children:(0,Ty.jsx)(_8,{})}),h[e]&&(0,Ty.jsx)(u8,{color:l[e]||v[e],onChange:t=>((e,t)=>{c({...l,[e]:t.hex}),m(!0)})(e,t)})]}):"object"===typeof v[e]?Object.keys(v[e]).map((t=>{var n;return(0,Ty.jsx)("input",{type:"text",name:t,value:(null===(n=l[e])||void 0===n?void 0:n[t])||v[e][t],onChange:n=>((e,t,n)=>{c({...l,[e]:{...l[e],[t]:n}}),m(!0)})(e,t,n.target.value),fullWidth:!0,style:{width:"100px",padding:"5px",border:"1px solid #ccc",borderRadius:"4px"}})})):null]},e)))}),(0,Ty.jsx)(pk,{sx:{width:"100%",padding:"16px",backgroundColor:r.palette.primary.secondary,color:"primary.contrastText",display:"flex",flexDirection:"column",alignItems:"left",textAlign:"center",marginTop:"auto"},children:(0,Ty.jsx)(IO,{variant:"outlined",onClick:async()=>{try{for(const[e,t]of Object.entries(l))await dO.post(UC.user_settings,{category:"Theme",key:e,value:JSON.stringify(t)});f&&(await dO.post(UC.user_settings,{category:"Active Theme",key:"active_theme",value:"custom"}),d("custom")),o("success","Settings saved successfully!"),n()}catch(e){console.error("Error saving settings:",e),o("error","Failed to save settings.")}},sx:{marginTop:4},children:"Save Settings"})})]})})},I8=PA((0,Ty.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),T8=PA([(0,Ty.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,Ty.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99m9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"1")],"PersonSearch");function R8(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(z_e){o(z_e)}}function s(e){try{l(r.throw(e))}catch(z_e){o(z_e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const k8=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function P8(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=k8.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:i}=e,o="string"===typeof t?t:"string"===typeof i&&i.length>0?i:`./${e.name}`;return"string"!==typeof r.path&&B8(r,"path",o),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),B8(r,"relativePath",o),r}function B8(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const O8=[".DS_Store","Thumbs.db"];function L8(e){return"object"===typeof e&&null!==e}function D8(e){return e.filter((e=>-1===O8.indexOf(e.name)))}function N8(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function F8(e){if("function"!==typeof e.webkitGetAsEntry)return U8(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?H8(t):U8(e,t)}function j8(e){return e.reduce(((e,t)=>[...e,...Array.isArray(t)?j8(t):[t]]),[])}function U8(e,t){return R8(this,void 0,void 0,(function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error(`${e} is not a File`);if(void 0!==t){const e=yield t.getFile();return e.handle=t,P8(e)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return P8(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)}))}function z8(e){return R8(this,void 0,void 0,(function*(){return e.isDirectory?H8(e):function(e){return R8(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.file((n=>{const r=P8(n,e.fullPath);t(r)}),(e=>{n(e)}))}))}))}(e)}))}function H8(e){const t=e.createReader();return new Promise(((e,n)=>{const r=[];!function i(){t.readEntries((t=>R8(this,void 0,void 0,(function*(){if(t.length){const e=Promise.all(t.map(z8));r.push(e),i()}else try{const t=yield Promise.all(r);e(t)}catch(o){n(o)}}))),(e=>{n(e)}))}()}))}var V8=n(8628);function G8(e){return function(e){if(Array.isArray(e))return K8(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||X8(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q8(Object(n),!0).forEach((function(t){q8(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||X8(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X8(e,t){if(e){if("string"===typeof e)return K8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K8(e,t):void 0}}function K8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y8="function"===typeof V8?V8:V8.default,J8="file-invalid-type",Z8="file-too-large",e9="file-too-small",t9="too-many-files",n9=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:J8,message:"File type must be ".concat(t)}},r9=function(e){return{code:Z8,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},i9=function(e){return{code:e9,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},o9={code:t9,message:"Too many files"};function a9(e,t){var n="application/x-moz-file"===e.type||Y8(e,t);return[n,n?null:n9(t)]}function s9(e,t,n){if(l9(e.size))if(l9(t)&&l9(n)){if(e.size>n)return[!1,r9(n)];if(e.size<t)return[!1,i9(t)]}else{if(l9(t)&&e.size<t)return[!1,i9(t)];if(l9(n)&&e.size>n)return[!1,r9(n)]}return[!0,null]}function l9(e){return void 0!==e&&null!==e}function c9(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function u9(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function d9(e){e.preventDefault()}function h9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!c9(e)&&t&&t.apply(void 0,[e].concat(r)),c9(e)}))}}function p9(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function f9(e){return/^.*\.[\w]+$/.test(e)}var m9=["children"],g9=["open"],v9=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],y9=["refKey","onChange","onClick"];function b9(e){return function(e){if(Array.isArray(e))return w9(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x9(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||x9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x9(e,t){if(e){if("string"===typeof e)return w9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w9(e,t):void 0}}function w9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C9(Object(n),!0).forEach((function(t){S9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var M9=(0,i.forwardRef)((function(e,t){var n=e.children,r=R9(_9(e,m9)),o=r.open,a=_9(r,g9);return(0,i.useImperativeHandle)(t,(function(){return{open:o}}),[o]),i.createElement(i.Fragment,null,n(E9(E9({},a),{},{open:o})))}));M9.displayName="Dropzone";var I9={disabled:!1,getFilesFromEvent:function(e){return R8(this,void 0,void 0,(function*(){return L8(e)&&function(e){return L8(e)}(e.dataTransfer)?function(e,t){return R8(this,void 0,void 0,(function*(){if(e.items){const n=N8(e.items).filter((e=>"file"===e.kind));if("drop"!==t)return n;return D8(j8(yield Promise.all(n.map(F8))))}return D8(N8(e.files).map((e=>P8(e))))}))}(e.dataTransfer,e.type):function(e){return L8(e)&&L8(e.target)}(e)?function(e){return N8(e.target.files).map((e=>P8(e)))}(e):Array.isArray(e)&&e.every((e=>"getFile"in e&&"function"===typeof e.getFile))?function(e){return R8(this,void 0,void 0,(function*(){const t=yield Promise.all(e.map((e=>e.getFile())));return t.map((e=>P8(e)))}))}(e):[]}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};M9.defaultProps=I9,M9.propTypes={children:BO.func,accept:BO.objectOf(BO.arrayOf(BO.string)),multiple:BO.bool,preventDropOnDocument:BO.bool,noClick:BO.bool,noKeyboard:BO.bool,noDrag:BO.bool,noDragEventsBubbling:BO.bool,minSize:BO.number,maxSize:BO.number,maxFiles:BO.number,disabled:BO.bool,getFilesFromEvent:BO.func,onFileDialogCancel:BO.func,onFileDialogOpen:BO.func,useFsAccessApi:BO.bool,autoFocus:BO.bool,onDragEnter:BO.func,onDragLeave:BO.func,onDragOver:BO.func,onDrop:BO.func,onDropAccepted:BO.func,onDropRejected:BO.func,onError:BO.func,validator:BO.func};var T9={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function R9(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=E9(E9({},I9),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,a=t.maxSize,s=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,h=t.onDragOver,p=t.onDrop,f=t.onDropAccepted,m=t.onDropRejected,g=t.onFileDialogCancel,v=t.onFileDialogOpen,y=t.useFsAccessApi,b=t.autoFocus,A=t.preventDropOnDocument,x=t.noClick,w=t.noKeyboard,C=t.noDrag,E=t.noDragEventsBubbling,S=t.onError,_=t.validator,M=(0,i.useMemo)((function(){return function(e){if(l9(e))return Object.entries(e).reduce((function(e,t){var n=$8(t,2),r=n[0],i=n[1];return[].concat(G8(e),[r],G8(i))}),[]).filter((function(e){return p9(e)||f9(e)})).join(",")}(n)}),[n]),I=(0,i.useMemo)((function(){return function(e){return l9(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=$8(e,2),n=t[0],r=t[1],i=!0;return p9(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(f9)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=$8(t,2),r=n[0],i=n[1];return W8(W8({},e),{},q8({},r,i))}),{})}]:e}(n)}),[n]),T=(0,i.useMemo)((function(){return"function"===typeof v?v:P9}),[v]),R=(0,i.useMemo)((function(){return"function"===typeof g?g:P9}),[g]),k=(0,i.useRef)(null),P=(0,i.useRef)(null),B=A9((0,i.useReducer)(k9,T9),2),O=B[0],L=B[1],D=O.isFocused,N=O.isFileDialogActive,F=(0,i.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),j=function(){!F.current&&N&&setTimeout((function(){P.current&&(P.current.files.length||(L({type:"closeDialog"}),R()))}),300)};(0,i.useEffect)((function(){return window.addEventListener("focus",j,!1),function(){window.removeEventListener("focus",j,!1)}}),[P,N,R,F]);var U=(0,i.useRef)([]),z=function(e){k.current&&k.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,i.useEffect)((function(){return A&&(document.addEventListener("dragover",d9,!1),document.addEventListener("drop",z,!1)),function(){A&&(document.removeEventListener("dragover",d9),document.removeEventListener("drop",z))}}),[k,A]),(0,i.useEffect)((function(){return!r&&b&&k.current&&k.current.focus(),function(){}}),[k,b,r]);var H=(0,i.useCallback)((function(e){S?S(e):console.error(e)}),[S]),V=(0,i.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),U.current=[].concat(b9(U.current),[e.target]),u9(e)&&Promise.resolve(o(e)).then((function(t){if(!c9(e)||E){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!(!o&&t.length>1||o&&a>=1&&t.length>a)&&t.every((function(e){var t=$8(a9(e,n),1)[0],o=$8(s9(e,r,i),1)[0],a=s?s(e):null;return t&&o&&!a}))}({files:t,accept:M,minSize:s,maxSize:a,multiple:l,maxFiles:c,validator:_});L({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}})).catch((function(e){return H(e)}))}),[o,u,H,E,M,s,a,l,c,_]),G=(0,i.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=u9(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1}),[h,E]),Q=(0,i.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=U.current.filter((function(e){return k.current&&k.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),U.current=t,t.length>0||(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),u9(e)&&d&&d(e))}),[k,d,E]),W=(0,i.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=A9(a9(e,M),2),i=t[0],o=t[1],l=A9(s9(e,s,a),2),c=l[0],u=l[1],d=_?_(e):null;if(i&&c&&!d)n.push(e);else{var h=[o,u];d&&(h=h.concat(d)),r.push({file:e,errors:h.filter((function(e){return e}))})}})),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach((function(e){r.push({file:e,errors:[o9]})})),n.splice(0)),L({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&f&&f(n,t)}),[L,l,M,s,a,c,p,f,m,_]),q=(0,i.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),U.current=[],u9(e)&&Promise.resolve(o(e)).then((function(t){c9(e)&&!E||W(t,e)})).catch((function(e){return H(e)})),L({type:"reset"})}),[o,W,H,E]),$=(0,i.useCallback)((function(){if(F.current){L({type:"openDialog"}),T();var e={multiple:l,types:I};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){W(e,null),L({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?H(e):(F.current=!1,P.current?(P.current.value=null,P.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):(R(e),L({type:"closeDialog"}))}))}else P.current&&(L({type:"openDialog"}),T(),P.current.value=null,P.current.click())}),[L,T,R,y,W,H,I,l]),X=(0,i.useCallback)((function(e){k.current&&k.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),$()))}),[k,$]),K=(0,i.useCallback)((function(){L({type:"focus"})}),[]),Y=(0,i.useCallback)((function(){L({type:"blur"})}),[]),J=(0,i.useCallback)((function(){x||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?$():setTimeout($,0))}),[x,$]),Z=function(e){return r?null:e},ee=function(e){return w?null:Z(e)},te=function(e){return C?null:Z(e)},ne=function(e){E&&e.stopPropagation()},re=(0,i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,o=e.onKeyDown,a=e.onFocus,s=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,h=e.onDrop,p=_9(e,v9);return E9(E9(S9({onKeyDown:ee(h9(o,X)),onFocus:ee(h9(a,K)),onBlur:ee(h9(s,Y)),onClick:Z(h9(l,J)),onDragEnter:te(h9(c,V)),onDragOver:te(h9(u,G)),onDragLeave:te(h9(d,Q)),onDrop:te(h9(h,q)),role:"string"===typeof i&&""!==i?i:"presentation"},n,k),r||w?{}:{tabIndex:0}),p)}}),[k,X,K,Y,J,V,G,Q,q,w,C,r]),ie=(0,i.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,i.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=_9(e,y9);return E9(E9({},S9({accept:M,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(h9(r,q)),onClick:Z(h9(i,ie)),tabIndex:-1},n,P)),o)}}),[P,n,l,q,r]);return E9(E9({},O),{},{isFocused:D&&!r,getRootProps:re,getInputProps:oe,rootRef:k,inputRef:P,open:Z($)})}function k9(e,t){switch(t.type){case"focus":return E9(E9({},e),{},{isFocused:!0});case"blur":return E9(E9({},e),{},{isFocused:!1});case"openDialog":return E9(E9({},T9),{},{isFileDialogActive:!0});case"closeDialog":return E9(E9({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return E9(E9({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return E9(E9({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return E9({},T9);default:return e}}function P9(){}const B9=e=>{let{open:t,onClose:n}=e;const{user:r}=i.useContext(hO),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(["bug"]),[d,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[b,A]=(0,i.useState)(null),[x,w]=(0,i.useState)(""),C=Ux(),[E,S]=(0,i.useState)([]),[_,M]=(0,i.useState)(!1);(0,i.useEffect)((()=>{console.log("Updated file list:",E)}),[E]);const I={"/":"Home","/data":"Data Management","/dependencies":"Parts & Recipes","/tracker":"Tracker","/admin/testers":"Testers Registration"},[T,R]=(0,i.useState)(I[C.pathname]||"Satisfactory Tracker");(0,i.useEffect)((()=>{t&&(R(I[C.pathname]||"Satisfactory Tracker"),a(""),l(""),u(["bug"]))}),[t,C.pathname]);(0,i.useEffect)((()=>{g((()=>{const e=navigator.userAgent;let t="Unknown";e.includes("Chrome")&&(t="Google Chrome"),e.includes("Firefox")&&(t="Mozilla Firefox"),e.includes("Safari")&&!e.includes("Chrome")&&(t="Safari"),e.includes("Edge")&&(t="Microsoft Edge");let n="Unknown OS";return e.includes("Windows")&&(n="Windows"),e.includes("Mac OS")&&(n="Mac OS"),e.includes("Linux")&&(n="Linux"),`Browser: ${t} | OS: ${n} | Page: ${T}`})())}),[]);const[k,P]=(0,i.useState)([]),{getRootProps:B,getInputProps:O,isDragActive:L}=R9({onDrop:e=>{S((t=>[...t,...e])),console.log("Files after upload:",E)},accept:"image/*",multiple:!0});k.map(((e,t)=>(0,Ty.jsxs)(Tk,{variant:"body2",children:["\ud83d\udcc4 ",e.name," (",(e.size/1024).toFixed(2)," KB)"]},t)));return(0,Ty.jsx)($T,{open:t,onClose:n,disableEscapeKeyDown:!0,sx:{"& .MuiBackdrop-root":{pointerEvents:"none"}},children:(0,Ty.jsxs)(pk,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",padding:4,borderRadius:3,boxShadow:24,width:"500px",maxWidth:"90%"},children:[(0,Ty.jsx)(Tk,{variant:"h5",sx:{fontWeight:"bold",mb:2},children:"Report an Issue"}),d&&(0,Ty.jsx)(GA,{severity:"error",sx:{mb:2},children:d}),v&&(0,Ty.jsxs)(GA,{severity:"success",sx:{mt:2},children:["Issue created successfully! "," ",(0,Ty.jsx)("a",{href:v,target:"_blank",rel:"noopener noreferrer",children:"View it here."})]}),r?(0,Ty.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),y(""),M(!0);let t=[];if(E.length>0){const e=new FormData;E.forEach((t=>e.append("file",t)));try{t=(await dO.post(UC.upload_screenshot,e,{headers:{"Content-Type":"multipart/form-data"}})).data.image_urls||[]}catch(d){return h("Failed to upload screenshot."),void M(!1)}}const n=`\n### Issue Reported by: ${(null===r||void 0===r?void 0:r.username)||"Unknown"}\n---\n${s}\n\n**Uploaded Files:**  \n${t.length>0?t.map((e=>`\ud83d\udcce [View File - ${e.split("/").pop()}](${e})`)).join("\n"):"No files uploaded"}\n\n\n---\n**Browser Info:**  \n${m}\n`;try{const e=await dO.post(UC.github_issue,{title:o,description:n,labels:c});y(e.data.issue_url),a(""),l(""),u(["bug"]),S([])}catch(d){var i,p;h((null===(i=d.response)||void 0===i||null===(p=i.data)||void 0===p?void 0:p.error)||"Failed to create issue."),console.error("Failed to create GitHub issue",d)}finally{M(!1)}},children:[(0,Ty.jsx)(GR,{fullWidth:!0,required:!0,label:"Title",value:o,onChange:e=>a(e.target.value),margin:"normal"}),(0,Ty.jsx)(GR,{fullWidth:!0,required:!0,label:"Detailed Description",multiline:!0,rows:4,value:s,onChange:e=>l(e.target.value),margin:"normal"}),(0,Ty.jsxs)(gT,{fullWidth:!0,margin:"normal",children:[(0,Ty.jsx)(uT,{children:"Labels"}),(0,Ty.jsxs)(jR,{multiple:!0,value:c,onChange:e=>u(e.target.value),children:[(0,Ty.jsx)(cS,{value:"bug",children:"Bug"}),(0,Ty.jsx)(cS,{value:"enhancement",children:"Enhancement"}),(0,Ty.jsx)(cS,{value:"question",children:"Question"})]})]}),(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsxs)(pk,{...B(),sx:{border:"2px dashed #ddd",padding:3,textAlign:"center",cursor:"pointer",borderRadius:2,backgroundColor:L?"#f0f8ff":"transparent"},children:[(0,Ty.jsx)("input",{...O()}),(0,Ty.jsx)(Tk,{variant:"body2",children:L?"Drop the files here...":"Drag & drop files here or click to select"})]}),(0,Ty.jsx)(pk,{sx:{mt:2},children:E.length>0&&(0,Ty.jsx)("ul",{style:{listStyle:"none",padding:0},children:E.map(((e,t)=>(0,Ty.jsxs)("li",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:["\ud83d\udcce ",e.name,(0,Ty.jsx)(IO,{onClick:()=>(e=>{S((t=>t.filter(((t,n)=>n!==e)))),console.log("Files after removal:",E)})(t),variant:"outlined",size:"small",sx:{ml:2,color:"red",borderColor:"red","&:hover":{backgroundColor:"#ffcccb"}},children:"\u274c Remove"})]},t)))})})]}),(0,Ty.jsxs)(Tk,{variant:"body2",sx:{mt:2,color:"gray",fontSize:"0.9rem"},children:[(0,Ty.jsx)("strong",{children:"Browser Info:"}),(0,Ty.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",fontSize:"0.8rem",background:"#f4f4f4",padding:"8px",borderRadius:"4px"},children:m})]}),(0,Ty.jsx)(IO,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2,backgroundColor:"#ff5722","&:hover":{backgroundColor:"#e64a19"}},disabled:_,children:_?"Submitting...":"Submit"}),(0,Ty.jsx)(IO,{onClick:n,variant:"outlined",fullWidth:!0,sx:{mt:2,float:"right",borderColor:"#ff5722",color:"#ff5722","&:hover":{backgroundColor:"#ffe0b2"}},children:"Close"})]}):(0,Ty.jsx)(GA,{severity:"warning",children:"\u26a0\ufe0f You must be logged in to report an issue."})]})})},O9=PA((0,Ty.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-6.99 15c-.7 0-1.26-.56-1.26-1.26 0-.71.56-1.25 1.26-1.25.71 0 1.25.54 1.25 1.25-.01.69-.54 1.26-1.25 1.26m3.01-7.4c-.76 1.11-1.48 1.46-1.87 2.17-.16.29-.22.48-.22 1.41h-1.82c0-.49-.08-1.29.31-1.98.49-.87 1.42-1.39 1.96-2.16.57-.81.25-2.33-1.37-2.33-1.06 0-1.58.8-1.8 1.48l-1.65-.7C9.01 7.15 10.22 6 11.99 6c1.48 0 2.49.67 3.01 1.52.44.72.7 2.07.02 3.08"}),"HelpCenter");dO.defaults.withCredentials=!0;const L9=()=>{const e=Ey(),{user:t,logout:n}=i.useContext(hO),r=Vx(),[o,a]=(0,i.useState)(!1),s=Ux(),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(null),h=((0,i.useRef)(null),()=>d(null)),[p,f]=(0,i.useState)(!1),[m,g]=(0,i.useState)(!1),v=(s.pathname,async()=>{try{n(),r("/login")}catch(e){console.error("Error during logout:",e)}}),y=()=>{try{r("/login")}catch(e){console.error("Error during login:",e)}};return(0,Ty.jsxs)(pk,{sx:{position:"sticky",top:0,width:"100%",zIndex:1100,backgroundColor:e.palette.primary.secondary,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,Ty.jsxs)(pk,{sx:{width:"100%",padding:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ty.jsxs)(pk,{sx:{display:"flex",alignItems:"center",gap:4},children:[(0,Ty.jsxs)(pk,{sx:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:e=>d(e.currentTarget),children:[(0,Ty.jsx)(MA,{color:"inherit",sx:{fontSize:32},children:(0,Ty.jsx)(I8,{sx:{fontSize:32}})}),(0,Ty.jsx)(Tk,{variant:"h4",sx:{color:e.palette.primary.contrastText},children:"Menu"})]}),t&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)(IO,{variant:"contained",color:"warning",onClick:()=>g(!0),children:"Report an Issue"}),m&&(0,Ty.jsx)(B9,{open:m,onClose:()=>g(!1)})]})]}),(0,Ty.jsx)(pk,{sx:{display:"flex",justifyContent:"center",flexGrow:1},children:(0,Ty.jsx)(PW,{title:"Satisfactory Tracker - Home",children:(0,Ty.jsx)("a",{href:"/",children:(0,Ty.jsx)("img",{src:"images/app/Satisfactory_Tracker_Banner.png",alt:"Banner",style:{height:"60px",maxWidth:"100%"}})})})}),(0,Ty.jsxs)(pk,{sx:{display:"flex",alignItems:"center",gap:2},children:[t?(0,Ty.jsxs)(Tk,{variant:"h5",align:"center",children:["Logged in as:",(0,Ty.jsx)("br",{}),t.username]}):(0,Ty.jsx)(Tk,{variant:"h5",children:"Log In"}),(0,Ty.jsx)(PW,{title:t?"Logout":"Login",arrow:!0,children:(0,Ty.jsx)(MA,{color:"inherit",onClick:t?v:y,children:t?(0,Ty.jsx)(ZZ,{}):(0,Ty.jsx)(e0,{})})})]})]}),(0,Ty.jsxs)(hR,{anchorEl:u,open:Boolean(u),onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[(0,Ty.jsxs)(cS,{component:Ww,to:"/",onClick:h,children:[(0,Ty.jsx)(t0,{sx:{marginRight:1}})," Home"]}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsxs)(cS,{component:Ww,to:"/data",onClick:h,children:[(0,Ty.jsx)(n0,{sx:{marginRight:1}})," Data Management"]}),(0,Ty.jsxs)(cS,{component:Ww,to:"/admin/testers",onClick:h,children:[(0,Ty.jsx)(T8,{sx:{marginRight:1}})," Tester Request Management"]})]}),t&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsxs)(cS,{component:Ww,to:"/dependencies",onClick:h,children:[(0,Ty.jsx)(a0,{sx:{marginRight:1}})," Parts & Recipes"]}),(0,Ty.jsxs)(cS,{component:Ww,to:"/tracker",onClick:h,children:[(0,Ty.jsx)(o0,{sx:{marginRight:1}})," Tracker"]})]}),(0,Ty.jsx)(fW,{sx:{borderColor:e.palette.primary.contrastText,borderWidth:"2px",opacity:.7}}),t?(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsxs)(cS,{disabled:!0,children:["Logged in as: ",t.username]}),(0,Ty.jsx)(fW,{}),(0,Ty.jsxs)(cS,{onClick:h,component:Ww,to:"/settings",children:[(0,Ty.jsx)(r0,{sx:{marginRight:1}})," Settings"]}),(0,Ty.jsxs)(cS,{onClick:h,component:Ww,to:"/help",children:[(0,Ty.jsx)(O9,{sx:{marginRight:1}})," Help & Guides"]}),(0,Ty.jsxs)(cS,{onClick:()=>{v(),h()},component:Ww,to:"/",children:[(0,Ty.jsx)(ZZ,{sx:{marginRight:1}})," Logout"]})]}):(0,Ty.jsxs)(cS,{onClick:()=>{y(),h()},children:[(0,Ty.jsx)(e0,{sx:{marginRight:1}})," Login"]}),(0,Ty.jsx)(fW,{sx:{borderColor:e.palette.primary.contrastText,borderWidth:"2px",opacity:.7}}),t&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsxs)(cS,{disabled:!0,children:[(0,Ty.jsx)(i0,{sx:{marginRight:1,color:"red"}})," ",(0,Ty.jsx)("b",{children:"Help make the site better"})]}),(0,Ty.jsxs)(cS,{component:"a",href:"https://your-discord-link.com",target:"_blank",children:[(0,Ty.jsx)($Z,{style:{width:24,height:24,marginRight:8}}),"Join Discord"]}),(0,Ty.jsxs)(cS,{component:"a",href:"https://github.com/your-repo",target:"_blank",children:[(0,Ty.jsx)(JZ,{style:{width:24,height:24,marginRight:8}}),"GitHub Repository"]}),(0,Ty.jsxs)(cS,{component:"a",href:"https://your-feedback-form.com",target:"_blank",children:[(0,Ty.jsx)(s0,{sx:{marginRight:1}})," Leave a Comment"]}),(0,Ty.jsx)(fW,{sx:{borderColor:e.palette.primary.contrastText,borderWidth:"2px",opacity:.7}}),(0,Ty.jsxs)(cS,{disabled:!0,children:[(0,Ty.jsx)(i0,{sx:{marginRight:1,color:"red"}})," ",(0,Ty.jsx)("b",{children:"Help keep the site running"})]}),(0,Ty.jsxs)(cS,{component:"a",href:"https://paypal.me/your-link",target:"_blank",children:[(0,Ty.jsx)(l0,{sx:{marginRight:1}})," Donate through PayPal"]}),(0,Ty.jsxs)(cS,{component:"a",href:"https://patreon.com/your-link",target:"_blank",children:[(0,Ty.jsx)(c0,{sx:{marginRight:1}})," Pledge on Patreon"]})]}),!t&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)(fW,{}),(0,Ty.jsxs)(cS,{onClick:()=>f(!0),children:[(0,Ty.jsx)(i0,{sx:{marginRight:1,color:"red"}})," Request Tester Access"]})]})]})]})};function D9(e){return lb("MuiLink",e)}const N9=cb("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),F9=e=>{let{theme:t,ownerState:n}=e;const r=n.color,i=Ym(t,`palette.${r}.main`,!1)||Ym(t,`palette.${r}`,!1)||n.color,o=Ym(t,`palette.${r}.mainChannel`)||Ym(t,`palette.${r}Channel`);return"vars"in t&&o?`rgba(${o} / 0.4)`:hv(i,.4)},j9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},U9=Ay(Tk,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${Oy(n.underline)}`],"button"===n.component&&t.button]}})(My((e=>{let{theme:t}=e;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:e=>{let{underline:t,ownerState:n}=e;return"always"===t&&"inherit"!==n.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(Rb()).map((e=>{let[n]=e;return{props:{underline:"always",color:n},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.4)`:hv(t.palette[n].main,.4)}}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:hv(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:hv(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${N9.focusVisible}`]:{outline:"auto"}}}]}}))),z9=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiLink"}),r=Ey(),{className:o,color:a="primary",component:s="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:d="always",variant:h="inherit",sx:p,...f}=n,[m,g]=i.useState(!1),v={...n,color:a,component:s,focusVisible:m,underline:d,variant:h},y=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e;return Op({root:["root",`underline${Oy(i)}`,"button"===n&&"button",r&&"focusVisible"]},D9,t)})(v);return(0,Ty.jsx)(U9,{color:a,className:ib(y.root,o),classes:u,component:s,onBlur:e=>{Nb(e.target)||g(!1),l&&l(e)},onFocus:e=>{Nb(e.target)&&g(!0),c&&c(e)},ref:t,ownerState:v,variant:h,...f,sx:[...void 0===j9[a]?[{color:a}]:[],...Array.isArray(p)?p:[p]],style:{...f.style,..."always"===d&&"inherit"!==a&&!j9[a]&&{"--Link-underlineColor":F9({theme:r,ownerState:v})}}})})),H9=z9,V9=PA((0,Ty.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),G9=PA((0,Ty.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"Forum"),Q9=PA([(0,Ty.jsx)("path",{d:"m21 5-9-4-9 4v6c0 5.55 3.84 10.74 9 12 2.3-.56 4.33-1.9 5.88-3.71l-3.12-3.12c-1.94 1.29-4.58 1.07-6.29-.64-1.95-1.95-1.95-5.12 0-7.07s5.12-1.95 7.07 0c1.71 1.71 1.92 4.35.64 6.29l2.9 2.9C20.29 15.69 21 13.38 21 11z"},"0"),(0,Ty.jsx)("circle",{cx:"12",cy:"12",r:"3"},"1")],"Policy"),W9=()=>{const e=Ey();return(0,Ty.jsxs)(pk,{component:"footer",sx:{width:"100%",padding:"16px",backgroundColor:e.palette.primary.secondary,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)",color:"primary.contrastText",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginTop:"auto"},children:[(0,Ty.jsxs)(Tk,{variant:"body4",sx:{marginBottom:1},children:["The assets come from Satisfactory or from websites created and owned by Coffee Stain Studios, who hold the copyright of Satisfactory. All trademarks and registered trademarks present in the images are proprietary to Coffee Stain Studios. ",(0,Ty.jsx)("br",{}),"Logo by Discord:"," ",(0,Ty.jsx)(H9,{href:"https://cdn.brandfetch.io/idM8Hlme1a/theme/light/symbol.svg?c=1bx1741179184944id64Mup7aclPAE1lkv&t=1668075053047",target:"_blank",rel:"noopener noreferrer",color:"inherit",underline:"hover",children:"View Discord Logo"}),(0,Ty.jsx)("br",{}),"GitHub logo:"," ",(0,Ty.jsx)(H9,{href:"https://github.com/logos",target:"_blank",rel:"noopener noreferrer",color:"inherit",underline:"hover",children:"View GitHub Logos"}),(0,Ty.jsx)("br",{}),(0,Ty.jsx)(H9,{href:"https://www.flaticon.com/free-icons/question-mark",title:"question-mark icons",target:"_blank",rel:"noopener noreferrer",color:"inherit",underline:"hover",children:"Question-mark icons created by Fathema Khanom - Flaticon"})]}),(0,Ty.jsxs)(pk,{sx:{display:"flex",gap:2,justifyContent:"center",marginBottom:1},children:[(0,Ty.jsxs)(H9,{href:"https://github.com/your-repo",target:"_blank",color:"inherit",underline:"none",children:[(0,Ty.jsx)(V9,{sx:{fontSize:24}})," GitHub"]}),(0,Ty.jsxs)(H9,{href:"https://your-discord-link.com",target:"_blank",color:"inherit",underline:"none",children:[(0,Ty.jsx)(G9,{sx:{fontSize:24}})," Discord"]}),(0,Ty.jsxs)(H9,{href:"/privacy-policy",color:"inherit",underline:"none",children:[(0,Ty.jsx)(Q9,{sx:{fontSize:24}})," Privacy Policy"]})]}),(0,Ty.jsxs)(Tk,{variant:"caption",children:["\xa9 ",(new Date).getFullYear()," Satisfactory Tracker. All Rights Reserved."]})]})};function q9(e){return lb("MuiTab",e)}const $9=cb("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),X9=Ay(uA,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Oy(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${$9.iconWrapper}`]:t.iconWrapper},{[`& .${$9.icon}`]:t.icon}]}})(My((e=>{let{theme:t}=e;return{...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"top"===n},style:{[`& > .${$9.icon}`]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"bottom"===n},style:{[`& > .${$9.icon}`]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"start"===n},style:{[`& > .${$9.icon}`]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"end"===n},style:{[`& > .${$9.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${$9.selected}`]:{opacity:1},[`&.${$9.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${$9.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${$9.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${$9.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${$9.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]}}))),K9=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:v="inherit",value:y,wrapped:b=!1,...A}=n,x={...n,disabled:o,disableFocusRipple:a,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:s,textColor:v,wrapped:b},w=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:a,selected:s,disabled:l}=e;return Op({root:["root",o&&a&&"labelIcon",`textColor${Oy(n)}`,r&&"fullWidth",i&&"wrapped",s&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]},q9,t)})(x),C=l&&d&&i.isValidElement(l)?i.cloneElement(l,{className:ib(w.icon,l.props.className)}):l;return(0,Ty.jsxs)(X9,{focusRipple:!a,className:ib(w.root,r),ref:t,role:"tab","aria-selected":m,disabled:o,onClick:e=>{!m&&h&&h(e,y),p&&p(e)},onFocus:e=>{g&&!m&&h&&h(e,y),f&&f(e)},ownerState:x,tabIndex:m?0:-1,...A,children:["top"===c||"start"===c?(0,Ty.jsxs)(i.Fragment,{children:[C,d]}):(0,Ty.jsxs)(i.Fragment,{children:[d,C]}),u]})})),Y9=K9,J9=PA((0,Ty.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Z9=PA((0,Ty.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),e7=i.createContext(null);function t7(e){const{children:t,value:n}=e,r=function(){const[e,t]=i.useState(null);return i.useEffect((()=>{t(`mui-p-${Math.round(1e5*Math.random())}`)}),[]),e}(),o=i.useMemo((()=>({idPrefix:r,value:n})),[r,n]);return(0,Ty.jsx)(e7.Provider,{value:o,children:t})}function n7(){return i.useContext(e7)}function r7(e,t){const{idPrefix:n}=e;return null===n?null:`${e.idPrefix}-P-${t}`}function i7(e,t){const{idPrefix:n}=e;return null===n?null:`${e.idPrefix}-T-${t}`}function o7(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const a7={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function s7(e){return lb("MuiTabScrollButton",e)}const l7=cb("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),c7=Ay(uA,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${l7.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),u7=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTabScrollButton"}),{className:r,slots:i={},slotProps:o={},direction:a,orientation:s,disabled:l,...c}=n,u=aC(),d={isRtl:u,...n},h=(e=>{const{classes:t,orientation:n,disabled:r}=e;return Op({root:["root",n,r&&"disabled"]},s7,t)})(d),p=i.StartScrollButtonIcon??UV,f=i.EndScrollButtonIcon??zV,m=L_({elementType:p,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=L_({elementType:f,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,Ty.jsx)(c7,{component:"div",className:ib(h.root,r),ref:t,role:null,ownerState:d,tabIndex:null,...c,style:{...c.style,..."vertical"===s&&{"--TabScrollButton-svgRotate":`rotate(${u?-90:90}deg)`}},children:"left"===a?(0,Ty.jsx)(p,{...m}):(0,Ty.jsx)(f,{...g})})})),d7=u7;function h7(e){return lb("MuiTabs",e)}const p7=cb("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),f7=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,m7=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,g7=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const t=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!t)return void i.focus();i=n(e,i)}},v7=Ay("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${p7.scrollButtons}`]:t.scrollButtons},{[`& .${p7.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(My((e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{[`& .${p7.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}}))),y7=Ay("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),b7=Ay("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),A7=Ay("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(My((e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}}))),x7=Ay((function(e){const{onChange:t,...n}=e,r=i.useRef(),o=i.useRef(null),a=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return GE((()=>{const e=CT((()=>{const e=r.current;a(),e!==r.current&&t(r.current)})),n=WE(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((()=>{a(),t(r.current)}),[t]),(0,Ty.jsx)("div",{style:a7,...n,ref:o})}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),w7={};const C7=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiTabs"}),r=Ey(),o=aC(),{"aria-label":a,"aria-labelledby":s,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:v,scrollButtons:y="auto",selectionFollowsFocus:b,slots:A={},slotProps:x={},TabIndicatorProps:w={},TabScrollButtonProps:C={},textColor:E="primary",value:S,variant:_="standard",visibleScrollbar:M=!1,...I}=n,T="scrollable"===_,R="vertical"===g,k=R?"scrollTop":"scrollLeft",P=R?"top":"left",B=R?"bottom":"right",O=R?"clientHeight":"clientWidth",L=R?"height":"width",D={...n,component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:R,scrollButtons:y,textColor:E,variant:_,visibleScrollbar:M,fixed:!T,hideScrollbar:T&&!M,scrollableX:T&&!R,scrollableY:T&&R,centered:c&&!T,scrollButtonsHideMobile:!p},N=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:a,scrollButtonsHideMobile:s,classes:l}=e;return Op({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},h7,l)})(D),F=L_({elementType:A.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:D}),j=L_({elementType:A.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:D});const[U,z]=i.useState(!1),[H,V]=i.useState(w7),[G,Q]=i.useState(!1),[W,q]=i.useState(!1),[$,X]=i.useState(!1),[K,Y]=i.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=i.useRef(null),ee=i.useRef(null),te={slots:A,slotProps:{indicator:w,scrollButton:C,...x}},ne=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==S){const e=ee.current.children;if(e.length>0){const t=e[J.get(S)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},re=Fb((()=>{const{tabsMeta:e,tabMeta:t}=ne();let n,r=0;R?(n="top",t&&e&&(r=t.top-e.top+e.scrollTop)):(n=o?"right":"left",t&&e&&(r=(o?-1:1)*(t[n]-e[n]+e.scrollLeft)));const i={[n]:r,[L]:t?t[L]:0};if("number"!==typeof H[n]||"number"!==typeof H[L])V(i);else{const e=Math.abs(H[n]-i[n]),t=Math.abs(H[L]-i[L]);(e>=1||t>=1)&&V(i)}})),ie=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:o=o7,duration:a=300}=r;let s=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void i(new Error("Animation cancelled"));null===s&&(s=r);const u=Math.min(1,(r-s)/a);t[e]=o(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{i(null)})):requestAnimationFrame(d)};l===n?i(new Error("Element already at target position")):requestAnimationFrame(d)}(k,Z.current,e,{duration:r.transitions.duration.standard}):Z.current[k]=e},oe=e=>{let t=Z.current[k];t+=R?e:e*(o?-1:1),ie(t)},ae=()=>{const e=Z.current[O];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const i=n[r];if(t+i[O]>e){0===r&&(t=e);break}t+=i[O]}return t},se=()=>{oe(-1*ae())},le=()=>{oe(ae())},[ce,{onChange:ue,...de}]=_b("scrollbar",{className:ib(N.scrollableX,N.hideScrollbar),elementType:x7,shouldForwardComponentProp:!0,externalForwardedProps:te,ownerState:D}),he=i.useCallback((e=>{ue?.(e),Y({overflow:null,scrollbarWidth:e})}),[ue]),[pe,fe]=_b("scrollButtons",{className:ib(N.scrollButtons,C.className),elementType:d7,externalForwardedProps:te,ownerState:D,additionalProps:{orientation:g,slots:{StartScrollButtonIcon:A.startScrollButtonIcon||A.StartScrollButtonIcon,EndScrollButtonIcon:A.endScrollButtonIcon||A.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:F,endScrollButtonIcon:j}}}),me=Fb((e=>{const{tabsMeta:t,tabMeta:n}=ne();if(n&&t)if(n[P]<t[P]){const r=t[k]+(n[P]-t[P]);ie(r,{animation:e})}else if(n[B]>t[B]){const r=t[k]+(n[B]-t[B]);ie(r,{animation:e})}})),ge=Fb((()=>{T&&!1!==y&&X(!$)}));i.useEffect((()=>{const e=CT((()=>{Z.current&&re()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{t?.unobserve(e)})),e.addedNodes.forEach((e=>{t?.observe(e)}))})),e(),ge()},r=WE(Z.current);let i;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(i=new MutationObserver(n),i.observe(ee.current,{childList:!0})),()=>{e.clear(),r.removeEventListener("resize",e),i?.disconnect(),t?.disconnect()}}),[re,ge]),i.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&T&&!1!==y){const n=e[0],r=e[t-1],i={root:Z.current,threshold:.99},o=new IntersectionObserver((e=>{Q(!e[0].isIntersecting)}),i);o.observe(n);const a=new IntersectionObserver((e=>{q(!e[0].isIntersecting)}),i);return a.observe(r),()=>{o.disconnect(),a.disconnect()}}}),[T,y,$,u?.length]),i.useEffect((()=>{z(!0)}),[]),i.useEffect((()=>{re()})),i.useEffect((()=>{me(w7!==H)}),[me,H]),i.useImperativeHandle(l,(()=>({updateIndicator:re,updateScrollButtons:ge})),[re,ge]);const[ve,ye]=_b("indicator",{className:ib(N.indicator,w.className),elementType:A7,externalForwardedProps:te,ownerState:D,additionalProps:{style:H}}),be=(0,Ty.jsx)(ve,{...ye});let Ae=0;const xe=i.Children.map(u,(e=>{if(!i.isValidElement(e))return null;const t=void 0===e.props.value?Ae:e.props.value;J.set(t,Ae);const n=t===S;return Ae+=1,i.cloneElement(e,{fullWidth:"fullWidth"===_,indicator:n&&!U&&be,selected:n,selectionFollowsFocus:b,onChange:m,textColor:E,value:t,...1!==Ae||!1!==S||e.props.tabIndex?{}:{tabIndex:0}})})),we=(()=>{const e={};e.scrollbarSizeListener=T?(0,Ty.jsx)(ce,{...de,onChange:he}):null;const t=T&&("auto"===y&&(G||W)||!0===y);return e.scrollButtonStart=t?(0,Ty.jsx)(pe,{direction:o?"right":"left",onClick:se,disabled:!G,...fe}):null,e.scrollButtonEnd=t?(0,Ty.jsx)(pe,{direction:o?"left":"right",onClick:le,disabled:!W,...fe}):null,e})(),[Ce,Ee]=_b("root",{ref:t,className:ib(N.root,d),elementType:v7,externalForwardedProps:{...te,...I,component:h},ownerState:D}),[Se,_e]=_b("scroller",{ref:Z,className:N.scroller,elementType:y7,externalForwardedProps:te,ownerState:D,additionalProps:{style:{overflow:K.overflow,[R?"margin"+(o?"Left":"Right"):"marginBottom"]:M?void 0:-K.scrollbarWidth}}}),[Me,Ie]=_b("list",{ref:ee,className:ib(N.list,N.flexContainer),elementType:b7,externalForwardedProps:te,ownerState:D,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{const t=ee.current,n=DE(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",i="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),g7(t,n,m7);break;case i:e.preventDefault(),g7(t,n,f7);break;case"Home":e.preventDefault(),g7(t,null,f7);break;case"End":e.preventDefault(),g7(t,null,m7)}})(t),e.onKeyDown?.(t)}})});return(0,Ty.jsxs)(Ce,{...Ee,children:[we.scrollButtonStart,we.scrollbarSizeListener,(0,Ty.jsxs)(Se,{..._e,children:[(0,Ty.jsx)(Me,{"aria-label":a,"aria-labelledby":s,"aria-orientation":"vertical"===g?"vertical":null,role:"tablist",...Ie,children:xe}),U&&be]}),we.scrollButtonEnd]})})),E7=C7,S7=i.forwardRef((function(e,t){const{children:n,...r}=e,o=n7();if(null===o)throw new TypeError("No TabContext provided");const a=i.Children.map(n,(e=>i.isValidElement(e)?i.cloneElement(e,{"aria-controls":r7(o,e.props.value),id:i7(o,e.props.value)}):null));return(0,Ty.jsx)(E7,{...r,ref:t,value:o.value,children:a})})),_7=S7;function M7(e){return lb("MuiTabPanel",e)}cb("MuiTabPanel",["root","hidden"]);const I7=Ay("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(3)}})),T7=i.forwardRef((function(e,t){const n=vH({props:e,name:"MuiTabPanel"}),{children:r,className:i,value:o,keepMounted:a=!1,...s}=n,l={...n},c=(e=>{const{classes:t,hidden:n}=e;return Op({root:["root",n&&"hidden"]},M7,t)})(l),u=n7();if(null===u)throw new TypeError("No TabContext provided");const d=r7(u,o),h=i7(u,o);return(0,Ty.jsx)(I7,{"aria-labelledby":h,className:ib(c.root,i),hidden:o!==u.value,id:d,ref:t,role:"tabpanel",ownerState:l,...s,children:(a||o===u.value)&&r})})),R7=T7,k7=e=>{let{trackerData:t,totals:n,isLoading:r}=e;const i=Ey(),o=t.map(((e,t)=>{var r,i,o,a;return{id:e.id||t,part_name:e.part_name,quantity_needed:(null===(r=n[e.id])||void 0===r?void 0:r.quantity)||e.quantity,machines_required:(null===(i=n[e.id])||void 0===i?void 0:i.machines)||"N/A",parts_per_minute:(null===(o=n[e.id])||void 0===o?void 0:o.parts_per_minute)||"N/A",time_to_complete:(null===(a=n[e.id])||void 0===a?void 0:a.time)||"N/A"}}));return(0,Ty.jsxs)(pk,{children:[(0,Ty.jsx)(Tk,{variant:"h2",gutterBottom:!0,children:"Tracker Data"}),r?(0,Ty.jsx)(Tk,{children:"Loading..."}):(0,Ty.jsx)(pk,{sx:i.trackerPageStyles.reportBox,children:(0,Ty.jsx)(mq,{density:"compact",rows:o,columns:[{field:"part_name",headerName:"Part",flex:1},{field:"quantity_needed",headerName:"Quantity Needed",flex:1,type:"number"},{field:"machines_required",headerName:"Machines Required",flex:1,type:"number"},{field:"parts_per_minute",headerName:"Parts/Minute",flex:1,type:"number"},{field:"time_to_complete",headerName:"Time to Complete",flex:1,type:"string"}]})})]})};var P7=n(9889),B7=n.n(P7),O7=n(620),L7=n.n(O7),D7=n(5268),N7=n.n(D7),F7=n(3097),j7=n.n(F7),U7=n(9160),z7=n.n(U7),H7=function(e){return 0===e?0:e>0?1:-1},V7=function(e){return L7()(e)&&e.indexOf("%")===e.length-1},G7=function(e){return z7()(e)&&!N7()(e)},Q7=function(e){return G7(e)||L7()(e)},W7=0,q7=function(e){var t=++W7;return"".concat(e||"").concat(t)},$7=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!G7(e)&&!L7()(e))return r;if(V7(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return N7()(n)&&(n=r),i&&n>t&&(n=t),n},X7=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},K7=function(e,t){return G7(e)&&G7(t)?function(n){return e+n*(t-e)}:function(){return t}};function Y7(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):j7()(e,t))===n})):null}var J7=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Z7=n(9686),eee=n.n(Z7),tee=n(1629),nee=n.n(tee),ree=n(6686),iee=n.n(ree),oee=n(9062);function aee(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function see(e){return see="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},see(e)}var lee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cee=["points","pathLength"],uee={svg:["viewBox","children"],polygon:cee,polyline:cee},dee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hee=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,i.isValidElement)(e)&&(n=e.props),!iee()(n))return null;var r={};return Object.keys(n).forEach((function(e){dee.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},pee=function(e,t,n){if(!iee()(e)||"object"!==see(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];dee.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r},fee=["children"],mee=["children"];function gee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vee={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yee=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},bee=null,Aee=null,xee=function e(t){if(t===bee&&Array.isArray(Aee))return Aee;var n=[];return i.Children.forEach(t,(function(t){eee()(t)||((0,oee.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),Aee=n,bee=t,n};function wee(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return yee(e)})):[yee(t)],xee(e).forEach((function(e){var t=j7()(e,"type.displayName")||j7()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function Cee(e,t){var n=wee(e,t);return n&&n[0]}var Eee=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!G7(n)||n<=0||!G7(r)||r<=0)},See=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_ee=function(e){return e&&e.type&&L7()(e.type)&&See.indexOf(e.type)>=0},Mee=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,i.isValidElement)(e)&&(r=e.props),!iee()(r))return null;var o={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var i,o=null!==(i=null===uee||void 0===uee?void 0:uee[r])&&void 0!==i?i:[];return!nee()(e)&&(r&&o.includes(t)||lee.includes(t))||n&&dee.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])})),o},Iee=function e(t,n){if(t===n)return!0;var r=i.Children.count(t);if(r!==i.Children.count(n))return!1;if(0===r)return!0;if(1===r)return Tee(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],s=n[o];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!Tee(a,s))return!1}return!0},Tee=function(e,t){if(eee()(e)&&eee()(t))return!0;if(!eee()(e)&&!eee()(t)){var n=e.props||{},r=n.children,i=gee(n,fee),o=t.props||{},a=o.children,s=gee(o,mee);return r&&a?aee(i,s)&&Iee(r,a):!r&&!a&&aee(i,s)}return!1},Ree=function(e,t){var n=[],r={};return xee(e).forEach((function(e,i){if(_ee(e))n.push(e);else if(e){var o=yee(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(e,o,i);n.push(c),r[o]=!0}}})),n},kee=function(e,t){return xee(t).indexOf(e)};function Pee(e){return Pee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pee(e)}function Bee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bee(Object(n),!0).forEach((function(t){Lee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lee(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Pee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pee(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fee=(0,i.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,p=e.maxHeight,f=e.children,m=e.debounce,g=void 0===m?0:m,v=e.id,y=e.className,b=e.onResize,A=e.style,x=void 0===A?{}:A,w=(0,i.useRef)(null),C=(0,i.useRef)();C.current=b,(0,i.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var E=Dee((0,i.useState)({containerWidth:o.width,containerHeight:o.height}),2),S=E[0],_=E[1],M=(0,i.useCallback)((function(e,t){_((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,i.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;M(r,i),null===(t=C.current)||void 0===t||t.call(C,r,i)};g>0&&(e=B7()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,i=n.height;return M(r,i),t.observe(w.current),function(){t.disconnect()}}),[M,g]);var I=(0,i.useMemo)((function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;J7(V7(s)||V7(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),J7(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=V7(s)?e:s,o=V7(c)?t:c;n&&n>0&&(r?o=r/n:o&&(r=o*n),p&&o>p&&(o=p)),J7(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,s,c,d,h,n);var a=!Array.isArray(f)&&yee(f.type).endsWith("Chart");return i.Children.map(f,(function(e){return i.isValidElement(e)?(0,i.cloneElement)(e,Oee({width:r,height:o},a?{style:Oee({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e}))}),[n,f,c,p,h,d,S,s]);return i.createElement("div",{id:v?"".concat(v):void 0,className:ib("recharts-responsive-container",y),style:Oee(Oee({},x),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:p}),ref:w},I)})),jee=n(6604),Uee=n.n(jee),zee=n(7424),Hee=n.n(zee),Vee="Invariant failed";function Gee(e,t){if(!e)throw new Error(Vee)}var Qee=["children","width","height","viewBox","className","style","title","desc"];function Wee(){return Wee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wee.apply(this,arguments)}function qee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ee(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=qee(e,Qee),d=o||{width:n,height:r,x:0,y:0},h=ib("recharts-surface",a);return i.createElement("svg",Wee({},Mee(u,!0,"svg"),{className:h,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),i.createElement("title",null,l),i.createElement("desc",null,c),t)}var Xee=["children","className"];function Kee(){return Kee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kee.apply(this,arguments)}function Yee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Jee=i.forwardRef((function(e,t){var n=e.children,r=e.className,o=Yee(e,Xee),a=ib("recharts-layer",r);return i.createElement("g",Kee({className:a},Mee(o,!0),{ref:t}),n)}));function Zee(e){return Zee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zee(e)}function ete(){return ete=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ete.apply(this,arguments)}function tte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nte(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nte(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ite(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rte(Object(n),!0).forEach((function(t){ote(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rte(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ote(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zee(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ate(e){return Array.isArray(e)&&Q7(e[0])&&Q7(e[1])?e.join(" ~ "):e}var ste=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,p=e.wrapperClassName,f=e.labelClassName,m=e.label,g=e.labelFormatter,v=e.accessibilityLayer,y=void 0!==v&&v,b=ite({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=ite({margin:0},c),x=!eee()(m),w=x?m:"",C=ib("recharts-default-tooltip",p),E=ib("recharts-tooltip-label",f);x&&g&&void 0!==u&&null!==u&&(w=g(m,u));var S=y?{role:"status","aria-live":"assertive"}:{};return i.createElement("div",ete({className:C,style:b},S),i.createElement("p",{className:E,style:A},i.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(h?Hee()(u,h):u).map((function(e,t){if("none"===e.type)return null;var r=ite({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),o=e.formatter||d||ate,a=e.value,l=e.name,c=a,h=l;if(o&&null!=c&&null!=h){var p=o(a,l,e,t,u);if(Array.isArray(p)){var f=tte(p,2);c=f[0],h=f[1]}else c=p}return i.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Q7(h)?i.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Q7(h)?i.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,i.createElement("span",{className:"recharts-tooltip-item-value"},c),i.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return i.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function lte(e){return lte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lte(e)}function cte(e,t,n){return t=function(e){var t=function(e,t){if("object"!=lte(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lte(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lte(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ute="recharts-tooltip-wrapper",dte={visibility:"hidden"};function hte(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ib(ute,cte(cte(cte(cte({},"".concat(ute,"-right"),G7(n)&&t&&G7(t.x)&&n>=t.x),"".concat(ute,"-left"),G7(n)&&t&&G7(t.x)&&n<t.x),"".concat(ute,"-bottom"),G7(r)&&t&&G7(t.y)&&r>=t.y),"".concat(ute,"-top"),G7(r)&&t&&G7(t.y)&&r<t.y))}function pte(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(o&&G7(o[r]))return o[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function fte(e){return fte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fte(e)}function mte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mte(Object(n),!0).forEach((function(t){wte(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mte(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cte(r.key),r)}}function yte(e,t,n){return t=Ate(t),function(e,t){if(t&&("object"===fte(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bte()?Reflect.construct(t,n||[],Ate(e).constructor):t.apply(e,n))}function bte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bte=function(){return!!e})()}function Ate(e){return Ate=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ate(e)}function xte(e,t){return xte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xte(e,t)}function wte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=function(e,t){if("object"!=fte(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fte(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fte(t)?t:t+""}var Ete=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wte(e=yte(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),wte(e,"handleKeyDown",(function(t){var n,r,i,o;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=e.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xte(e,t)}(t,e),n=t,r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,p=t.reverseDirection,f=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,v=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,o=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=pte({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=pte({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):dte,cssClasses:hte({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:f,viewBox:m}),y=v.cssClasses,b=v.cssProperties,A=gte(gte({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return i.createElement("div",{tabIndex:-1,className:y,style:A,ref:function(t){e.wrapperNode=t}},s)}}],r&&vte(n.prototype,r),o&&vte(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent),Ste={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Ste[e]},set:function(e,t){if("string"===typeof e)Ste[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){Ste[t]=e[t]}))}}},_te=n(977),Mte=n.n(_te);function Ite(e,t,n){return!0===t?Mte()(e,n):nee()(t)?Mte()(e,t):e}function Tte(e){return Tte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tte(e)}function Rte(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rte(Object(n),!0).forEach((function(t){Nte(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rte(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fte(r.key),r)}}function Bte(e,t,n){return t=Lte(t),function(e,t){if(t&&("object"===Tte(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ote()?Reflect.construct(t,n||[],Lte(e).constructor):t.apply(e,n))}function Ote(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ote=function(){return!!e})()}function Lte(e){return Lte=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lte(e)}function Dte(e,t){return Dte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dte(e,t)}function Nte(e,t,n){return(t=Fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fte(e){var t=function(e,t){if("object"!=Tte(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tte(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tte(t)?t:t+""}function jte(e){return e.dataKey}var Ute=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bte(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dte(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,p=t.payloadUniqBy,f=t.position,m=t.reverseDirection,g=t.useTranslate3d,v=t.viewBox,y=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=Ite(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),p,jte));var A=b.length>0;return i.createElement(Ete,{allowEscapeViewBox:r,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:A,offset:d,position:f,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:y},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):"function"===typeof e?i.createElement(e,t):i.createElement(ste,t)}(s,kte(kte({},this.props),{},{payload:b})))}}],r&&Pte(n.prototype,r),o&&Pte(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);Nte(Ute,"displayName","Tooltip"),Nte(Ute,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ste.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zte=n(643),Hte=n.n(zte);Math.abs,Math.atan2;const Vte=Math.cos,Gte=(Math.max,Math.min,Math.sin),Qte=Math.sqrt,Wte=Math.PI,qte=2*Wte;const $te={draw(e,t){const n=Qte(t/Wte);e.moveTo(n,0),e.arc(0,0,n,0,qte)}},Xte={draw(e,t){const n=Qte(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Kte=Qte(1/3),Yte=2*Kte,Jte={draw(e,t){const n=Qte(t/Yte),r=n*Kte;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Zte={draw(e,t){const n=Qte(t),r=-n/2;e.rect(r,r,n,n)}},ene=Gte(Wte/10)/Gte(7*Wte/10),tne=Gte(qte/10)*ene,nne=-Vte(qte/10)*ene,rne={draw(e,t){const n=Qte(.8908130915292852*t),r=tne*n,i=nne*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=qte*o/5,a=Vte(t),s=Gte(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},ine=Qte(3),one={draw(e,t){const n=-Qte(t/(3*ine));e.moveTo(0,2*n),e.lineTo(-ine*n,-n),e.lineTo(ine*n,-n),e.closePath()}},ane=-.5,sne=Qte(3)/2,lne=1/Qte(12),cne=3*(lne/2+1),une={draw(e,t){const n=Qte(t/cne),r=n/2,i=n*lne,o=r,a=n*lne+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(ane*r-sne*i,sne*r+ane*i),e.lineTo(ane*o-sne*a,sne*o+ane*a),e.lineTo(ane*s-sne*l,sne*s+ane*l),e.lineTo(ane*r+sne*i,ane*i-sne*r),e.lineTo(ane*o+sne*a,ane*a-sne*o),e.lineTo(ane*s+sne*l,ane*l-sne*s),e.closePath()}};function dne(e){return function(){return e}}const hne=Math.PI,pne=2*hne,fne=1e-6,mne=pne-fne;function gne(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class vne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?gne:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gne;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>fne)if(Math.abs(u*s-l*c)>fne&&i){let h=n-o,p=r-a,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),y=i*Math.tan((hne-Math.acos((f+d-m)/(2*g*v)))/2),b=y/v,A=y/g;Math.abs(b-1)>fne&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*p)},${this._x1=e+A*s},${this._y1=t+A*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>fne||Math.abs(this._y1-c)>fne)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%pne+pne),d>mne?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>fne&&this._append`A${n},${n},0,${+(d>=hne)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function yne(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new vne(t)}Qte(3),Qte(3);function bne(e){return bne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bne(e)}var Ane=["type","size","sizeType"];function xne(){return xne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xne.apply(this,arguments)}function wne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wne(Object(n),!0).forEach((function(t){Ene(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ene(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bne(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _ne={symbolCircle:$te,symbolCross:Xte,symbolDiamond:Jte,symbolSquare:Zte,symbolStar:rne,symbolTriangle:one,symbolWye:une},Mne=Math.PI/180,Ine=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,a=e.sizeType,s=void 0===a?"area":a,l=Cne(Cne({},Sne(e,Ane)),{},{type:n,size:o,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=Mee(l,!0);return u===+u&&d===+d&&o===+o?i.createElement("path",xne({},h,{className:ib("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Hte()(e));return _ne[t]||$te}(n),t=function(e,t){let n=null,r=yne(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:dne(e||$te),t="function"===typeof t?t:dne(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:dne(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:dne(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Mne;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,s,n));return t()}()})):null};function Tne(e){return Tne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tne(e)}function Rne(){return Rne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rne.apply(this,arguments)}function kne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fne(r.key),r)}}function Bne(e,t,n){return t=Lne(t),function(e,t){if(t&&("object"===Tne(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,One()?Reflect.construct(t,n||[],Lne(e).constructor):t.apply(e,n))}function One(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(One=function(){return!!e})()}function Lne(e){return Lne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lne(e)}function Dne(e,t){return Dne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dne(e,t)}function Nne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=function(e,t){if("object"!=Tne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tne(t)?t:t+""}Ine.registerSymbol=function(e,t){_ne["symbol".concat(Hte()(e))]=t};var jne=32,Une=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bne(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dne(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=5.333333333333333,o=10.666666666666666,a=e.inactive?t:e.color;if("plainline"===e.type)return i.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:jne,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return i.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(jne,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return i.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(jne,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(i.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kne(Object(n),!0).forEach((function(t){Nne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,i.cloneElement(e.legendIcon,s)}return i.createElement(Ine,{fill:a,cx:n,cy:n,size:jne,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:jne,height:jne},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,d=ib(Nne(Nne({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=nee()(t.value)?null:t.value;J7(!nee()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return i.createElement("li",Rne({className:d,style:c,key:"legend-item-".concat(n)},pee(e.props,t,n)),i.createElement($ee,{width:r,height:r,viewBox:l,style:u},e.renderIcon(t)),i.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},o?o(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&Pne(n.prototype,r),o&&Pne(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function zne(e){return zne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zne(e)}Nne(Une,"displayName","Legend"),Nne(Une,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hne=["ref"];function Vne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vne(Object(n),!0).forEach((function(t){Kne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yne(r.key),r)}}function Wne(e,t,n){return t=$ne(t),function(e,t){if(t&&("object"===zne(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qne()?Reflect.construct(t,n||[],$ne(e).constructor):t.apply(e,n))}function qne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qne=function(){return!!e})()}function $ne(e){return $ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$ne(e)}function Xne(e,t){return Xne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xne(e,t)}function Kne(e,t,n){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yne(e){var t=function(e,t){if("object"!=zne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zne(t)?t:t+""}function Jne(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zne(e){return e.value}var ere=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Kne(e=Wne(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xne(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gne({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Gne(Gne({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=Gne(Gne({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return i.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(i.isValidElement(e))return i.cloneElement(e,t);if("function"===typeof e)return i.createElement(e,t);t.ref;var n=Jne(t,Hne);return i.createElement(Une,n)}(n,Gne(Gne({},this.props),{},{payload:Ite(l,s,Zne)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=Gne(Gne({},this.defaultProps),e.props).layout;return"vertical"===n&&G7(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&Qne(n.prototype,r),o&&Qne(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function tre(){return tre=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tre.apply(this,arguments)}Kne(ere,"displayName","Legend"),Kne(ere,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nre=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,a=ib("recharts-dot",o);return t===+t&&n===+n&&r===+r?i.createElement("circle",tre({},Mee(e,!1),hee(e),{className:a,cx:t,cy:n,r:r})):null},rre=Object.getOwnPropertyNames,ire=Object.getOwnPropertySymbols,ore=Object.prototype.hasOwnProperty;function are(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function sre(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,o=i.get(t),a=i.get(n);if(o&&a)return o===n&&a===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function lre(e){return rre(e).concat(ire(e))}var cre=Object.hasOwn||function(e,t){return ore.call(e,t)};function ure(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dre=Object.getOwnPropertyDescriptor,hre=Object.keys;function pre(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function fre(e,t){return ure(e.getTime(),t.getTime())}function mre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function gre(e,t){return e===t}function vre(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(o=c.next())&&!o.done;)if(a[d])d++;else{var h=i.value,p=o.value;if(n.equals(h[0],p[0],l,d,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var yre=ure;function bre(e,t,n){var r=hre(e),i=r.length;if(hre(t).length!==i)return!1;for(;i-- >0;)if(!_re(e,t,n,r[i]))return!1;return!0}function Are(e,t,n){var r,i,o,a=lre(e),s=a.length;if(lre(t).length!==s)return!1;for(;s-- >0;){if(!_re(e,t,n,r=a[s]))return!1;if(i=dre(e,r),o=dre(t,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function xre(e,t){return ure(e.valueOf(),t.valueOf())}function wre(e,t){return e.source===t.source&&e.flags===t.flags}function Cre(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,o,a=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&n.equals(i.value,o.value,i.value,o.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function Ere(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Sre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function _re(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||cre(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Mre=Array.isArray,Ire="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Tre=Object.assign,Rre=Object.prototype.toString.call.bind(Object.prototype.toString);var kre=Pre();Pre({strict:!0}),Pre({circular:!0}),Pre({circular:!0,strict:!0}),Pre({createInternalComparator:function(){return ure}}),Pre({strict:!0,createInternalComparator:function(){return ure}}),Pre({circular:!0,createInternalComparator:function(){return ure}}),Pre({circular:!0,createInternalComparator:function(){return ure},strict:!0});function Pre(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,o=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Are:pre,areDatesEqual:fre,areErrorsEqual:mre,areFunctionsEqual:gre,areMapsEqual:r?are(vre,Are):vre,areNumbersEqual:yre,areObjectsEqual:r?Are:bre,arePrimitiveWrappersEqual:xre,areRegExpsEqual:wre,areSetsEqual:r?are(Cre,Are):Cre,areTypedArraysEqual:r?Are:Ere,areUrlsEqual:Sre};if(n&&(i=Tre({},i,n(i))),t){var o=sre(i.areArraysEqual),a=sre(i.areMapsEqual),s=sre(i.areObjectsEqual),l=sre(i.areSetsEqual);i=Tre({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,p,f){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?a(e,p,f):"function"===m&&i(e,p,f);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(e,p,f);if(Mre(e))return t(e,p,f);if(null!=Ire&&Ire(e))return d(e,p,f);if(g===Date)return n(e,p,f);if(g===RegExp)return c(e,p,f);if(g===Map)return o(e,p,f);if(g===Set)return u(e,p,f);var v=Rre(e);return"[object Date]"===v?n(e,p,f):"[object RegExp]"===v?c(e,p,f):"[object Map]"===v?o(e,p,f):"[object Set]"===v?u(e,p,f):"[object Object]"===v?"function"!==typeof e.then&&"function"!==typeof p.then&&s(e,p,f):"[object URL]"===v?h(e,p,f):"[object Error]"===v?r(e,p,f):"[object Arguments]"===v?s(e,p,f):("[object Boolean]"===v||"[object Number]"===v||"[object String]"===v)&&l(e,p,f)}}(l),u=i?i(c):(t=c,function(e,n,r,i,o,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:i,meta:u,strict:o})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:o,equals:u,strict:s})}function Bre(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Ore(e){return Ore="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ore(e)}function Lre(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Dre(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dre(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dre(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nre(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Lre(r),o=i[0],a=i.slice(1);return"number"===typeof o?void Bre(n.bind(null,a),o):(n(o),void Bre(n.bind(null,a)))}"object"===Ore(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Fre(e){return Fre="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fre(e)}function jre(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ure(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jre(Object(n),!0).forEach((function(t){zre(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jre(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zre(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Fre(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fre(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fre(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hre=function(e){return e},Vre=function(e,t){return Object.keys(t).reduce((function(n,r){return Ure(Ure({},n),{},zre({},r,e(r,t[r])))}),{})},Gre=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Qre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||qre(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wre(e){return function(e){if(Array.isArray(e))return $re(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qre(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qre(e,t){if(e){if("string"===typeof e)return $re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$re(e,t):void 0}}function $re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xre=1e-4,Kre=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},Yre=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},Jre=function(e,t){return function(n){var r=Kre(e,t);return Yre(r,n)}},Zre=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=Qre(l,4);r=c[0],i=c[1],o=c[2],a=c[3]}}[r,o,i,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=Jre(r,o),p=Jre(i,a),f=(u=r,d=o,function(e){var t=Kre(u,d),n=[].concat(Wre(t.map((function(e,t){return e*t})).slice(1)),[0]);return Yre(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,o=f(n);if(Math.abs(i-t)<Xre||o<Xre)return p(n);n=m(n-i/o)}return p(n)};return g.isStepper=!1,g},eie=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zre(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<Xre&&Math.abs(o)<Xre?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return Zre(r)}return"function"===typeof r?r:null};function tie(e){return tie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tie(e)}function nie(e){return function(e){if(Array.isArray(e))return lie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rie(Object(n),!0).forEach((function(t){oie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oie(e,t,n){return t=function(e){var t=function(e,t){if("object"!==tie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tie(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||sie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sie(e,t){if(e){if("string"===typeof e)return lie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lie(e,t):void 0}}function lie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cie=function(e,t,n){return e+(t-e)*n},uie=function(e){return e.from!==e.to},die=function e(t,n,r){var i=Vre((function(e,n){if(uie(n)){var r=aie(t(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return iie(iie({},n),{},{from:i,velocity:o})}return n}),n);return r<1?Vre((function(e,t){return uie(t)?iie(iie({},t),{},{velocity:cie(t.velocity,i[e].velocity,r),from:cie(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const hie=function(e,t,n,r,i){var o,a,s,l,c=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return iie(iie({},n),{},oie({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return iie(iie({},n),{},oie({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;d=die(n,d,o),i(iie(iie(iie({},e),t),Vre((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(uie).length&&(h=requestAnimationFrame(p))}:function(o){l||(l=o);var a=(o-l)/r,s=Vre((function(e,t){return cie.apply(void 0,nie(t).concat([n(a)]))}),u);if(i(iie(iie(iie({},e),t),s)),a<1)h=requestAnimationFrame(p);else{var c=Vre((function(e,t){return cie.apply(void 0,nie(t).concat([n(1)]))}),u);i(iie(iie(iie({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function pie(e){return pie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pie(e)}var fie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gie(e){return function(e){if(Array.isArray(e))return vie(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vie(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yie(Object(n),!0).forEach((function(t){Aie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aie(e,t,n){return(t=wie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wie(r.key),r)}}function wie(e){var t=function(e,t){if("object"!==pie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pie(t)?t:String(t)}function Cie(e,t){return Cie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cie(e,t)}function Eie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(z_e){return!1}}();return function(){var n,r=Mie(e);if(t){var i=Mie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sie(this,n)}}function Sie(e,t){if(t&&("object"===pie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _ie(e)}function _ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mie(e){return Mie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mie(e)}var Iie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cie(e,t)}(a,e);var t,n,r,o=Eie(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(_ie(n)),n.changeStyle=n.changeStyle.bind(_ie(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),Sie(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},Sie(n);n.state={style:s?Aie({},s,l):l}}else n.state={style:{}};return n}return t=a,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(kre(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:e.to;if(this.state&&l){var d={style:i?Aie({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(bie(bie({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?Aie({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=hie(n,r,eie(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(gie(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(gie(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:o,easing:s}),o]);var p=Gre(h,o,s),f=bie(bie(bie({},d.style),l),{},{transition:p});return[].concat(gie(e),[f,o,u]).filter(Hre)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Nre());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var d=r?Aie({},r,i):i,h=Gre(Object.keys(d),n,o);u.start([a,t,bie(bie({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,mie(e,fie)),a=i.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!r||0===a||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,i.cloneElement)(e,bie(bie({},o),{},{style:bie(bie({},r),s),className:a}))};return 1===a?l(i.Children.only(t)):i.createElement("div",null,i.Children.map(t,(function(e){return l(e)})))}}],n&&xie(t.prototype,n),r&&xie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.PureComponent);Iie.displayName="Animate",Iie.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Iie.propTypes={from:OO().oneOfType([OO().object,OO().string]),to:OO().oneOfType([OO().object,OO().string]),attributeName:OO().string,duration:OO().number,begin:OO().number,easing:OO().oneOfType([OO().string,OO().func]),steps:OO().arrayOf(OO().shape({duration:OO().number.isRequired,style:OO().object.isRequired,easing:OO().oneOfType([OO().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),OO().func]),properties:OO().arrayOf("string"),onAnimationEnd:OO().func})),children:OO().oneOfType([OO().node,OO().func]),isActive:OO().bool,canBegin:OO().bool,onAnimationEnd:OO().func,shouldReAnimate:OO().bool,onAnimationStart:OO().func,onAnimationReStart:OO().func};const Tie=Iie;function Rie(e){return Rie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rie(e)}function kie(){return kie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kie.apply(this,arguments)}function Pie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oie(Object(n),!0).forEach((function(t){Die(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Die(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Rie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rie(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nie=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);o="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},Fie=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),d=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},jie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uie=function(e){var t=Lie(Lie({},jie),e),n=(0,i.useRef)(),r=Pie((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,p=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,v=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var y=ib("recharts-rectangle",h);return v?i.createElement(Tie,{canBegin:o>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:f,animationEasing:p,isActive:v},(function(e){var r=e.width,a=e.height,s=e.x,l=e.y;return i.createElement(Tie,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,isActive:g,easing:p},i.createElement("path",kie({},Mee(t,!0),{className:y,d:Nie(s,l,r,a,d),ref:n})))})):i.createElement("path",kie({},Mee(t,!0),{className:y,d:Nie(s,l,c,u,d)}))};function zie(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Hie(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Vie extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qie;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Gie(this,e))}has(e){return super.has(Gie(this,e))}set(e,t){return super.set(Qie(this,e),t)}delete(e){return super.delete(Wie(this,e))}}Set;function Gie(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function Qie(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Wie(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function qie(e){return null!==e&&"object"===typeof e?e.valueOf():e}const $ie=Symbol("implicit");function Xie(){var e=new Vie,t=[],n=[],r=$ie;function i(i){let o=e.get(i);if(void 0===o){if(r!==$ie)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Vie;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Xie(t,n).unknown(r)},zie.apply(i,arguments),i}function Kie(){var e,t,n=Xie().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,h=d?a:o,p=d?o:a;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map((function(t){return h+e*t}));return i(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Kie(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},zie.apply(d(),arguments)}function Yie(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yie(t())},e}function Jie(){return Yie(Kie.apply(null,arguments).paddingInner(1))}function Zie(e){return Zie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zie(e)}function eoe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function toe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eoe(Object(n),!0).forEach((function(t){noe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eoe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function noe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zie(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var roe={widthCache:{},cacheCount:0},ioe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ooe="recharts_measurement_span";var aoe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Ste.isSsr)return{width:0,height:0};var n=function(e){var t=toe({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(roe.widthCache[r])return roe.widthCache[r];try{var i=document.getElementById(ooe);i||((i=document.createElement("span")).setAttribute("id",ooe),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=toe(toe({},ioe),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return roe.widthCache[r]=s,++roe.cacheCount>2e3&&(roe.cacheCount=0,roe.widthCache={}),s}catch(z_e){return{width:0,height:0}}};function soe(e){return soe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},soe(e)}function loe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return coe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return coe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function coe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uoe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,doe(r.key),r)}}function doe(e){var t=function(e,t){if("object"!=soe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=soe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==soe(t)?t:t+""}var hoe=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,poe=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,foe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,moe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,goe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},voe=Object.keys(goe),yoe="NaN";var boe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||foe.test(n)||(this.num=NaN,this.unit=""),voe.includes(n)&&(this.num=function(e,t){return e*goe[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=loe(null!==(n=moe.exec(t))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new e(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&uoe(t.prototype,n),r&&uoe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Aoe(e){if(e.includes(yoe))return yoe;for(var t=e;t.includes("*")||t.includes("/");){var n,r=loe(null!==(n=hoe.exec(t))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=boe.parse(null!==i&&void 0!==i?i:""),l=boe.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return yoe;t=t.replace(hoe,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=loe(null!==(u=poe.exec(t))&&void 0!==u?u:[],4),h=d[1],p=d[2],f=d[3],m=boe.parse(null!==h&&void 0!==h?h:""),g=boe.parse(null!==f&&void 0!==f?f:""),v="+"===p?m.add(g):m.subtract(g);if(v.isNaN())return yoe;t=t.replace(poe,v.toString())}return t}var xoe=/\(([^()]*)\)/;function woe(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=loe(xoe.exec(t),2)[1];t=t.replace(xoe,Aoe(n))}return t}(t),t=Aoe(t)}function Coe(e){var t=function(e){try{return woe(e)}catch(z_e){return yoe}}(e.slice(5,-1));return t===yoe?"":t}var Eoe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Soe=["dx","dy","angle","className","breakAll"];function _oe(){return _oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_oe.apply(this,arguments)}function Moe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ioe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Toe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Toe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Toe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Roe=/[ \f\n\r\t\v\u2028\u2029]+/,koe=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return eee()(t)||(i=n?t.toString().split(""):t.toString().split(Roe)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:aoe(e,r).width}})),spaceWidth:n?0:aoe("\xa0",r).width}}catch(z_e){return null}},Poe=function(e){return[{words:eee()(e)?[]:e.toString().split(Roe)}]},Boe=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,o=e.breakAll,a=e.maxLines;if((t||n)&&!Ste.isSsr){var s=koe({breakAll:o,children:r,style:i});return s?function(e,t,n,r,i){var o=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=G7(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var p,f=function(e){var t=u.slice(0,e),n=koe({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),a=i.length>o||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,v=0;m<=g&&v<=u.length-1;){var y=Math.floor((m+g)/2),b=Ioe(f(y-1),2),A=b[0],x=b[1],w=Ioe(f(y),1)[0];if(A||w||(m=y+1),A&&w&&(g=y-1),!A&&w){p=x;break}v++}return p||h}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):Poe(r)}return Poe(r)},Ooe="#808080",Loe=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,p=void 0===h?"start":h,f=e.verticalAnchor,m=void 0===f?"end":f,g=e.fill,v=void 0===g?Ooe:g,y=Moe(e,Eoe),b=(0,i.useMemo)((function(){return Boe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),A=y.dx,x=y.dy,w=y.angle,C=y.className,E=y.breakAll,S=Moe(y,Soe);if(!Q7(n)||!Q7(o))return null;var _,M=n+(G7(A)?A:0),I=o+(G7(x)?x:0);switch(m){case"start":_=Coe("calc(".concat(c,")"));break;case"middle":_=Coe("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:_=Coe("calc(".concat(b.length-1," * -").concat(s,")"))}var T=[];if(d){var R=b[0].width,k=y.width;T.push("scale(".concat((G7(k)?k/R:1)/R,")"))}return w&&T.push("rotate(".concat(w,", ").concat(M,", ").concat(I,")")),T.length&&(S.transform=T.join(" ")),i.createElement("text",_oe({},Mee(S,!0),{x:M,y:I,className:ib("recharts-text",C),textAnchor:p,fill:v.includes("url")?Ooe:v}),b.map((function(e,t){var n=e.words.join(E?"":" ");return i.createElement("tspan",{x:M,dy:0===t?_:s,key:"".concat(n,"-").concat(t)},n)})))};const Doe=Math.sqrt(50),Noe=Math.sqrt(10),Foe=Math.sqrt(2);function joe(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Doe?10:o>=Noe?5:o>=Foe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?joe(e,t,2*n):[s,l,c]}function Uoe(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?joe(t,e,n):joe(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function zoe(e,t,n){return joe(e=+e,t=+t,n=+n)[2]}function Hoe(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?zoe(t,e,n):zoe(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Voe(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Goe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qoe(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Voe,n=(t,n)=>Voe(e(t),n),r=(t,n)=>e(t)-n):(t=e===Voe||e===Goe?e:Woe,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Woe(){return 0}function qoe(e){return null===e?NaN:+e}const $oe=Qoe(Voe),Xoe=$oe.right,Koe=($oe.left,Qoe(qoe).center,Xoe);function Yoe(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}const Joe=e=>()=>e;function Zoe(e,t){return function(n){return e+n*t}}function eae(e){return 1===(e=+e)?tae:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Joe(isNaN(t)?n:t)}}function tae(e,t){var n=t-e;return n?Zoe(e,n):Joe(isNaN(e)?t:e)}const nae=function e(t){var n=eae(t);function r(e,t){var r=n((e=lK(e)).r,(t=lK(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=tae(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function rae(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=lK(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}rae((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Yoe((n-r/t)*t,a,i,o,s)}})),rae((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Yoe((n-r/t)*t,i,o,a,s)}}));function iae(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=hae(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function oae(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function aae(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sae(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=hae(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var lae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cae=new RegExp(lae.source,"g");function uae(e,t){var n,r,i,o=lae.lastIndex=cae.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=lae.exec(e))&&(r=cae.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:aae(n,r)})),o=cae.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function dae(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function hae(e,t){var n,r=typeof t;return null==t||"boolean"===r?Joe(t):("number"===r?aae:"string"===r?(n=oK(t))?(t=n,nae):uae:t instanceof oK?nae:t instanceof Date?oae:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?dae:Array.isArray(t)?iae:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?sae:aae)(e,t)}function pae(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function fae(e){return+e}var mae=[0,1];function gae(e){return e}function vae(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function yae(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=vae(i,r),o=n(a,o)):(r=vae(r,i),o=n(o,a)),function(e){return o(r(e))}}function bae(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=vae(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Koe(e,t,1,r)-1;return o[n](i[n](t))}}function Aae(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xae(){var e,t,n,r,i,o,a=mae,s=mae,l=hae,c=gae;function u(){var e=Math.min(a.length,s.length);return c!==gae&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?bae:yae,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),aae)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,fae),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=pae,u()},d.clamp=function(e){return arguments.length?(c=!!e||gae,u()):c!==gae},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function wae(){return xae()(gae,gae)}var Cae,Eae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sae(e){if(!(t=Eae.exec(e)))throw new Error("invalid format: "+e);var t;return new _ae({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _ae(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Mae(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Iae(e){return(e=Mae(Math.abs(e)))?e[1]:NaN}function Tae(e,t){var n=Mae(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Sae.prototype=_ae.prototype,_ae.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Rae={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Tae(100*e,t)},r:Tae,s:function(e,t){var n=Mae(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Cae=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mae(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function kae(e){return e}var Pae,Bae,Oae,Lae=Array.prototype.map,Dae=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Nae(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?kae:(t=Lae.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?kae:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Lae.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Sae(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Rae[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",A="$"===h?o:/[%p]/.test(y)?l:"",x=Rae[y],w=/[defgprs%]/.test(y);function C(e){var i,o,l,h=b,C=A;if("c"===y)C=x(e)+C,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,C=("s"===y?Dae[8+Cae/3]:"")+C+(E&&"("===d?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){C=(46===l?a+e.slice(i+1):e.slice(i))+C,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var S=h.length+e.length+C.length,_=S<f?new Array(f-S+1).join(t):"";switch(m&&p&&(e=r(_+e,_.length?f-C.length:1/0),_=""),n){case"<":e=h+e+C+_;break;case"=":e=h+_+e+C;break;case"^":e=_.slice(0,S=_.length>>1)+h+e+C+_.slice(S);break;default:e=_+h+e+C}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),C.toString=function(){return e+""},C}return{format:d,formatPrefix:function(e,t){var n=d(((e=Sae(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Iae(t)/3))),i=Math.pow(10,-r),o=Dae[8+r/3];return function(e){return n(i*e)+o}}}}function Fae(e,t,n,r){var i,o=Hoe(e,t,n);switch((r=Sae(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Iae(t)/3)))-Iae(Math.abs(e)))}(o,a))||(r.precision=i),Oae(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iae(t)-Iae(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Iae(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Bae(r)}function jae(e){var t=e.domain;return e.ticks=function(e){var n=t();return Uoe(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Fae(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=zoe(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Uae(){var e=wae();return e.copy=function(){return Aae(e,Uae())},zie.apply(e,arguments),jae(e)}function zae(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,fae),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return zae(e).unknown(t)},e=arguments.length?Array.from(e,fae):[0,1],jae(n)}function Hae(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Vae(e){return Math.log(e)}function Gae(e){return Math.exp(e)}function Qae(e){return-Math.log(-e)}function Wae(e){return-Math.exp(-e)}function qae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $ae(e){return(t,n)=>-e(-t,n)}function Xae(e){const t=e(Vae,Gae),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?qae:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=$ae(r),i=$ae(i),e(Qae,Wae)):e(Vae,Gae),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),h=r(s);const p=null==e?10:+e;let f=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;f.push(u)}}else for(;d<=h;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;f.push(u)}2*f.length<p&&(f=Uoe(a,s,p))}else f=Uoe(d,h,Math.min(h-d,p)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=Sae(n)).precision||(n.trim=!0),n=Bae(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(Hae(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Kae(){const e=Xae(xae()).domain([1,10]);return e.copy=()=>Aae(e,Kae()).base(e.base()),zie.apply(e,arguments),e}function Yae(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Jae(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zae(e){var t=1,n=e(Yae(t),Jae(t));return n.constant=function(n){return arguments.length?e(Yae(t=+n),Jae(t)):t},jae(n)}function ese(){var e=Zae(xae());return e.copy=function(){return Aae(e,ese()).constant(e.constant())},zie.apply(e,arguments)}function tse(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rse(e){return e<0?-e*e:e*e}function ise(e){var t=e(gae,gae),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(gae,gae):.5===n?e(nse,rse):e(tse(n),tse(1/n)):n},jae(t)}function ose(){var e=ise(xae());return e.copy=function(){return Aae(e,ose()).exponent(e.exponent())},zie.apply(e,arguments),e}function ase(){return ose.apply(null,arguments).exponent(.5)}function sse(e){return Math.sign(e)*e*e}function lse(){var e,t=wae(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(sse(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,fae)).map(sse)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return lse(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},zie.apply(i,arguments),jae(i)}function cse(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function use(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function dse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Voe;if(e===Voe)return hse;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function hse(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function pse(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?hse:dse(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);pse(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(fse(e,n,t),i(e[r],o)>0&&fse(e,n,r);a<s;){for(fse(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?fse(e,n,s):(++s,fse(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function fse(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mse(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return use(e);if(t>=1)return cse(e);var r,i=(r-1)*t,o=Math.floor(i),a=cse(pse(e,o).subarray(0,o+1));return a+(use(e.subarray(o+1))-a)*(i-o)}}function gse(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qoe;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function vse(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=gse(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Koe(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Voe),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return vse().domain(t).range(n).unknown(e)},zie.apply(o,arguments)}function yse(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[Koe(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return yse().domain([t,n]).range(o).unknown(e)},zie.apply(jae(a),arguments)}function bse(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[Koe(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return bse().domain(t).range(n).unknown(e)},zie.apply(i,arguments)}Pae=Nae({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Bae=Pae.format,Oae=Pae.formatPrefix;const Ase=1e3,xse=6e4,wse=36e5,Cse=864e5,Ese=6048e5,Sse=2592e6,_se=31536e6,Mse=new Date,Ise=new Date;function Tse(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Tse((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(Mse.setTime(+t),Ise.setTime(+r),e(Mse),e(Ise),Math.floor(n(Mse,Ise))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Rse=Tse((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Rse.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Tse((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Rse:null);Rse.range;const kse=Tse((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Ase)}),((e,t)=>(t-e)/Ase),(e=>e.getUTCSeconds())),Pse=(kse.range,Tse((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ase)}),((e,t)=>{e.setTime(+e+t*xse)}),((e,t)=>(t-e)/xse),(e=>e.getMinutes()))),Bse=(Pse.range,Tse((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*xse)}),((e,t)=>(t-e)/xse),(e=>e.getUTCMinutes()))),Ose=(Bse.range,Tse((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ase-e.getMinutes()*xse)}),((e,t)=>{e.setTime(+e+t*wse)}),((e,t)=>(t-e)/wse),(e=>e.getHours()))),Lse=(Ose.range,Tse((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*wse)}),((e,t)=>(t-e)/wse),(e=>e.getUTCHours()))),Dse=(Lse.range,Tse((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xse)/Cse),(e=>e.getDate()-1))),Nse=(Dse.range,Tse((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Cse),(e=>e.getUTCDate()-1))),Fse=(Nse.range,Tse((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Cse),(e=>Math.floor(e/Cse))));Fse.range;function jse(e){return Tse((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xse)/Ese))}const Use=jse(0),zse=jse(1),Hse=jse(2),Vse=jse(3),Gse=jse(4),Qse=jse(5),Wse=jse(6);Use.range,zse.range,Hse.range,Vse.range,Gse.range,Qse.range,Wse.range;function qse(e){return Tse((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Ese))}const $se=qse(0),Xse=qse(1),Kse=qse(2),Yse=qse(3),Jse=qse(4),Zse=qse(5),ele=qse(6),tle=($se.range,Xse.range,Kse.range,Yse.range,Jse.range,Zse.range,ele.range,Tse((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),nle=(tle.range,Tse((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),rle=(nle.range,Tse((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));rle.every=e=>isFinite(e=Math.floor(e))&&e>0?Tse((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;rle.range;const ile=Tse((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));ile.every=e=>isFinite(e=Math.floor(e))&&e>0?Tse((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;ile.range;function ole(e,t,n,r,i,o){const a=[[kse,1,Ase],[kse,5,5e3],[kse,15,15e3],[kse,30,3e4],[o,1,xse],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,wse],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Cse],[r,2,1728e5],[n,1,Ese],[t,1,Sse],[t,3,7776e6],[e,1,_se]];function s(t,n,r){const i=Math.abs(n-t)/r,o=Qoe((e=>{let[,,t]=e;return t})).right(a,i);if(o===a.length)return e.every(Hoe(t/_se,n/_se,r));if(0===o)return Rse.every(Math.max(Hoe(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}const[ale,sle]=ole(ile,nle,$se,Fse,Lse,Bse),[lle,cle]=ole(rle,tle,Use,Dse,Ose,Pse);var ule=new Date,dle=new Date;function hle(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return hle((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return ule.setTime(+t),dle.setTime(+r),e(ule),e(dle),Math.floor(n(ule,dle))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var ple=864e5,fle=6048e5;function mle(e){return hle((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/fle}))}var gle=mle(0),vle=mle(1),yle=mle(2),ble=mle(3),Ale=mle(4),xle=mle(5),wle=mle(6),Cle=(gle.range,vle.range,yle.range,ble.range,Ale.range,xle.range,wle.range,hle((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/ple}),(function(e){return e.getUTCDate()-1})));const Ele=Cle;Cle.range;function Sle(e){return hle((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/fle}))}var _le=Sle(0),Mle=Sle(1),Ile=Sle(2),Tle=Sle(3),Rle=Sle(4),kle=Sle(5),Ple=Sle(6),Ble=(_le.range,Mle.range,Ile.range,Tle.range,Rle.range,kle.range,Ple.range,hle((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/ple}),(function(e){return e.getDate()-1})));const Ole=Ble;Ble.range;var Lle=hle((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Lle.every=function(e){return isFinite(e=Math.floor(e))&&e>0?hle((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const Dle=Lle;Lle.range;var Nle=hle((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Nle.every=function(e){return isFinite(e=Math.floor(e))&&e>0?hle((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const Fle=Nle;Nle.range;function jle(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ule(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zle(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Hle,Vle,Gle,Qle={"-":"",_:" ",0:"0"},Wle=/^\s*\d+/,qle=/^%/,$le=/[\\^$*+?|[\]().{}]/g;function Xle(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Kle(e){return e.replace($le,"\\$&")}function Yle(e){return new RegExp("^(?:"+e.map(Kle).join("|")+")","i")}function Jle(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Zle(e,t,n){var r=Wle.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ece(e,t,n){var r=Wle.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ice(e,t,n){var r=Wle.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ace(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function sce(e,t,n){var r=Wle.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function lce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uce(e,t,n){var r=Wle.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pce(e,t,n){var r=Wle.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fce(e,t,n){var r=Wle.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mce(e,t,n){var r=Wle.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gce(e,t,n){var r=qle.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function vce(e,t,n){var r=Wle.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yce(e,t,n){var r=Wle.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bce(e,t){return Xle(e.getDate(),t,2)}function Ace(e,t){return Xle(e.getHours(),t,2)}function xce(e,t){return Xle(e.getHours()%12||12,t,2)}function wce(e,t){return Xle(1+Ole.count(Dle(e),e),t,3)}function Cce(e,t){return Xle(e.getMilliseconds(),t,3)}function Ece(e,t){return Cce(e,t)+"000"}function Sce(e,t){return Xle(e.getMonth()+1,t,2)}function _ce(e,t){return Xle(e.getMinutes(),t,2)}function Mce(e,t){return Xle(e.getSeconds(),t,2)}function Ice(e){var t=e.getDay();return 0===t?7:t}function Tce(e,t){return Xle(_le.count(Dle(e)-1,e),t,2)}function Rce(e){var t=e.getDay();return t>=4||0===t?Rle(e):Rle.ceil(e)}function kce(e,t){return e=Rce(e),Xle(Rle.count(Dle(e),e)+(4===Dle(e).getDay()),t,2)}function Pce(e){return e.getDay()}function Bce(e,t){return Xle(Mle.count(Dle(e)-1,e),t,2)}function Oce(e,t){return Xle(e.getFullYear()%100,t,2)}function Lce(e,t){return Xle((e=Rce(e)).getFullYear()%100,t,2)}function Dce(e,t){return Xle(e.getFullYear()%1e4,t,4)}function Nce(e,t){var n=e.getDay();return Xle((e=n>=4||0===n?Rle(e):Rle.ceil(e)).getFullYear()%1e4,t,4)}function Fce(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xle(t/60|0,"0",2)+Xle(t%60,"0",2)}function jce(e,t){return Xle(e.getUTCDate(),t,2)}function Uce(e,t){return Xle(e.getUTCHours(),t,2)}function zce(e,t){return Xle(e.getUTCHours()%12||12,t,2)}function Hce(e,t){return Xle(1+Ele.count(Fle(e),e),t,3)}function Vce(e,t){return Xle(e.getUTCMilliseconds(),t,3)}function Gce(e,t){return Vce(e,t)+"000"}function Qce(e,t){return Xle(e.getUTCMonth()+1,t,2)}function Wce(e,t){return Xle(e.getUTCMinutes(),t,2)}function qce(e,t){return Xle(e.getUTCSeconds(),t,2)}function $ce(e){var t=e.getUTCDay();return 0===t?7:t}function Xce(e,t){return Xle(gle.count(Fle(e)-1,e),t,2)}function Kce(e){var t=e.getUTCDay();return t>=4||0===t?Ale(e):Ale.ceil(e)}function Yce(e,t){return e=Kce(e),Xle(Ale.count(Fle(e),e)+(4===Fle(e).getUTCDay()),t,2)}function Jce(e){return e.getUTCDay()}function Zce(e,t){return Xle(vle.count(Fle(e)-1,e),t,2)}function eue(e,t){return Xle(e.getUTCFullYear()%100,t,2)}function tue(e,t){return Xle((e=Kce(e)).getUTCFullYear()%100,t,2)}function nue(e,t){return Xle(e.getUTCFullYear()%1e4,t,4)}function rue(e,t){var n=e.getUTCDay();return Xle((e=n>=4||0===n?Ale(e):Ale.ceil(e)).getUTCFullYear()%1e4,t,4)}function iue(){return"+0000"}function oue(){return"%"}function aue(e){return+e}function sue(e){return Math.floor(+e/1e3)}function lue(e){return new Date(e)}function cue(e){return e instanceof Date?+e:+new Date(+e)}function uue(e,t,n,r,i,o,a,s,l,c){var u=wae(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),A=c("%Y");function x(e){return(l(e)<e?p:s(e)<e?f:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?v:y:n(e)<e?b:A)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,cue)):h().map(lue)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(Hae(n,e)):u},u.copy=function(){return Aae(u,uue(e,t,n,r,i,o,a,s,l,c))},u}function due(){return zie.apply(uue(lle,cle,rle,tle,Use,Dse,Ose,Pse,kse,Vle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hue(){return zie.apply(uue(ale,sle,ile,nle,$se,Nse,Lse,Bse,kse,Gle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pue(){var e,t,n,r,i,o=0,a=1,s=gae,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(hae),c.rangeRound=u(pae),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function fue(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mue(){var e=jae(pue()(gae));return e.copy=function(){return fue(e,mue())},Hie.apply(e,arguments)}function gue(){var e=Xae(pue()).domain([1,10]);return e.copy=function(){return fue(e,gue()).base(e.base())},Hie.apply(e,arguments)}function vue(){var e=Zae(pue());return e.copy=function(){return fue(e,vue()).constant(e.constant())},Hie.apply(e,arguments)}function yue(){var e=ise(pue());return e.copy=function(){return fue(e,yue()).exponent(e.exponent())},Hie.apply(e,arguments)}function bue(){return yue.apply(null,arguments).exponent(.5)}function Aue(){var e=[],t=gae;function n(n){if(null!=n&&!isNaN(n=+n))return t((Koe(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Voe),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>mse(e,r/t)))},n.copy=function(){return Aue(t).domain(e)},Hie.apply(n,arguments)}function xue(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=gae,h=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=hae);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=f(hae),p.rangeRound=f(pae),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function wue(){var e=jae(xue()(gae));return e.copy=function(){return fue(e,wue())},Hie.apply(e,arguments)}function Cue(){var e=Xae(xue()).domain([.1,1,10]);return e.copy=function(){return fue(e,Cue()).base(e.base())},Hie.apply(e,arguments)}function Eue(){var e=Zae(xue());return e.copy=function(){return fue(e,Eue()).constant(e.constant())},Hie.apply(e,arguments)}function Sue(){var e=ise(xue());return e.copy=function(){return fue(e,Sue()).exponent(e.exponent())},Hie.apply(e,arguments)}function _ue(){return Sue.apply(null,arguments).exponent(.5)}function Mue(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Hle=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Yle(i),u=Jle(i),d=Yle(o),h=Jle(o),p=Yle(a),f=Jle(a),m=Yle(s),g=Jle(s),v=Yle(l),y=Jle(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:bce,e:bce,f:Ece,g:Lce,G:Nce,H:Ace,I:xce,j:wce,L:Cce,m:Sce,M:_ce,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:aue,s:sue,S:Mce,u:Ice,U:Tce,V:kce,w:Pce,W:Bce,x:null,X:null,y:Oce,Y:Dce,Z:Fce,"%":oue},A={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:jce,e:jce,f:Gce,g:tue,G:rue,H:Uce,I:zce,j:Hce,L:Vce,m:Qce,M:Wce,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:aue,s:sue,S:qce,u:$ce,U:Xce,V:Yce,w:Jce,W:Zce,x:null,X:null,y:eue,Y:nue,Z:iue,"%":oue},x={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:cce,e:cce,f:mce,g:oce,G:ice,H:dce,I:dce,j:uce,L:fce,m:lce,M:hce,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:sce,Q:vce,s:yce,S:pce,u:ece,U:tce,V:nce,w:Zle,W:rce,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:oce,Y:ice,Z:ace,"%":gce};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Qle[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function C(e,t){return function(n){var r,i,o=zle(1900,void 0,1);if(E(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ule(zle(o.y,0,1))).getUTCDay(),r=i>4||0===i?vle.ceil(r):vle(r),r=Ele.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=jle(zle(o.y,0,1))).getDay(),r=i>4||0===i?Mle.ceil(r):Mle(r),r=Ole.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ule(zle(o.y,0,1)).getUTCDay():jle(zle(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ule(o)):jle(o)}}function E(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Qle?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),A.x=w(n,A),A.X=w(r,A),A.c=w(t,A),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=C(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",A);return t.toString=function(){return e},t},utcParse:function(e){var t=C(e+="",!0);return t.toString=function(){return e},t}}}(e),Vle=Hle.format,Hle.parse,Gle=Hle.utcFormat,Hle.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Iue(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Tue(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Rue(e,t){return e[t]}function kue(e){const t=[];return t.key=e,t}var Pue=n(539),Bue=n.n(Pue),Oue=n(6745),Lue=n.n(Oue),Due=n(3538),Nue=n.n(Due),Fue=n(9853),jue=n.n(Fue),Uue=n(8210),zue=n.n(Uue);function Hue(e){return function(e){if(Array.isArray(e))return Vue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Vue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gue=function(e){return e},Que={"@@functional/placeholder":!0},Wue=function(e){return e===Que},que=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Wue(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},$ue=function e(t,n){return 1===t?n:que((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==Que})).length;return a>=t?n.apply(void 0,i):e(t-a,que((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return Wue(e)?t.shift():e}));return n.apply(void 0,Hue(o).concat(t))})))}))},Xue=function(e){return $ue(e.length,e)},Kue=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Yue=Xue((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),Jue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Gue;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},Zue=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ede=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var tde=Xue((function(e,t,n){var r=+e;return r+n*(+t-r)})),nde=Xue((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),rde=Xue((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const ide={rangeStep:function(e,t,n){for(var r=new(zue())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(zue())(e).abs().log(10).toNumber())+1},interpolateNumber:tde,uninterpolateNumber:nde,uninterpolateTruncation:rde};function ode(e){return function(e){if(Array.isArray(e))return lde(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||sde(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ade(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||sde(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sde(e,t){if(e){if("string"===typeof e)return lde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lde(e,t):void 0}}function lde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cde(e){var t=ade(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function ude(e,t,n){if(e.lte(0))return new(zue())(0);var r=ide.getDigitCount(e.toNumber()),i=new(zue())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(zue())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(zue())(Math.ceil(s))}function dde(e,t,n){var r=1,i=new(zue())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(zue())(10).pow(ide.getDigitCount(e)-1),i=new(zue())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(zue())(Math.floor(e)))}else 0===e?i=new(zue())(Math.floor((t-1)/2)):n||(i=new(zue())(Math.floor(e)));var a=Math.floor((t-1)/2),s=Jue(Yue((function(e){return i.add(new(zue())(e-a).mul(r)).toNumber()})),Kue);return s(0,t)}function hde(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(zue())(0),tickMin:new(zue())(0),tickMax:new(zue())(0)};var o,a=ude(new(zue())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(zue())(0):(o=new(zue())(e).add(t).div(2)).sub(new(zue())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(zue())(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?hde(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(zue())(s).mul(a)),tickMax:o.add(new(zue())(l).mul(a))})}var pde=ede((function(e){var t=ade(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=ade(cde([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(ode(Kue(0,i-1).map((function(){return 1/0})))):[].concat(ode(Kue(0,i-1).map((function(){return-1/0}))),[c]);return n>r?Zue(u):u}if(l===c)return dde(l,i,o);var d=hde(l,c,a,o),h=d.step,p=d.tickMin,f=d.tickMax,m=ide.rangeStep(p,f.add(new(zue())(.1).mul(h)),h);return n>r?Zue(m):m})),fde=(ede((function(e){var t=ade(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=ade(cde([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return dde(l,i,o);var u=ude(new(zue())(c).sub(l).div(a-1),o,0),d=Jue(Yue((function(e){return new(zue())(l).add(new(zue())(e).mul(u)).toNumber()})),Kue),h=d(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?Zue(h):h})),ede((function(e,t){var n=ade(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=ade(cde([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=ude(new(zue())(l).sub(s).div(c-1),o,0),d=[].concat(ode(ide.rangeStep(new(zue())(s),new(zue())(l).sub(new(zue())(.99).mul(u)),u)),[l]);return r>i?Zue(d):d}))),mde=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gde(e){return gde="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gde(e)}function vde(){return vde=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vde.apply(this,arguments)}function yde(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bde(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ade(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mde(r.key),r)}}function wde(e,t,n){return t=Ede(t),function(e,t){if(t&&("object"===gde(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cde()?Reflect.construct(t,n||[],Ede(e).constructor):t.apply(e,n))}function Cde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cde=function(){return!!e})()}function Ede(e){return Ede=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ede(e)}function Sde(e,t){return Sde=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sde(e,t)}function _de(e,t,n){return(t=Mde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mde(e){var t=function(e,t){if("object"!=gde(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gde(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gde(t)?t:t+""}var Ide=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wde(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sde(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=Ade(e,mde),d=Mee(u,!1);"x"===this.props.direction&&"number"!==l.type&&Gee(!1);var h=a.map((function(e){var a=s(e,o),u=a.x,h=a.y,p=a.value,f=a.errorVal;if(!f)return null;var m,g,v=[];if(Array.isArray(f)){var y=yde(f,2);m=y[0],g=y[1]}else m=g=f;if("vertical"===n){var b=l.scale,A=h+t,x=A+r,w=A-r,C=b(p-m),E=b(p+g);v.push({x1:E,y1:x,x2:E,y2:w}),v.push({x1:C,y1:A,x2:E,y2:A}),v.push({x1:C,y1:x,x2:C,y2:w})}else if("horizontal"===n){var S=c.scale,_=u+t,M=_-r,I=_+r,T=S(p-m),R=S(p+g);v.push({x1:M,y1:R,x2:I,y2:R}),v.push({x1:_,y1:T,x2:_,y2:R}),v.push({x1:M,y1:T,x2:I,y2:T})}return i.createElement(Jee,vde({className:"recharts-errorBar",key:"bar-".concat(v.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),v.map((function(e){return i.createElement("line",vde({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return i.createElement(Jee,{className:"recharts-errorBars"},h)}}],r&&xde(n.prototype,r),o&&xde(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function Tde(e){return Tde="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tde(e)}function Rde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kde(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rde(Object(n),!0).forEach((function(t){Pde(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rde(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pde(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Tde(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tde(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tde(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_de(Ide,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),_de(Ide,"displayName","ErrorBar");var Bde=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,o=Cee(t,ere);if(!o)return null;var a,s=ere.defaultProps,l=void 0!==s?kde(kde({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:o.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?kde(kde({},n),t.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:Hde(t),value:o||i,payload:r}})),kde(kde(kde({},l),ere.getWithHeight(o,r)),{},{payload:a,item:o})};function Ode(e){return Ode="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ode(e)}function Lde(e){return function(e){if(Array.isArray(e))return Dde(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Dde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dde(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nde(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fde(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nde(Object(n),!0).forEach((function(t){jde(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nde(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jde(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ode(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ode(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ode(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ude(e,t,n){return eee()(e)||eee()(t)?n:Q7(t)?j7()(e,t,n):nee()(t)?t(e):n}function zde(e,t,n,r){var i=Nue()(e,(function(e){return Ude(e,t)}));if("number"===n){var o=i.filter((function(e){return G7(e)||parseFloat(e)}));return o.length?[Lue()(o),Bue()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!eee()(e)})):i).map((function(e){return Q7(e)||e instanceof Date?e:""}))}var Hde=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Fde(Fde({},e.type.defaultProps),e.props):e.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},Vde=function(e,t,n,r,i){var o=wee(t.props.children,Ide).filter((function(e){return function(e,t,n){return!!eee()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(o&&o.length){var a=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=Ude(t,n);if(eee()(r))return e;var i=Array.isArray(r)?[Lue()(r),Bue()(r)]:[r,r],o=a.reduce((function(e,n){var r=Ude(t,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},Gde=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&Vde(e,t,o,r)||zde(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},Qde=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},Wde=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,o,a=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate}));return i||a.push(t),o||a.push(n),a},qde=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*H7(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!N7()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},$de=new WeakMap,Xde=function(e,t){if("function"!==typeof t)return e;$de.has(e)||$de.set(e,new WeakMap);var n=$de.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Kde=1e-4,Yde={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=N7()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Mue(e,t)}},none:Mue,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Mue(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[a][1]||0)-(f[a-1][1]||0)}l+=d,c+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Mue(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=N7()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},Jde=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=Yde[n],o=function(){var e=dne([]),t=Tue,n=Mue,r=Rue;function i(i){var o,a,s=Array.from(e.apply(this,arguments),kue),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=Iue(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:dne(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:dne(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Tue:"function"===typeof e?e:dne(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Mue:e,i):n},i}().keys(r).value((function(e,t){return+Ude(e,t,0)})).order(Tue).offset(i);return o(e)};var Zde=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=Ude(o,t.dataKey,t.domain[a]);return eee()(s)?null:t.scale(s)-i/2+r},ehe=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[Lue()(t.concat([e[0]]).filter(G7)),Bue()(t.concat([e[1]]).filter(G7))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},the=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nhe=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rhe=function(e,t,n){if(nee()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(G7(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(the.test(e[0])){var i=+the.exec(e[0])[1];r[0]=t[0]-i}else nee()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(G7(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(nhe.test(e[1])){var o=+nhe.exec(e[1])[1];r[1]=t[1]+o}else nee()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},ihe=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Hee()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},ohe=function(e,t,n){return e&&e.length?jue()(e,j7()(n,"type.defaultProps.domain"))?t:e:t},ahe=function(e,t){var n=e.type.defaultProps?Fde(Fde({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return Fde(Fde({},Mee(e,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:Hde(e),value:Ude(t,r),type:s,payload:t,chartType:l,hide:c})};function she(e){return she="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},she(e)}function lhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function che(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lhe(Object(n),!0).forEach((function(t){uhe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uhe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=she(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=she(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==she(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dhe=["Webkit","Moz","O","ms"];function hhe(e){return hhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hhe(e)}function phe(){return phe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},phe.apply(this,arguments)}function fhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fhe(Object(n),!0).forEach((function(t){xhe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ghe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,whe(r.key),r)}}function vhe(e,t,n){return t=bhe(t),function(e,t){if(t&&("object"===hhe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yhe()?Reflect.construct(t,n||[],bhe(e).constructor):t.apply(e,n))}function yhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yhe=function(){return!!e})()}function bhe(e){return bhe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bhe(e)}function Ahe(e,t){return Ahe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ahe(e,t)}function xhe(e,t,n){return(t=whe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function whe(e){var t=function(e,t){if("object"!=hhe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hhe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hhe(t)?t:t+""}var Che=function(e){return e.changedTouches&&!!e.changedTouches.length},Ehe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xhe(n=vhe(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),xhe(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),xhe(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),xhe(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),xhe(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),xhe(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),xhe(n,"handleSlideDragStart",(function(e){var t=Che(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ahe(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=Ude(n[e],i,e);return nee()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,d=o.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-l-i,a+s-l-r):h<0&&(h=Math.max(h,a-r,a-i));var p=this.getIndex({startX:r+h,endX:i+h});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Che(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,o=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,p=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),f[r]=a+m;var g=this.getIndex(f),v=g.startIndex,y=g.endIndex;this.setState(xhe(xhe({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=p.length-1;return"startX"===r&&(i>o?v%h===0:y%h===0)||i<o&&y===e||"endX"===r&&(i>o?y%h===0:v%h===0)||i>o&&y===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=a||"endX"===t&&u<=o||this.setState(xhe({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,s=e.stroke;return i.createElement("rect",{stroke:s,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,c=i.Children.only(s);return c?i.cloneElement(c,{x:t,y:n,width:r,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,o,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,p=s.data,f=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),v=mhe(mhe({},Mee(this.props,!1)),{},{x:g,y:l,width:c,height:u}),y=h||"Min value: ".concat(null===(r=p[f])||void 0===r?void 0:r.name,", Max value: ").concat(null===(o=p[m])||void 0===o?void 0:o.name);return i.createElement(Jee,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,v))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return i.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return i.createElement(Jee,{className:"recharts-brush-texts"},i.createElement(Loe,phe({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:r+o/2},d),this.getTextOfTick(t)),i.createElement(Loe,phe({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:r+o/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,p=u.isTextActive,f=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!G7(o)||!G7(a)||!G7(s)||!G7(l)||s<=0||l<=0)return null;var v=ib("recharts-brush",n),y=1===i.Children.count(r),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=dhe.reduce((function(e,r){return che(che({},e),{},uhe({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return i.createElement(Jee,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(p||f||m||g||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,s=Math.floor(n+o/2)-1;return i.createElement(i.Fragment,null,i.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),i.createElement("line",{x1:t+1,y1:s,x2:t+r-1,y2:s,fill:"none",stroke:"#fff"}),i.createElement("line",{x1:t+1,y1:s+2,x2:t+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return i.isValidElement(e)?i.cloneElement(e,n):nee()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return mhe({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Jie().domain(Uee()(0,s)).range([i,i+o-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&ghe(n.prototype,r),o&&ghe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function She(e){return She="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},She(e)}function _he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_he(Object(n),!0).forEach((function(t){Ihe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ihe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=She(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=She(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==She(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xhe(Ehe,"displayName","Brush"),xhe(Ehe,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var The=Math.PI/180,Rhe=function(e){return 180*e/Math.PI},khe=function(e,t,n,r){return{x:e+Math.cos(-The*r)*n,y:t+Math.sin(-The*r)*n}},Phe=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Rhe(l),angleInRadian:l}},Bhe=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Ohe=function(e,t){var n=e.x,r=e.y,i=Phe({x:n,y:r},t),o=i.radius,a=i.angle,s=t.innerRadius,l=t.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),d=u.startAngle,h=u.endAngle,p=a;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=d}return c?Mhe(Mhe({},t),{},{radius:o,angle:Bhe(p,t)}):null};function Lhe(e){return Lhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lhe(e)}var Dhe=["offset"];function Nhe(e){return function(e){if(Array.isArray(e))return Fhe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Fhe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fhe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jhe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uhe(Object(n),!0).forEach((function(t){Hhe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hhe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lhe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lhe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lhe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vhe(){return Vhe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vhe.apply(this,arguments)}var Ghe=function(e,t,n){var r,o,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,p=u.innerRadius,f=u.outerRadius,m=u.startAngle,g=u.endAngle,v=u.clockWise,y=(p+f)/2,b=function(e,t){return H7(t-e)*Math.min(Math.abs(t-e),360)}(m,g),A=b>=0?1:-1;"insideStart"===a?(r=m+A*l,o=v):"insideEnd"===a?(r=g-A*l,o=!v):"end"===a&&(r=g+A*l,o=v),o=b<=0?o:!o;var x=khe(d,h,y,r),w=khe(d,h,y,r+359*(o?1:-1)),C="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),E=eee()(e.id)?q7("recharts-radial-line-"):e.id;return i.createElement("text",Vhe({},n,{dominantBaseline:"central",className:ib("recharts-radial-bar-label",c)}),i.createElement("defs",null,i.createElement("path",{id:E,d:C})),i.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function Qhe(e){var t,n=e.offset,r=zhe({offset:void 0===n?5:n},jhe(e,Dhe)),o=r.viewBox,a=r.position,s=r.value,l=r.children,c=r.content,u=r.className,d=void 0===u?"":u,h=r.textBreakAll;if(!o||eee()(s)&&eee()(l)&&!(0,i.isValidElement)(c)&&!nee()(c))return null;if((0,i.isValidElement)(c))return(0,i.cloneElement)(c,r);if(nee()(c)){if(t=(0,i.createElement)(c,r),(0,i.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=eee()(e.children)?t:e.children;return nee()(n)?n(r):r}(r);var p=function(e){return"cx"in e&&G7(e.cx)}(o),f=Mee(r,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return Ghe(r,t,f);var m=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=khe(o,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=khe(o,a,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",p=u>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",v=f>0?"start":"end";if("top"===i)return zhe(zhe({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return zhe(zhe({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var y={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return zhe(zhe({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return zhe(zhe({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var A=n?{width:l,height:c}:{};return"insideLeft"===i?zhe({x:a+m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},A):"insideRight"===i?zhe({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},A):"insideTop"===i?zhe({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},A):"insideBottom"===i?zhe({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},A):"insideTopLeft"===i?zhe({x:a+m,y:s+d,textAnchor:v,verticalAnchor:p},A):"insideTopRight"===i?zhe({x:a+l-m,y:s+d,textAnchor:g,verticalAnchor:p},A):"insideBottomLeft"===i?zhe({x:a+m,y:s+c-d,textAnchor:v,verticalAnchor:h},A):"insideBottomRight"===i?zhe({x:a+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},A):iee()(i)&&(G7(i.x)||V7(i.x))&&(G7(i.y)||V7(i.y))?zhe({x:a+$7(i.x,l),y:s+$7(i.y,c),textAnchor:"end",verticalAnchor:"end"},A):zhe({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)}(r);return i.createElement(Loe,Vhe({className:ib("recharts-label",d)},f,m,{breakAll:h}),t)}Qhe.displayName="Label";var Whe=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,v=e.labelViewBox;if(v)return v;if(G7(f)&&G7(m)){if(G7(u)&&G7(d))return{x:u,y:d,width:f,height:m};if(G7(h)&&G7(p))return{x:h,y:p,width:f,height:m}}return G7(u)&&G7(d)?{x:u,y:d,width:0,height:0}:G7(t)&&G7(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};Qhe.parseViewBox=Whe,Qhe.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=Whe(e),a=wee(r,Qhe).map((function(e,n){return(0,i.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var s=function(e,t){return e?!0===e?i.createElement(Qhe,{key:"label-implicit",viewBox:t}):Q7(e)?i.createElement(Qhe,{key:"label-implicit",viewBox:t,value:e}):(0,i.isValidElement)(e)?e.type===Qhe?(0,i.cloneElement)(e,{key:"label-implicit",viewBox:t}):i.createElement(Qhe,{key:"label-implicit",content:e,viewBox:t}):nee()(e)?i.createElement(Qhe,{key:"label-implicit",content:e,viewBox:t}):iee()(e)?i.createElement(Qhe,Vhe({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[s].concat(Nhe(a))};var qhe=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},$he=n(1733),Xhe=n.n($he),Khe=n(7002),Yhe=n.n(Khe),Jhe=function(e){return null};Jhe.displayName="Cell";var Zhe=n(4065),epe=n.n(Zhe);function tpe(e){return tpe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tpe(e)}var npe=["valueAccessor"],rpe=["data","dataKey","clockWise","id","textBreakAll"];function ipe(e){return function(e){if(Array.isArray(e))return ope(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ope(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ope(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ope(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ape(){return ape=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ape.apply(this,arguments)}function spe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lpe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?spe(Object(n),!0).forEach((function(t){cpe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):spe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cpe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=tpe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tpe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tpe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function upe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dpe=function(e){return Array.isArray(e.value)?epe()(e.value):e.value};function hpe(e){var t=e.valueAccessor,n=void 0===t?dpe:t,r=upe(e,npe),o=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=upe(r,rpe);return o&&o.length?i.createElement(Jee,{className:"recharts-label-list"},o.map((function(e,t){var r=eee()(a)?n(e,t):Ude(e&&e.payload,a),o=eee()(l)?{}:{id:"".concat(l,"-").concat(t)};return i.createElement(Qhe,ape({},Mee(e,!0),u,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:Qhe.parseViewBox(eee()(s)?e:lpe(lpe({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}hpe.displayName="LabelList",hpe.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=wee(e.children,hpe).map((function(e,n){return(0,i.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return r;var o=function(e,t){return e?!0===e?i.createElement(hpe,{key:"labelList-implicit",data:t}):i.isValidElement(e)||nee()(e)?i.createElement(hpe,{key:"labelList-implicit",data:t,content:e}):iee()(e)?i.createElement(hpe,ape({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[o].concat(ipe(r))};var ppe=n(2322),fpe=n.n(ppe),mpe=n(6361),gpe=n.n(mpe);function vpe(e){return vpe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vpe(e)}function ype(){return ype=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ype.apply(this,arguments)}function bpe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ape(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ape(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ape(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xpe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wpe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xpe(Object(n),!0).forEach((function(t){Cpe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xpe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cpe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vpe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vpe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vpe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Epe=function(e,t,n,r,i){var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},Spe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_pe=function(e){var t=wpe(wpe({},Spe),e),n=(0,i.useRef)(),r=bpe((0,i.useState)(-1),2),o=r[0],a=r[1];(0,i.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,p=t.animationEasing,f=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var v=ib("recharts-trapezoid",h);return g?i.createElement(Tie,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:f,animationEasing:p,isActive:g},(function(e){var r=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return i.createElement(Tie,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:f,easing:p},i.createElement("path",ype({},Mee(t,!0),{className:v,d:Epe(l,c,r,a,s),ref:n})))})):i.createElement("g",null,i.createElement("path",ype({},Mee(t,!0),{className:v,d:Epe(s,l,c,u,d)})))};function Mpe(e){return Mpe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mpe(e)}function Ipe(){return Ipe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ipe.apply(this,arguments)}function Tpe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rpe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tpe(Object(n),!0).forEach((function(t){kpe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tpe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kpe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Mpe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mpe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mpe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ppe=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/The,d=l?i:i+o*u,h=l?i-o*u:i;return{center:khe(t,n,c,d),circleTangency:khe(t,n,r,d),lineTangency:khe(t,n,c*Math.cos(u*The),h),theta:u}},Bpe=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return H7(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=khe(t,n,i,o),c=khe(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=khe(t,n,r,o),h=khe(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},Ope={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Lpe=function(e){var t=Rpe(Rpe({},Ope),e),n=t.cx,r=t.cy,o=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(a<o||u===d)return null;var p,f=ib("recharts-sector",h),m=a-o,g=$7(s,m,0,!0);return p=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=H7(c-l),d=Ppe({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),h=d.circleTangency,p=d.lineTangency,f=d.theta,m=Ppe({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,v=m.lineTangency,y=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-f-y;if(b<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):Bpe({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var A="M ".concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n  ");if(r>0){var x=Ppe({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=x.circleTangency,C=x.lineTangency,E=x.theta,S=Ppe({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=S.circleTangency,M=S.lineTangency,I=S.theta,T=s?Math.abs(l-c):Math.abs(l-c)-E-I;if(T<0&&0===o)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(M.x,",").concat(M.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A}({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):Bpe({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),i.createElement("path",Ipe({},Mee(t,!0),{className:f,d:p,role:"img"}))},Dpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Npe(e){return Npe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Npe(e)}function Fpe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jpe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Upe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jpe(Object(n),!0).forEach((function(t){zpe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jpe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zpe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Npe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Npe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Npe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hpe(e,t){return Upe(Upe({},t),e)}function Vpe(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return i.createElement(Uie,n);case"trapezoid":return i.createElement(_pe,n);case"sector":return i.createElement(Lpe,n);case"symbols":if(function(e){return"symbols"===e}(t))return i.createElement(Ine,n);break;default:return null}}function Gpe(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,a=void 0===o?Hpe:o,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=Fpe(e,Dpe);if((0,i.isValidElement)(n))t=(0,i.cloneElement)(n,Upe(Upe({},u),function(e){return(0,i.isValidElement)(e)?e.props:e}(n)));else if(nee()(n))t=n(u);else if(fpe()(n)&&!gpe()(n)){var d=a(n,u);t=i.createElement(Vpe,{shapeType:r,elementProps:d})}else{var h=u;t=i.createElement(Vpe,{shapeType:r,elementProps:h})}return c?i.createElement(Jee,{className:l},t):t}function Qpe(e,t){return null!=t&&"trapezoids"in e.props}function Wpe(e,t){return null!=t&&"sectors"in e.props}function qpe(e,t){return null!=t&&"points"in e.props}function $pe(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,o=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&o}function Xpe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Kpe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Ype(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return Qpe(e,t)?n="trapezoids":Wpe(e,t)?n="sectors":qpe(e,t)&&(n="points"),n}(n,t),o=function(e,t){var n,r;return Qpe(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:Wpe(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:qpe(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=jue()(o,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return Qpe(e,t)?n=$pe:Wpe(e,t)?n=Xpe:qpe(e,t)&&(n=Kpe),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var Jpe=["x","y"];function Zpe(e){return Zpe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zpe(e)}function efe(){return efe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},efe.apply(this,arguments)}function tfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tfe(Object(n),!0).forEach((function(t){rfe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rfe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Zpe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zpe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zpe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ife(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ofe(e,t){var n=e.x,r=e.y,i=ife(e,Jpe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return nfe(nfe(nfe(nfe(nfe({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function afe(e){return i.createElement(Gpe,efe({shapeType:"rectangle",propTransformer:ofe,activeClassName:"recharts-active-bar"},e))}var sfe,lfe=["value","background"];function cfe(e){return cfe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cfe(e)}function ufe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dfe(){return dfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dfe.apply(this,arguments)}function hfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hfe(Object(n),!0).forEach((function(t){bfe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ffe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Afe(r.key),r)}}function mfe(e,t,n){return t=vfe(t),function(e,t){if(t&&("object"===cfe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gfe()?Reflect.construct(t,n||[],vfe(e).constructor):t.apply(e,n))}function gfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gfe=function(){return!!e})()}function vfe(e){return vfe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vfe(e)}function yfe(e,t){return yfe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yfe(e,t)}function bfe(e,t,n){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Afe(e){var t=function(e,t){if("object"!=cfe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cfe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cfe(t)?t:t+""}var xfe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bfe(e=mfe(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),bfe(e,"id",q7("recharts-bar-")),bfe(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),bfe(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yfe(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,a=n.activeIndex,s=n.activeBar,l=Mee(this.props,!1);return e&&e.map((function(e,n){var c=n===a,u=c?s:r,d=pfe(pfe(pfe({},l),e),{},{isActive:c,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return i.createElement(Jee,dfe({className:"recharts-bar-rectangle"},pee(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),i.createElement(afe,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return i.createElement(Tie,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=u&&u[t];if(n){var i=K7(n.x,e.x),a=K7(n.y,e.y),s=K7(n.width,e.width),l=K7(n.height,e.height);return pfe(pfe({},e),{},{x:i(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===r){var c=K7(0,e.height)(o);return pfe(pfe({},e),{},{y:e.y+e.height-c,height:c})}var d=K7(0,e.width)(o);return pfe(pfe({},e),{},{width:d})}));return i.createElement(Jee,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&jue()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,a=Mee(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=ufe(t,lfe);if(!s)return null;var c=pfe(pfe(pfe(pfe(pfe({},l),{},{fill:"#eee"},s),a),pee(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return i.createElement(afe,dfe({key:"background-bar-".concat(n),option:e.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,a=n.yAxis,s=n.layout,l=wee(n.children,Ide);if(!l)return null;var c="vertical"===s?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ude(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return i.createElement(Jee,d,l.map((function(e){return i.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,p=e.id;if(t||!n||!n.length)return null;var f=this.state.isAnimationFinished,m=ib("recharts-bar",r),g=o&&o.allowDataOverflow,v=a&&a.allowDataOverflow,y=g||v,b=eee()(p)?this.id:p;return i.createElement(Jee,{className:m},g||v?i.createElement("defs",null,i.createElement("clipPath",{id:"clipPath-".concat(b)},i.createElement("rect",{x:g?s:s-c/2,y:v?l:l-u/2,width:g?c:2*c,height:v?u:2*u}))):null,i.createElement(Jee,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,b),(!d||f)&&hpe.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&ffe(n.prototype,r),o&&ffe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.PureComponent);function wfe(e){return wfe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wfe(e)}function Cfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mfe(r.key),r)}}function Efe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Efe(Object(n),!0).forEach((function(t){_fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Efe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _fe(e,t,n){return(t=Mfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mfe(e){var t=function(e,t){if("object"!=wfe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wfe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wfe(t)?t:t+""}sfe=xfe,bfe(xfe,"displayName","Bar"),bfe(xfe,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ste.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),bfe(xfe,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var f=t.layout,m=n.type.defaultProps,g=void 0!==m?pfe(pfe({},m),n.props):n.props,v=g.dataKey,y=g.children,b=g.minPointSize,A="horizontal"===f?a:o,x=c?A.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:A}),C=wee(y,Jhe),E=d.map((function(e,t){var r,d,h,m,g,y;c?r=function(e,t){if(!t||2!==t.length||!G7(t[0])||!G7(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!G7(e[0])||e[0]<n)&&(i[0]=n),(!G7(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],x):(r=Ude(e,v),Array.isArray(r)||(r=[w,r]));var A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||Gee(!1),t)}}(b,sfe.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var E,S=[a.scale(r[0]),a.scale(r[1])],_=S[0],M=S[1];d=Zde({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:e,index:t}),h=null!==(E=null!==M&&void 0!==M?M:_)&&void 0!==E?E:void 0,m=p.size;var I=_-M;if(g=Number.isNaN(I)?0:I,y={x:d,y:a.y,width:m,height:a.height},Math.abs(A)>0&&Math.abs(g)<Math.abs(A)){var T=H7(g||A)*(Math.abs(A)-Math.abs(g));h-=T,g+=T}}else{var R=[o.scale(r[0]),o.scale(r[1])],k=R[0],P=R[1];if(d=k,h=Zde({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),m=P-k,g=p.size,y={x:o.x,y:h,width:o.width,height:g},Math.abs(A)>0&&Math.abs(m)<Math.abs(A))m+=H7(m||A)*(Math.abs(A)-Math.abs(m))}return pfe(pfe(pfe({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:y},C&&C[t]&&C[t].props),{},{tooltipPayload:[ahe(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return pfe({data:E,layout:f},h)}));var Ife=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},Tfe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Cfe(t.prototype,n),r&&Cfe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();_fe(Tfe,"EPS",1e-4);var Rfe=function(e){var t=Object.keys(e).reduce((function(t,n){return Sfe(Sfe({},t),{},_fe({},n,Tfe.create(e[n])))}),{});return Sfe(Sfe({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return Xhe()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return Yhe()(e,(function(e,n){return t[n].isInRange(e)}))}})};function kfe(){return kfe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kfe.apply(this,arguments)}function Pfe(e){return Pfe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pfe(e)}function Bfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ofe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bfe(Object(n),!0).forEach((function(t){Ufe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zfe(r.key),r)}}function Dfe(e,t,n){return t=Ffe(t),function(e,t){if(t&&("object"===Pfe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Nfe()?Reflect.construct(t,n||[],Ffe(e).constructor):t.apply(e,n))}function Nfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Nfe=function(){return!!e})()}function Ffe(e){return Ffe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ffe(e)}function jfe(e,t){return jfe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jfe(e,t)}function Ufe(e,t,n){return(t=zfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zfe(e){var t=function(e,t){if("object"!=Pfe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pfe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pfe(t)?t:t+""}var Hfe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dfe(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jfe(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,o=e.r,a=e.alwaysShow,s=e.clipPathId,l=Q7(n),c=Q7(r);if(J7(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=Rfe({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return qhe(e,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,h=u.y,p=this.props,f=p.shape,m=p.className,g=Ofe(Ofe({clipPath:qhe(this.props,"hidden")?"url(#".concat(s,")"):void 0},Mee(this.props,!0)),{},{cx:d,cy:h});return i.createElement(Jee,{className:ib("recharts-reference-dot",m)},t.renderDot(f,g),Qhe.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}],r&&Lfe(n.prototype,r),o&&Lfe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);Ufe(Hfe,"displayName","ReferenceDot"),Ufe(Hfe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Ufe(Hfe,"renderDot",(function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):nee()(e)?e(t):i.createElement(nre,kfe({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var Vfe=n(4597),Gfe=n.n(Vfe),Qfe=n(8990),Wfe=n.n(Qfe),qfe=n(5797),$fe=n.n(qfe)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var Xfe=(0,i.createContext)(void 0),Kfe=(0,i.createContext)(void 0),Yfe=(0,i.createContext)(void 0),Jfe=(0,i.createContext)({}),Zfe=(0,i.createContext)(void 0),eme=(0,i.createContext)(0),tme=(0,i.createContext)(0),nme=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=$fe(o);return i.createElement(Xfe.Provider,{value:n},i.createElement(Kfe.Provider,{value:r},i.createElement(Jfe.Provider,{value:o},i.createElement(Yfe.Provider,{value:u},i.createElement(Zfe.Provider,{value:a},i.createElement(eme.Provider,{value:c},i.createElement(tme.Provider,{value:l},s)))))))};var rme=function(e){var t=(0,i.useContext)(Xfe);null==t&&Gee(!1);var n=t[e];return null==n&&Gee(!1),n},ime=function(e){var t=(0,i.useContext)(Kfe);null==t&&Gee(!1);var n=t[e];return null==n&&Gee(!1),n},ome=function(){return(0,i.useContext)(tme)},ame=function(){return(0,i.useContext)(eme)};function sme(e){return sme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sme(e)}function lme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gme(r.key),r)}}function cme(e,t,n){return t=dme(t),function(e,t){if(t&&("object"===sme(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ume()?Reflect.construct(t,n||[],dme(e).constructor):t.apply(e,n))}function ume(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ume=function(){return!!e})()}function dme(e){return dme=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dme(e)}function hme(e,t){return hme=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hme(e,t)}function pme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pme(Object(n),!0).forEach((function(t){mme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mme(e,t,n){return(t=gme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gme(e){var t=function(e,t){if("object"!=sme(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sme(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sme(t)?t:t+""}function vme(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yme(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yme(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bme(){return bme=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bme.apply(this,arguments)}function Ame(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,i.useContext)(Zfe),d=rme(o),h=ime(a),p=(0,i.useContext)(Yfe);if(!u||!p)return null;J7(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=function(e,t,n,r,i,o,a,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var p=l.y,f=e.y.apply(p,{position:o});if(qhe(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:c+d,y:f},{x:c,y:f}];return"left"===s?m.reverse():m}if(t){var g=l.x,v=e.x.apply(g,{position:o});if(qhe(l,"discard")&&!e.x.isInRange(v))return null;var y=[{x:v,y:u+h},{x:v,y:u}];return"top"===a?y.reverse():y}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:o})}));return qhe(l,"discard")&&Gfe()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Rfe({x:d.scale,y:h.scale}),Q7(t),Q7(n),r&&2===r.length,p,e.position,d.orientation,h.orientation,e);if(!f)return null;var m=vme(f,2),g=m[0],v=g.x,y=g.y,b=m[1],A=b.x,x=b.y,w=fme(fme({clipPath:qhe(e,"hidden")?"url(#".concat(u,")"):void 0},Mee(e,!0)),{},{x1:v,y1:y,x2:A,y2:x});return i.createElement(Jee,{className:ib("recharts-reference-line",l)},function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):nee()(e)?e(t):i.createElement("line",bme({},t,{className:"recharts-reference-line-line"}))}(s,w),Qhe.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return Ife({x:t,y:n},{x:r,y:i})}({x1:v,y1:y,x2:A,y2:x})))}var xme=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cme(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hme(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(Ame,this.props)}}])&&lme(n.prototype,r),o&&lme(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function wme(){return wme=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wme.apply(this,arguments)}function Cme(e){return Cme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cme(e)}function Eme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eme(Object(n),!0).forEach((function(t){kme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pme(r.key),r)}}function Mme(e,t,n){return t=Tme(t),function(e,t){if(t&&("object"===Cme(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ime()?Reflect.construct(t,n||[],Tme(e).constructor):t.apply(e,n))}function Ime(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ime=function(){return!!e})()}function Tme(e){return Tme=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tme(e)}function Rme(e,t){return Rme=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rme(e,t)}function kme(e,t,n){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pme(e){var t=function(e,t){if("object"!=Cme(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cme(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cme(t)?t:t+""}mme(xme,"displayName","ReferenceLine"),mme(xme,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Bme=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mme(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rme(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,o=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;J7(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Q7(n),d=Q7(r),h=Q7(o),p=Q7(a),f=this.props.shape;if(!u&&!d&&!h&&!p&&!f)return null;var m=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=Rfe({x:c.scale,y:u.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!qhe(i,"discard")||d.isInRange(h)&&d.isInRange(p)?Ife(h,p):null}(u,d,h,p,this.props);if(!m&&!f)return null;var g=qhe(this.props,"hidden")?"url(#".concat(c,")"):void 0;return i.createElement(Jee,{className:ib("recharts-reference-area",s)},t.renderRect(f,Sme(Sme({clipPath:g},Mee(this.props,!0)),m)),Qhe.renderCallByParent(this.props,m))}}],r&&_me(n.prototype,r),o&&_me(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function Ome(e){return function(e){if(Array.isArray(e))return Lme(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Lme(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lme(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}kme(Bme,"displayName","ReferenceArea"),kme(Bme,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),kme(Bme,"renderRect",(function(e,t){return i.isValidElement(e)?i.cloneElement(e,t):nee()(e)?e(t):i.createElement(Uie,wme({},t,{className:"recharts-reference-area-rect"}))}));var Dme=function(e,t,n,r,i){var o=wee(e,xme),a=wee(e,Hfe),s=[].concat(Ome(o),Ome(a)),l=wee(e,Bme),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&qhe(t.props,"extendDomain")&&G7(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),p="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&qhe(t.props,"extendDomain")&&G7(t.props[h])&&G7(t.props[p])){var r=t.props[h],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return G7(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},Nme=n(7283),Fme=new(n.n(Nme)()),jme="recharts.syncMouseEvents";function Ume(e){return Ume="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ume(e)}function zme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vme(r.key),r)}}function Hme(e,t,n){return(t=Vme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vme(e){var t=function(e,t){if("object"!=Ume(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ume(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ume(t)?t:t+""}var Gme=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hme(this,"activeIndex",0),Hme(this,"coordinateList",[]),Hme(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,o=void 0===i?null:i,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&zme(e.prototype,t),n&&zme(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Qme(){}function Wme(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qme(e){this._context=e}function $me(e){this._context=e}function Xme(e){this._context=e}qme.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wme(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wme(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},$me.prototype={areaStart:Qme,areaEnd:Qme,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wme(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Xme.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wme(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Kme{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Yme(e){this._context=e}function Jme(e){this._context=e}function Zme(e){return new Jme(e)}function ege(e){return e<0?-1:1}function tge(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ege(o)+ege(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function nge(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rge(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ige(e){this._context=e}function oge(e){this._context=new age(e)}function age(e){this._context=e}function sge(e){this._context=e}function lge(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function cge(e,t){this._context=e,this._t=t}function uge(e){return e[0]}function dge(e){return e[1]}function hge(e,t){var n=dne(!0),r=null,i=Zme,o=null,a=yne(s);function s(s){var l,c,u,d=(s=Iue(s)).length,h=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"===typeof e?e:void 0===e?uge:dne(e),t="function"===typeof t?t:void 0===t?dge:dne(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:dne(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:dne(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:dne(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function pge(e,t,n){var r=null,i=dne(!0),o=null,a=Zme,s=null,l=yne(c);function c(c){var u,d,h,p,f,m=(c=Iue(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==o&&(s=a(f=l())),u=0;u<=m;++u){if(!(u<m&&i(p=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(v[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+e(p,u,c),y[u]=+t(p,u,c),s.point(r?+r(p,u,c):v[u],n?+n(p,u,c):y[u]))}if(f)return s=null,f+""||null}function u(){return hge().defined(i).curve(a).context(o)}return e="function"===typeof e?e:void 0===e?uge:dne(+e),t="function"===typeof t?t:dne(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?dge:dne(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:dne(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:dne(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:dne(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:dne(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:dne(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:dne(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:dne(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}function fge(e){return fge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fge(e)}function mge(){return mge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mge.apply(this,arguments)}function gge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gge(Object(n),!0).forEach((function(t){yge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yge(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fge(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yme.prototype={areaStart:Qme,areaEnd:Qme,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Jme.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ige.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rge(this,this._t0,nge(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rge(this,nge(this,n=tge(this,e,t)),n);break;default:rge(this,this._t0,n=tge(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(oge.prototype=Object.create(ige.prototype)).point=function(e,t){ige.prototype.point.call(this,t,e)},age.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},sge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=lge(e),i=lge(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},cge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var bge={curveBasisClosed:function(e){return new $me(e)},curveBasisOpen:function(e){return new Xme(e)},curveBasis:function(e){return new qme(e)},curveBumpX:function(e){return new Kme(e,!0)},curveBumpY:function(e){return new Kme(e,!1)},curveLinearClosed:function(e){return new Yme(e)},curveLinear:Zme,curveMonotoneX:function(e){return new ige(e)},curveMonotoneY:function(e){return new oge(e)},curveNatural:function(e){return new sge(e)},curveStep:function(e){return new cge(e,.5)},curveStepAfter:function(e){return new cge(e,1)},curveStepBefore:function(e){return new cge(e,0)}},Age=function(e){return e.x===+e.x&&e.y===+e.y},xge=function(e){return e.x},wge=function(e){return e.y},Cge=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,o=void 0===i?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(nee()(e))return e;var n="curve".concat(Hte()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?bge[n]||Zme:bge["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?o.filter((function(e){return Age(e)})):o;if(Array.isArray(a)){var h=c?a.filter((function(e){return Age(e)})):a,p=d.map((function(e,t){return vge(vge({},e),{},{base:h[t]})}));return t="vertical"===s?pge().y(wge).x1(xge).x0((function(e){return e.base.x})):pge().x(xge).y1(wge).y0((function(e){return e.base.y})),t.defined(Age).curve(u),t(p)}return(t="vertical"===s&&G7(a)?pge().y(wge).x1(xge).x0(a):G7(a)?pge().x(xge).y1(wge).y0(a):hge().x(xge).y(wge)).defined(Age).curve(u),t(d)},Ege=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Cge(e):r;return i.createElement("path",mge({},Mee(e,!1),hee(e),{className:ib("recharts-curve",t),d:a,ref:o}))};function Sge(e){return Sge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sge(e)}var _ge=["x","y","top","left","width","height","className"];function Mge(){return Mge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mge.apply(this,arguments)}function Ige(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tge(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Sge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sge(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rge(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kge=function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)},Pge=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,p=void 0===h?0:h,f=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ige(Object(n),!0).forEach((function(t){Tge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ige(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:s,left:c,width:d,height:p},Rge(e,_ge));return G7(n)&&G7(o)&&G7(d)&&G7(p)&&G7(s)&&G7(c)?i.createElement("path",Mge({},Mee(m,!0),{className:ib("recharts-cross",f),d:kge(n,o,d,p,s,c)})):null};function Bge(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle;return{points:[khe(t,n,r,i),khe(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Oge(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Bge(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=khe(s,l,c,d),p=khe(s,l,u,d);r=h.x,i=h.y,o=p.x,a=p.y}return[{x:r,y:i},{x:o,y:a}]}function Lge(e){return Lge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lge(e)}function Dge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dge(Object(n),!0).forEach((function(t){Fge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fge(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lge(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jge(e){var t,n,r,o=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,p=e.layout,f=e.chartName,m=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!m||!s||!l||"ScatterChart"!==f&&"axis"!==a)return null;var g=Ege;if("ScatterChart"===f)r=l,g=Pge;else if("BarChart"===f)r=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,u,h),g=Uie;else if("radial"===p){var v=Bge(l),y=v.cx,b=v.cy,A=v.radius;r={cx:y,cy:b,startAngle:v.startAngle,endAngle:v.endAngle,innerRadius:A,outerRadius:A},g=Lpe}else r={points:Oge(p,l,u)},g=Ege;var x=Nge(Nge(Nge(Nge({stroke:"#ccc",pointerEvents:"none"},u),r),Mee(m,!1)),{},{payload:c,payloadIndex:d,className:ib("recharts-tooltip-cursor",m.className)});return(0,i.isValidElement)(m)?(0,i.cloneElement)(m,x):(0,i.createElement)(g,x)}var Uge=["item"],zge=["children","className","width","height","style","compact","title","desc"];function Hge(e){return Hge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hge(e)}function Vge(){return Vge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vge.apply(this,arguments)}function Gge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Jge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qge(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rve(r.key),r)}}function qge(e,t,n){return t=Xge(t),function(e,t){if(t&&("object"===Hge(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$ge()?Reflect.construct(t,n||[],Xge(e).constructor):t.apply(e,n))}function $ge(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($ge=function(){return!!e})()}function Xge(e){return Xge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xge(e)}function Kge(e,t){return Kge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kge(e,t)}function Yge(e){return function(e){if(Array.isArray(e))return Zge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jge(e,t){if(e){if("string"===typeof e)return Zge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zge(e,t):void 0}}function Zge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eve(Object(n),!0).forEach((function(t){nve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nve(e,t,n){return(t=rve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rve(e){var t=function(e,t){if("object"!=Hge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hge(t)?t:t+""}var ive={xAxis:["bottom","top"],yAxis:["left","right"]},ove={width:"100%",height:"100%"},ave={x:0,y:0};function sve(e){return e}var lve=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(Yge(e),Yge(n)):e}),[]);return o.length>0?o:e&&e.length&&G7(r)&&G7(i)?e.slice(r,i+1):[]};function cve(e){return"number"===e?[0,"auto"]:void 0}var uve=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=lve(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=Y7(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(Yge(i),[ahe(s,c)]):i}),[])},dve=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(H7(u-c)!==H7(d-u)){var p=[];if(H7(d-u)===H7(s[1]-s[0])){h=d;var f=u+s[1]-s[0];p[0]=Math.min(f,(f+c)/2),p[1]=Math.max(f,(f+c)/2)}else{h=c;var m=d+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){o=r[l].index;break}}else{var v=Math.min(c,d),y=Math.max(c,d);if(e>(v+u)/2&&e<=(y+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=uve(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return tve(tve(tve({},r),khe(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return tve(tve(tve({},r),khe(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return ave}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},hve=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=Qde(c,i);return n.reduce((function(t,n){var p,f=void 0!==n.type.defaultProps?tve(tve({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,v=f.allowDataOverflow,y=f.allowDuplicatedCategory,b=f.scale,A=f.ticks,x=f.includeHidden,w=f[o];if(t[w])return t;var C,E,S,_=lve(e.data,{graphicalItems:r.filter((function(e){var t;return(o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o])===w})),dataStartIndex:s,dataEndIndex:l}),M=_.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&G7(r)&&G7(i))return!0}return!1})(f.domain,v,m)&&(C=rhe(f.domain,null,v),!h||"number"!==m&&"auto"===b||(S=zde(_,g,"category")));var I=cve(m);if(!C||0===C.length){var T,R=null!==(T=f.domain)&&void 0!==T?T:I;if(g){if(C=zde(_,g,m),"category"===m&&h){var k=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(C);y&&k?(E=C,C=Uee()(0,M)):y||(C=ohe(R,C,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(Yge(e),[t])}),[]))}else if("category"===m)C=y?C.filter((function(e){return""!==e&&!eee()(e)})):ohe(R,C,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||eee()(t)?e:[].concat(Yge(e),[t])}),[]);else if("number"===m){var P=function(e,t,n,r,i){var o=t.map((function(t){return Vde(e,t,n,i,r)})).filter((function(e){return!eee()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(_,r.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(x||!i)})),g,i,c);P&&(C=P)}!h||"number"!==m&&"auto"===b||(S=zde(_,g,"category"))}else C=h?Uee()(0,M):a&&a[w]&&a[w].hasStack&&"number"===m?"expand"===d?[0,1]:ehe(a[w].stackGroups,s,l):Gde(_,r.filter((function(e){var t=o in e.props?e.props[o]:e.type.defaultProps[o],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(x||!n)})),m,c,!0);if("number"===m)C=Dme(u,C,w,i,A),R&&(C=rhe(R,C,v));else if("category"===m&&R){var B=R;C.every((function(e){return B.indexOf(e)>=0}))&&(C=B)}}return tve(tve({},t),{},nve({},w,tve(tve({},f),{},{axisType:i,domain:C,categoricalDomain:S,duplicateDomain:E,originalDomain:null!==(p=f.domain)&&void 0!==p?p:I,isCategorical:h,layout:c})))}),{})},pve=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=wee(c,i),h={};return d&&d.length?h=hve(e,{axes:d,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=lve(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,p=Qde(c,i),f=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?tve(tve({},t.type.defaultProps),t.props):t.props)[o],v=cve("number");return e[g]?e:(f++,p?m=Uee()(0,h):a&&a[g]&&a[g].hasStack?(m=ehe(a[g].stackGroups,s,l),m=Dme(u,m,g,i)):(m=rhe(v,Gde(d,n.filter((function(e){var t,n,r=o in e.props?e.props[o]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[o],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=Dme(u,m,g,i)),tve(tve({},e),{},nve({},g,tve(tve({axisType:i},r.defaultProps),{},{hide:!0,orientation:j7()(ive,"".concat(i,".").concat(f%2),null),domain:m,originalDomain:v,isCategorical:p,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),h},fve=function(e){var t=e.children,n=e.defaultShowTooltip,r=Cee(t,Ehe),i=0,o=0;return e.data&&0!==e.data.length&&(o=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},mve=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gve=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=Cee(c,Ehe),h=Cee(c,ere),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:tve(tve({},e),{},nve({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),f=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:tve(tve({},e),{},nve({},r,j7()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=tve(tve({},f),p),g=m.bottom;d&&(m.bottom+=d.props.height||Ehe.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=Bde({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,p=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==h&&G7(e[h]))return Fde(Fde({},e),{},jde({},h,e[h]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==p&&G7(e[p]))return Fde(Fde({},e),{},jde({},p,e[p]+(d||0)))}return e}(m,0,n,t));var v=s-m.left-m.right,y=l-m.top-m.bottom;return tve(tve({brushBottom:g},m),{},{width:Math.max(v,0),height:Math.max(y,0)})},vve=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0};function yve(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function bve(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function Ave(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function xve(e){return xve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xve(e)}function wve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wve(Object(n),!0).forEach((function(t){Eve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eve(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xve(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sve(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(G7(l)||Ste.isSsr)return function(e,t){return yve(e,t+1)}(i,"number"===typeof l&&G7(l)?l:0);var h=[],p="top"===s||"bottom"===s?"width":"height",f=u&&"width"===p?aoe(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=nee()(c)?c(e.value,r):e.value;return"width"===p?bve(aoe(i,{fontSize:t,letterSpacing:n}),f,d):aoe(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?H7(i[1].coordinate-i[0].coordinate):1,v=function(e,t,n){var r="width"===n,i=e.x,o=e.y,a=e.width,s=e.height;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:yve(r,u)};var o,a=c,h=function(){return void 0===o&&(o=n(t,a)),o},p=t.coordinate,f=0===c||Ave(e,p,h,d,l);f||(c=0,d=s,u+=1),f&&(d=p+e*(h()/2+i),c+=u)};u<=a.length;)if(o=h())return o.v;return[]}(g,v,m,i,a):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);a[s-1]=u=Cve(Cve({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),Ave(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=Cve(Cve({},u),{},{isShow:!0}))}for(var p=o?s-1:s,f=function(t){var r,o=a[t],s=function(){return void 0===r&&(r=n(o,t)),r};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=Cve(Cve({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=Cve(Cve({},o),{},{tickCoord:o.coordinate});Ave(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=Cve(Cve({},o),{},{isShow:!0}))},m=0;m<p;m++)f(m);return a}(g,v,m,i,a,"preserveStartEnd"===l):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var r,c=o[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=Cve(Cve({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=Cve(Cve({},c),{},{tickCoord:c.coordinate});Ave(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=Cve(Cve({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,v,m,i,a),h.filter((function(e){return e.isShow})))}var _ve=["viewBox"],Mve=["viewBox"],Ive=["ticks"];function Tve(e){return Tve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tve(e)}function Rve(){return Rve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rve.apply(this,arguments)}function kve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kve(Object(n),!0).forEach((function(t){jve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bve(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ove(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uve(r.key),r)}}function Lve(e,t,n){return t=Nve(t),function(e,t){if(t&&("object"===Tve(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dve()?Reflect.construct(t,n||[],Nve(e).constructor):t.apply(e,n))}function Dve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dve=function(){return!!e})()}function Nve(e){return Nve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nve(e)}function Fve(e,t){return Fve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fve(e,t)}function jve(e,t,n){return(t=Uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uve(e){var t=function(e,t){if("object"!=Tve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tve(t)?t:t+""}var zve=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Lve(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fve(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Bve(e,_ve),i=this.props,o=i.viewBox,a=Bve(i,Mve);return!aee(n,o)||!aee(r,a)||!aee(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,p=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,v=e.tickSize||p,y=G7(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(i=c+ +!f*d)-g*v)-g*m,o=y;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!f*u)-g*v)-g*m,a=y;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +f*u)+g*v)+g*m,a=y;break;default:t=n=e.coordinate,a=(r=(i=c+ +f*d)+g*v)+g*m,o=y}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=Pve(Pve(Pve({},Mee(this.props,!1)),Mee(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=Pve(Pve({},c),{},{x1:t,y1:n+u*o,x2:t+r,y2:n+u*o})}else{var d=+("left"===a&&!s||"right"===a&&s);c=Pve(Pve({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+o})}return i.createElement("line",Rve({},c,{className:ib("recharts-cartesian-axis-line",j7()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,h=Sve(Pve(Pve({},this.props),{},{ticks:e}),n,r),p=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=Mee(this.props,!1),g=Mee(c,!1),v=Pve(Pve({},m),{},{fill:"none"},Mee(s,!1)),y=h.map((function(e,n){var r=o.getTickLineCoord(e),a=r.line,y=r.tick,b=Pve(Pve(Pve(Pve({textAnchor:p,verticalAnchor:f},m),{},{stroke:"none",fill:l},g),y),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return i.createElement(Jee,Rve({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},pee(o.props,e,n)),s&&i.createElement("line",Rve({},v,a,{className:ib("recharts-cartesian-axis-tick-line",j7()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(nee()(u)?u(e.value,n):e.value).concat(d||"")))}));return i.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=Bve(l,Ive),d=c;return nee()(a)&&(d=c&&c.length>0?a(this.props):a(u)),r<=0||o<=0||!d||!d.length?null:i.createElement(Jee,{className:ib("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Qhe.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return i.isValidElement(e)?i.cloneElement(e,t):nee()(e)?e(t):i.createElement(Loe,Rve({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&Ove(n.prototype,r),o&&Ove(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function Hve(e){return Hve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hve(e)}function Vve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xve(r.key),r)}}function Gve(e,t,n){return t=Wve(t),function(e,t){if(t&&("object"===Hve(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qve()?Reflect.construct(t,n||[],Wve(e).constructor):t.apply(e,n))}function Qve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qve=function(){return!!e})()}function Wve(e){return Wve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wve(e)}function qve(e,t){return qve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qve(e,t)}function $ve(e,t,n){return(t=Xve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xve(e){var t=function(e,t){if("object"!=Hve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hve(t)?t:t+""}function Kve(){return Kve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kve.apply(this,arguments)}function Yve(e){var t=e.xAxisId,n=ome(),r=ame(),o=rme(t);return null==o?null:i.createElement(zve,Kve({},o,{className:ib("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return qde(e,!0)}}))}jve(zve,"displayName","CartesianAxis"),jve(zve,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gve(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qve(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(Yve,this.props)}}])&&Vve(n.prototype,r),o&&Vve(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);function Zve(e){return Zve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zve(e)}function eye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aye(r.key),r)}}function tye(e,t,n){return t=rye(t),function(e,t){if(t&&("object"===Zve(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nye()?Reflect.construct(t,n||[],rye(e).constructor):t.apply(e,n))}function nye(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(nye=function(){return!!e})()}function rye(e){return rye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rye(e)}function iye(e,t){return iye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iye(e,t)}function oye(e,t,n){return(t=aye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aye(e){var t=function(e,t){if("object"!=Zve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zve(t)?t:t+""}function sye(){return sye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sye.apply(this,arguments)}$ve(Jve,"displayName","XAxis"),$ve(Jve,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var lye=function(e){var t=e.yAxisId,n=ome(),r=ame(),o=ime(t);return null==o?null:i.createElement(zve,sye({},o,{className:ib("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return qde(e,!0)}}))},cye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tye(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iye(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return i.createElement(lye,this.props)}}])&&eye(n.prototype,r),o&&eye(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(i.Component);oye(cye,"displayName","YAxis"),oye(cye,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var uye=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,o=void 0===r?"axis":r,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,f=mve(u),m=f.numericAxisName,g=f.cateAxisName,v=function(e){return!(!e||!e.length)&&e.some((function(e){var t=yee(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,f){var b=lve(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),A=void 0!==n.type.defaultProps?tve(tve({},n.type.defaultProps),n.props):n.props,x=A.dataKey,w=A.maxBarSize,C=A["".concat(m,"Id")],E=A["".concat(g,"Id")],S=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=A["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Gee(!1);var o=r[i];return tve(tve({},e),{},nve(nve({},n.axisType,o),"".concat(n.axisType,"Ticks"),qde(o)))}),{}),_=S[g],M=S["".concat(g,"Ticks")],I=r&&r[C]&&r[C].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Fde(Fde({},e.type.defaultProps),e.props):e.props).stackId;if(Q7(r)){var i=t[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null}(n,r[C].stackGroups),T=yee(n.type).indexOf("Bar")>=0,R=ihe(_,M),k=[],P=v&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var p=c[u[d]],f=p.items,m=p.cateAxisId,g=f.filter((function(e){return yee(e.type).indexOf("Bar")>=0}));if(g&&g.length){var v=g[0].type.defaultProps,y=void 0!==v?Fde(Fde({},v),g[0].props):g[0].props,b=y.barSize,A=y[m];o[A]||(o[A]=[]);var x=eee()(b)?t:b;o[A].push({item:g[0],stackList:g.slice(1),barSize:eee()(x)?void 0:$7(x,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:vve(S,g)});if(T){var B,O,L=eee()(w)?p:w,D=null!==(B=null!==(O=ihe(_,M,!0))&&void 0!==O?O:L)&&void 0!==B?B:0;k=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,c=$7(t,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=r/s,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*c)>=r&&(p-=(s-1)*c,c=0),p>=r&&h>0&&(d=!0,p=s*(h*=.9));var f={offset:((r-p)/2|0)-c,size:0};l=o.reduce((function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+c,size:d?h:t.barSize}},r=[].concat(Lde(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:f})})),r}),u)}else{var m=$7(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var v=a===+a?Math.min(g,a):g;l=o.reduce((function(e,t,n){var r=[].concat(Lde(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-v)/2,size:v}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:D!==R?D:R,sizeList:P[E],maxBarSize:L}),D!==R&&(k=k.map((function(e){return tve(tve({},e),{},{position:tve(tve({},e.position),{},{offset:e.position.offset-D/2})})})))}var N=n&&n.type&&n.type.getComposedData;N&&y.push({props:tve(tve({},N(tve(tve({},S),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:R,barPosition:k,offset:i,stackedData:I,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},nve(nve(nve({key:n.key||"item-".concat(f)},m,S[m]),g,S[g]),"animationId",o)),childIndex:kee(n,e.children),item:n})})),y},p=function(e,r){var i=e.props,o=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!Eee({props:i}))return null;var c=i.children,d=i.layout,p=i.stackOffset,f=i.data,m=i.reverseStackOrder,g=mve(d),v=g.numericAxisName,y=g.cateAxisName,b=wee(c,n),A=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i,o=null!==(i=t.type)&&void 0!==i&&i.defaultProps?Fde(Fde({},t.type.defaultProps),t.props):t.props,a=o.stackId;if(o.hide)return e;var s=o[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Q7(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[q7("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Fde(Fde({},e),{},jde({},s,l))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return Fde(Fde({},t),{},jde({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:Jde(e,a.items,i)}))}),{})),Fde(Fde({},t),{},jde({},o,s))}),{})}(f,b,"".concat(v,"Id"),"".concat(y,"Id"),p,m),x=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return tve(tve({},e),{},nve({},n,pve(i,tve(tve({},t),{},{graphicalItems:b,stackGroups:t.axisType===v&&A,dataStartIndex:o,dataEndIndex:a}))))}),{}),w=gve(tve(tve({},x),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(x).forEach((function(e){x[e]=u(i,x[e],w,e.replace("Map",""),t)}));var C=function(e){var t=X7(e),n=qde(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Hee()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:ihe(t,n)}}(x["".concat(y,"Map")]),E=h(i,tve(tve({},x),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:A,offset:w}));return tve(tve({formattedGraphicalItems:E,graphicalItems:b,offset:w,stackGroups:A},C),x)},f=function(e){function n(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),nve(a=qge(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nve(a,"accessibilityManager",new Gme),nve(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;a.setState(tve({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},tve(tve({},a.state),{},{legendBBox:e}))))}})),nve(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),nve(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return tve({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),nve(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=tve(tve({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;nee()(r)&&r(n,e)}})),nve(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?tve(tve({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;nee()(r)&&r(n,e)})),nve(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),nve(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),nve(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),nve(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;nee()(n)&&n(t,e)})),nve(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&vee[t]?vee[t]:null}(e),r=j7()(a.props,"".concat(n));n&&nee()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),nve(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=tve(tve({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;nee()(r)&&r(n,e)}})),nve(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;nee()(t)&&t(a.getMouseInfo(e),e)})),nve(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;nee()(t)&&t(a.getMouseInfo(e),e)})),nve(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),nve(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),nve(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),nve(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;nee()(t)&&t(a.getMouseInfo(e),e)})),nve(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;nee()(t)&&t(a.getMouseInfo(e),e)})),nve(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&Fme.emit(jme,a.props.syncId,e,a.eventEmitterSymbol)})),nve(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,i=a.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(tve({dataStartIndex:o,dataEndIndex:s},p({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,h=d.offset,f=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(f,e);else if("value"===r){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){u=m;break}}var g=tve(tve({},h),{},{x:h.left,y:h.top}),v=Math.min(l,g.x+g.width),y=Math.min(c,g.y+g.height),b=f[u]&&f[u].value,A=uve(a.state,a.props.data,u),x=f[u]?{x:"horizontal"===n?f[u].coordinate:v,y:"horizontal"===n?y:f[u].coordinate}:ave;a.setState(tve(tve({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:A,activeTooltipIndex:u}))}else a.setState(e)})),nve(a,"renderCursor",(function(e){var n,r=a.state,o=r.isTooltipActive,s=r.activeCoordinate,l=r.activePayload,c=r.offset,u=r.activeTooltipIndex,d=r.tooltipAxisBandSize,h=a.getTooltipEventType(),p=null!==(n=e.props.active)&&void 0!==n?n:o,f=a.props.layout,m=e.key||"_recharts-cursor";return i.createElement(jge,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:p,layout:f,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),nve(a,"renderPolarAxis",(function(e,t,n){var r=j7()(e,"type.axisType"),o=j7()(a.state,"".concat(r,"Map")),s=e.type.defaultProps,l=void 0!==s?tve(tve({},s),e.props):e.props,c=o&&o[l["".concat(r,"Id")]];return(0,i.cloneElement)(e,tve(tve({},c),{},{className:ib(r,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:qde(c,!0)}))})),nve(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=X7(l),d=X7(c),h=d.cx,p=d.cy,f=d.innerRadius,m=d.outerRadius;return(0,i.cloneElement)(e,{polarAngles:Array.isArray(r)?r:qde(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:qde(u,!0).map((function(e){return e.coordinate})),cx:h,cy:p,innerRadius:f,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),nve(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,o=t.height,s=a.props.margin||{},l=r-(s.left||0)-(s.right||0),u=Bde({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=Qge(u,Uge);return(0,i.cloneElement)(d,tve(tve({},h),{},{chartWidth:r,chartHeight:o,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),nve(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,o=Cee(n,Ute);if(!o)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,p=null!==(e=o.props.active)&&void 0!==e?e:l;return(0,i.cloneElement)(o,{viewBox:tve(tve({},h),{},{x:h.left,y:h.top}),active:p,label:d,payload:p?u:[],coordinate:c,accessibilityLayer:r})})),nve(a,"renderBrush",(function(e){var t=a.props,n=t.margin,r=t.data,o=a.state,s=o.offset,l=o.dataStartIndex,c=o.dataEndIndex,u=o.updateId;return(0,i.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Xde(a.handleBrushChange,e.props.onChange),data:r,x:G7(e.props.x)?e.props.x:s.left,y:G7(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:G7(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),nve(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=a.clipPathId,o=a.state,s=o.xAxisMap,l=o.yAxisMap,c=o.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,p=void 0===h?u.xAxisId:h,f=d.yAxisId,m=void 0===f?u.yAxisId:f;return(0,i.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})})),nve(a,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,i=e.basePoint,o=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?tve(tve({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=tve(tve({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:Hde(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Mee(u,!1)),hee(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(u,tve(tve({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),nve(a,"renderGraphicChild",(function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var o=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=Cee(a.props.children,Ute),p=r.props,f=p.points,m=p.isRange,g=p.baseLine,v=void 0!==r.item.type.defaultProps?tve(tve({},r.item.type.defaultProps),r.item.props):r.item.props,y=v.activeDot,b=v.hide,A=v.activeBar,x=v.activeShape,w=Boolean(!b&&l&&h&&(y||A||x)),C={};"axis"!==o&&h&&"click"===h.props.trigger?C={onClick:Xde(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(C={onMouseLeave:Xde(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Xde(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,i.cloneElement)(e,tve(tve({},r.props),C));if(w){if(!(u>=0)){var S,_=(null!==(S=a.getItemByXY(a.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:E}).graphicalItem,M=_.item,I=void 0===M?e:M,T=_.childIndex,R=tve(tve(tve({},r.props),C),{},{activeIndex:T});return[(0,i.cloneElement)(I,R),null,null]}var k,P;if(c.dataKey&&!c.allowDuplicatedCategory){var B="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());k=Y7(f,B,d),P=m&&g&&Y7(g,B,d)}else k=null===f||void 0===f?void 0:f[u],P=m&&g&&g[u];if(x||A){var O=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,i.cloneElement)(e,tve(tve(tve({},r.props),C),{},{activeIndex:O})),null,null]}if(!eee()(k))return[E].concat(Yge(a.renderActivePoints({item:r,activePoint:k,basePoint:P,childIndex:u,isRange:m})))}return m?[E,null,null]:[E,null]})),nve(a,"renderCustomized",(function(e,t,n){return(0,i.cloneElement)(e,tve(tve({key:"recharts-customized-".concat(n)},a.props),a.state))})),nve(a,"renderMap",{CartesianGrid:{handler:sve,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:sve},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:sve},YAxis:{handler:sve},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:q7("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=B7()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kge(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,o=Cee(t,Ute);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=uve(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=tve(tve({},d),h.props.points[a].tooltipPosition),l=h.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Iee([Cee(e.children,Ute)],[Cee(this.props.children,Ute)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Cee(this.props.children,Ute);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=X7(c).scale,h=X7(u).scale,p=d&&d.invert?d.invert(o.chartX):null,f=h&&h.invert?h.invert(o.chartY):null;return tve(tve({},o),{},{xValue:p,yValue:f})}var m=dve(this.state,this.props.data,this.props.layout,s);return m?tve(tve({},o),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,o=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=X7(l);return Ohe({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=Cee(e,Ute),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),tve(tve({},hee(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Fme.on(jme,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fme.removeListener(jme,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===yee(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return i.createElement("defs",null,i.createElement("clipPath",{id:e},i.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Gge(t,2),r=n[0],i=n[1];return tve(tve({},e),{},nve({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Gge(t,2),r=n[0],i=n[1];return tve(tve({},e),{},nve({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?tve(tve({},l.type.defaultProps),l.props):l.props,u=yee(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return Fie(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return Ohe(e,t)}));if(h)return{graphicalItem:a,payload:h}}else if(Qpe(a,r)||Wpe(a,r)||qpe(a,r)){var p=Ype({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),f=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:tve(tve({},a),{},{childIndex:f}),payload:qpe(a,r)?c.data[p]:a.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Eee(this))return null;var t,n,r=this.props,o=r.children,a=r.className,s=r.width,l=r.height,c=r.style,u=r.compact,d=r.title,h=r.desc,p=Qge(r,zge),f=Mee(p,!1);if(u)return i.createElement(nme,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement($ee,Vge({},f,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),Ree(o,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,f.role=null!==(n=this.props.role)&&void 0!==n?n:"application",f.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},f.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return i.createElement(nme,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},i.createElement("div",Vge({className:ib("recharts-wrapper",a),style:tve({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),i.createElement($ee,Vge({},f,{width:s,height:l,title:d,desc:h,style:ove}),this.renderClipPath(),Ree(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&Wge(r.prototype,a),l&&Wge(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(i.Component);nve(f,"displayName",t),nve(f,"defaultProps",tve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),nve(f,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,o=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=fve(e);return tve(tve(tve({},h),{},{updateId:0},p(tve(tve({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||o!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!aee(c,t.prevMargin)){var f=fve(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=tve(tve({},dve(t,r,s)),{},{updateId:t.updateId+1}),v=tve(tve(tve({},f),m),g);return tve(tve(tve({},v),p(tve({props:e},v),t)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!Iee(i,t.prevChildren)){var y,b,A,x,w=Cee(i,Ehe),C=w&&null!==(y=null===(b=w.props)||void 0===b?void 0:b.startIndex)&&void 0!==y?y:u,E=w&&null!==(A=null===(x=w.props)||void 0===x?void 0:x.endIndex)&&void 0!==A?A:d,S=C!==u||E!==d,_=!eee()(r)&&!S?t.updateId:t.updateId+1;return tve(tve({updateId:_},p(tve(tve({props:e},t),{},{updateId:_,dataStartIndex:C,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:C,dataEndIndex:E})}return null})),nve(f,"renderActiveDot",(function(e,t,n){var r;return r=(0,i.isValidElement)(e)?(0,i.cloneElement)(e,t):nee()(e)?e(t):i.createElement(nre,t),i.createElement(Jee,{className:"recharts-active-dot",key:n},r)}));var m=(0,i.forwardRef)((function(e,t){return i.createElement(f,Vge({},e,{ref:t}))}));return m.displayName=f.displayName,m}({chartName:"BarChart",GraphicalChild:xfe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Jve},{axisType:"yAxis",AxisComp:cye}],formatAxisMap:function(e,t,n,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(t),d={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Cee(c,xfe);return u.reduce((function(a,s){var c,u,p,f,m,g=t[s],v=g.orientation,y=g.domain,b=g.padding,A=void 0===b?{}:b,x=g.mirror,w=g.reversed,C="".concat(v).concat(x?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var E=y[1]-y[0],S=1/0,_=g.categoricalDomain.sort();if(_.forEach((function(e,t){t>0&&(S=Math.min((e||0)-(_[t-1]||0),S))})),Number.isFinite(S)){var M=S/E,I="vertical"===g.layout?n.height:n.width;if("gap"===g.padding&&(c=M*I/2),"no-gap"===g.padding){var T=$7(e.barCategoryGap,M*I),R=M*I/2;c=R-T-(R-T)/I*T}}}u="xAxis"===i?[n.left+(A.left||0)+(c||0),n.left+n.width-(A.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(c||0),n.top+n.height-(A.bottom||0)-(c||0)]:g.range,w&&(u=[u[1],u[0]]);var k=function(e,t,n){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:Kie(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:Uae(),realScaleType:"linear"}:"category"===o&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:Jie(),realScaleType:"point"}:"category"===o?{scale:Kie(),realScaleType:"band"}:{scale:Uae(),realScaleType:"linear"};if(L7()(i)){var l="scale".concat(Hte()(i));return{scale:(r[l]||Jie)(),realScaleType:r[l]?l:"point"}}return nee()(i)?{scale:i}:{scale:Jie(),realScaleType:"point"}}(g,o,h),P=k.scale,B=k.realScaleType;P.domain(y).range(u),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Kde,o=Math.max(r[0],r[1])+Kde,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(P);var O=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var c=pde(l,i,a);return e.domain([Lue()(c),Bue()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:fde(u,i,a)}}return null}(P,Sfe(Sfe({},g),{},{realScaleType:B}));"xAxis"===i?(m="top"===v&&!x||"bottom"===v&&x,p=n.left,f=d[C]-m*g.height):"yAxis"===i&&(m="left"===v&&!x||"right"===v&&x,p=d[C]-m*g.width,f=n.top);var L=Sfe(Sfe(Sfe({},g),O),{},{realScaleType:B,x:p,y:f,scale:P,width:"xAxis"===i?n.width:g.width,height:"yAxis"===i?n.height:g.height});return L.bandSize=ihe(L,O),g.hide||"xAxis"!==i?g.hide||(d[C]+=(m?-1:1)*L.width):d[C]+=(m?-1:1)*L.height,Sfe(Sfe({},a),{},_fe({},s,L))}),{})}}),dye=["x1","y1","x2","y2","key"],hye=["offset"];function pye(e){return pye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pye(e)}function fye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fye(Object(n),!0).forEach((function(t){gye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gye(e,t,n){return t=function(e){var t=function(e,t){if("object"!=pye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pye(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vye(){return vye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vye.apply(this,arguments)}function yye(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bye=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return i.createElement("rect",{x:r,y:o,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Aye(e,t){var n;if(i.isValidElement(e))n=i.cloneElement(e,t);else if(nee()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,s=t.y2,l=t.key,c=yye(t,dye),u=Mee(c,!1),d=(u.offset,yye(u,hye));n=i.createElement("line",vye({},d,{x1:r,y1:o,x2:a,y2:s,fill:"none",key:l}))}return n}function xye(e){var t=e.x,n=e.width,r=e.horizontal,o=void 0===r||r,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=mye(mye({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return Aye(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function wye(e){var t=e.y,n=e.height,r=e.vertical,o=void 0===r||r,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map((function(r,i){var a=mye(mye({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return Aye(o,a)}));return i.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Cye(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?o+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return i.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Eye(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,o=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?a+l-e:d[t+1]-e;if(n<=0)return null;var u=t%r.length;return i.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:r[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return i.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Sye=function(e,t){var n=e.xAxis,r=e.width,i=e.height,o=e.offset;return Wde(Sve(mye(mye(mye({},zve.defaultProps),n),{},{ticks:qde(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},_ye=function(e,t){var n=e.yAxis,r=e.width,i=e.height,o=e.offset;return Wde(Sve(mye(mye(mye({},zve.defaultProps),n),{},{ticks:qde(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Mye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Iye(e){var t,n,r,o,a,s,l=ome(),c=ame(),u=(0,i.useContext)(Jfe),d=mye(mye({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:Mye.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:Mye.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:Mye.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:Mye.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:Mye.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:Mye.verticalFill,x:G7(e.x)?e.x:u.left,y:G7(e.y)?e.y:u.top,width:G7(e.width)?e.width:u.width,height:G7(e.height)?e.height:u.height}),h=d.x,p=d.y,f=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=function(){var e=(0,i.useContext)(Xfe);return X7(e)}(),A=function(){var e=(0,i.useContext)(Kfe);return Wfe()(e,(function(e){return Yhe()(e.domain,Number.isFinite)}))||X7(e)}();if(!G7(f)||f<=0||!G7(m)||m<=0||!G7(h)||h!==+h||!G7(p)||p!==+p)return null;var x=d.verticalCoordinatesGenerator||Sye,w=d.horizontalCoordinatesGenerator||_ye,C=d.horizontalPoints,E=d.verticalPoints;if((!C||!C.length)&&nee()(w)){var S=v&&v.length,_=w({yAxis:A?mye(mye({},A),{},{ticks:S?v:A.ticks}):void 0,width:l,height:c,offset:u},!!S||g);J7(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pye(_),"]")),Array.isArray(_)&&(C=_)}if((!E||!E.length)&&nee()(x)){var M=y&&y.length,I=x({xAxis:b?mye(mye({},b),{},{ticks:M?y:b.ticks}):void 0,width:l,height:c,offset:u},!!M||g);J7(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pye(I),"]")),Array.isArray(I)&&(E=I)}return i.createElement("g",{className:"recharts-cartesian-grid"},i.createElement(bye,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),i.createElement(xye,vye({},d,{offset:u,horizontalPoints:C,xAxis:b,yAxis:A})),i.createElement(wye,vye({},d,{offset:u,verticalPoints:E,xAxis:b,yAxis:A})),i.createElement(Cye,vye({},d,{horizontalPoints:C})),i.createElement(Eye,vye({},d,{verticalPoints:E})))}Iye.displayName="CartesianGrid";const Tye=e=>{let{data:t}=e;if(!t||0===Object.keys(t).length)return(0,Ty.jsx)(Tk,{children:"No production data available."});const n=Object.keys(t).map((e=>({name:e,Actual:Number(t[e].actual)||0,Target:Number(t[e].target)||0}))).map((e=>{const t=e.Actual,n=e.Target,r=t/n*100,i=Math.min(r,100),o=r>100?0:100-i,a=r>100?"#084B3B":"#0bc260";return{name:e.name,Target:o,Actual:i,RealActualPPM:t,RealTargetPPM:n,actualColor:a}})).filter((e=>e.RealTargetPPM>0));return(0,Ty.jsxs)(pk,{sx:{border:"2px solid #ddd",borderRadius:"8px",padding:"8px",backgroundColor:"#1E1E1E",width:"100%"},children:[(0,Ty.jsxs)(Tk,{variant:"h3",sx:{textAlign:"center",width:"100%"},children:["Actual vs. Target Production ",(0,Ty.jsx)("br",{})," (Parts Per Minute)"]}),(0,Ty.jsx)(Fee,{width:"100%",height:2500,children:(0,Ty.jsxs)(uye,{layout:"vertical",data:n,width:100,margin:{top:10,right:100,left:-8,bottom:5},children:[(0,Ty.jsx)(Iye,{strokeDasharray:"3 3"}),(0,Ty.jsx)(Jve,{type:"number",domain:[0,100],ticks:[0,20,40,60,80,100],tickFormatter:e=>`${e}%`}),(0,Ty.jsx)(cye,{dataKey:"name",type:"category",width:250,orientation:"left",height:18*n.length,tick:{fontSize:14,fill:"#FFFFFF"},interval:0}),(0,Ty.jsx)(Ute,{content:e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e=n[0].payload,t=e.RealActualPPM||0,i=e.RealTargetPPM||0;return(0,Ty.jsxs)("div",{style:{backgroundColor:"#FFFFFF",padding:"10px",border:"1px solid #ccc"},children:[(0,Ty.jsxs)("strong",{style:{color:"#000000"},children:["Part: ",r]}),(0,Ty.jsxs)("p",{style:{color:t>i?"#084B3B":"#0bc260"},children:["Actual: ",t.toFixed(1)," PPM"]}),(0,Ty.jsxs)("p",{style:{color:"#555555"},children:["Target: ",i.toFixed(1)," PPM"]})]})}return null}}),(0,Ty.jsx)(ere,{iconSize:10,wrapperStyle:{display:"flex",justifyContent:"center",width:"100%"},payload:[{value:"Actual",type:"rect",color:"#0bc260"},{value:"Target",type:"rect",color:"#ddd"},{value:"Met/Exceeded Target",type:"rect",color:"#084B3B"}]}),(0,Ty.jsx)(xfe,{dataKey:"Actual",barSize:18,stackId:"production",animationDuration:1200,animationEasing:"ease-out",children:n.map(((e,t)=>(0,Ty.jsx)(Jhe,{fill:e.actualColor},`cell-${t}`)))}),(0,Ty.jsx)(xfe,{dataKey:"Target",fill:"#ddd",barSize:18,stackId:"production",animationDuration:1200,animationEasing:"ease-out"}),(0,Ty.jsx)(xfe,{dataKey:"RealActualPPM",fill:"transparent",legendType:"none",hide:!0}),(0,Ty.jsx)(xfe,{dataKey:"RealTargetPPM",fill:"transparent",legendType:"none",hide:!0})]})})]})},Rye=e=>{let{data:t}=e;if(!t||0===Object.keys(t).length)return(0,Ty.jsx)(Tk,{children:"No machine data available."});const n=Object.keys(t).map((e=>({name:e,Actual:Number(t[e].actual)||0,Target:Number(t[e].target)||0}))).map((e=>{const t=e.Actual,n=e.Target,r=0===n?0:t/n*100,i=Math.min(r,100),o=r>100?0:100-i,a=r>100?"#084B3B":"#0bc260";return{name:e.name,Target:o,Actual:i,RealActualMachines:t,RealTargetMachines:n,actualColor:a}}));return(0,Ty.jsxs)(pk,{sx:{border:"2px solid #ddd",borderRadius:"8px",padding:"8px",backgroundColor:"#1E1E1E",width:"100%"},children:[(0,Ty.jsxs)(Tk,{variant:"h3",sx:{textAlign:"center",width:"100%"},children:["Actual vs. Target Machines ",(0,Ty.jsx)("br",{})," (Count)"]}),(0,Ty.jsxs)(Fee,{width:"100%",height:500,children:["  ",(0,Ty.jsxs)(uye,{layout:"vertical",barGap:0,data:n,margin:{top:10,right:60,left:5,bottom:5},padding:{top:10,right:5,bottom:5,left:5},children:[(0,Ty.jsx)(Iye,{strokeDasharray:"3 3"}),(0,Ty.jsx)(Jve,{type:"number",tickFormatter:e=>`${e}%`}),(0,Ty.jsx)(cye,{dataKey:"name",type:"category",width:200,height:18*n.length,tick:{fontSize:16,fill:"#FFFFFF"},interval:0}),(0,Ty.jsx)(Ute,{content:e=>{let{active:t,payload:n,label:r}=e;if(t&&n&&n.length){const e=n[0].payload;return(0,Ty.jsxs)("div",{style:{backgroundColor:"#FFFFFF",padding:"10px",border:"1px solid #ccc"},children:[(0,Ty.jsxs)("strong",{style:{color:"#000000"},children:["Machine: ",r]}),(0,Ty.jsxs)("p",{style:{color:e.RealActualMachines>e.RealTargetMachines?"#084B3B":"#0bc260"},children:["Actual: ",e.RealActualMachines.toFixed(1)]}),(0,Ty.jsxs)("p",{style:{color:"#555555"},children:["Target: ",e.RealTargetMachines.toFixed(1)]})]})}return null}}),(0,Ty.jsx)(xfe,{dataKey:"Actual",barSize:18,stackId:"machines",animationDuration:1200,animationEasing:"ease-out",children:n.map(((e,t)=>(0,Ty.jsx)(Jhe,{fill:e.actualColor},`cell-${t}`)))}),(0,Ty.jsx)(xfe,{dataKey:"Target",fill:"#ddd",barSize:18,stackId:"machines",animationDuration:1200,animationEasing:"ease-out"}),(0,Ty.jsx)(ere,{verticalAlign:"bottom",align:"center",wrapperStyle:{display:"flex",justifyContent:"center",width:"90%"},payload:[{value:"Actual",type:"rect",color:"#0bc260"},{value:"Target",type:"rect",color:"#ddd"},{value:"Met / Exceeded Target",type:"rect",color:"#084B3B"}]})]})]})]})},kye=()=>{const e=Ey(),[t,r]=(0,i.useState)({nodes:[],links:[]}),[o,a]=(0,i.useState)(!1),{showAlert:s}=qA(),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(0),[h,p]=(0,i.useState)(0),[f,m]=(0,i.useState)([]),[g,v]=(0,i.useState)([]),y={Miner:n(8929),Smelter:n(6047),Constructor:n(1971),Assembler:n(9133),Manufacturer:n(916),ConveyorMK6:n(6265),Blender:n(3671),PipelineMK1:n(1437),PipelineMK2:n(3878),Converter:n(8931),Refinery:n(4247),Foundry:n(9148),ConveyorMK2:n(4429),ConveyorMK3:n(3300),ConveyorMK4:n(1592),ConveyorMK5:n(8082),ConveyorMK6:n(6265),ConveyorLiftMK1:n(6253),ConveyorLiftMK2:n(9217),ConveyorLiftMK3:n(8088),ConveyorLiftMK4:n(727),ConveyorLiftMK5:n(1502),ConveyorLiftMK6:n(5509),Merger:n(4299),Splitter:n(7140),SmartSplitter:n(1656),Storage:n(3764),MinerMk2:n(3413),MinerMk3:n(524),OilExtractor:n(8094),Packager:n(2141),ParticleAccelerator:n(29),SpaceElevator:n(7108),PipelineJunction:n(5701),AWESOME_Sink:n(1390),Nuclear_Power_Plant:n(3153),Quantum_Encoder:n(5753),Water_Extractor:n(1575),Unknown:n(690)};(0,i.useMemo)((()=>y),[]);return(0,i.useEffect)((()=>{if(console.log("\ud83d\udd0d Loading"+o),o)return;(async()=>{try{console.log("\ud83d\udd0d Fetching stored connection data..."),a(!0);const e=await dO.get(UC.user_connection_data),{nodes:t,links:n}=e.data;(t.length>0||n.length>0)&&r({nodes:t,links:n}),a(!1)}catch(e){console.error("\u274c Error fetching stored connection data:",e),s("error","Failed to load connection data!"),a(!1)}})()}),[]),(0,Ty.jsx)(pk,{children:o?(0,Ty.jsx)(pk,{sx:{textAlign:"center",padding:2},children:(0,Ty.jsx)(xA,{})}):(0,Ty.jsx)(pk,{sx:e.trackerPageStyles.reportBox,children:(0,Ty.jsx)(mq,{density:"compact",rows:t.links.map(((e,t)=>({id:`link-${t}`,type:e.connection_type,source_component:e.source_component,source_level:e.source_level,source_reference_id:e.source_reference_id,target_component:e.target_component,target_level:e.target_level,target_reference_id:e.target_reference_id,direction:e.direction||"Unknown",info:e.label,produced_item:e.produced_item,conveyor_speed:e.conveyor_speed}))),columns:[{field:"id",headerName:"ID",width:150,sortable:!1},{field:"type",headerName:"Type",width:150,sortable:!1},{field:"source_component",headerName:"Source",width:180,sortable:!1},{field:"source_level",headerName:"Source Level",width:120,sortable:!1},{field:"source_reference_id",headerName:"Source ID",width:150,sortable:!1},{field:"target_component",headerName:"Target",width:180,sortable:!1},{field:"target_level",headerName:"Target Level",width:120,sortable:!1},{field:"target_reference_id",headerName:"Target ID",width:150,sortable:!1},{field:"direction",headerName:"Direction",width:120,sortable:!1},{field:"info",headerName:"Info",flex:1,sortable:!1},{field:"produced_item",headerName:"Produced Item",width:200,sortable:!1},{field:"conveyor_speed",headerName:"Conveyor Speed",width:200,sortable:!1},{field:"info",headerName:"Details",flex:1,sortable:!1}]})})})},Pye=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),o=Ey();(0,i.useEffect)((()=>{(async()=>{try{const e=await dO.get(UC.user_pipe_data);t(e.data.links||[])}catch(e){console.error("Error fetching pipe data:",e)}finally{r(!1)}})()}),[]);return(0,Ty.jsxs)(pk,{sx:o.trackerPageStyles.reportBox,children:[(0,Ty.jsx)(Tk,{variant:"h5",gutterBottom:!0,children:"Pipe Network Data"}),(0,Ty.jsx)(mq,{density:"compact",rows:e.map(((e,t)=>({...e,id:`link-${t}`}))),columns:[{field:"id",headerName:"ID",flex:.5},{field:"pipe_network",headerName:"Pipe Network",flex:1},{field:"source_component",headerName:"Source",flex:1},{field:"source_level",headerName:"Source Level",flex:1},{field:"source_reference_id",headerName:"Source ID",flex:1},{field:"target_component",headerName:"Target",flex:1},{field:"target_level",headerName:"Target Level",flex:1},{field:"target_reference_id",headerName:"Target ID",flex:1},{field:"produced_item",headerName:"Fluid Type",flex:1},{field:"pipe_flow_rate",headerName:"Flow Rate (m\xb3/min)",flex:1,type:"number"},{field:"created_at",headerName:"Created At",flex:1}],loading:n})]})};function Bye(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Oye(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function Lye(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Dye(e,t,n,r){if("function"===typeof t){const[i,o]=Lye(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=Lye(r);t=t(void 0!==n?n:e.custom,i,o)}return t}function Nye(e,t,n){const r=e.getProps();return Dye(r,t,void 0!==n?n:r.custom,e)}function Fye(e){let t;return()=>(void 0===t&&(t=e()),t)}const jye=Fye((()=>void 0!==window.ScrollTimeline));class Uye{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>jye()&&n.attachTimeline?n.attachTimeline(e):"function"===typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zye extends Uye{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Hye(e,t){return e?e[t]||e.default||e:void 0}const Vye=2e4;function Gye(e){let t=0;let n=e.next(t);for(;!n.done&&t<Vye;)t+=50,n=e.next(t);return t>=Vye?1/0:t}function Qye(e){return"function"===typeof e}function Wye(e,t){e.timeline=t,e.onfinish=null}const qye=e=>Array.isArray(e)&&"number"===typeof e[0],$ye={linearEasing:void 0};function Xye(e,t){const n=Fye(e);return()=>{var e;return null!==(e=$ye[t])&&void 0!==e?e:n()}}const Kye=Xye((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(z_e){return!1}return!0}),"linearEasing"),Yye=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Jye=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(Yye(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Zye(e){return Boolean("function"===typeof e&&Kye()||!e||"string"===typeof e&&(e in tbe||Kye())||qye(e)||Array.isArray(e)&&e.every(Zye))}const ebe=e=>{let[t,n,r,i]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${i})`},tbe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ebe([0,.65,.55,1]),circOut:ebe([.55,0,1,.45]),backIn:ebe([.31,.01,.66,-.59]),backOut:ebe([.33,1.53,.69,.99])};function nbe(e,t){return e?"function"===typeof e&&Kye()?Jye(e,t):qye(e)?ebe(e):Array.isArray(e)?e.map((e=>nbe(e,t)||tbe.easeOut)):tbe[e]:void 0}const rbe={x:!1,y:!1};function ibe(){return rbe.x||rbe.y}function obe(e,t){const n=function(e,t,n){var r;if(e instanceof EventTarget)return[e];if("string"===typeof e){let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function abe(e){return!("touch"===e.pointerType||ibe())}function sbe(e,t){const n=`${t}PointerCapture`;if(e.target instanceof Element&&n in e.target&&void 0!==e.pointerId)try{e.target[n](e.pointerId)}catch(z_e){}}const lbe=(e,t)=>!!t&&(e===t||lbe(e,t.parentElement)),cbe=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary,ube=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const dbe=new WeakSet;function hbe(e){return t=>{"Enter"===t.key&&e(t)}}function pbe(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function fbe(e){return cbe(e)&&!ibe()}function mbe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=obe(e,n),a=e=>{const n=e.currentTarget;if(!n||!fbe(e)||dbe.has(n))return;dbe.add(n),sbe(e,"set");const r=t(n,e),o=(e,t)=>{n.removeEventListener("pointerup",a),n.removeEventListener("pointercancel",s),sbe(e,"release"),fbe(e)&&dbe.has(n)&&(dbe.delete(n),"function"===typeof r&&r(e,{success:t}))},a=e=>{const t=!!e.isTrusted&&(r=e,i=n instanceof Element?n.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},r.clientX<i.left||r.clientX>i.right||r.clientY<i.top||r.clientY>i.bottom);var r,i;o(e,!t&&(!(n instanceof Element)||lbe(n,e.target)))},s=e=>{o(e,!1)};n.addEventListener("pointerup",a,i),n.addEventListener("pointercancel",s,i),n.addEventListener("lostpointercapture",s,i)};return r.forEach((e=>{let t=!1;var r;(e=n.useGlobalTarget?window:e)instanceof HTMLElement&&(t=!0,r=e,ube.has(r.tagName)||-1!==r.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)),e.addEventListener("pointerdown",a,i),t&&e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=hbe((()=>{if(dbe.has(n))return;pbe(n,"down");const e=hbe((()=>{pbe(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>pbe(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,i)),i)})),o}const gbe=e=>1e3*e,vbe=e=>e/1e3,ybe=e=>e;const bbe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Abe=new Set(bbe),xbe=new Set(["width","height","top","left","right","bottom",...bbe]),wbe=e=>Array.isArray(e),Cbe=e=>wbe(e)?e[e.length-1]||0:e,Ebe=!1,Sbe=!1,_be=["read","resolveKeyframes","update","preRender","render","postRender"],Mbe={value:null,addProjectionMetrics:null};function Ibe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=_be.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,o=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,i?o=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&Mbe.value&&Mbe.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(e)))}};return u}(o,t?n:void 0),e)),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=a,p=()=>{const o=Sbe?i.timestamp:performance.now();n=!1,Sbe||(i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1)),i.timestamp=o,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(p))},f=_be.reduce(((t,o)=>{const s=a[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(p)),s.schedule(t,o,a)},t}),{});return{schedule:f,cancel:e=>{for(let t=0;t<_be.length;t++)a[_be[t]].cancel(e)},state:i,steps:a}}const{schedule:Tbe,cancel:Rbe,state:kbe,steps:Pbe}=Ibe("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:ybe,!0);let Bbe;function Obe(){Bbe=void 0}const Lbe={now:()=>(void 0===Bbe&&Lbe.set(kbe.isProcessing||Sbe?kbe.timestamp:performance.now()),Bbe),set:e=>{Bbe=e,queueMicrotask(Obe)}};function Dbe(e,t){-1===e.indexOf(t)&&e.push(t)}function Nbe(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Fbe{constructor(){this.subscriptions=[]}add(e){return Dbe(this.subscriptions,e),()=>Nbe(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jbe(e,t){return t?e*(1e3/t):0}const Ube={current:void 0};class zbe{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="12.4.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Lbe.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lbe.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fbe);const n=this.events[e].add(t);return"change"===e?()=>{n(),Tbe.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ube.current&&Ube.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Lbe.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return jbe(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hbe(e,t){return new zbe(e,t)}function Vbe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Hbe(n))}const Gbe=e=>Boolean(e&&e.getVelocity);function Qbe(e,t){const n=e.getValue("willChange");if(function(e){return Boolean(Gbe(e)&&e.add)}(n))return n.add(t)}const Wbe=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qbe="data-"+Wbe("framerAppearId");function $be(e){return e.props[qbe]}const Xbe=!1,Kbe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ybe(e,t,n,r){if(e===t&&n===r)return ybe;const i=t=>function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=Kbe(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Kbe(i(e),t,r)}const Jbe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zbe=e=>t=>1-e(1-t),eAe=Ybe(.33,1.53,.69,.99),tAe=Zbe(eAe),nAe=Jbe(tAe),rAe=e=>(e*=2)<1?.5*tAe(e):.5*(2-Math.pow(2,-10*(e-1))),iAe=e=>1-Math.sin(Math.acos(e)),oAe=Zbe(iAe),aAe=Jbe(iAe),sAe=e=>/^0[^.\s]+$/u.test(e);function lAe(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||sAe(e))}const cAe=(e,t,n)=>n>t?t:n<e?e:n,uAe={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},dAe={...uAe,transform:e=>cAe(0,1,e)},hAe={...uAe,default:1},pAe=e=>Math.round(1e5*e)/1e5,fAe=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const mAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gAe=(e,t)=>n=>Boolean("string"===typeof n&&mAe.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),vAe=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,a,s]=r.match(fAe);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},yAe={...uAe,transform:e=>Math.round((e=>cAe(0,255,e))(e))},bAe={test:gAe("rgb","red"),parse:vAe("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+yAe.transform(t)+", "+yAe.transform(n)+", "+yAe.transform(r)+", "+pAe(dAe.transform(i))+")"}};const AAe={test:gAe("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:bAe.transform},xAe=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),wAe=xAe("deg"),CAe=xAe("%"),EAe=xAe("px"),SAe=xAe("vh"),_Ae=xAe("vw"),MAe={...CAe,parse:e=>CAe.parse(e)/100,transform:e=>CAe.transform(100*e)},IAe={test:gAe("hsl","hue"),parse:vAe("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+CAe.transform(pAe(n))+", "+CAe.transform(pAe(r))+", "+pAe(dAe.transform(i))+")"}},TAe={test:e=>bAe.test(e)||AAe.test(e)||IAe.test(e),parse:e=>bAe.test(e)?bAe.parse(e):IAe.test(e)?IAe.parse(e):AAe.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?bAe.transform(e):IAe.transform(e)},RAe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const kAe="number",PAe="color",BAe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function OAe(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(BAe,(e=>(TAe.test(e)?(r.color.push(o),i.push(PAe),n.push(TAe.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(kAe),n.push(parseFloat(e))),++o,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:i}}function LAe(e){return OAe(e).values}function DAe(e){const{split:t,types:n}=OAe(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===kAe?pAe(e[o]):t===PAe?TAe.transform(e[o]):e[o]}return i}}const NAe=e=>"number"===typeof e?0:e;const FAe={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(fAe))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(RAe))||void 0===n?void 0:n.length)||0)>0},parse:LAe,createTransformer:DAe,getAnimatableNone:function(e){const t=LAe(e);return DAe(e)(t.map(NAe))}},jAe=new Set(["brightness","contrast","saturate","opacity"]);function UAe(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(fAe)||[];if(!r)return e;const i=n.replace(r,"");let o=jAe.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const zAe=/\b([a-z-]*)\(.*?\)/gu,HAe={...FAe,getAnimatableNone:e=>{const t=e.match(zAe);return t?t.map(UAe).join(" "):e}},VAe={borderWidth:EAe,borderTopWidth:EAe,borderRightWidth:EAe,borderBottomWidth:EAe,borderLeftWidth:EAe,borderRadius:EAe,radius:EAe,borderTopLeftRadius:EAe,borderTopRightRadius:EAe,borderBottomRightRadius:EAe,borderBottomLeftRadius:EAe,width:EAe,maxWidth:EAe,height:EAe,maxHeight:EAe,top:EAe,right:EAe,bottom:EAe,left:EAe,padding:EAe,paddingTop:EAe,paddingRight:EAe,paddingBottom:EAe,paddingLeft:EAe,margin:EAe,marginTop:EAe,marginRight:EAe,marginBottom:EAe,marginLeft:EAe,backgroundPositionX:EAe,backgroundPositionY:EAe},GAe={rotate:wAe,rotateX:wAe,rotateY:wAe,rotateZ:wAe,scale:hAe,scaleX:hAe,scaleY:hAe,scaleZ:hAe,skew:wAe,skewX:wAe,skewY:wAe,distance:EAe,translateX:EAe,translateY:EAe,translateZ:EAe,x:EAe,y:EAe,z:EAe,perspective:EAe,transformPerspective:EAe,opacity:dAe,originX:MAe,originY:MAe,originZ:EAe},QAe={...uAe,transform:Math.round},WAe={...VAe,...GAe,zIndex:QAe,size:EAe,fillOpacity:dAe,strokeOpacity:dAe,numOctaves:QAe},qAe={...WAe,color:TAe,backgroundColor:TAe,outlineColor:TAe,fill:TAe,stroke:TAe,borderColor:TAe,borderTopColor:TAe,borderRightColor:TAe,borderBottomColor:TAe,borderLeftColor:TAe,filter:HAe,WebkitFilter:HAe},$Ae=e=>qAe[e];function XAe(e,t){let n=$Ae(e);return n!==HAe&&(n=FAe),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const KAe=new Set(["auto","none","0"]);const YAe=e=>e===uAe||e===EAe,JAe=(e,t)=>parseFloat(e.split(", ")[t]),ZAe=(e,t)=>(n,r)=>{let{transform:i}=r;if("none"===i||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return JAe(o[1],t);{const t=i.match(/^matrix\((.+)\)$/u);return t?JAe(t[1],e):0}},exe=new Set(["x","y","z"]),txe=bbe.filter((e=>!exe.has(e)));const nxe={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:ZAe(4,13),y:ZAe(5,14)};nxe.translateX=nxe.x,nxe.translateY=nxe.y;const rxe=new Set;let ixe=!1,oxe=!1;function axe(){if(oxe){const e=Array.from(rxe).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return txe.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var i;null===(i=e.getValue(n))||void 0===i||i.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}oxe=!1,ixe=!1,rxe.forEach((e=>e.complete())),rxe.clear()}function sxe(){rxe.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(oxe=!0)}))}class lxe{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rxe.add(this),ixe||(ixe=!0,Tbe.read(sxe),Tbe.resolveKeyframes(axe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rxe.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rxe.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let cxe=ybe,uxe=ybe;const dxe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),hxe=e=>t=>"string"===typeof t&&t.startsWith(e),pxe=hxe("--"),fxe=hxe("var(--"),mxe=e=>!!fxe(e)&&gxe.test(e.split("/*")[0].trim()),gxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vxe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yxe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;uxe(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=vxe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${null!==n&&void 0!==n?n:r}`,i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return dxe(e)?parseFloat(e):e}return mxe(i)?yxe(i,t,n+1):i}const bxe=e=>t=>t.test(e),Axe=[uAe,EAe,CAe,wAe,_Ae,SAe,{test:e=>"auto"===e,parse:e=>e}],xxe=e=>Axe.find(bxe(e));class wxe extends lxe{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),mxe(n))){const r=yxe(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!xbe.has(n)||2!==e.length)return;const[r,i]=e,o=xxe(r),a=xxe(i);if(o!==a)if(YAe(o)&&YAe(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)lAe(e[r])&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!KAe.has(t)&&OAe(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=XAe(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nxe[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=nxe[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const Cxe=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!FAe.test(e)&&"0"!==e||e.startsWith("url(")));function Exe(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],a=Cxe(i,t),s=Cxe(o,t);return cxe(a===s,`You are trying to animate ${t} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Qye(n))&&r)}const Sxe=e=>null!==e;function _xe(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(Sxe),a=r&&"loop"!==i&&r%2===1?0:o.length-1;return a&&void 0!==n?n:o[a]}class Mxe{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",...s}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lbe.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:a,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(sxe(),axe()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Lbe.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:i,delay:o,onComplete:a,onUpdate:s,isGenerator:l}=this.options;if(!l&&!Exe(e,n,r,i)){if(Xbe||!o)return s&&s(_xe(e,this.options,t)),a&&a(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Ixe={layout:0,mainThread:0,waapi:0},Txe=(e,t,n)=>e+(t-e)*n;function Rxe(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kxe(e,t){return n=>n>0?t:e}const Pxe=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Bxe=[AAe,bAe,IAe];function Oxe(e){const t=(e=>Bxe.find((t=>t.test(e))))(e);if(cxe(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===IAe&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=Rxe(i,e,t+1/3),a=Rxe(i,e,t),s=Rxe(i,e,t-1/3)}else o=a=s=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:i}}(n)),n}const Lxe=(e,t)=>{const n=Oxe(e),r=Oxe(t);if(!n||!r)return kxe(e,t);const i={...n};return e=>(i.red=Pxe(n.red,r.red,e),i.green=Pxe(n.green,r.green,e),i.blue=Pxe(n.blue,r.blue,e),i.alpha=Txe(n.alpha,r.alpha,e),bAe.transform(i))},Dxe=(e,t)=>n=>t(e(n)),Nxe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Dxe)},Fxe=new Set(["none","hidden"]);function jxe(e,t){return n=>Txe(e,t,n)}function Uxe(e){return"number"===typeof e?jxe:"string"===typeof e?mxe(e)?kxe:TAe.test(e)?Lxe:Vxe:Array.isArray(e)?zxe:"object"===typeof e?TAe.test(e)?Lxe:Hxe:kxe}function zxe(e,t){const n=[...e],r=n.length,i=e.map(((e,n)=>Uxe(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Hxe(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Uxe(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Vxe=(e,t)=>{const n=FAe.createTransformer(t),r=OAe(e),i=OAe(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Fxe.has(e)&&!i.values.length||Fxe.has(t)&&!r.values.length?function(e,t){return Fxe.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Nxe(zxe(function(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],s=e.indexes[a][i[a]],l=null!==(n=e.values[s])&&void 0!==n?n:0;r[o]=l,i[a]++}return r}(r,i),i.values),n):(cxe(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),kxe(e,t))};function Gxe(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Txe(e,t,n);return Uxe(e)(e,t)}function Qxe(e,t,n){const r=Math.max(t-5,0);return jbe(n-e(r),t-r)}const Wxe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qxe=.001;function $xe(e){let t,n,{duration:r=Wxe.duration,bounce:i=Wxe.bounce,velocity:o=Wxe.velocity,mass:a=Wxe.mass}=e;cxe(r<=gbe(Wxe.maxDuration),"Spring duration must be 10 seconds or less");let s=1-i;s=cAe(Wxe.minDamping,Wxe.maxDamping,s),r=cAe(Wxe.minDuration,Wxe.maxDuration,vbe(r)),s<1?(t=e=>{const t=e*s,n=t*r,i=t-o,a=Kxe(e,s),l=Math.exp(-n);return qxe-i/a*l},n=e=>{const n=e*s*r,i=n*o+o,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Kxe(Math.pow(e,2),s);return(-t(e)+qxe>0?-1:1)*((i-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<Xxe;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=gbe(r),isNaN(l))return{stiffness:Wxe.stiffness,damping:Wxe.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const Xxe=12;function Kxe(e,t){return e*Math.sqrt(1-t*t)}const Yxe=["duration","bounce"],Jxe=["stiffness","damping","mass"];function Zxe(e,t){return t.some((t=>void 0!==e[t]))}function ewe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wxe.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wxe.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:Wxe.velocity,stiffness:Wxe.stiffness,damping:Wxe.damping,mass:Wxe.mass,isResolvedFromDuration:!1,...e};if(!Zxe(e,Jxe)&&Zxe(e,Yxe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*cAe(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wxe.mass,stiffness:i,damping:o}}else{const n=$xe(e);t={...t,...n,mass:Wxe.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-vbe(n.velocity||0)}),f=h||0,m=c/(2*Math.sqrt(l*u)),g=a-o,v=vbe(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?Wxe.restSpeed.granular:Wxe.restSpeed.default),i||(i=y?Wxe.restDelta.granular:Wxe.restDelta.default),m<1){const e=Kxe(v,m);b=t=>{const n=Math.exp(-m*v*t);return a-n*((f+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-v*e)*(g+(f+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return a-n*((f+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const A={calculatedDuration:p&&d||null,next:e=>{const t=b(e);if(p)s.done=e>=d;else{let n=0;m<1&&(n=0===e?gbe(f):Qxe(b,e,t));const o=Math.abs(n)<=r,l=Math.abs(a-t)<=i;s.done=o&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(Gye(A),Vye),t=Jye((t=>A.next(e*t).value),e,30);return e+"ms "+t}};return A}function twe(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===s?g:s(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),A=e=>{const t=y(e),n=b(e);p.done=Math.abs(t)<=u,p.value=p.done?v:n};let x,w;const C=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(p.value)&&(x=e,w=ewe({keyframes:[p.value,f(p.value)],velocity:Qxe(b,e,p.value),damping:o,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==x||(t=!0,A(e),C(e)),void 0!==x&&e>=x?w.next(e-x):(!t&&A(e),p)}}}const nwe=Ybe(.42,0,1,1),rwe=Ybe(0,0,.58,1),iwe=Ybe(.42,0,.58,1),owe={linear:ybe,easeIn:nwe,easeInOut:iwe,easeOut:rwe,circIn:iAe,circInOut:aAe,circOut:oAe,backIn:tAe,backInOut:nAe,backOut:eAe,anticipate:rAe},awe=e=>{if(qye(e)){uxe(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return Ybe(t,n,r,i)}return"string"===typeof e?(uxe(void 0!==owe[e],`Invalid easing type '${e}'`),owe[e]):e};function swe(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(uxe(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||Gxe,o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||ybe:t;n=Nxe(e,n)}r.push(n)}return r}(t,r,i),l=s.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=Yye(e[r],e[r+1],n);return s[r](i)};return n?t=>c(cAe(e[0],e[o-1],t)):c}function lwe(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yye(0,t,r);e.push(Txe(n,1,i))}}(t,e.length-1),t}function cwe(e,t){return e.map((()=>t||iwe)).splice(0,e.length-1)}function uwe(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(awe):awe(i),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:lwe(n),t),l=swe(s,n,{ease:Array.isArray(o)?o:cwe(n,o)});return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const dwe=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Tbe.update(t,!0),stop:()=>Rbe(t),now:()=>kbe.isProcessing?kbe.timestamp:Lbe.now()}},hwe={decay:twe,inertia:twe,tween:uwe,keyframes:uwe,spring:ewe},pwe=e=>e/100;class fwe extends Mxe{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:i}=this.options,o=(null===r||void 0===r?void 0:r.KeyframeResolver)||lxe;this.resolver=new o(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=this.options,a=Qye(t)?t:hwe[t]||uwe;let s,l;a!==uwe&&"number"!==typeof e[0]&&(s=Nxe(pwe,Gxe(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});"mirror"===i&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),null===c.calculatedDuration&&(c.calculatedDuration=Gye(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;Ixe.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return i.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,b=i;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/u)):"mirror"===p&&(b=o)),y=cAe(0,1,n)*u}const A=v?{done:!1,value:s[0]}:b.next(y);a&&(A.value=a(A.value));let{done:x}=A;v||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return w&&void 0!==r&&(A.value=_xe(s,this.options,r)),m&&m(A.value),w&&this.finish(),A}get duration(){const{resolved:e}=this;return e?vbe(e.calculatedDuration):0}get time(){return vbe(this.currentTime)}set time(e){e=gbe(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=vbe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=dwe,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),Ixe.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const mwe=new Set(["opacity","clipPath","filter","transform"]);const gwe=Fye((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const vwe={anticipate:rAe,backInOut:nAe,circInOut:aAe};class ywe extends Mxe{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:i}=this.options;this.resolver=new wxe(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:r,ease:i,type:o,motionValue:a,name:s,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;var c;if("string"===typeof i&&Kye()&&i in vwe&&(i=vwe[i]),Qye((c=this.options).type)||"spring"===c.type||!Zye(c.ease)){const{onComplete:t,onUpdate:a,motionValue:s,element:l,...c}=this.options,u=function(e,t){const n=new fwe({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<2e4;)r=n.sample(o),i.push(r.value),o+=10;return{times:void 0,keyframes:i,duration:o-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),n=u.duration,r=u.times,i=u.ease,o="keyframes"}const u=function(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:a="loop",ease:s="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=nbe(s,i);Array.isArray(u)&&(c.easing=u),Mbe.value&&Ixe.waapi++;const d=e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:"reverse"===a?"alternate":"normal"});return Mbe.value&&d.finished.finally((()=>{Ixe.waapi--})),d}(a.owner.current,s,e,{...this.options,duration:n,times:r,ease:i});return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(Wye(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;a.set(_xe(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:r,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return vbe(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return vbe(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=gbe(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return ybe;const{animation:n}=t;Wye(n,e)}else this.pendingTimeline=e;return ybe}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:i,ease:o,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:s,element:l,...c}=this.options,u=new fwe({...c,keyframes:n,duration:r,type:i,ease:o,times:a,isGenerator:!0}),d=gbe(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:l}=t.owner.getProps();return gwe()&&n&&mwe.has(n)&&!s&&!l&&!r&&"mirror"!==i&&0!==o&&"inertia"!==a}}const bwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Awe={type:"keyframes",duration:.8},xwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wwe=(e,t)=>{let{keyframes:n}=t;return n.length>2?Awe:Abe.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:bwe:xwe};const Cwe=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return a=>{const s=Hye(r,e)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=gbe(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:o?void 0:i};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(s)||(u={...u,...wwe(e,u)}),u.duration&&(u.duration=gbe(u.duration)),u.repeatDelay&&(u.repeatDelay=gbe(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(Xbe||Ebe)&&(d=!0,u.duration=0,u.delay=0),d&&!o&&void 0!==t.get()){const e=_xe(u.keyframes,s);if(void 0!==e)return Tbe.update((()=>{u.onUpdate(e),u.onComplete()})),new zye([])}return!o&&ywe.supports(u)?new ywe(u):new fwe(u)}};function Ewe(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function Swe(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o;let{transition:a=e.getDefaultTransition(),transitionEnd:s,...l}=t;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const t=e.getValue(d,null!==(o=e.latestValues[d])&&void 0!==o?o:null),r=l[d];if(void 0===r||u&&Ewe(u,d))continue;const i={delay:n,...Hye(a||{},d)};let s=!1;if(window.MotionHandoffAnimation){const t=$be(e);if(t){const e=window.MotionHandoffAnimation(t,d,Tbe);null!==e&&(i.startTime=e,s=!0)}}Qbe(e,d),t.start(Cwe(d,t,r,e.shouldReduceMotion&&xbe.has(d)?{type:!1}:i,e,s));const h=t.animation;h&&c.push(h)}return s&&Promise.all(c).then((()=>{Tbe.update((()=>{s&&function(e,t){const n=Nye(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const a in o)Vbe(e,a,Cbe(o[a]))}(e,s)}))})),c}function _we(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const i=Nye(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const a=i?()=>Promise.all(Swe(e,i,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,l=1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Mwe).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(_we(e,t,{...o,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,s,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then((()=>t()))}return Promise.all([a(),s(n.delay)])}function Mwe(e,t){return e.sortNodePosition(t)}function Iwe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Twe(e){return"string"===typeof e||Array.isArray(e)}const Rwe=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kwe=["initial",...Rwe],Pwe=kwe.length;function Bwe(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Bwe(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Pwe;n++){const r=kwe[n],i=e.props[r];(Twe(i)||!1===i)&&(t[r]=i)}return t}const Owe=[...Rwe].reverse(),Lwe=Rwe.length;function Dwe(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>_we(e,t,r)));n=Promise.all(i)}else if("string"===typeof t)n=_we(e,t,r);else{const i="function"===typeof t?Nye(e,t,r.custom):t;n=Promise.all(Swe(e,i,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Nwe(e){let t=Dwe(e),n=Uwe(),r=!0;const i=t=>(n,r)=>{var i;const o=Nye(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t,...r}=o;n={...n,...r,...t}}return n};function o(o){const{props:a}=e,s=Bwe(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Lwe;t++){const h=Owe[t],p=n[h],f=void 0!==a[h]?a[h]:s[h],m=Twe(f),g=h===o?p.isActive:null;!1===g&&(d=t);let v=f===s[h]&&f!==a[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...u},!p.isActive&&null===g||!f&&!p.prevProp||Oye(f)||"boolean"===typeof f)continue;const y=Fwe(p.prevProp,f);let b=y||h===o&&p.isActive&&!v&&m||t>d&&m,A=!1;const x=Array.isArray(f)?f:[f];let w=x.reduce(i(h),{});!1===g&&(w={});const{prevResolvedValues:C={}}=p,E={...C,...w},S=t=>{b=!0,c.has(t)&&(A=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=w[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=wbe(t)&&wbe(n)?!Iwe(t,n):t!==n,r?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=w,p.isActive&&(u={...u,...w}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||A)&&l.push(...x.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=Nye(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=o(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Uwe(),r=!0}}}function Fwe(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Iwe(t,e)}function jwe(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uwe(){return{animate:jwe(!0),whileInView:jwe(),whileHover:jwe(),whileTap:jwe(),whileDrag:jwe(),whileFocus:jwe(),exit:jwe()}}class zwe{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Hwe=0;const Vwe={animation:{Feature:class extends zwe{constructor(e){super(e),e.animationState||(e.animationState=Nwe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Oye(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends zwe{constructor(){super(...arguments),this.id=Hwe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Gwe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Qwe(e){return{point:{x:e.pageX,y:e.pageY}}}function Wwe(e,t,n,r){return Gwe(e,t,(e=>t=>cbe(t)&&e(t,Qwe(t)))(n),r)}function qwe(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}function $we(e){return e.max-e.min}function Xwe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Txe(t.min,t.max,e.origin),e.scale=$we(n)/$we(t),e.translate=Txe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Kwe(e,t,n,r){Xwe(e.x,t.x,n.x,r?r.originX:void 0),Xwe(e.y,t.y,n.y,r?r.originY:void 0)}function Ywe(e,t,n){e.min=n.min+t.min,e.max=e.min+$we(t)}function Jwe(e,t,n){e.min=t.min-n.min,e.max=e.min+$we(t)}function Zwe(e,t,n){Jwe(e.x,t.x,n.x),Jwe(e.y,t.y,n.y)}const eCe=()=>({x:{min:0,max:0},y:{min:0,max:0}});function tCe(e){return[e("x"),e("y")]}function nCe(e){return void 0===e||1===e}function rCe(e){let{scale:t,scaleX:n,scaleY:r}=e;return!nCe(t)||!nCe(n)||!nCe(r)}function iCe(e){return rCe(e)||oCe(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oCe(e){return aCe(e.x)||aCe(e.y)}function aCe(e){return e&&"0%"!==e}function sCe(e,t,n){return n+t*(e-n)}function lCe(e,t,n,r,i){return void 0!==i&&(e=sCe(e,i,r)),sCe(e,n,r)+t}function cCe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=lCe(e.min,t,n,r,i),e.max=lCe(e.max,t,n,r,i)}function uCe(e,t){let{x:n,y:r}=t;cCe(e.x,n.translate,n.scale,n.originPoint),cCe(e.y,r.translate,r.scale,r.originPoint)}const dCe=.999999999999,hCe=1.0000000000001;function pCe(e,t){e.min=e.min+t,e.max=e.max+t}function fCe(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;cCe(e,t,n,Txe(e.min,e.max,i),r)}function mCe(e,t){fCe(e.x,t.x,t.scaleX,t.scale,t.originX),fCe(e.y,t.y,t.scaleY,t.scale,t.originY)}function gCe(e,t){return qwe(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}function vCe(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const yCe=(e,t)=>Math.abs(e-t);class bCe{constructor(e,t){let{transformPagePoint:n,dragSnapToOrigin:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=wCe(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=yCe(e.x,t.x),r=yCe(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=kbe;this.history.push({...r,timestamp:i});const{onStart:o,onMove:a}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{if(this.index=_Ce(e.currentTarget),e.target instanceof Element&&e.target.hasPointerCapture&&void 0!==e.pointerId)try{if(!e.target.hasPointerCapture(e.pointerId))return}catch(z_e){}this.lastMoveEvent=e,this.lastMoveEventInfo=ACe(t,this.transformPagePoint),Tbe.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{sbe(e,"release"),this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=wCe("pointercancel"===e.type||"lostpointercapture"===e.type?this.lastMoveEventInfo:ACe(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!cbe(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n;const i=ACe(Qwe(e),this.transformPagePoint),{point:o}=i,{timestamp:a}=kbe;this.history=[{...o,timestamp:a}];const{onSessionStart:s}=t;s&&s(e,wCe(i,this.history)),sbe(e,"set"),this.removeListeners=Nxe(Wwe(e.currentTarget,"pointermove",this.handlePointerMove),Wwe(e.currentTarget,"pointerup",this.handlePointerUp),Wwe(e.currentTarget,"pointercancel",this.handlePointerUp),Wwe(e.currentTarget,"lostpointercapture",((e,t)=>{_Ce(e.currentTarget)!==this.index?sbe(e,"set"):this.handlePointerUp(e,t)})))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rbe(this.updatePoint)}}function ACe(e,t){return t?{point:t(e.point)}:e}function xCe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wCe(e,t){let{point:n}=e;return{point:n,delta:xCe(n,ECe(t)),offset:xCe(n,CCe(t)),velocity:SCe(t,.1)}}function CCe(e){return e[0]}function ECe(e){return e[e.length-1]}function SCe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=ECe(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>gbe(t)));)n--;if(!r)return{x:0,y:0};const o=vbe(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _Ce(e){return e.parentNode?Array.from(e.parentNode.children).indexOf(e):-1}function MCe(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ICe(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const TCe=.35;function RCe(e,t,n){return{min:kCe(e,t),max:kCe(e,n)}}function kCe(e,t){return"number"===typeof e?e:e[t]||0}const PCe=new WeakMap;class BCe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new bCe(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Qwe(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?rbe[o]?null:(rbe[o]=!0,()=>{rbe[o]=!1}):rbe.x||rbe.y?null:(rbe.x=rbe.y=!0,()=>{rbe.x=rbe.y=!1}),!this.openDragLock))return;var o;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tCe((e=>{let t=this.getAxisMotionValue(e).get()||0;if(CAe.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=$we(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&Tbe.postRender((()=>i(e,t))),Qbe(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>tCe((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Tbe.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!OCe(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?Txe(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Txe(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&vCe(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:MCe(e.x,r,o),y:MCe(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TCe;return!1===e?e=0:!0===e&&(e=TCe),{x:RCe(e,"left","right"),y:RCe(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tCe((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!vCe(e))return!1;const n=e.current;uxe(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=gCe(e,n),{scroll:i}=t;return i&&(pCe(r.x,i.offset.x),pCe(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:ICe(e.x,t.x),y:ICe(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=qwe(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=tCe((a=>{if(!OCe(a,t,this.currentDirection))return;let l=s&&s[a]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Qbe(this.visualElement,e),n.start(Cwe(e,n,0,t,this.visualElement,!1))}stopAnimation(){tCe((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){tCe((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){tCe((t=>{const{drag:n}=this.getProps();if(!OCe(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-Txe(n,o,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!vCe(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};tCe((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=$we(e),i=$we(t);return i>r?n=Yye(t.min,t.max-r,e.min):r>i&&(n=Yye(e.min,e.max-i,t.min)),cAe(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),tCe((t=>{if(!OCe(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(Txe(i,o,r[t]))}))}addListeners(){if(!this.visualElement.current)return;PCe.set(this.visualElement,this);const e=Wwe(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();vCe(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Tbe.read(t);const i=Gwe(window,"resize",(()=>this.scalePositionWithinConstraints())),o=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(tCe((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=TCe,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function OCe(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const LCe=e=>(t,n)=>{e&&Tbe.postRender((()=>e(t,n)))};const DCe=(0,i.createContext)(null);const NCe=(0,i.createContext)({}),FCe=(0,i.createContext)({}),{schedule:jCe,cancel:UCe}=Ibe(queueMicrotask,!1),zCe={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HCe(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const VCe={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!EAe.test(e))return e;e=parseFloat(e)}return`${HCe(e,t.target.x)}% ${HCe(e,t.target.y)}%`}},GCe={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=FAe.parse(e);if(o.length>5)return i;const a=FAe.createTransformer(e),s="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+s]/=l,o[1+s]/=c;const u=Txe(l,c,.5);return"number"===typeof o[2+s]&&(o[2+s]/=u),"number"===typeof o[3+s]&&(o[3+s]/=u),a(o)}},QCe={};class WCe extends i.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)QCe[t]=e[t],pxe(t)&&(QCe[t].isCSSVariable=!0)}($Ce),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zCe.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,o=n.projection;return o?(o.isPresent=i,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Tbe.postRender((()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jCe.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qCe(e){const[t,n]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,i.useContext)(DCe);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,a=(0,i.useId)();(0,i.useEffect)((()=>{if(e)return o(a)}),[e]);const s=(0,i.useCallback)((()=>e&&r&&r(a)),[a,r,e]);return!n&&r?[!1,s]:[!0]}(),r=(0,i.useContext)(NCe);return(0,Ty.jsx)(WCe,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(FCe),isPresent:t,safeToRemove:n})}const $Ce={borderRadius:{...VCe,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:VCe,borderTopRightRadius:VCe,borderBottomLeftRadius:VCe,borderBottomRightRadius:VCe,boxShadow:GCe};const XCe=(e,t)=>e.depth-t.depth;class KCe{constructor(){this.children=[],this.isDirty=!1}add(e){Dbe(this.children,e),this.isDirty=!0}remove(e){Nbe(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XCe),this.isDirty=!1,this.children.forEach(e)}}function YCe(e,t){const n=Lbe.now(),r=i=>{let{timestamp:o}=i;const a=o-n;a>=t&&(Rbe(r),e(a-t))};return Tbe.read(r,!0),()=>Rbe(r)}function JCe(e){const t=Gbe(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const ZCe=["TopLeft","TopRight","BottomLeft","BottomRight"],eEe=ZCe.length,tEe=e=>"string"===typeof e?parseFloat(e):e,nEe=e=>"number"===typeof e||EAe.test(e);function rEe(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const iEe=aEe(0,.5,oAe),oEe=aEe(.5,.95,ybe);function aEe(e,t,n){return r=>r<e?0:r>t?1:n(Yye(e,t,r))}function sEe(e,t){e.min=t.min,e.max=t.max}function lEe(e,t){sEe(e.x,t.x),sEe(e.y,t.y)}function cEe(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uEe(e,t,n,r,i){return e=sCe(e-=t,1/n,r),void 0!==i&&(e=sCe(e,1/i,r)),e}function dEe(e,t,n,r,i){let[o,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;CAe.test(t)&&(t=parseFloat(t),t=Txe(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=Txe(o.min,o.max,r);e===o&&(s-=t),e.min=uEe(e.min,t,n,s,i),e.max=uEe(e.max,t,n,s,i)}(e,t[o],t[a],t[s],t.scale,r,i)}const hEe=["x","scaleX","originX"],pEe=["y","scaleY","originY"];function fEe(e,t,n,r){dEe(e.x,t,hEe,n?n.x:void 0,r?r.x:void 0),dEe(e.y,t,pEe,n?n.y:void 0,r?r.y:void 0)}function mEe(e){return 0===e.translate&&1===e.scale}function gEe(e){return mEe(e.x)&&mEe(e.y)}function vEe(e,t){return e.min===t.min&&e.max===t.max}function yEe(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bEe(e,t){return yEe(e.x,t.x)&&yEe(e.y,t.y)}function AEe(e){return $we(e.x)/$we(e.y)}function xEe(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wEe{constructor(){this.members=[]}add(e){Dbe(this.members,e),e.scheduleRender()}remove(e){if(Nbe(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const CEe={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},EEe=["","X","Y","Z"],SEe={visibility:"hidden"};let _Ee=0;function MEe(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function IEe(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$be(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Tbe,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&IEe(r)}function TEe(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=_Ee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mbe.value&&(CEe.nodes=CEe.calculatedTargetDeltas=CEe.calculatedProjections=0),this.nodes.forEach(PEe),this.nodes.forEach(jEe),this.nodes.forEach(UEe),this.nodes.forEach(BEe),Mbe.addProjectionMetrics&&Mbe.addProjectionMetrics(CEe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new KCe)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Fbe),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:i,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(o||i)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=YCe(r,250),zCe.hasAnimatedSinceResize&&(zCe.hasAnimatedSinceResize=!1,this.nodes.forEach(FEe))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&a&&(i||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||a.getDefaultTransition()||WEe,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!bEe(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Hye(o,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||FEe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rbe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zEe),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IEe(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(LEe);this.isUpdating||this.nodes.forEach(DEe),this.isUpdating=!1,this.nodes.forEach(NEe),this.nodes.forEach(REe),this.nodes.forEach(kEe),this.clearAllSnapshots();const e=Lbe.now();kbe.delta=cAe(0,1e3/60,e-kbe.timestamp),kbe.timestamp=e,kbe.isProcessing=!0,Pbe.update.process(kbe),Pbe.preRender.process(kbe),Pbe.render.process(kbe),kbe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jCe.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OEe),this.sharedNodes.forEach(HEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tbe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tbe.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||$we(this.snapshot.measuredBox.x)||$we(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!gEe(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&(t||iCe(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),XEe((r=n).x),XEe(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(YEe))){const{scroll:e}=this.root;e&&(pCe(n.x,e.offset.x),pCe(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(lEe(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&lEe(n,e),pCe(n.x,i.offset.x),pCe(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};lEe(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&mCe(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),iCe(e.latestValues)&&mCe(n,e.latestValues)}return iCe(this.latestValues)&&mCe(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};lEe(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!iCe(e.latestValues))continue;rCe(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};lEe(r,e.measurePageBox()),fEe(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return iCe(this.latestValues)&&fEe(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kbe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=kbe.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zwe(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),lEe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Ywe(a.x,s.x,l.x),Ywe(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):lEe(this.target,this.layout.layoutBox),uCe(this.target,this.targetDelta)):lEe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zwe(this.relativeTargetOrigin,this.target,e.target),lEe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mbe.value&&CEe.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!rCe(this.parent.latestValues)&&!oCe(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===kbe.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;lEe(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,a;t.x=t.y=1;for(let s=0;s<i;s++){o=n[s],a=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&mCe(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,uCe(e,a)),r&&iCe(o.latestValues)&&mCe(e,o.latestValues))}t.x<hCe&&t.x>dCe&&(t.x=1),t.y<hCe&&t.y>dCe&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(cEe(this.prevProjectionDelta.x,this.projectionDelta.x),cEe(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Kwe(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&xEe(this.projectionDelta.x,this.prevProjectionDelta.x)&&xEe(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Mbe.value&&CEe.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(QEe));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;VEe(o.x,e.x,n),VEe(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zwe(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){GEe(e.x,t.x,n.x,r),GEe(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return vEe(e.x,t.x)&&vEe(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),lEe(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,o){i?(e.opacity=Txe(0,void 0!==n.opacity?n.opacity:1,iEe(r)),e.opacityExit=Txe(void 0!==t.opacity?t.opacity:1,0,oEe(r))):o&&(e.opacity=Txe(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<eEe;a++){const i=`border${ZCe[a]}Radius`;let o=rEe(t,i),s=rEe(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||nEe(o)===nEe(s)?(e[i]=Math.max(Txe(tEe(o),tEe(s),r),0),(CAe.test(s)||CAe.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=Txe(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rbe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tbe.update((()=>{zCe.hasAnimatedSinceResize=!0,Ixe.layout++,this.currentAnimation=function(e,t,n){const r=Gbe(e)?e:Hbe(e);return r.start(Cwe("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Ixe.layout--},onComplete:()=>{Ixe.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&KEe(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=$we(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=$we(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}lEe(t,n),mCe(t,i),Kwe(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new wEe);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&MEe("z",e,r,this.animationValues);for(let i=0;i<EEe.length;i++)MEe(`rotate${EEe[i]}`,e,r,this.animationValues),MEe(`skew${EEe[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SEe;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=JCe(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=JCe(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!iCe(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const a=o.animationValues||o.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((i||o||a)&&(r=`translate3d(${i}px, ${o}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:a,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),o&&(r+=`rotateY(${o}deg) `),a&&(r+=`skewX(${a}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));const{x:s,y:l}=this.projectionDelta;r.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,o.animationValues?r.opacity=o===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=o===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in QCe){if(void 0===a[c])continue;const{correct:e,applyTo:t,isCSSVariable:n}=QCe[c],i="none"===r.transform?a[c]:e(a[c],o);if(t){const e=t.length;for(let n=0;n<e;n++)r[t[n]]=i}else n?this.options.visualElement.renderState.vars[c]=i:r[c]=i}return this.options.layoutId&&(r.pointerEvents=o===this?JCe(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(LEe),this.root.sharedNodes.clear()}}}function REe(e){e.updateLayout()}function kEe(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?tCe((e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=$we(r);r.min=t[e].min,r.max=r.min+i})):KEe(i,n.layoutBox,t)&&tCe((r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],a=$we(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Kwe(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?Kwe(s,e.applyTransform(r,!0),n.measuredBox):Kwe(s,t,n.layoutBox);const l=!gEe(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const a={x:{min:0,max:0},y:{min:0,max:0}};Zwe(a,n.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Zwe(s,t,o.layoutBox),bEe(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function PEe(e){Mbe.value&&CEe.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function BEe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function OEe(e){e.clearSnapshot()}function LEe(e){e.clearMeasurements()}function DEe(e){e.isLayoutDirty=!1}function NEe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function FEe(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jEe(e){e.resolveTargetDelta()}function UEe(e){e.calcProjection()}function zEe(e){e.resetSkewAndRotation()}function HEe(e){e.removeLeadSnapshot()}function VEe(e,t,n){e.translate=Txe(t.translate,0,n),e.scale=Txe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function GEe(e,t,n,r){e.min=Txe(t.min,n.min,r),e.max=Txe(t.max,n.max,r)}function QEe(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const WEe={duration:.45,ease:[.4,0,.1,1]},qEe=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$Ee=qEe("applewebkit/")&&!qEe("chrome/")?Math.round:ybe;function XEe(e){e.min=$Ee(e.min),e.max=$Ee(e.max)}function KEe(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(AEe(t),AEe(n),.2)}function YEe(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const JEe=TEe({attachResizeListener:(e,t)=>Gwe(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ZEe={current:void 0},eSe=TEe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ZEe.current){const e=new JEe({});e.mount(window),e.setOptions({layoutScroll:!0}),ZEe.current=e}return ZEe.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),tSe={pan:{Feature:class extends zwe{constructor(){super(...arguments),this.removePointerDownListener=ybe}onPointerDown(e){this.session=new bCe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:LCe(e),onStart:LCe(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Tbe.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Wwe(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends zwe{constructor(e){super(e),this.removeGroupControls=ybe,this.removeListeners=ybe,this.controls=new BCe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ybe}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:eSe,MeasureLayout:qCe}};function nSe(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&Tbe.postRender((()=>i(t,Qwe(t))))}function rSe(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&Tbe.postRender((()=>i(t,Qwe(t))))}const iSe=new WeakMap,oSe=new WeakMap,aSe=e=>{const t=iSe.get(e.target);t&&t(e)},sSe=e=>{e.forEach(aSe)};function lSe(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;oSe.has(r)||oSe.set(r,{});const i=oSe.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(sSe,{root:t,...n})),i[o]}(t);return iSe.set(e,n),r.observe(e),()=>{iSe.delete(e),r.unobserve(e)}}const cSe={some:0,all:1};const uSe={inView:{Feature:class extends zwe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:cSe[r]};return lSe(this.node.current,o,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends zwe{mount(){const{current:e}=this.node;e&&(this.unmount=mbe(e,((e,t)=>(rSe(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return rSe(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends zwe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(z_e){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nxe(Gwe(this.node.current,"focus",(()=>this.onFocus())),Gwe(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends zwe{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=obe(e,n),a=e=>{if(!abe(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const o=e=>{abe(e)&&(r(e),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,i)};return r.forEach((e=>{e.addEventListener("pointerenter",a,i)})),o}(e,((e,t)=>(nSe(this.node,t,"Start"),e=>nSe(this.node,e,"End")))))}unmount(){}}}},dSe={layout:{ProjectionNode:eSe,MeasureLayout:qCe}},hSe=(0,i.createContext)({strict:!1}),pSe=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),fSe=(0,i.createContext)({});function mSe(e){return Oye(e.animate)||kwe.some((t=>Twe(e[t])))}function gSe(e){return Boolean(mSe(e)||e.variants)}function vSe(e){const{initial:t,animate:n}=function(e,t){if(mSe(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Twe(t)?t:void 0,animate:Twe(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(fSe));return(0,i.useMemo)((()=>({initial:t,animate:n})),[ySe(t),ySe(n)])}function ySe(e){return Array.isArray(e)?e.join(" "):e}const bSe="undefined"!==typeof window,ASe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xSe={};for(const n in ASe)xSe[n]={isEnabled:e=>ASe[n].some((t=>!!e[t]))};const wSe=Symbol.for("motionComponentSymbol");function CSe(e,t,n){return(0,i.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):vCe(n)&&(n.current=r))}),[t])}const ESe=bSe?i.useLayoutEffect:i.useEffect;function SSe(e,t,n,r,o){var a,s;const{visualElement:l}=(0,i.useContext)(fSe),c=(0,i.useContext)(hSe),u=(0,i.useContext)(DCe),d=(0,i.useContext)(pSe).reducedMotion,h=(0,i.useRef)(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const p=h.current,f=(0,i.useContext)(FCe);!p||p.projection||!o||"html"!==p.type&&"svg"!==p.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_Se(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(a)||s&&vCe(s),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,n,o,f);const m=(0,i.useRef)(!1);(0,i.useInsertionEffect)((()=>{p&&m.current&&p.update(n,u)}));const g=n[qbe],v=(0,i.useRef)(Boolean(g)&&!(null===(a=window.MotionHandoffIsComplete)||void 0===a?void 0:a.call(window,g))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,g)));return ESe((()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),jCe.render(p.render),v.current&&p.animationState&&p.animationState.animateChanges())})),(0,i.useEffect)((()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),p}function _Se(e){if(e)return!1!==e.options.allowProjection?e.projection:_Se(e.parent)}function MSe(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:a}=e;var s,l;function c(e,t){let s;const l={...(0,i.useContext)(pSe),...e,layoutId:ISe(e)},{isStatic:c}=l,u=vSe(e),d=o(e,c);if(!c&&bSe){!function(){(0,i.useContext)(hSe).strict;0}();const e=function(e){const{drag:t,layout:n}=xSe;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);s=e.MeasureLayout,u.visualElement=SSe(a,d,l,n,e.ProjectionNode)}return(0,Ty.jsxs)(fSe.Provider,{value:u,children:[s&&u.visualElement?(0,Ty.jsx)(s,{visualElement:u.visualElement,...l}):null,r(a,e,CSe(d,u.visualElement,t),d,c,u.visualElement)]})}t&&function(e){for(const t in e)xSe[t]={...xSe[t],...e[t]}}(t),c.displayName=`motion.${"string"===typeof a?a:`create(${null!==(l=null!==(s=a.displayName)&&void 0!==s?s:a.name)&&void 0!==l?l:""})`}`;const u=(0,i.forwardRef)(c);return u[wSe]=a,u}function ISe(e){let{layoutId:t}=e;const n=(0,i.useContext)(NCe).id;return n&&void 0!==t?n+"-"+t:t}function TSe(e,t){let{layout:n,layoutId:r}=t;return Abe.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!QCe[e]||"opacity"===e)}const RSe=(e,t)=>t&&"number"===typeof e?t.transform(e):e,kSe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PSe=bbe.length;function BSe(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let a=!1,s=!1;for(const l in t){const e=t[l];if(Abe.has(l))a=!0;else if(pxe(l))i[l]=e;else{const t=RSe(e,WAe[l]);l.startsWith("origin")?(s=!0,o[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<PSe;o++){const a=bbe[o],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=RSe(s,WAe[a]);l||(i=!1,r+=`${kSe[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin=`${e} ${t} ${n}`}}const OSe=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LSe(e,t,n){for(const r in t)Gbe(t[r])||TSe(r,n)||(e[r]=t[r])}function DSe(e,t){const n={};return LSe(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return BSe(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function NSe(e,t){const n={},r=DSe(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const FSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jSe(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||FSe.has(e)}let USe=e=>!jSe(e);try{(zSe=require("@emotion/is-prop-valid").default)&&(USe=e=>e.startsWith("on")?!jSe(e):zSe(e))}catch(Pu){}var zSe;const HSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function VSe(e){return"string"===typeof e&&!e.includes("-")&&!!(HSe.indexOf(e)>-1||/[A-Z]/u.test(e))}const GSe={offset:"stroke-dashoffset",array:"stroke-dasharray"},QSe={offset:"strokeDashoffset",array:"strokeDasharray"};function WSe(e,t,n){return"string"===typeof e?e:EAe.transform(t+n*e)}function qSe(e,t,n,r){let{attrX:i,attrY:o,attrScale:a,originX:s,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h}=t;if(BSe(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==s||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){return`${WSe(t,e.x,e.width)} ${WSe(n,e.y,e.height)}`}(m,void 0!==s?s:.5,void 0!==l?l:.5)),void 0!==i&&(p.x=i),void 0!==o&&(p.y=o),void 0!==a&&(p.scale=a),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?GSe:QSe;e[o.offset]=EAe.transform(-r);const a=EAe.transform(t),s=EAe.transform(n);e[o.array]=`${a} ${s}`}(p,c,u,d,!1)}const $Se=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),XSe=e=>"string"===typeof e&&"svg"===e.toLowerCase();function KSe(e,t,n,r){const o=(0,i.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return qSe(n,t,XSe(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};LSe(t,e.style,e),o.style={...t,...o.style}}return o}function YSe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,a)=>{let{latestValues:s}=o;const l=(VSe(t)?KSe:NSe)(n,s,a,t),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(USe(i)||!0===n&&jSe(i)||!t&&!jSe(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),u=t!==i.Fragment?{...c,...l,ref:r}:{},{children:d}=n,h=(0,i.useMemo)((()=>Gbe(d)?d.get():d),[d]);return(0,i.createElement)(t,{...u,children:h})}}const JSe=e=>(t,n)=>{const r=(0,i.useContext)(fSe),o=(0,i.useContext)(DCe),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o,onUpdate:a}=e;const s={latestValues:ZSe(t,n,r,i),renderState:o()};return a&&(s.onMount=e=>a({props:t,current:e,...s}),s.onUpdate=e=>a(e)),s}(e,t,r,o);return n?a():function(e){const t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}(a)};function ZSe(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=JCe(o[h]);let{initial:a,animate:s}=e;const l=mSe(e),c=gSe(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?s:a;if(d&&"boolean"!==typeof d&&!Oye(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Dye(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}function e_e(e,t,n){var r;const{style:i}=e,o={};for(const a in i)(Gbe(i[a])||t.style&&Gbe(t.style[a])||TSe(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(o[a]=i[a]);return o}const t_e={useVisualState:JSe({scrapeMotionValuesFromProps:e_e,createRenderState:OSe})};function n_e(e,t){try{t.dimensions="function"===typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(z_e){t.dimensions={x:0,y:0,width:0,height:0}}}function r_e(e,t,n,r){let{style:i,vars:o}=t;Object.assign(e.style,i,r&&r.getProjectionStyles(n));for(const a in o)e.style.setProperty(a,o[a])}const i_e=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o_e(e,t,n,r){r_e(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(i_e.has(i)?i:Wbe(i),t.attrs[i])}function a_e(e,t,n){const r=e_e(e,t,n);for(const i in e)if(Gbe(e[i])||Gbe(t[i])){r[-1!==bbe.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const s_e=["x","y","width","height","cx","cy","r"],l_e={useVisualState:JSe({scrapeMotionValuesFromProps:a_e,createRenderState:$Se,onUpdate:e=>{let{props:t,prevProps:n,current:r,renderState:i,latestValues:o}=e;if(!r)return;let a=!!t.drag;if(!a)for(const l in o)if(Abe.has(l)){a=!0;break}if(!a)return;let s=!n;if(n)for(let l=0;l<s_e.length;l++){const e=s_e[l];t[e]!==n[e]&&(s=!0)}s&&Tbe.read((()=>{n_e(r,i),Tbe.render((()=>{qSe(i,o,XSe(r.tagName),t.transformTemplate),o_e(r,i)}))}))}})};function c_e(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return MSe({...VSe(n)?l_e:t_e,preloadedFeatures:e,useRender:YSe(r),createVisualElement:t,Component:n})}}const u_e={current:null},d_e={current:!1};const h_e=[...Axe,TAe,FAe],p_e=new WeakMap;const f_e=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class m_e{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lxe,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Lbe.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Tbe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=mSe(n),this.isVariantNode=gSe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const e=h[p];void 0!==l[p]&&Gbe(e)&&e.set(l[p],!1)}}mount(e){this.current=e,p_e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),d_e.current||function(){if(d_e.current=!0,bSe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>u_e.current=e.matches;e.addListener(t),t()}else u_e.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||u_e.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rbe(this.notifyUpdate),Rbe(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Abe.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Tbe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),i(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in xSe){const t=xSe[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<f_e.length;n++){const t=f_e[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Gbe(i))e.addValue(r,i);else if(Gbe(o))e.addValue(r,Hbe(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Hbe(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Hbe(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(dxe(r)||sAe(r))?r=parseFloat(r):!(e=>h_e.find(bxe(e)))(r)&&FAe.test(t)&&(r=XAe(e,t)),this.setBaseTarget(e,Gbe(r)?r.get():r)),Gbe(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const i=Dye(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Gbe(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Fbe),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class g_e extends m_e{constructor(){super(...arguments),this.KeyframeResolver=wxe}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gbe(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class v_e extends g_e{constructor(){super(...arguments),this.type="html",this.renderInstance=r_e}readValueFromInstance(e,t){if(Abe.has(t)){const e=$Ae(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(pxe(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof i?i.trim():i}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return gCe(e,n)}build(e,t,n){BSe(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return e_e(e,t,n)}}class y_e extends g_e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=eCe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&n_e(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Abe.has(t)){const e=$Ae(t);return e&&e.default||0}return t=i_e.has(t)?t:Wbe(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return a_e(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Tbe.postRender(this.updateDimensions)}build(e,t,n){qSe(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){o_e(e,t,0,r)}mount(e){this.isSVGTag=XSe(e.tagName),super.mount(e)}}const b_e=Bye(c_e({...Vwe,...uSe,...tSe,...dSe},((e,t)=>VSe(e)?new y_e(t):new v_e(t,{allowProjection:e!==i.Fragment})))),A_e=()=>{var e;const t=Ey(),{user:n}=(0,i.useContext)(hO),{showAlert:r}=qA(),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0),[p,f]=(0,i.useState)({}),[m,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)({partProduction:{},machineUsage:{}}),[b,A]=(0,i.useState)([]),[x,w]=(0,i.useState)([]),[C,E]=(0,i.useState)(!1),[S,_]=(0,i.useState)(null),[M,I]=(0,i.useState)(null),[T,R]=(0,i.useState)(0),[k,P]=(0,i.useState)(!1),[B,O]=(0,i.useState)([]),L=x.length>0,D=x.length>0&&Object.keys(v.partProduction).length>0&&Object.keys(v.machineUsage).length>0,[N,F]=(0,i.useState)("1"),j=L?null===(e=x[0])||void 0===e?void 0:e.sav_file_name:"",{resetGraphData:U}=(0,i.useContext)(hO);(0,i.useEffect)((()=>{V()}),[]);const z=async()=>{console.log("Fetching tracker reports...");try{const e=await dO.get(UC.tracker_reports);return u(e.data),console.log("Tracker reports:",e.data),A(H(e.data)),console.log("Flattened tree data:",b),e.data}catch(e){console.error("Error fetching tracker reports:",e)}finally{h(!1)}},H=e=>{let t=[];return e.forEach(((e,n)=>{if(!e.tree)return;const r=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Root",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object.keys(e).forEach(((a,s)=>{const l=e[a],c=`${n}-${a}-${s}`;t.push({id:c,parent:i,node:a,level:o,requiredQuantity:l["Required Quantity"]||0,producedIn:l["Produced In"]||"N/A",machines:l["No. of Machines"]||0,recipe:l.Recipe||"N/A"}),l.Subtree&&r(l.Subtree,a,o+1)}))};r(e.tree)})),t},V=async()=>{try{h(!0);const[e,t]=await Promise.all([z(),W()]),n=await G(e,t),r=await Q(e,t);y((e=>({...e,partProduction:n,machineUsage:r})))}catch(e){console.error("Error fetching data:",e)}finally{h(!1)}},G=async(e,t)=>{try{h(!0);return(await dO.post(UC.production_report,{trackerData:e,saveData:t})).data}catch(n){return console.error("Error fetching production report:",n),[]}finally{h(!1)}},Q=async(e,t)=>{try{h(!0);const n=await dO.post(UC.machine_report,{trackerData:e,saveData:t});return O(n.data),n.data}catch(n){return console.error("Error fetching machine usage report:",n),[]}finally{h(!1)}},W=async()=>{try{h(!0);const e=await dO.get(UC.user_save);return w(e.data),e.data}catch(e){return console.error("Error fetching user_save data:",e),[]}finally{h(!1)}},q=(0,i.useCallback)((async e=>{if(0===e.length)return;const t=e[0];console.log("Uploading file:",t);const n=new FormData;n.append("file",t);try{E(!0),_(null),I(null),R(0),U();const e=await dO.post(UC.upload_sav,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);R(t)}});_(e.data.message||"Upload successful!"),I(!0),E(!1),r("success","File uploaded successfully!"),V()}catch(i){console.error("Upload failed:",i),_("Upload failed. Please try again."),I(!1),E(!1);const e="\u274c TrackerPage: File upload failed"+i;console.error(e),r("error","File upload failed. Please try again.")}}),[]);console.log("before dropzone declaration - useDropZone:",R9);const $=R9({onDrop:q,accept:".sav",multiple:!1});console.log("Dropzone Output:",$);const{getRootProps:X,getInputProps:K,isDragActive:Y}=$||{};return(0,Ty.jsxs)(pk,{sx:{borderBottom:2,display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%",padding:4,background:t.palette.background},children:[(0,Ty.jsx)(pk,{sx:{display:"flex",flexDirection:"column",alignItems:"left",mb:2,width:"50%"},children:(0,Ty.jsx)(PW,{title:(0,Ty.jsxs)(Tk,{variant:"body4",sx:{color:"#FFFFFF"},children:["Drag & drop your Satisfactory save file here, or click to browse.",(0,Ty.jsx)("br",{}),L?(0,Ty.jsx)("span",{style:{color:"#FFA500",fontSize:"14px",fontWeight:"bold"},children:"This will overwrite your current save file."}):null]}),arrow:!0,slotProps:{popper:{modifiers:[{name:"preventOverflow",options:{boundary:"window"}}]},tooltip:{sx:{backgroundColor:"#222831",color:"#EEEEEE",padding:"10px",fontSize:"14px",borderRadius:"8px",border:"1px solid #444"}},arrow:{sx:{color:"#222831"}}},children:(0,Ty.jsxs)(pk,{...X(),sx:{...t.components.Dropzone.styleOverrides.root,...Y&&t.components.Dropzone.styleOverrides.active},children:[(0,Ty.jsx)("input",{...K()}),C?(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)(Tk,{variant:"body3",children:"Extracting save file data...This may take a few moments"}),(0,Ty.jsx)(Tk,{variant:"body3_underline",sx:{color:"orange"},children:"DO NOT REFRESH YOUR BROWSWER"}),(0,Ty.jsx)(xA,{color:"progressIndicator.main"})]}):!0===M?(0,Ty.jsx)(J9,{sx:{fontSize:50,color:"success.main"}}):!1===M?(0,Ty.jsx)(Z9,{sx:{fontSize:50,color:"red"}}):L?(0,Ty.jsxs)(Tk,{variant:"body4",sx:{fontWeight:"bold",color:"success.main"},children:["Current save file ",(0,Ty.jsx)("br",{}),j]}):(0,Ty.jsx)(Tk,{variant:"body3",children:"Drop your Satisfactory save file here..."})]})})}),(0,Ty.jsxs)(t7,{value:N,children:[(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.tabsContainer,children:(0,Ty.jsxs)(_7,{onChange:(e,t)=>{F(t)},"aria-label":"Tracker Sections",sx:t.trackerPageStyles.tabList,children:[(0,Ty.jsx)(Y9,{label:"Charts",value:"1"}),(0,Ty.jsx)(Y9,{label:"Save File Data",value:"2"}),(0,Ty.jsx)(Y9,{label:"Conveyor Network",value:"3"}),(0,Ty.jsx)(Y9,{label:"Pipe Network",value:"4"}),(0,Ty.jsx)(Y9,{label:"Main Tables",value:"5"}),(0,Ty.jsx)(Y9,{label:"Dependency Data",value:"6"})]})}),(0,Ty.jsx)(R7,{value:"1",children:L?D?(0,Ty.jsx)(b_e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,ease:"easeOut"},children:(0,Ty.jsxs)(pk,{sx:t.trackerPageStyles.tabPanelBox,children:[(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.chartBox,children:(0,Ty.jsx)(Tye,{data:v.partProduction})}),(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.chartBox,children:(0,Ty.jsx)(Rye,{data:v.machineUsage})})]})}):(0,Ty.jsx)(pk,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:400},children:(0,Ty.jsx)(xA,{size:60,color:"primary"})}):(0,Ty.jsx)(Tk,{variant:"h6",sx:{textAlign:"center",mt:4,color:"gray"},children:"Upload a save file to generate reports."})}),(0,Ty.jsx)(R7,{value:"2",children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.tabPanelBox,children:d?(0,Ty.jsx)(xA,{}):(0,Ty.jsx)(Ty.Fragment,{children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.reportBox,children:(0,Ty.jsx)(mq,{density:"compact",rows:x,columns:[{field:"id",headerName:"ID",width:80},{field:"part_name",headerName:"Part Name",width:180},{field:"recipe_name",headerName:"Recipe",width:200},{field:"machine_name",headerName:"Machine",width:200},{field:"machine_level",headerName:"Machine Level",width:200},{field:"resource_node_purity",headerName:"Node Purity",width:200},{field:"machine_power_modifier",headerName:"Power Modifier",width:150},{field:"base_supply_pm",headerName:"Base Supply PM",width:200},{field:"actual_ppm",headerName:"Actual PPM",width:200},{field:"created_at",headerName:"Created",width:180},{field:"sav_file_name",headerName:"Save File",width:180}]})})})})}),(0,Ty.jsx)(R7,{value:"3",children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.tabPanelBox,children:d?(0,Ty.jsx)(xA,{}):(0,Ty.jsx)(Ty.Fragment,{children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.reportBox,children:(0,Ty.jsx)(kye,{})})})})}),(0,Ty.jsx)(R7,{value:"4",children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.tabPanelBox,children:d?(0,Ty.jsx)(xA,{}):(0,Ty.jsx)(Ty.Fragment,{children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.reportBox,children:(0,Ty.jsx)(Pye,{})})})})}),(0,Ty.jsx)(R7,{value:"5",children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.tabPanelBox,children:d?(0,Ty.jsx)(xA,{}):(0,Ty.jsx)(Ty.Fragment,{children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.reportBox,children:(0,Ty.jsx)(k7,{trackerData:o,totals:p,isLoading:m})})})})}),(0,Ty.jsx)(R7,{value:"6",children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.tabPanelBox,children:d?(0,Ty.jsx)(xA,{}):(0,Ty.jsx)(Ty.Fragment,{children:(0,Ty.jsx)(pk,{sx:t.trackerPageStyles.reportBox,children:(0,Ty.jsx)(mq,{density:"compact",rows:b,columns:[{field:"parent",headerName:"Parent Part",flex:1},{field:"node",headerName:"Ingredient",flex:1},{field:"level",headerName:"Level",flex:.5,type:"number"},{field:"requiredQuantity",headerName:"Required Quantity",flex:1,type:"number"},{field:"producedIn",headerName:"Produced In",flex:1},{field:"machines",headerName:"No. of Machines",flex:1,type:"number"},{field:"recipe",headerName:"Recipe Name",flex:1}]})})})})})]})]})},x_e=()=>{const{user:e}=hO();return e?(0,Ty.jsx)(aw,{}):(0,Ty.jsx)(ow,{to:"/login"})},w_e=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)("");(0,i.useEffect)((()=>{s()}),[]);const s=async()=>{try{const e=await dO.get(UC.tester_requests);t(e.data)}catch(n){r("Failed to load tester requests.")}},l=[{field:"id",headerName:"ID",width:70},{field:"username",headerName:"Username",width:150},{field:"email",headerName:"Email",width:200},{field:"fav_thing",headerName:"Favorite Thing",width:250},{field:"reason",headerName:"Reason",width:250},{field:"status",headerName:"Status",width:150,renderCell:e=>e.row.is_approved?"\u2705 Approved":!e.row.is_approved&&e.row.reviewed_at?"\u274c Rejected":"\u23f3 Pending"},{field:"reviewed_at",headerName:"Reviewed At",width:150,renderCell:e=>e.value?new Date(e.value).toLocaleString():"Pending"},{field:"actions",headerName:"Actions",width:200,renderCell:i=>(0,Ty.jsxs)(Ty.Fragment,{children:[!i.row.is_approved&&!i.row.reviewed_at&&(0,Ty.jsx)(IO,{variant:"contained",color:"success",onClick:()=>(async i=>{try{const n=(await dO.post(`${UC.tester_approve}/${i}`)).data.temp_password,r=e.find((e=>e.id===i)),o=`\nHello ${r.username},\n\nCongratulations! You have been approved as a tester for Satisfactory Tracker.\n\nYou can now log in to your account using the following credentials:\n\n\ud83d\udd39 **Email**: ${r.email}  \n\ud83d\udd39 **Temporary Password**: ${n}  \n\nFor security reasons, you will be required to change your password upon first login.  \nLogin here: [Insert Website URL]\n\nWelcome aboard and happy tracking! \ud83c\udf89\n\nBest,  \nThe Satisfactory Tracker Team`;a(o),t(e.map((e=>e.id===i?{...e,is_approved:!0,reviewed_at:(new Date).toISOString()}:e)))}catch(n){r("Failed to approve tester.")}})(i.row.id),sx:{marginRight:1},children:"Approve"}),!i.row.reviewed_at&&(0,Ty.jsx)(IO,{variant:"contained",color:"error",onClick:()=>(async i=>{try{await dO.post(`${UC.tester_reject}/${i}`),t(e.map((e=>e.id===i?{...e,is_approved:!1,reviewed_at:(new Date).toISOString()}:e)))}catch(n){r("Failed to reject tester.")}})(i.row.id),children:"Reject"})]})}];return(0,Ty.jsxs)(pk,{sx:{padding:4},children:[(0,Ty.jsx)(Tk,{variant:"h4",gutterBottom:!0,children:"Tester Management"}),n&&(0,Ty.jsx)(GA,{severity:"error",children:n}),(0,Ty.jsx)(pk,{sx:{height:500,width:"100%"},children:(0,Ty.jsx)(mq,{rows:e,columns:l,pageSize:5})}),o&&(0,Ty.jsxs)(pk,{sx:{marginTop:2},children:[(0,Ty.jsx)(Tk,{variant:"h6",children:"Generated Email:"}),(0,Ty.jsx)("textarea",{value:o,readOnly:!0,style:{width:"100%",height:"150px",padding:"10px",fontSize:"14px"}}),(0,Ty.jsx)(IO,{variant:"contained",color:"primary",sx:{marginTop:1},onClick:()=>navigator.clipboard.writeText(o),children:"Copy to Clipboard"})]})]})},C_e=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[c]=Yw(),u=c.get("user_id"),d=Vx();return(0,Ty.jsxs)(pk,{sx:{padding:4},children:[(0,Ty.jsx)(Tk,{variant:"h4",gutterBottom:!0,children:"Change Password"}),o&&(0,Ty.jsx)(GA,{severity:"error",children:o}),s&&(0,Ty.jsx)(GA,{severity:"success",children:s}),(0,Ty.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a(""),l(""),console.log("Sending user_id:",u),e===n)try{await dO.post(UC.change_password,{user_id:u,password:e}),l("Password changed successfully! Redirecting..."),setTimeout((()=>d("/login")),2e3)}catch(o){var r,i;a((null===(r=o.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.error)||"Failed to change password.")}else a("Passwords do not match.")},children:[(0,Ty.jsx)(GR,{fullWidth:!0,type:"password",label:"New Password",value:e,onChange:e=>t(e.target.value),margin:"normal",required:!0}),(0,Ty.jsx)(GR,{fullWidth:!0,type:"password",label:"Confirm Password",value:n,onChange:e=>r(e.target.value),margin:"normal",required:!0}),(0,Ty.jsx)(IO,{type:"submit",variant:"contained",color:"primary",sx:{mt:2},fullWidth:!0,children:"Update Password"})]})]})};function E_e(e){return lb("MuiListItem",e)}cb("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const S_e=cb("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function __e(e){return lb("MuiListItemSecondaryAction",e)}cb("MuiListItemSecondaryAction",["root","disableGutters"]);const M_e=Ay("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),I_e=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...o}=n,a=i.useContext(NE),s={...n,disableGutters:a.disableGutters},l=(e=>{const{disableGutters:t,classes:n}=e;return Op({root:["root",t&&"disableGutters"]},__e,n)})(s);return(0,Ty.jsx)(M_e,{className:ib(l.root,r),ownerState:s,ref:t,...o})}));I_e.muiName="ListItemSecondaryAction";const T_e=I_e,R_e=Ay("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(My((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{[`& > .${S_e.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}}))),k_e=Ay("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),P_e=i.forwardRef((function(e,t){const n=By({props:e,name:"MuiListItem"}),{alignItems:r="center",children:o,className:a,component:s,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:f=!1,disablePadding:m=!1,divider:g=!1,secondaryAction:v,slotProps:y={},slots:b={},...A}=n,x=i.useContext(NE),w=i.useMemo((()=>({dense:p||x.dense||!1,alignItems:r,disableGutters:f})),[r,x.dense,p,f]),C=i.useRef(null),E=i.Children.toArray(o),S=E.length&&hT(E[E.length-1],["ListItemSecondaryAction"]),_={...n,alignItems:r,dense:w.dense,disableGutters:f,disablePadding:m,divider:g,hasSecondaryAction:S},M=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:a,hasSecondaryAction:s}=e;return Op({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",a&&"divider","flex-start"===t&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},E_e,n)})(_),I=Yy(C,t),T=b.root||l.Root||R_e,R=y.root||c.root||{},k={className:ib(M.root,R.className,a),...A};let P=s||"li";return S?(P=k.component||s?P:"div","li"===u&&("li"===P?P="div":"li"===k.component&&(k.component="div")),(0,Ty.jsx)(NE.Provider,{value:w,children:(0,Ty.jsxs)(k_e,{as:u,className:ib(M.container,d),ref:I,ownerState:_,...h,children:[(0,Ty.jsx)(T,{...R,...!vI(T)&&{as:P,ownerState:{..._,...R.ownerState}},...k,children:E}),E.pop()]})})):(0,Ty.jsx)(NE.Provider,{value:w,children:(0,Ty.jsxs)(T,{...R,as:P,ref:I,...!vI(T)&&{ownerState:{..._,...R.ownerState}},...k,children:[E,v&&(0,Ty.jsx)(T_e,{children:v})]})})})),B_e=P_e,O_e=()=>(0,Ty.jsxs)(pk,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,Ty.jsx)(Tk,{variant:"h4",gutterBottom:!0,children:"\ud83d\udcd6 Dependency Tree Guide"}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"Overview"}),(0,Ty.jsx)(Tk,{variant:"body1",children:"The Dependency Tree Page allows you to analyze your factory's production dependencies. It helps you:"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2714\ufe0f View production requirements for selected parts."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2714\ufe0f Select and save alternate recipes."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2714\ufe0f Track dependencies and bottlenecks."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udd39 How to Use"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"1\ufe0f\u20e3 Select a part from the dropdown list."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"2\ufe0f\u20e3 Choose a recipe (default is '_Standard')."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"3\ufe0f\u20e3 Enter the target quantity you wish to produce."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"4\ufe0f\u20e3 Click 'Generate Tree' to visualize dependencies."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udd04 Alternate Recipes"}),(0,Ty.jsx)(Tk,{variant:"body1",children:'You can enable or disable alternative recipes in the "Alternate Recipes" tab. Changes are saved automatically, but you can reset them anytime.'}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udccc Pro Tips"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Use the 'Expand All' button to quickly open the tree."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Collapse sections to focus on specific dependencies."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Add parts to the Tracker for long-term monitoring."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udcf8 Screenshots & GIFs (Coming Soon)"}),(0,Ty.jsx)(Tk,{variant:"body2",children:"We'll include step-by-step visuals here to make it easier to follow!"})]}),L_e=()=>(0,Ty.jsxs)(pk,{sx:{padding:2},children:[(0,Ty.jsx)(Tk,{variant:"h4",gutterBottom:!0,children:"\ud83d\udcd6 Tracker Page Guide"}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"Overview"}),(0,Ty.jsx)(Tk,{variant:"body1",children:"The Tracker Page allows you to upload your Satisfactory save file and analyze your factory\u2019s progress. This page helps you:"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2714\ufe0f Upload a save file to track factory production."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2714\ufe0f View detailed reports on your current and target production."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2714\ufe0f Analyze conveyor and pipe networks."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udd39 How to Use"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"1\ufe0f\u20e3 Click 'Upload Save File' to import your factory data."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"2\ufe0f\u20e3 Select a `.sav` file from your computer."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"3\ufe0f\u20e3 Wait for the system to process the data (this may take a few seconds)."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"4\ufe0f\u20e3 Navigate through the tabs to explore your factory\u2019s stats, conveyors, and pipes."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udcca Key Features"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 **Production Reports** \u2013 See real-time vs. target production."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 **Save File Data** \u2013 Inspect machine and item data from your save file."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 **Conveyor & Pipe Networks** \u2013 Identify bottlenecks in logistics."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\ude80 Pro Tips"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\ud83d\udca1 If upload fails, ensure your `.sav` file is valid and from the latest game version."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\ud83d\udca1 Click on any column headers to sort data for better analysis."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\ud83d\udca1 Use the Conveyor/Pipe tabs to troubleshoot inefficiencies in your factory."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udcf8 Screenshots & GIFs (Coming Soon)"}),(0,Ty.jsx)(Tk,{variant:"body2",children:"Step-by-step visuals will be added to make navigation easier!"})]}),D_e=()=>(0,Ty.jsxs)(pk,{sx:{padding:2},children:[(0,Ty.jsx)(Tk,{variant:"h4",gutterBottom:!0,children:"\ud83e\udeb2 Bug Reporting Guide \ud83e\udeb3"}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"Overview"}),(0,Ty.jsx)(Tk,{variant:"body1",children:"The Bug Reporting system allows testers to submit issues directly to GitHub. This helps track and resolve bugs efficiently."}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udd39 How to Submit an Issue, Enhancement or Question"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"1\ufe0f\u20e3 Click on the 'Report an Issue' button on the top right or in the menu."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"2\ufe0f\u20e3 Enter a clear and concise title."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"3\ufe0f\u20e3 Provide a detailed description of the issue, including steps to reproduce it."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"4\ufe0f\u20e3 Select relevant labels such as 'Bug', 'Enhancement' or 'Question'."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"5\ufe0f\u20e3 Click 'Submit' \u2013 your issue will be automatically posted to GitHub!"})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udd0d What to Include in a Good Bug Report"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 **Steps to Reproduce** \u2013 Describe exactly how to trigger the bug."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 **Expected vs. Actual Behavior** \u2013 What should happen vs. what actually happens."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 **Screenshots or Logs** \u2013 If applicable, attach screenshots or error messages."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\u274c Common Issues & Troubleshooting"}),(0,Ty.jsx)(zE,{children:(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u26a0\ufe0f Forgot something? Edit your issue directly on GitHub after submission using the link in the confirmation message."})})}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udcf8 Screenshots & GIFs (Coming Soon)"}),(0,Ty.jsx)(Tk,{variant:"body2",children:"We'll include visuals for a smoother reporting experience!"})]}),N_e=()=>(0,Ty.jsxs)(pk,{sx:{padding:2},children:[(0,Ty.jsx)(Tk,{variant:"h4",gutterBottom:!0,children:"\ud83d\udee0\ufe0f General Tester Information"}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udd39 What We Need You to Test"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Dependency Tree \u2013 Ensure accurate recipe selection and production calculations."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Tracker Page \u2013 Verify save file uploads and production data accuracy."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Bug Reporting \u2013 Test GitHub issue submission works as expected."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udccc Where to Report Issues & Feedback"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\ud83e\udeb2 **Bugs & Technical Issues** \u2013 Report via the in-app 'Report a Bug' feature."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\ud83d\udcac **General Feedback** \u2013 Share ideas and suggestions in the Discord server."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\u26a0\ufe0f Testing Guidelines"}),(0,Ty.jsxs)(zE,{children:[(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Be as detailed as possible when reporting issues."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 Test across different browsers (Chrome, Firefox, Edge, etc.)."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u2705 If a feature isn\u2019t working, refresh the page and check again before reporting."})}),(0,Ty.jsx)(B_e,{children:(0,Ty.jsx)(PQ,{primary:"\u274c Avoid reporting game-related issues (this tool only analyzes save files)."})})]}),(0,Ty.jsx)(Tk,{variant:"h6",gutterBottom:!0,children:"\ud83d\udcf8 Screenshots & GIFs (Coming Soon)"}),(0,Ty.jsx)(Tk,{variant:"body2",children:"Step-by-step visuals will be added to clarify testing procedures."})]}),F_e=()=>{const e=Ey(),[t,n]=(0,i.useState)(0);return(0,Ty.jsxs)(pk,{sx:{background:e.palette.background,padding:e.spacing(4),minHeight:"100vh",display:"flex",gap:e.spacing(4)},children:[(0,Ty.jsx)(pb,{sx:{minWidth:250,padding:2,marginRight:2},children:(0,Ty.jsxs)(E7,{orientation:"vertical",value:t,onChange:(e,t)=>{n(t)},sx:{borderRight:1,borderColor:"divider"},children:[(0,Ty.jsx)(Y9,{label:"Dependency Tree Guide"}),(0,Ty.jsx)(Y9,{label:"Tracker Page Guide"}),(0,Ty.jsx)(Y9,{label:"Bug Reporting Guide"}),(0,Ty.jsx)(Y9,{label:"General Tester Info"})]})}),(0,Ty.jsx)(pk,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:(0,Ty.jsxs)(pk,{sx:{flexGrow:1,padding:2},children:[0===t&&(0,Ty.jsx)(O_e,{}),1===t&&(0,Ty.jsx)(L_e,{}),2===t&&(0,Ty.jsx)(D_e,{}),3===t&&(0,Ty.jsx)(N_e,{})]})})]})};const j_e=function(){return(0,Ty.jsx)(pO,{children:(0,Ty.jsxs)(WA,{children:[" ",(0,Ty.jsxs)(MC,{theme:ck,children:[(0,Ty.jsx)(FC,{})," ",(0,Ty.jsx)(Gw,{children:(0,Ty.jsxs)(pk,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,Ty.jsx)(L9,{}),(0,Ty.jsx)(pk,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column"},children:(0,Ty.jsxs)(cw,{children:[(0,Ty.jsx)(sw,{path:"/",element:(0,Ty.jsx)(RO,{})}),(0,Ty.jsx)(sw,{path:"/login",element:(0,Ty.jsx)(kO,{})}),(0,Ty.jsx)(sw,{element:(0,Ty.jsx)(x_e,{})}),(0,Ty.jsx)(sw,{path:"/data",element:(0,Ty.jsx)(gq,{})}),(0,Ty.jsx)(sw,{path:"/dependencies",element:(0,Ty.jsx)(HZ,{})}),(0,Ty.jsx)(sw,{path:"/tracker",element:(0,Ty.jsx)(A_e,{})}),(0,Ty.jsx)(sw,{path:"/signup",element:(0,Ty.jsx)(VZ,{})}),(0,Ty.jsx)(sw,{path:"/settings",element:(0,Ty.jsx)(M8,{})}),(0,Ty.jsx)(sw,{path:"/admin/testers",element:(0,Ty.jsx)(w_e,{})}),(0,Ty.jsx)(sw,{path:"/change-password",element:(0,Ty.jsx)(C_e,{})}),(0,Ty.jsx)(sw,{path:"/help",element:(0,Ty.jsx)(F_e,{})})]})}),(0,Ty.jsx)(W9,{})]})})]})]})})},U_e=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};a.createRoot(document.getElementById("root")).render((0,Ty.jsx)(j_e,{})),U_e()})()})();
//# sourceMappingURL=main.f13d9141.js.map